!function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)r=s[d],o[r]&&h.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);h.length;)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={"m-web":0,1:0,"vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor":0,6:0,"m-storage~spark-core-wraper":0,"font-loader-face-defn":0},o={"m-web":0,1:0,"vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor":0,6:0,"m-storage~spark-core-wraper":0,"font-loader-face-defn":0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{"m-react-spectrum":1}[e]&&t.push(r[e]=new Promise(function(t,i){for(var n=e+"-"+{0:"9c1ea9f4",1:"595a22a5",2:"d9eb5fef",3:"2b429cc9",4:"a8dcb60f",5:"e8f71481",6:"3862defd",7:"78c6875e",8:"1dfabf45",9:"1e5e25fe",10:"c9857d03",11:"fde06edf",12:"a9058515",13:"db6019db","slate-web":"81150d44","gic-voice-publishUtils":"bc44eff6","vendors~gs-app-ac-theme-editor~voice-web":"eb7165f5","gs-app-ac-theme-editor":"d6b98b0c","voice-web":"eb3abf29","vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor":"8b34553c","slate-app-ac-theme-editor":"8546fa4a","brand-kit-controller":"733f79dc","brand-kit-editor":"8d641455","brand-kit-chooser-view":"75aefe6d","brand-kit-context-views":"a3ec738e","search-view":"28c08287",appboy:"1ddcaf5b","async-publish-controller":"ed557c28","authoring-context":"c9ec99ec","brand-kit-conflict-resolver":"c9443ddd","custom-workspace-guide-me":"5cda1449","feature-highlighter-view":"a43b3635","m-react-spectrum":"5bf6417b","vendors~ccx-share-sheet~missingfontsmodal~react":"251001da","vendors~ccx-share-sheet~react~spark-core-wraper":"28fa50ad","vendors~ccx-share-sheet~react":"965b436e","ccx-share-sheet":"d6f184bc",react:"d3012091","mui-cppublisher":"eefba9c8","mui-cputils":"c9ec7050","mui-pubcontroller":"c408e902","npw-visual-browse-view~share-view":"9cf019d6","npw-visual-browse-view":"787a947b","share-view":"a6d15933","ov-export-dialog":"0682ea60","project-filters-controller":"81a4b5e6","sparkfonts-registry":"4a208863","vendors~m-storage":"474470eb","m-storage~spark-core-wraper":"ad953782","m-storage":"23c229a7",missingfontsmodal:"03da858e","spark-core-wraper":"8a640b44","font-loader-face-defn":"db889f19",_visualBrowseSearchCommandsController:"087581d5","npw-search":"3d0c766d"}[e]+".css",o=s.p+n,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var c=(u=a[l]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===n||c===o))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){var u;if((c=(u=d[l]).getAttribute("data-href"))===n||c===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete r[e],h.parentNode.removeChild(h),i(a)},h.href=o,document.getElementsByTagName("head")[0].appendChild(h)}).then(function(){r[e]=0}));var i=o[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise(function(t,n){i=o[e]=[t,n]});t.push(i[2]=n);var a,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+""+({"slate-web":"slate-web","gic-voice-publishUtils":"gic-voice-publishUtils","vendors~gs-app-ac-theme-editor~voice-web":"vendors~gs-app-ac-theme-editor~voice-web","gs-app-ac-theme-editor":"gs-app-ac-theme-editor","voice-web":"voice-web","vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor":"vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor","slate-app-ac-theme-editor":"slate-app-ac-theme-editor","brand-kit-controller":"brand-kit-controller","brand-kit-editor":"brand-kit-editor","brand-kit-chooser-view":"brand-kit-chooser-view","brand-kit-context-views":"brand-kit-context-views","search-view":"search-view",appboy:"appboy","async-publish-controller":"async-publish-controller","authoring-context":"authoring-context","brand-kit-conflict-resolver":"brand-kit-conflict-resolver","custom-workspace-guide-me":"custom-workspace-guide-me","feature-highlighter-view":"feature-highlighter-view","m-react-spectrum":"m-react-spectrum","vendors~ccx-share-sheet~missingfontsmodal~react":"vendors~ccx-share-sheet~missingfontsmodal~react","vendors~ccx-share-sheet~react~spark-core-wraper":"vendors~ccx-share-sheet~react~spark-core-wraper","vendors~ccx-share-sheet~react":"vendors~ccx-share-sheet~react","ccx-share-sheet":"ccx-share-sheet",react:"react","mui-cppublisher":"mui-cppublisher","mui-cputils":"mui-cputils","mui-pubcontroller":"mui-pubcontroller","npw-visual-browse-view~share-view":"npw-visual-browse-view~share-view","npw-visual-browse-view":"npw-visual-browse-view","share-view":"share-view","ov-export-dialog":"ov-export-dialog","project-filters-controller":"project-filters-controller","sparkfonts-registry":"sparkfonts-registry","vendors~m-storage":"vendors~m-storage","m-storage~spark-core-wraper":"m-storage~spark-core-wraper","m-storage":"m-storage",missingfontsmodal:"missingfontsmodal","spark-core-wraper":"spark-core-wraper","font-loader-face-defn":"font-loader-face-defn",_visualBrowseSearchCommandsController:"_visualBrowseSearchCommandsController","npw-search":"npw-search"}[e]||e)+"-"+{0:"9c1ea9f4",1:"595a22a5",2:"d9eb5fef",3:"2b429cc9",4:"a8dcb60f",5:"e8f71481",6:"3862defd",7:"78c6875e",8:"1dfabf45",9:"1e5e25fe",10:"c9857d03",11:"fde06edf",12:"a9058515",13:"db6019db","slate-web":"81150d44","gic-voice-publishUtils":"bc44eff6","vendors~gs-app-ac-theme-editor~voice-web":"eb7165f5","gs-app-ac-theme-editor":"d6b98b0c","voice-web":"eb3abf29","vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor":"8b34553c","slate-app-ac-theme-editor":"8546fa4a","brand-kit-controller":"733f79dc","brand-kit-editor":"8d641455","brand-kit-chooser-view":"75aefe6d","brand-kit-context-views":"a3ec738e","search-view":"28c08287",appboy:"1ddcaf5b","async-publish-controller":"ed557c28","authoring-context":"c9ec99ec","brand-kit-conflict-resolver":"c9443ddd","custom-workspace-guide-me":"5cda1449","feature-highlighter-view":"a43b3635","m-react-spectrum":"5bf6417b","vendors~ccx-share-sheet~missingfontsmodal~react":"251001da","vendors~ccx-share-sheet~react~spark-core-wraper":"28fa50ad","vendors~ccx-share-sheet~react":"965b436e","ccx-share-sheet":"d6f184bc",react:"d3012091","mui-cppublisher":"eefba9c8","mui-cputils":"c9ec7050","mui-pubcontroller":"c408e902","npw-visual-browse-view~share-view":"9cf019d6","npw-visual-browse-view":"787a947b","share-view":"a6d15933","ov-export-dialog":"0682ea60","project-filters-controller":"81a4b5e6","sparkfonts-registry":"4a208863","vendors~m-storage":"474470eb","m-storage~spark-core-wraper":"ad953782","m-storage":"23c229a7",missingfontsmodal:"03da858e","spark-core-wraper":"8a640b44","font-loader-face-defn":"db889f19",_visualBrowseSearchCommandsController:"087581d5","npw-search":"3d0c766d"}[e]+".js"}(e),a=function(t){c.onerror=c.onload=null,clearTimeout(d);var i=o[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");a.type=n,a.request=r,i[1](a)}o[e]=void 0}};var d=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,l.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/",s.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;a.push([609,"m-common","m-base"]),i()}([,,,,,,,,,function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){var n=i(42),r=i(92),o=i(216),a=i(125),s=i(243),l=function(e,t,i){var c,d,u,h,p=e&l.F,f=e&l.G,g=e&l.S,m=e&l.P,v=e&l.B,b=f?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,y=f?r:r[t]||(r[t]={}),w=y.prototype||(y.prototype={});for(c in f&&(i=t),i)u=((d=!p&&b&&void 0!==b[c])?b:i)[c],h=v&&d?s(u,n):m&&"function"==typeof u?s(Function.call,u):u,b&&a(b,c,u,e&l.U),y[c]!=u&&o(y,c,h),m&&w[c]!=u&&(w[c]=u)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},,function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(7),i(23),i(112),i(149),i(15),i(150)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return new(a.extend({cachename:"confirmview",el:".confirm-overlay",mode:"confirm",clickTimeSafetyZone:250,events:{"click .confirm-view-bg":"handleBackgroundClick","click .cancel-btn":"handleCloseBtn","click .sp-cta-button-secondary":"handleCloseBtn","click .ok-btn":"handleConfirmBtn","click .confirm-view-prompt-field":"handlePromptFieldClick"},initialize:function(){t.bindAll(this,t.functionsIn(this)),this._initDefaultStrings()},_initDefaultStrings:function(){this.defaultOkText=r.getString("confirm-view-default-verb-ok"),this.defaultCancelText=r.getString("confirm-view-default-verb-cancel"),this.defaultWaiterTitle=r.getString("confirm-view-default-waiter-title")},setText:function(e,t){e=e||"",t=t||this.text$,e.jquery?(t.html(""),t.append(e)):t.text(e)},render:function(){var i;if(this.$el.length||(this.$el=e(document.body).find(".confirm-overlay")),window.marvel.events.trigger("spark-dialog-shown"),this.$el.addClass("v2"),this.$el.html(r.mustacheRender(l)),this.cancelBtn$=this.$el.find(".sp-cta-button-secondary"),this.isBeta&&this.$el.find(".confirm-view-dialog-title").addClass("beta"),this.$el[0].focus(),this._options.transparentOverlay&&this.$el.find(".confirm-view-bg").addClass("transparent-overlay"),Array.isArray(this.okText)){var n="";this.defaultConfirmIndex=this.okText.length-1,t.each(this.okText,function(e,t){var i=".confirm-btn-"+t;e.isDefault&&(this.defaultConfirmIndex=t),e.button$=this.$el.find(i),this.setText(e.text,e.button$),e.button$.data("id",e.id),n+=(t?", ":"")+i}.bind(this)),this.confirmBtn$=this.$el.find(n)}else this.defaultConfirmIndex=0,this.confirmBtn$=this.$el.find(".confirm-btn-0"),this.okText&&this.okText.id?(this.setText(this.okText.text||this.defaultOkText,this.confirmBtn$),this.confirmBtn$.data("id",this.okText.id)):(this.setText(this.okText||this.defaultOkText,this.confirmBtn$),this.confirmBtn$.removeData("id"));i=this.confirmBtn$.length,this.closeBtn$=this.$el.find(".confirm-view-close-btn"),this._options.hideCloseButton?this.closeBtn$.addClass("hide"):(this.closeBtn$.removeClass("hide"),this.closeBtn$.on("click",this.handleCloseBtn.bind(this))),this.confirmBtn$.on("click",this.handleConfirmBtn.bind(this)),this.confirmBtn$.removeClass("disabled").removeClass("hide"),this.cvShell$=this.$el.find(".confirm-view-shell"),this.cvShell$.addClass(this.mode),this.title$=this.$el.find(".confirm-view-dialog-title"),this.title$.text(this.question),this.text$=this.$el.find(".confirm-view-dialog-text"),this.setText(this.detail),this.waiter$=this.$el.find(".wait-spinner"),this._closeDefer&&this.cvShell$.addClass("can-wait"),this._addedKeyup||(this._addedKeyup=!0,e(document).on("keyup.dialog",this.handleKeyup)),"waiter"===this.mode?(this.setWaiterVis(!0),this._hideSpinner&&this.waiter$.addClass("hide")):"alert"!==this.mode?(this._options.hideCancelButton?this.cancelBtn$.addClass("hide"):(this.cancelBtn$.removeClass("disabled").removeClass("hide"),this.cancelBtn$.text(this.cancelText||this.defaultCancelText),this.cancelText&&this.cancelBtn$.text(this.cancelText)),"prompt"===this.mode&&(this.$el.find(".confirm-view-prompt-field-area").removeClass("hide"),this.promptField$=this.$el.find(".confirm-view-prompt-field"),this.promptField$.attr("placeholder",this.placeholderText),this.maxLen&&this.promptField$.attr("maxlength",this.maxLen),this.promptField$.val(this.defaultText),this.promptExtraStyles&&this.promptField$.css(this.promptExtraStyles))):this.cancelBtn$.addClass("hide"),this.cancelBtn$.hasClass("hide")||i++,this.cvShell$.addClass("num-buttons-"+i),this._options.additionalUI$&&this.$el.find(".confirm-view-content-shell").append(this._options.additionalUI$),this.$el.removeClass("hide"),this.setDialogDimensions();var o=!0;"prompt"===this.mode&&this.autoSelectPromptText&&(this.promptField$.select(),o=!1),o&&this.confirmBtn$[this.defaultConfirmIndex].focus(),this._ignoreNextKeyup=!1,this._options.afterRenderCallback&&"function"==typeof this._options.afterRenderCallback&&this._options.afterRenderCallback(this.$el)},onConfirm:function(e,t,i){this._confirmCallback=e,this.title=t,this.text=i},handleConfirmBtn:function(t){var i=!0;i=e(t.target).data("id")||i,this.handleBtn(i,t)},setDialogDimensions:function(){var e=this._options.minHeight||0;e&&this.cvShell$.css("min-height",e)},setWaiterVis:function(e){if(e){if("waiter"!==this.mode){var t=this._getBounds();this.cvShell$.css("height",t.height+"px")}else this.cvShell$.css("height","");this.title$.text(this.waiterTitle||this.defaultWaiterTitle),this.setText(this.waiterText||""),this.waiterText?this.cvShell$.addClass("waiter-has-text"):this.cvShell$.removeClass("waiter-has-text"),this.waiterProgressBar?(this._progressBarView||(this._progressBarView=new s),this.waiterProgressBar.el$=this.$el.find(".confirm-progress-bar"),this.waiterProgressBar.text$=this.waiterProgressBar.eventNames.updateText&&this.text$,this._progressBarView.setupProgress(this.waiterProgressBar),this._progressBarView.render(),this.cvShell$.addClass("showing-progress")):this.waitSuccess?this.cvShell$.addClass("showing-waiter-success"):this.cvShell$.addClass("showing-waiter"),this._canCancelWaiter?(this.cvShell$.addClass("can-cancel-waiter"),this._options.okOnly?this.cancelBtn$.addClass("hide"):this.cancelBtn$.text(this.waiterCancelText)):this.cvShell$.removeClass("can-cancel-waiter")}else this.cvShell$.removeClass("can-cancel-waiter"),this.waiterProgressBar?(this.cvShell$.removeClass("showing-progress"),this._progressBarView.hide()):this.cvShell$.removeClass("showing-waiter"),this.title$.text(this.question),this.setText(this.detail),this.cancelBtn$.text(this.cancelText)},handleBtn:function(e,i){if(i.stopPropagation(),e){if("prompt"===this.mode&&!this.validPromptTextCheck("confirm"))return void this.promptField$.select();if(this.confirmBtn$.hasClass("disabled"))return}if(!(this._closingEventTime&&i.timeStamp-this._closingEventTime<this.clickTimeSafetyZone)&&(this._closingEventTime=i.timeStamp,this._confirmDefer)){var n;if("prompt"!==this.mode)n=e;else if(e){if(n=this.promptField$.val(),this._options.trimText&&(n=n.trim()),this.confirmBtn$.length>1){var r=e;n={text:n,buttonData:!0===r?this.okText[this.defaultConfirmIndex]:t.find(this.okText,function(e){return e.id===r})}}}else n=null;this._closeDefer?(this._confirmDefer.resolve(n),this._confirmDefer=null,e?this.setWaiterVis(!0):this.hide(!0),this._closeDefer.promise.then(function(){this._closeDefer=null,e&&(this.hide(!0),this.setWaiterVis(!1))}.bind(this))):(this.hide(!0),this._confirmDefer.resolve(n),this._confirmDefer=null),e&&this._options.okHandler&&this._options.okHandler()}},handleBackgroundClick:function(e){this._options.ignoreBackgroundClick||this.handleCloseBtn(e)},handleCloseBtn:function(e){"alert"!==this.mode?this.handleBtn(!1,e):this.handleBtn(!0,e)},handlePromptFieldClick:function(e){this.selectAllOnFieldClick&&e.target.select()},isShowing:function(){return!this.$el.hasClass("hide")},isWaiting:function(){return this.cvShell$.hasClass("showing-waiter")},_showAsWaiter:function(e,i,n,r,o){this._options=o,this.mode="waiter",this.waiterText=i,this.question="",this.detail="",this.waiterTitle=e,this._confirmDefer=n,this._canCancelWaiter=!!this._confirmDefer,this.waiterCancelText=r,this.okText=o.okText,this.waiterProgressBar=t.clone(o.progressBar),this._hideSpinner=o.hideSpinner,this.waitSuccess=o.waitSuccess,this.render()},_showAsConfirm:function(e,t,i,n){this._options=n,this._confirmDefer=i,this.mode="confirm",this.question=e,this.detail=t,this.okText=n.okText,this.cancelText=n.cancelText,this._closeDefer=n.closeDefer,this.waiterTitle=n.closeDeferWaitTitle,this.waiterText=n.closeDeferWaitText,this.render()},_showAsAlert:function(e,t,i,n){this._options=n,this._confirmDefer=i,this.mode="alert",this.question=e,this.detail=t,this.okText=n.okText,this.render()},_showAsPrompt:function(e,i,n,r){this._options=r,this._confirmDefer=n,this.mode="prompt",this.question=e,this.detail=i,this.defaultText=r.defaultText||"",this.placeholderText=r.placeholderText||"",this.promptExtraStyles=r.promptExtraStyles||null,this.maxLen=r.maxLen||0,this.selectAllOnFieldClick=r.selectAllOnFieldClick,this.okText=r.okText,this.cancelText=r.cancelText,this._closeDefer=r.closeDefer,this.waiterTitle=r.closeDeferWaitTitle,this.waiterText=r.closeDeferWaitText,this.autoSelectPromptText=!!t.isUndefined(r.select)||r.select,this.isBeta=r.isBeta||!1,this.render(),this.validPromptTextCheck("setup",this.defaultText)},validPromptTextCheck:function(e,i){var n=t.isUndefined(i)?this.promptField$.val():i;return this._options.trimText&&(n=n.trim()),this._options.cantBeEmpty&&""===n?("setup"!==e&&("confirm"===e||this._options.showErrorDuringEntry)&&this.promptField$.addClass("error"),this._options.dontDimConfirmIfError||this.confirmBtn$.addClass("disabled"),!1):(this.promptField$.removeClass("error"),this.confirmBtn$.removeClass("disabled"),!0)},showCancelableWaitView:function(e,t,n){var r=i.defer();return n=n||{},this._showAsWaiter(e,t,r,n.cancelText||this.defaultCancelText,n),r.promise},showWaitView:function(e,t,i){this._showAsWaiter(e,t,null,null,i||{})},showWaitSuccessView:function(e,t,i){(i=i||{}).waitSuccess=!0,this._showAsWaiter(e,t,null,null,i),setTimeout(function(){this.hide(!0)}.bind(this),i.duration||1e3)},showAlert:function(e,t,n){var r=(n=n||{}).defer||i.defer();return this._showAsAlert(e,t,r,n),r.promise},showConfirm:function(e,t,n,r){(n=n||{}).afterRenderCallback=n.afterRenderCallback||r;var o=n.defer||i.defer();return this._showAsConfirm(e,t,o,n),o.promise},showPrompt:function(e,t,n){var r=(n=n||{}).defer||i.defer();return this._showAsPrompt(e,t,r,n),r.promise},handleKeyup:function(e){if(this._ignoreNextKeyup)this._ignoreNextKeyup=!1;else{if(e&&e.isPropagationStopped())return;this._ignoreCloseActions||this.isWaiting()&&!this._canCancelWaiter?(e.stopPropagation(),e.preventDefault()):e.keyCode===c.DOM_VK_ESCAPE?(e.stopPropagation(),e.preventDefault(),this._options.hideCloseButton&&this._options.hideCancelButton||this.handleCloseBtn(e)):e.keyCode===c.DOM_VK_RETURN||e.keyCode===c.DOM_VK_ENTER?(e.stopPropagation(),e.preventDefault(),this.handleConfirmBtn(e)):"prompt"===this.mode&&this.validPromptTextCheck("keyUp")}},ignoreNextKeyup:function(){return!!this.isShowing()&&(this._ignoreNextKeyup=!0,!0)},_getBounds:function(){return this.cvShell$[0].getBoundingClientRect()},hide:function(t){window.marvel.events.trigger("spark-dialog-closed"),!t&&this._confirmDefer&&(this._confirmDefer.resolve(!1),this._confirmDefer=null),this.$el.addClass("hide"),this.cvShell$.removeClass(this.mode),this.$el.find(".confirm-view-bg").removeClass("transparent-overlay"),this._addedKeyup&&(e(document).off("keyup.dialog",this.handleKeyup),this._addedKeyup=!1)}}))}.apply(t,n))||(e.exports=r)},,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){var n;void 0===(n=function(){return{DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_UP:38,DOM_VK_DOWN:40}}.apply(t,[]))||(e.exports=n)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(5),i(7),i(13),i(48),i(12),i(34)],void 0===(r=function(e,t,n,r,o,a,s,l,c){"use strict";var d,u,h;function p(){return d||(d=n.defer(),Promise.all([i.e(0),i.e("vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor"),i.e(1),i.e(6),i.e("brand-kit-controller")]).then(function(e){var t=i(302);i(306);t._acquireDefaultBrand=f,d.resolve(t)}.bind(null,i)).catch(i.oe)),d.promise}function f(){return p().then(function(e){return e.getDefaultContext("brand-kit").then(function(i){return i||function(e){return u||(u=n.defer(),e.getContextsByType("brand-kit",!0).then(function(i){if(t.isEmpty(i))return e.createContext("","brand-kit").then(function(t){return e.setGlobalActiveContext(t.getId()),e.setDefaultContext(t).then(function(){u.resolve(t),u=null})});var n=null;return t.each(i,function(e){n?o.hasFeature("enable-multi-brand")||console.warn("BrandKitWrapper found multiple brand kits and it uses only one"):n=e}),e.setGlobalActiveContext(n.getId()),e.setDefaultContext(n).then(function(){u.resolve(n),u=null})},function(e){u.reject(e),u=null}).done()),u.promise}(e)})})}function g(e,t){e.on("authoring-context-theme-assigned",function(i){t.app.setAuthoringContextThemeId(e,i)})}function m(e,i){var r=[],o={};return i.belongsToUser()?n.resolve([]):(t.each(e,function(e){var n=i.getCustomFonts(!0),a=t.find(n,function(t){var i=t.getMetrics();if(i){if(e.postScriptName&&i.postScriptName&&e.postScriptName.toLowerCase()===i.postScriptName.toLowerCase())return!0;if(e.lookupKey&&e.lookupKey===t.lookupKey())return!0}else window.marvel.logger.traceflow("brand-kit","verifyFonts no metrics found",t.friendlyName());return!1});a&&!a.isInstallable()&&(o[a.getTOUAName()]=a,r.push(a.getTOUAName()))}),r.length>0?s.checkProvidedFonts(r).then(function(e){var i=[];return t.each(r,function(t){e&&e[t]||(window.marvel.logger.traceflow("brand-kit",'verifyFonts found missing font: "'+t+'"'),i.push(o[t]))}),n.resolve(i)}):n.resolve([]))}return{IMAGES_PARENT:"images",LOGOS_PARENT:"logos",FONTS_PARENT:"fonts",COLORS_PARENT:"colors",F_SPLASH:"splash",MAX_LOGO_SIZE:1024,getSyncGroup:function(){return a.syncGroups["adobe-spark-authoring-contexts"]},getChooserView:function(){var e=n.defer();return Promise.all([i.e(1),i.e("brand-kit-chooser-view")]).then(function(t){var n=i(308);e.resolve(n)}.bind(null,i)).catch(i.oe),e.promise},loadEditorView:function(){var e=n.defer();return Promise.all([i.e(0),i.e("vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor"),i.e(1),i.e(6),i.e("brand-kit-editor")]).then(function(t){var n=i(307);e.resolve(n)}.bind(null,i)).catch(i.oe),e.promise},getController:p,acquireDefaultBrand:f,loadContextualViews:function(){var e=n.defer();return Promise.all([i.e(1),i.e("brand-kit-context-views")]).then(function(t){var n={ChromePreview:i(310),ChromeEditorView:i(311),OutroEditorView:i(312),OutroPreviewView:i(303),StampEditorView:i(313),StampPreviewView:i(304)};e.resolve(n)}.bind(null,i)).catch(i.oe),e.promise},guideMe:function(t){if(window.sessionStorage)try{var n=window.sessionStorage.getItem("guide-me");n&&(window.sessionStorage.removeItem("guide-me"),e(t).addClass(n),h?(h.setElement(t),h.showOverlay()):i.e("custom-workspace-guide-me").then(function(e){var n=i(309);(h=new n).onHide=function(){},h.setElement(t),h.showOverlay()}.bind(null,i)).catch(i.oe))}catch(e){}},augmentSharePublishConfig:function(e,t){o.hasFeature("entitle-brand-kit")?t.supportsBrandedChrome?t.mrvlDoc.getMyApp().getAuthoringContextId(t.mrvlDoc)?(e.customBranding=!0,e.removeBranding=!1):(e.customBranding=!1,e.removeBranding=!0):e.removeBranding=!0:(e.removeBranding=!1,t.supportsBrandedChrome&&(e.customBranding=!1))},augmentAppConfig:function(e){return e.assetId||e.contextId?n.resolve(e):p().then(function(t){return t.getGlobalActiveContext().then(function(t){return t&&(e.contextId=t.getId()),e})})},augmentNewDoc:function(e,t){return o.hasFeature("entitle-brand-kit")&&(g(e,t),t.contextId&&t.app.setAuthoringContextId(e,t.contextId,!0)),n.resolve(e)},augmentLoadDoc:function(e,t){o.hasFeature("entitle-brand-kit")&&g(e,t)},getExportAnalytics:function(e,t,i){var n=e.getMyApp(),r=function(e){var t="unknown";return"slate-web"===e?t="page":"theo-web"===e?t="post":"ginger-snap"===e&&(t="video"),t}(n.registeredName);return p().then(function(o){return o.getActiveContext(e).then(function(o){if(o){var a,s=n.getAuthoringContextThemeId(e),l="exportedWithThemeName",c=o.getThemeletById(s);return c&&(a=c.getValue("theme#data")),"theo-web"===n.registeredName&&(l="exportedWithTemplateName"),n.isBranded(e).then(function(e){var n={workflow:t,contextData:["projectId","invokedShareFrom"],exportMethod:i,sparkFormat:r,exportedWithBranding:e,themeletId:s},o="unknown";return a?o=a.name:c&&(o=c.getValue("name")),n[l]=o,n})}return{workflow:t,contextData:["projectId","invokedShareFrom"],exportedWithBranding:!1,exportMethod:i,sparkFormat:r}})})},getCreatedAnalytics:function(e){var t=e.getMyApp();return p().then(function(i){return i.getActiveContext(e).then(function(i){if(i){var n=t.getAuthoringContextThemeId(e),r="createdWithThemeName",o=i.getThemeletById(n),a=o.getValue("theme#data");return"theo-web"===t.registeredName&&(r="exportedWithTemplateName"),t.isBranded(e).then(function(e){var t,i={contextData:["projectId"],createdWithBranding:e,themeletId:n};return t=a?a.name:o.getValue("name"),i[r]=t,i.themeName=t,i})}return{contextData:["projectId"],createdWithBranding:!1}})})},verifyBrandAccess:function(e,t,i){return t?(i||p()).then(function(t){var i=e.getMyApp().getAuthoringContextId(e);return t.getContextById(i).then(function(r){var o=i&&r||!i&&!r,a="INCOMING"!==e.getCollaboration();return o?n.resolve({accessOk:!0,brand:r}):a?t.getGlobalActiveContext().then(function(t){return t?e.getMyApp().rebrandProject(e,t,!0).then(function(){return n.resolve({accessOk:!0,brand:t})}):n.resolve({accessOk:!0,brand:null})}):n.resolve({accessOk:!1,brand:null})})}):n.resolve({accessOk:!0,brand:null})},verifyFontAccess:function(e,t){if(!t||t.belongsToUser())return window.marvel.logger.traceflow("brand-kit","verifyFonts resolve because brand is owned"),n.resolve([]);if(!e.getMyApp().getFontsUsed)return window.marvel.logger.traceflow("brand-kit","verifyFonts resolve because getFontsUsed is not implemented by "+e.getMyApp().typeName),n.resolve([]);window.marvel.logger.traceflow("brand-kit","verifyFonts calling getFontsUsed");try{var i=e.getMyApp(),r=n.defer();return i.lazyLoad(r),r.promise.then(function(){return e.getMyApp().getFontsUsed(e).then(function(e){return window.marvel.logger.traceflow("brand-kit","verifyFonts getFontsUsed returned",e),m(e,t)})})}catch(t){return window.marvel.logger.error("App failed in getFontsUsed",{doc:e,stack:t.stack,error:t}),n.resolve([])}},verifyFontsUsed:m}}.apply(t,n))||(e.exports=r)},,function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],d=!1,u=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&p())}function p(){if(!d){var e=s(h);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new f(e,t)),1!==c.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){"use strict";(function(e){var n=t;function r(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;++r)void 0!==e[n[r]]&&i||(e[n[r]]=t[n[r]]);return e}function o(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&r(this,i)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=i(187),n.base64=i(188),n.EventEmitter=i(189),n.float=i(190),n.inquire=i(191),n.utf8=i(192),n.pool=i(193),n.LongBits=i(194),n.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!(null==i||!e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&void 0!==this[e[i]]&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,i(9))},function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=i(128),r=i(129),o=i(66);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i),r=(e=s(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function h(e,t){var i=t.length<0?0:0|p(t.length);e=s(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var d=-1;for(o=i;o<s;o++)if(c(e,o)===c(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var u=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){u=!1;break}if(u)return o}return-1}function b(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function y(e,t,i,n){return $(B(t,e.length-i),e,i,n)}function w(e,t,i,n){return $(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function k(e,t,i,n){return w(e,t,i,n)}function x(e,t,i,n){return $(U(t),e,i,n)}function _(e,t,i,n){return $(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(t,e.length-i),e,i,n)}function C(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function S(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,c=e[r],d=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=i)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(d=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),r+=u}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=T));return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return d(t),t<=0?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,i);case"utf8":case"utf-8":return S(this,t,i);case"ascii":return M(this,t,i);case"latin1":case"binary":return I(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=Math.min(o,a),c=this.slice(n,r),d=e.slice(t,i),u=0;u<s;++u)if(c[u]!==d[u]){o=c[u],a=d[u];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return y(this,e,t,i);case"ascii":return w(this,e,t,i);case"latin1":case"binary":return k(this,e,t,i);case"base64":return x(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function M(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function I(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function D(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=O(e[o]);return r}function P(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function E(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function F(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-i,2);r<o;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function L(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-i,4);r<o;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function N(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(e,t,i,n,o){return o||N(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function j(e,t,i,n,o){return o||N(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=t,r=1,o=this[e+--n];n>0&&(r*=256);)o+=this[e+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||A(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||A(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);A(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);A(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return R(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return R(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return j(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return j(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}}).call(this,i(9))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";var n=i(33).nextTick,r=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var o=i(25);o.inherits=i(14);var a=i(77),s=i(80);o.inherits(u,a);for(var l=r(s.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=s.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(15)],void 0===(r=function(e,t,i,n){"use strict";return i.View.extend({initialize:function(){t.bindAll(this,t.functionsIn(this))},_workflowId:void 0,setWorkflowId:function(e){this._workflowId=e},ignoreNextKeyup:function(){this._ignoreNextKeyup=!0},onEscapePressed:function(){this.hideOverlay()},handleKeyup:function(e){this._ignoreNextKeyup?this._ignoreNextKeyup=!1:e.keyCode!==n.DOM_VK_ESCAPE||this._ignoreCloseActions||this.onEscapePressed()},scrollCapture:function(t){e(window).scrollTop(this._oldScrollPos),t.preventDefault()},handleShellHideTransitionEnd:function(){this.$el.addClass("hide"),this.$el.removeClass("transitioned-out")},_showEl:function(){this.transitionObjectSelector&&(this.$el.find(this.transitionObjectSelector).addClass("no-transition"),this.$el.addClass("transitioned-out"),t.delay(function(){this.$el.find(this.transitionObjectSelector).removeClass("no-transition"),this.$el.removeClass("transitioned-out")}.bind(this),1)),this.$el.removeClass("hide")},_hideEl:function(){this.transitionObjectSelector?(this.$el.find(this.transitionObjectSelector).one("transitionend",this.handleShellHideTransitionEnd.bind(this)),this.$el.addClass("transitioned-out")):this.$el.addClass("hide")},showOverlay:function(){window.marvel.events.dialogShown(this._dialogName),marvel._dialogShowing=!0,this.render(),e(document).on("keyup.dialog",this.handleKeyup),this._ignoreNextKeyup=!1,this._showEl(),this._oldScrollPos=e(window).scrollTop();var t=this._oldScrollPos;e(window).on("scroll.scrolldisabler",function(i){e(window).scrollTop(t),i.preventDefault()})},hideOverlay:function(){return(!this.interceptHide||!this.interceptHide())&&(marvel._dialogShowing=!1,e(document).off("keyup.dialog",this.handleKeyup),e(window).off("scroll.scrolldisabler"),this._hideEl(),this.onHide&&this.onHide(),this._workflowId&&marvel.events.trigger(this._workflowId+"-closed",this),window.marvel.events.dialogClosed(),!0)},handleCloseBtn:function(){this._ignoreCloseActions||this.hideOverlay()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3)],void 0===(r=function(e,t,i,n){"use strict";return new(i.Model.extend({initialize:function(){this.apps={},this.appsByType={},this.appsByDocType={},this.appsBySGName={}},getAppForDoc:function(e){return this.getAppBySyncGroupName(e.get("syncGroupName"))},getAppByType:function(e){return this.appsByType[e]},getAppByDocType:function(e){var t={"application/vnd.adobe.luca.project+dcx":"application/vnd.adobe.luca.document+dcx"}[e]||e;return this.appsByDocType[t]},getAppByName:function(e){return this.apps[e]},getAppBySyncGroupName:function(e){return this.appsBySGName[e]},registerApp:function(e,t){t.registeredName=e,this.apps[e]=t,this.appsByType[t.typeName]=t,this.appsByDocType[t.getSetting("doctype")]=t,this.appsBySGName[t.getSetting("syncGroup")]=t}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,i(20).Buffer)},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),o=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){var n={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),a=null,s=0,l=[],c=i(154);function d(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=n[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],t));n[r.id]={id:r.id,refs:1,parts:s}}}}function u(e,t){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function h(e,t){var i=o(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),l.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,r)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function f(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function m(e,t){var i,n,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=s++;i=a||(a=f(t)),n=b.bind(null,i,l,!1),r=b.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),n=function(e,t,i){var n=i.css,r=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(n=c(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,t),r=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(t),n=function(e,t){var i=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){p(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=u(e,t);return d(i,t),function(e){for(var r=[],o=0;o<i.length;o++){var a=i[o];(s=n[a.id]).refs--,r.push(s)}e&&d(u(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var v=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function b(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(6),i(7),i(4),i(16),i(8),i(95),i(12)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return i.Model.extend({defaultCfg:{syncGroup:"",scope:"",newDocName:"Untitled",community:"",doctype:"",legacyName:"",displayName:""},registeredName:null,deferredLoading:null,initialize:function(){},typeName:null,getConfig:function(){},getAppTypeID:function(){return this.getSetting("scope")},isaProjectFormat:function(){return!0},getDisplayName:function(e){var t=this.getSetting("displayName");return e?l.getString("product-name")+" "+t:t},isEnabled:function(){var e=this.getSetting("enabledFlagName");return!e||o.hasFeature(e)},supportsCollaboration:function(){return o.hasFeature("enable-collaboration")},requiresDocumentLocking:function(e){return this.supportsCollaboration()},supportsDownload:function(){return!0},supportsDirectDownload:function(){return"post"===this.typeName},supportsAsyncPublish:function(){return!1},getSetting:function(e){var t=this.getConfig()[e];return void 0===t&&(t=this.defaultCfg[e]),t},getCPCommunity:function(){return this.getConfig().community},isDocPublished:function(e){return!!this.getCPAlias(e)},generateCPProjectId:function(e){return e.get("id")},setCPProjectId:function(e,t){e.saveChanges(function(e){e.setValue("cp#projectId",t)}.bind(this))},getCPProjectId:function(e){return e.getDCXRoot().getValue("cp#projectId")},getCPAlias:function(e){return e.getDCXRoot().getValue("cp#shortId")},setCPAlias:function(e,t){return e.saveChanges(function(e){e.setValue("cp#shortId",t)})},getCPAssetId:function(e){return e.getDCXRoot().getValue("cp#assetId")},setCPAssetId:function(e,t){return e.saveChanges(function(e){e.setValue("cp#assetId",t)})},getDocContentETag:function(e){return console.error("ERROR: Apps must implement getDocContentETag in appImpl"),""},getPublishedContentETag:function(e){return e.getDCXRoot().getValue("cp#publishedEtag")},setPublishedContentETag:function(e,t){return e.saveChanges(function(i){i.setValue("cp#publishedEtag",t||this.getDocContentETag(e))}.bind(this))},usesContentModifiedEtags:function(){return!0},isBrowserSupported:function(){return!0},getUnsupportedBrowserMessage:function(){return""},hasContentBeenUpdatedSincePublish:function(e,t){n.defer();var i=this.getDocContentETag(e);if(i){var r=this.getPublishedContentETag(e);return!r||i!==r}return e.getContentModifiedDate({preferCpContentModified:!0})-new Date(t)>6e4},setProjectName:function(e,t){console.error("ERROR: Apps must implement setProjectName in appImpl")},getProjectName:function(e,t){return this!==e.getMyPrimaryApp()?e.getMyPrimaryApp().getProjectName(e,t):(console.error("ERROR: Apps must implement getProjectName in appImpl"),"")},checkDocCompatibility:function(e,t){return n.resolve()},getLicensableResources:function(e,i){return i=i||{},this.getImageComponentsInfoForDoc(e).then(function(e){return t.isUndefined(i.licensed)?t.filter(e,this.licensingRelevant.bind(this)):i.licensed?t.filter(e,this._isInfoComponentLicensed.bind(this)):t.filter(e,function(e){return this.licensingRelevant(e)&&this._isInfoComponentUnlicensed(e)}.bind(this))}.bind(this))},_getLicensingDataPromise:function(e){return c.getItemInfo(e,{params:["is_licensed"]}).then(function(t){return t.id=e,t})},batchCheckLicenses:function(e){return this.getImageComponentsInfoForDoc(e).then(function(e){var t=e.reduce(function(e,t){var i=t.data.licenseType||t.data.license&&t.data.license.type;if(i&&i.match(/^royalty_free_(standard|extended)$/)){var n=t.data.assetID||t.data.license.asset_id||t.data.license.image_id;n&&e.push(this._getLicensingDataPromise(n))}return e}.bind(this),[]);return t&&t.length>0?n.all(t):n.resolve([])}.bind(this)).then(function(e){return window.marvel.logger.traceflow("stock-license-check","batchCheckLicenses:"+JSON.stringify(e)),!e.find(function(e){return""===e.is_licensed})})},getImageMetadataForAnalytics:function(e){if("post"==this.typeName)return{};var i={google:0,dropbox:0,dooplo:0,facebook:0,stock:0,creativeCloud:0,lightroom:0,uploaded:0};return this.getImageComponentsInfoForDoc(e).then(function(e){var n=!1,r=!1;return t.each(e,function(e){var t,o;e&&e.data&&e.data.srcName&&(t=e.data.srcName,o=i[t],i[t]=o+1),this.licensingRelevant(e)&&(this._isInfoComponentLicensed(e)?r=!0:n=!0)}.bind(this)),{contextualData13:"hasLicensedImages:"+r,contextualData14:"hasUnlicensedImages:"+n,contextualData15:"hasGoogleImages:"+!!i.google,contextualData16:"hasDropboxImages:"+!!i.dropbox,contextualData17:"hasDooploImages:"+!!i.dooplo,contextualData18:"hasFacebookImages:"+!!i.facebook,contextualData19:"hasStockImages:"+!!i.stock,contextualData20:"hasCCImages:"+!!i.creativeCloud,contextualData21:"hasLightroomImages:"+!!i.lightroom,contextualData22:"hasUploadedImages:"+!!i.uploaded}}.bind(this))},licensingRelevant:function(e){return!t.isEmpty(e.data.license)&&"Adobe Stock"===e.data.license.source_name||"Adobe Stock"===e.data.srcName||"stock"===e.data.srcName},_isInfoComponentLicensed:function(e){return!(!e.data||t.isEmpty(e.data.license))&&"royalty_free"!==(t.isObject(e.data.license)?e.data.license.type:e.data.license)},_isInfoComponentUnlicensed:function(e){return!this._isInfoComponentLicensed(e)},getImageComponentsInfoForDoc:function(e){return e.getImageComponents()},lazyLoad:function(e){},load:function(){return this.deferredLoading||(this.deferredLoading=n.defer(),this.lazyLoad(this.deferredLoading)),this.deferredLoading.promise},loadForShare:function(e,t){},loadDesignView:function(e,i){this.load().then(function(){var n,r=this.getStorageImpl();i.showPreview?(n=new this.viewCls,e.renderSubView(n,r,i)):r.createDocument(i).then(function(t){n=new this.viewCls,e.renderSubView(n,r,i)}.bind(this),function(n){console.warn("Failed to create the document, can't init design view: ",n),"NO_COMPOSITE"!==n.code&&"NOT_COMPATIBLE"!==n.code&&"USER_CANCELED"!==n.code?(e.errorState(),t.delay(function(){this.loadDesignView(e,i)}.bind(this),5e3)):(n.msg=n.usermsg||"This project does not currently exist. You will be directed back to the projects view.",window.marvel.events.trigger("mrvl-must-reload",n))}.bind(this))}.bind(this))},cancelEditingSession:function(e){return n.resolve()},userIsActive:function(){this._onUserActive?this._onUserActive():window.marvel.logger.traceflow("baton-timeout","appImpl.userIsActive is a no op. Project is not shared.")},beginLongUserActivity:function(){this._onBeginLongUserActivity?this._onBeginLongUserActivity():window.marvel.logger.traceflow("baton-timeout","applImpl.beginLongUserActivity is a no op. Project is not shared.")},endLongUserActivity:function(e){this._onEndLongUserActivty?this._onEndLongUserActivty(e):window.marvel.logger.traceflow("baton-timeout","appImpl.endLongUserActivity is a no op. Project is not shared.")},wrapLongUserActivity:function(e,t){window.marvel.logger.traceflow("baton-timeout","wrapLongUserActivity start for "+e),this.beginLongUserActivity(),t.finally(function(){window.marvel.logger.traceflow("baton-timeout","wrapLongUserActivity end for "+e),this.endLongUserActivity()}.bind(this))},isCollaborationEnabled:function(){return!!this._isCollaborationEnabled},onEditorActive:function(e,i,n){this._isCollaborationEnabled=!0,this._onUserActive=t.throttle(e,1e3,{leading:!0,trailing:!1}),this._onBeginLongUserActivity=i,this._onEndLongUserActivty=n,window.addEventListener("touchstart",this._onUserActive,!0),window.addEventListener("mousedown",this._onUserActive,!0),window.addEventListener("pointerdown",this._onUserActive,!0),window.addEventListener("keydown",this._onUserActive,!0),window.addEventListener("scroll",this._onUserActive,!0),window.addEventListener("resize",this._onUserActive,!0)},offEditorActive:function(e){this._onBeginLongUserActivity=null,this._onEndLongUserActivty=null,window.removeEventListener("touchstart",this._onUserActive,!0),window.removeEventListener("mousedown",this._onUserActive,!0),window.removeEventListener("pointerdown",this._onUserActive,!0),window.removeEventListener("keydown",this._onUserActive,!0),window.removeEventListener("scroll",this._onUserActive,!0),window.removeEventListener("resize",this._onUserActive,!0),this._onUserActive=null},setAppViewImplCls:function(e){this.viewCls=e},setPublishImpl:function(e){this.publishImpl=e},getPublishImpl:function(){return this.publishImpl},setStorageImpl:function(e){this.storageImpl=e,e.getSetting=this.getSetting.bind(this),e.initSyncGroup()},getStorageImpl:function(){return this.storageImpl},resetDocPublishData:function(e,i){var r=e.getMyApp(),o=[r.setCPAlias(e,null),r.setCPAssetId(e,null)];n.allSettled(o).then(function(e){var n=[];t.each(e,function(e){"fulfilled"!==e.state&&n.push(e.reason)}),0===n.length?i.resolve():i.reject(n)})},clearDataForDocCreatedByDupe:function(e){e.clearRootDataWithPrefix("cp#")},handleBrowserUnsupported:function(t,i){var r=n.defer(),o=e('<div data-auto="browser-unsupported-message"/>').html(this.getUnsupportedBrowserMessage()),s=navigator.userAgent||"N/A";return a.trackEvent("unsupportedBrowserMsgShown",{contextString:t,userAgent:s,projectType:this.getAppTypeID()},i),d.showAlert("Darn, you need to switch browsers",o,{closeDefer:r,okText:"Ok, got it"}).then(function(){r.resolve()}.bind(this)),r.promise},requestAppCreateNew:function(e,t,i){var r=n.defer();return this.isEnabled()?this.isBrowserSupported()?((i=i||{}).contextString=e,i.projectType=this.getAppTypeID(),window.marvel._isInApp?(a.trackEvent("projectCreationBegin",i,t),marvel.events.trigger("show-interstitial",{typeName:this.typeName,afterShowingDefer:r}),r.promise.then(function(){marvel.navigate("design/"+this.typeName+"/new",{trigger:!0})}.bind(this)).done()):a.trackLink("projectCreationBegin",i,t,function(){window.location.href=l.getLocalizedSparkPath("/sp/design/"+this.typeName+"/new")}.bind(this)),!0):(this.handleBrowserUnsupported(),!1):(alert(this.getDisplayName()+" is coming soon."),!1)},hasLicensedResources:function(e){return this.getImageComponentsInfoForDoc(e).then(function(e){return!!t.find(e,function(e){return this._isInfoComponentLicensed(e)}.bind(this))}.bind(this))},updateLicensedResources:function(e,t){return console.warn("TBD: update images in mrvlDoc."),n.resolve()},appSupportsUpdateLicensedResources:function(e){return!1},unlicenseResources:function(e){return console.warn("TBD: unlicese images in mrvlDoc"),n.resolve()},getAuthoringContextId:function(e){return e.getDCXRoot().getValue("authctx#ctxid")},setAuthoringContextId:function(e,t,i){return i?(e.getDCXRoot().setValue("authctx#ctxid",t),n.resolve()):e.saveChanges(function(e){e.setValue("authctx#ctxid",t)}.bind(this))},getAuthoringContextUrn:function(e){return e.getDCXRoot().getValue("authctx#ctxurn")},setAuthoringContextUrn:function(e,t,i){return i?(e.getDCXRoot().setValue("authctx#ctxurn",t),n.resolve()):e.saveChanges(function(e){e.setValue("authctx#ctxurn",t)}.bind(this))},isBranded:function(e){var t=!!e.getDCXRoot().getValue("authctx#uses-branded-elements");return n.resolve(t)},getAuthoringContextThemeId:function(e){return e.getDCXRoot().getValue("authctx#themeid")},setAuthoringContextThemeId:function(e,t,i){return i?(e.getDCXRoot().setValue("authctx#themeid",t),n.resolve()):e.saveChanges(function(e){e.setValue("authctx#themeid",t)}.bind(this))},stripBranding:function(e,t){return(o.hasFeature("enable-multi-brand")?n.resolve():this.setAuthoringContextId(e,null,!0)).then(function(){return this.setAuthoringContextThemeId(e,null,!0).then(function(){return t?(e.getDCXRoot().setValue("authctx#uses-branded-elements",!1),n.resolve()):e.saveChanges(function(e){e.setValue("authctx#uses-branded-elements",!1)}.bind(this))}.bind(this))}.bind(this))},rebrandProject:function(e,t,i){return this.stripBranding(e,i).then(function(){var n=null;return t&&(n=t.getId()),this.setAuthoringContextId(e,n,i)}.bind(this))},beforeCollaboration:function(e){return n.resolve()},hasUploadedFonts:function(e){return this._hasFontSource(e,"user-uploaded")},_hasFontSource:function(e,i){return this.getFontsUsed?this.getFontsUsed(e).then(function(e){return!!t.find(e||[],function(e){return e&&e.source===i})}):this.includesUploadedFonts&&"user-uploaded"===i?n.resolve(this.includesUploadedFonts(e)):n.resolve(!1)},getLastPublishedAuthoringContextId:function(e){return e.getDCXRoot().getValue("authctx#lastPublishedAuthctxid")},setLastPublishedAuthoringContextId:function(e,t){return e.saveChanges(function(e){e.setValue("authctx#lastPublishedAuthctxid",t)}.bind(this))},isaThemeEditor:function(){return this.isaProjectFormat()},getThemeController:function(e){return n.resolve({initTheme:function(e,t){},renderCover:function(e,t){},areAssetsUsed:function(e,t){},updateLinkedAssets:function(e,t){},relinkAsset:function(e,t){},getNumberOfGeneratedThemes:function(){return n.resolve(-1)},getGeneratedThemes:function(){return n.resolve([])},generateThemeRendition:function(e,t,i){t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height)},canResolveConflict:function(e,t,i,r){return n.resolve(!1)},resolveAuthoringContextConflict:function(e,t,i,r,o){return n.resolve()}})},getThemeEditorView:function(){return n.resolve(function(){return this.render=function(){},this.setElement=function(){},this})},getGeneratedThemes:function(e){return n.resolve([])},generateThemeRendition:function(e,t,i){t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height)}})}.apply(t,n))||(e.exports=r)},function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(t)}e.exports=i},,function(e,t,i){var n=i(20),r=n.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(r,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,n)});case 4:return t.nextTick(function(){e.call(null,i,n,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,i(18))},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(4),i(7),i(11),i(6),i(64),i(5),i(35),i(12),i(157),i(100),i(36),i(94)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m){"use strict";var v=new s({color:"green",name:"UpgradeController"}),b={postLogoButton:{primaryTxt:r.getString("merch-touchpoint-post-logo-primary-txt"),secondaryTxt:"",secondaryBtnTitle:"",dialogClass:"merch-post-logo-simple",logo:"/images/merch-post-logo.png"},postWatermark:{primaryTxt:"",secondaryTxt:r.getString("merch-touchpoint-post-watermark-secondary-txt"),secondaryBtnTitle:r.getString("merch-touchpoint-post-watermark-secondary-btn-title"),dialogClass:"merch-post-watermark-simple",width:"339",logo:"/images/merch-post-watermark-logo.png"},postBrandifyButton:{primaryTxt:r.getString("merch-touchpoint-post-brandify-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-post-brandify-secondary-txt"),logo:"/images/post_po_brandify.png"},"page:settings:headerfooter":{primaryTxt:r.getString("merch-touchpoint-page-settings-headerfooter-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-page-settings-headerfooter-secondary-txt"),hideOnResize:!0},"page:themepicker":{primaryTxt:r.getString("merch-touchpoint-page-themepicker-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-page-themepicker-secondary-txt"),logo:"/images/page_po_themepicker.png"},"page:texttoolbar":{primaryTxt:r.getString("merch-touchpoint-page-texttoolbar-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-page-texttoolbar-secondary-txt"),logo:"/images/page_po_toolbar.png"},videoStamp:{primaryTxt:r.getString("merch-touchpoint-video-stamp-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-video-stamp-secondary-txt"),logo:"/images/video_po_replace_logo.png"},videoOutroSlide:{primaryTxt:r.getString("merch-touchpoint-video-outro-primary-txt"),secondaryTxt:r.getString("merch-touchpoint-video-outro-secondary-txt"),logo:"/images/video_po_outro.png"}};return new(n.Model.extend({_userAnalytics:{entitled:"unknown"},initialize:function(){c.on("is-paid-user",function(e){e?this._userAnalytics.entitled="true":(this.preloadData(),this._userAnalytics.entitled="false")}.bind(this))},getTouchpoints:function(){return JSON.parse(JSON.stringify(b))},getUserAnalytics:function(){return this._userAnalytics},getExistingDataIfGood:function(e){return this._lastDataFromServer?!e.hidePlans&&this._lastDataFromServer.data.requestedHidePlans?null:new Date-this._lastDataFromServer.timestamp<72e5?this._lastDataFromServer.data:void 0:null},preloadData:function(e){return this._preloadDataPromise||(this._preloadDataPromise=this.getPricingData(e)),this._preloadDataPromise},modPlansDataForUnauthenticatedFeatures:function(e){return e.requestedHidePlans||!e.experimentPlansVariants?i(e):a.unauthenticatedFeaturesLoaded().then(function(){var i=t.find(e.experimentPlansVariants,function(e,t){return a.hasUnauthenticatedFeature(t)});return i&&t.each(e.orderedPlans,function(e){var n=i.plans[e.id];n&&t.assign(e,n)}),e}.bind(this),function(t){return i(e)})},getPricingData:function(e){e=e||{};var n,r=this.getExistingDataIfGood(e);if(r)return i.resolve(r);n=t.isUndefined(e.hidePlans)?a.featuresLoaded().then(function(){e.hidePlans=a.hasFeature("entitle-brand-kit")}.bind(this),function(t){e.hidePlans=!1}):i.resolve();var o=i.defer();return n.then(function(){var t=d.getUserCountryInfo(),i="/pricingdata";t&&(i+="?country="+t.country),d.ajax({type:"GET",url:i,data:e,headers:{Accept:"*/*","Content-Type":"application/json"},success:function(e,t,i){this._initPlansData(e).then(function(e){this._lastDataFromServer={data:e,timestamp:new Date},o.resolve(e)}.bind(this)).done()}.bind(this),error:function(e){v.error("getPricingData failed",e),o.reject(e)}.bind(this)},null,!0)}.bind(this)).done(),o.promise},_getUpgradeView:function(){return this._upgradeView||(this._upgradeView=new p({controller:this})),this._upgradeView},upgradeViewClosed:function(){window.marvel.events.trigger("upgrade-view-closed")},handleUserClicksToPurchasePlan:function(e){if(e.isSparkFree){var t=!window.marvel._isInApp;e.view&&e.view.handleCloseUpgradeView(),t&&(0===u.parse(window.location.href).pathname.indexOf("/"+r.localePathPrefix+"sp/")?window.marvel.navigate("/",{trigger:!0}):window.location.href=r.getLocalizedSparkPath("/sp/"))}else{var i=e.ucReturnUrl;i||(i="https://"+window.location.host+r.getLocalizedSparkPath("/sp/onboarding/planspagepurchase?srcUrl="+encodeURI(window.location.pathname)+"&productId="+e.productId+"&orderId={{orderId}}"));var n,o,a=e.workflow,s=l.upgradeUcClientId;i+="&touchpointName="+encodeURI(a),this._currentOptions&&this._currentOptions.destinationUrl&&(i+="&destinationUrl="+encodeURI(this._currentOptions.destinationUrl)),n=[{offerId:e.offerId,quantity:e.quantity||1}];var c=r.getLocale()||e.languageCode;c.length>=3&&(c=c.substr(0,2)),o={landscape:l.upgradeUcLandscape,clientId:s,countryCode:e.countryCode,languageCode:c,returnUrl:i,items:n},this._redirectToCheckout(o).then(function(e){},function(e){v.error("CommerceLib redirectToCheckout returned error",e)})}},_redirectToCheckout:function(e){if(this._useUcV2){var i=l.upgradeCommercePath,n={cli:e.clientId,co:e.countryCode,lang:e.languageCode,rUrl:e.returnUrl},r="";return t.each(e.items,function(e,i){t.each(e,function(e,t){var n="";switch(t){case"offerId":n="id";break;case"quantity":n="q"}n&&(r+="&items["+i+"]["+n+"]="+e)})}),this._getTransitoryAuthorizationCode().then(function(e){n.code=e;var t=u.format({pathname:i,query:n})+r;window.location.href=t})}return CommerceLib.redirectToCheckout(e)},_getTransitoryAuthorizationCode:function(){var e=i.defer();return d.getTransitoryAuthorizationCode({targetClientId:"unified_checkout_client",targetScope:"AdobeID,openid,sao.stock,additional_info.roles,additional_info.vat_id,additional_info.dob,update_profile.countryCode"}).then(function(t){e.resolve(t.authCode||"")},function(t){e.resolve("")}).done(),e.promise},_loadCommerce:function(){if(this._useUcV2=!(!l.upgradeUseUcV2&&!a.hasUnauthenticatedFeature("force-unified-checkout-v2")),!this._useUcV2){var t=u.parse(window.location.href.toLowerCase(),!0);this._useUcV2=t.query&&"true"===t.query.ucv2}return this._useUcV2?i.resolve():(this._commerceLoadingDefer||(this._commerceLoadingDefer=i.defer(),e.getScript(l.upgradeCommerceLibPath).done(function(){this._commerceLoadingDefer.resolve()}.bind(this))),this._commerceLoadingDefer.promise)},handleShowUpgradeLearnMore:function(e){"string"==typeof e?e={workflow:e}:(e=e||{}).workflow||(e.workflow="unknown-workflow"),e.jumpToLearnMore=!0,this._handleShowUpgrade(!1,e)},handleShowUpgrade:function(e){e="string"==typeof e?{workflow:e}:e||{},this._handleShowUpgrade(!0,e)},isOnUpgradeRoute:function(){var e=window.location.pathname.match(/[^\/]+/g);return e&&-1!==e.indexOf("pricing")},_handleShowUpgrade:function(e,t){this._currentOptions=t;var i=this.isOnUpgradeRoute();!l.allowUpgradePage&&i?(v.warn("trying to view upgrade page on bad env",window.location.pathname),window.location.href="/"):this.getPricingData(t).then(function(n){i?this._getUpgradeView().renderInLanding({workflow:t.workflow,plansData:n,parent$:this._landingParent$,jumpToPlans:e,jumpToLearnMore:t.jumpToLearnMore,marketingTouchpointCTA:t.marketingTouchpointCTA,hidePlans:t.hidePlans}):this._showUpgradeViewWithData(n,e,t)}.bind(this),function(e){v.error("could not get upgrade data in handleShowUpgrade",e)}.bind(this)).done(),v.debug("show-upgrade:"+t.workflow)},_showMerchNotificationHandler:function(e,i,n,r){try{t.isFunction(e)&&e(i),t.isFunction(n)&&n()}catch(e){v.error(r)}},showMerchPopover:function(e){var i=b[e.touchpointName],n={direction:e.position||"auto",primaryClickHandler:function(){this._showMerchNotificationHandler(e.notify,"primary",null,"Error while calling the primary popover notify fn"),this.handleShowUpgrade({workflow:e.name,marketingTouchpointCTA:"upgrade"})}.bind(this),secondaryClickHandler:function(){var t=null;"postWatermark"!==e.name&&(t=this.handleShowUpgradeLearnMore.bind(this,{workflow:e.name,marketingTouchpointCTA:"learn-more"})),this._showMerchNotificationHandler(e.notify,"secondary",t,"Error while calling the secondary popover notify fn")}.bind(this),hideHandler:function(t){this._showMerchNotificationHandler(e.notify,t,null,"Error while calling the hide popover notify fn")}.bind(this),name:e.touchpointName||"untitled:merchPopover",target:e.$element||e.element,logo:"/images/video_po_replace_logo.png",primaryTxt:r.getString("merch-touchpoint-primary-txt-default"),secondaryTxt:r.getString("merch-touchpoint-secondary-txt-default"),primaryBtnTitle:r.getString("merch-touchpoint-primary-btn-default"),secondaryBtnTitle:r.getString("merch-touchpoint-secondary-btn-default"),hideEvent:"hide-picker",analyticsEvent:"viewedMerchandising",primaryCTAAnalytic:"clickedMerchandisingCTA",secondaryCTAAnalytic:"clickedMerchandisingMaybeLater"};e.anchorLocation&&(n.refWidth=e.anchorLocation.width,n.refHeight=e.anchorLocation.height,n.top=e.anchorLocation.top,n.left=e.anchorLocation.left);var o=t.assign({},n,i,e);return new f(o).show(o.direction)},_getBusinessSegmentPlan:function(e,i){return t.find(i.orderedPlans,function(t){return t.id.split(".")[1]===e})},showMerchMessagingModal:function(e){var i,n=!1,r=t.clone(e);"premiumTemplate"==e.workflow&&(n=a.hasFeature("upgrade-premium-template-show-pricing"),i="create-from-premium-template-attempted"),"remixPremiumTemplate"===e.workflow&&(n=a.hasFeature("upgrade-premium-template-show-pricing"),i="remix-from-premium-template-attempted"),n?this.getPricingData().then(function(n){var o=this._getBusinessSegmentPlan(e.segment||"INDIVIDUAL",n);if(o){var a=t.find(o.offers,function(e){return e.offerId===o.defaultOfferId});a&&(r.partials=p.getPricePartials(),r.additionalFieldsForModel={priceDisplay:t.assign({},a.priceDisplay,{selected:!0})})}window.marvel.events.trigger(i,"tbd:whatmerchstring",r)}.bind(this)):window.marvel.events.trigger(i,"tbd:whatmerchstring",r)},_showUpgradeViewWithData:function(t,i,n){var r=e(document.body).find(".upgrade-overlay-holder");r.length||(r=e("<div class='upgrade-overlay-holder needs-showing hide'></div>"),e(document.body).append(r)),this._getUpgradeView().renderInApp({workflow:this._currentOptions.workflow,parent$:r,plansData:t,jumpToLearnMore:n.jumpToLearnMore,jumpToPlans:i,marketingTouchpointCTA:n.marketingTouchpointCTA,hidePlans:n.hidePlans})},showPlansInLanding:function(e){if(!e.workflow){var t=u.parse(window.location.href,!0);e.workflow=t.query.workflow||"landing"}if(!e.jumpToPlans&&window.location.hash&&window.location.hash.length>1){var i=window.location.hash.substring(1);"plans"===i?e.jumpToPlans=!0:e.jumpToAnchor=i}this._initPlansData(e.plansData).then(function(t){this._lastDataFromServer={data:t,timestamp:new Date},this._landingParent$=e.parent$,this._getUpgradeView().renderInLanding(e)}.bind(this)).done()},isConfettiArmed:function(){return this._confettiArmed},disarmConfetti:function(){this._confettiArmed=!1},userReturnedViaPurchasedRoute:function(e){this._confettiArmed=!0;marvel._firstLaunchSession;var t,i=a.hasFeature("entitle-brand-kit"),n=e.query.touchpointName||"unknown",r=e.query.productId,s=e.query.orderId,l=-1!==e.pathname.indexOf("/cancel"),c=-1!==e.pathname.indexOf("/default"),d=l?"cancel":"success";return t=l?"cancel":c?"default":"custom",i||l||v.warn("non-entitled user in non-cancel purchase return",s),o.trackEvent("endPurchaseFlow",{trigger:n,productId:r,orderId:s,pathtype:t,reason:d},"onboarding:planspagepurchase"),!l},requestTypeKitSyncUserEntitlement:function(){var e=i.defer(),t=l.adobeFontsApiEndpoint+"/v1/refresh_user",n=l.cid,r=d.getProfile().userId;return d.ajax({type:"PUT",url:t,dataType:"text",headers:{HTTP_X_GW_IMS_USER_ID:r,"X-Api-Key":n},success:function(t,i,n){m.addPageAction&&m.addPageAction("spark_web_typekit_refresh_user",{status:"succeeded",statusCode:n.status}),e.resolve(i)},error:function(t,i,n){m.addPageAction&&m.addPageAction("spark_web_typekit_refresh_user",{status:"failed",statusCode:t.status}),v.error("requestTypeKitSyncUserEntitlement failed with ["+t.status+"]: "+n,t),e.resolve(t)}}),e.promise},_initPlansData:function(e){return i.all([this.modPlansDataForUnauthenticatedFeatures(e),this._loadCommerce()]).spread(function(e,i){return e.noPlans?e:(e.plansById={},this._termInfoMap=this._getExpandedTermMap(e.termsInfo.map,e.termsInfo.termsToTermId),this._perLicenseString=e.termsInfo.perLicenseString||"",e.termMap=this._termInfoMap,e.commitmentAndTermMap=e.termsInfo.commitmentAndTermMap,this.countryInfo=e.countryInfo,t.each(e.orderedPlans,function(i){e.plansById[i.id]=i,i.offersById={},i.offers?t.each(i.offers,function(e){e.priceDisplay=this._getPriceForDisplay(e),e.priceDisplay.oldPrice&&(i.hasSpecialOffers=!0),i.offersById[e.offerId]=e}.bind(this)):i.apps&&(t.each(i.apps,function(e){t.each(e.offers,function(t){t.priceDisplay=this._getPriceForDisplay(t),t.priceDisplay.oldPrice&&(e.hasSpecialOffers=!0),i.offersById[t.offerId]=t}.bind(this))}.bind(this)),i.defaultPriceOfferId&&(i.defaultPrice=i.offersById[i.defaultPriceOfferId]))}.bind(this)),e)}.bind(this))},_formats:{},_getExpandedTermMap:function(e,i){var n={};return t.each(i,function(t,i){n[i]=e[t]}),n},_getCurrencyFormat:function(e){var t=e.formatString,i=this._formats[t];if(!i){i={originalString:t,delimiter:e.delimiter},this._formats[t]=i;var n=t.indexOf("'"),r=0!==n,o=t.indexOf("'",n+1),a=t.substring(n+1,o),s=(r?t.substring(0,n):t.substring(o+1)).trim();if(r){var l=t.lastIndexOf("0",n);i.space=t.substring(l+1,n),t=t.substring(0,l+1)}else{var c=t.indexOf("#");i.space=t.substring(o+1,c),t=t.substring(c,t.lastIndexOf("0")+1)}if(i.symbolAtEnd=r,i.symbol=a,e.delimiter){var d=s.indexOf(e.delimiter);i.numPlaces=s.length-d-1,i.wholeNumberFormatString=s.substring(0,d)}else i.numPlaces=0,i.wholeNumberFormatString=s}return i},_getRepeatedString:function(e,t){if(e.repeat)return e.repeat(t);if(t){for(var i=e,n=1;n<t;n++)i+=e;return i}return""},_getFormattedWholeNumber:function(e,t){var i=e+"";if(5===t.length){if(i.length>3){var n="$1"+t[1];i=String(i).replace(/(.)(?=(\d{3})+$)/g,n)}}else v.debug("unsupported wholeNumberFormatString:"+t);return i},_getFormattedCurrencyNumber:function(e,i){var n,r,o=this._getCurrencyFormat(i),a={symbol:o.symbol,symbolAtEnd:o.symbolAtEnd,fractionDelimiter:o.delimiter};if(e)if(o.numPlaces){var s,l=Math.floor(e),c=t.round(e-l,o.numPlaces);n=this._getFormattedWholeNumber(l,o.wholeNumberFormatString),0===c?(s=this._getRepeatedString("0",o.numPlaces),r=n):((s=(c+"").substring(2)).length<o.numPlaces&&(s+=this._getRepeatedString("0",o.numPlaces-s.length)),r=n+o.delimiter+s),a.fraction=s}else r=n=n=this._getFormattedWholeNumber(e,o.wholeNumberFormatString);else n="0",r="0";return o.symbolAtEnd?a.combinedString=n+o.space+a.symbol:a.combinedString=a.symbol+o.space+n,a.numberString=n,a.shortNumberString=r,a},_getPriceForDisplay:function(e){var t=e.pricing,i=t.price.displayPrice,n=t.currency.symbol.trim(),o=this._termInfoMap[e.term],a=this._getFormattedCurrencyNumber(i,t.currency),s=e.perLicense&&this._perLicenseString,l={price:i,numberString:a.numberString,symbolAtEnd:a.symbolAtEnd,currencySymbol:n,time:r.getString(o.abbr),timeAppend:r.getString(s),combinedString:a.combinedString,fraction:a.fraction,fractionDelimiter:a.fractionDelimiter,shortNumberString:a.shortNumberString};if(!i&&t.currency.isDefault&&(l.currencySymbol="",l.numberString="0"),t.price.oldPrice){var c=this._getFormattedCurrencyNumber(t.price.oldPrice,t.currency);l.oldPrice={price:t.price.oldPrice,numberString:c.numberString,shortNumberString:c.shortNumberString,combinedString:c.combinedString}}return l}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(131),r=i(132);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=i(133);function y(e,t,i){if(e&&r.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,i),n}o.prototype.parse=function(e,t,i){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!i&&1===e.split("#").length){var w=l.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=a.exec(y);if(k){var x=(k=k[0]).toLowerCase();this.protocol=x,y=y.substr(k.length)}if(i||k||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===y.substr(0,2);!_||k&&m[k]||(y=y.substr(2),this.slashes=!0)}if(!m[k]&&(_||k&&!v[k])){for(var C,S,T=-1,M=0;M<h.length;M++){-1!==(I=y.indexOf(h[M]))&&(-1===T||I<T)&&(T=I)}-1!==(S=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(C=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(C)),T=-1;for(M=0;M<u.length;M++){var I;-1!==(I=y.indexOf(u[M]))&&(-1===T||I<T)&&(T=I)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var P=this.hostname.split(/\./),E=(M=0,P.length);M<E;M++){var A=P[M];if(A&&!A.match(p)){for(var F="",L=0,N=A.length;L<N;L++)A.charCodeAt(L)>127?F+="x":F+=A[L];if(!F.match(p)){var R=P.slice(0,M),j=P.slice(M+1),z=A.match(f);z&&(R.push(z[1]),j.unshift(z[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=n.toASCII(this.hostname));var O=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+O,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[x])for(M=0,E=d.length;M<E;M++){var U=d[M];if(-1!==y.indexOf(U)){var $=encodeURIComponent(U);$===U&&($=escape(U)),y=y.split(U).join($)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,H)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var G=this.search||"";this.path=O+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var i=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];i[s]=this[s]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(i[d]=e[d])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var p=u[h];i[p]=e[p]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||m[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var g=i.pathname||"",b=i.search||"";i.path=g+b}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||y||i.host&&e.pathname,x=k,_=i.pathname&&i.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(C&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),k=k&&(""===f[0]||""===_[0])),w)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),i.search=e.search,i.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(C)i.hostname=i.host=_.shift(),(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift());return i.search=e.search,i.query=e.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var S=_.slice(-1)[0],T=(i.host||e.host||_.length>1)&&("."===S||".."===S)||""===S,M=0,I=_.length;I>=0;I--)"."===(S=_[I])?_.splice(I,1):".."===S?(_.splice(I,1),M++):M&&(_.splice(I,1),M--);if(!k&&!x)for(;M--;M)_.unshift("..");!k||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var D,P=""===_[0]||_[0]&&"/"===_[0].charAt(0);C&&(i.hostname=i.host=P?"":_.length?_.shift():"",(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift()));return(k=k||i.host&&_.length)&&!P&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(4),i(155),i(41)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return new(i.Model.extend({LOGGER_NAME:"[experiment-engine]",_specialVariantKey:"__variant__",_loadDefer:null,_authenticatedUserAttributeKey:"avn",_unauthenticatedUserAttributeKey:"uavn",_experimentDataLoaded:!1,_browserStorage:null,_validControlGroups:{control:!0,controlA:!0,controlUnauth:!0,controlUnauthA:!0},_specialNames:{controlLocked:!0},configurationTemplate:{autoTrack:!0,defaultVariant:"control",enableWildcardTracking:!0},experiments:{},init:function(){t.bindAll(this,t.functionsIn(this)),this._browserStorage=new s(window.sessionStorage),window.marvel.events.on("experience-loaded",this._loadExperience.bind(this)),this._loadUserAttributes()},_loadUserAttributes:function(){var e=function(){var e=window.location.href.split("?");if(e&&e.length>1){var t=e[1],i={};if(t)for(var n=t.split("&"),r=0;r<n.length;r++){var o=n[r].split("="),a=decodeURIComponent(o[0]);if(a&&a.length&&o&&o.length>=2){var s=o[1].split("#");i[a]=decodeURIComponent(s[0])}}return i}return!1}();if(e&&e.r&&0===e.r.indexOf("experience")){var i=this._browserStorage.get("eeUserAttributes");t.isArray(i)||(i=[]),-1===i.indexOf(e.r)&&(i.push(e.r),this._browserStorage.set("eeUserAttributes",i))}},_loadExperience:function(e){var t=e.experimentData;this._canAssignUserToExperiment(t)&&this._assign(t)},_loadExperimentData:function(){var e=[];return this._loadDefer=n.defer(),r.loadAllFeatures().spread(function(i,n){var r;i&&"fulfilled"===i.state?t.isObject(i.value)&&t.isObject(i.value.experimentData)?(r=i.value.experimentData,this._canAssignUserToExperiment(r)&&this._assign(r)):e.push("Invalid authenticated experiment data object"):i&&"rejected"===i.state&&e.push(i.reason),n&&"fulfilled"===n.state?t.isObject(n.value)&&t.isObject(n.value.experimentData)?(r=n.value.experimentData,this._canAssignUserToExperiment(r)&&this._assign(r)):e.push("Invalid unauthenticated experiment data object"):n&&"rejected"===n.state&&e.push(n.reason),2===e.length?(this._experimentDataLoaded=!1,this._loadDefer.reject(e)):(this._experimentDataLoaded=!e.length,this._loadDefer.resolve())}.bind(this)).done(),this._loadDefer.promise},load:function(){return this._experimentDataLoaded||(this._experimentDataLoaded=!0,this._loadExperimentData()),this._loadDefer.promise},reset:function(){this.experiments={}},setUserExperimentData:function(e){if(!this._canAssignUserToExperiment(e))return null;var t=new a(e),i=t._getStandardTypeName(),n=t._getAuthenticatedTypeName();return this.experiments[i]||(this.experiments[i]={}),this.experiments[i][n]=e,t},getExperiments:function(){return this.experiments},_assign:function(e){var t=this.setUserExperimentData(e);t&&(o.setExperiment(e,t._getStandardTypeName(),t._getAuthenticatedTypeName()),t.track("assigned"))},_shouldTrack:function(e,t){return!e.isInSecondLockup()&&(t&&!1!==t.autoTrack)},_isControlGroup:function(e){return!0===this._validControlGroups[e]},_hasSpecialName:function(e){return!0===this._specialNames[e]},_canAssignUserToExperiment:function(e){return!!t.isObject(e)&&!(t.isEmpty(e.experimentName)||t.isEmpty(e.variantName)||this._isControlGroup(e.experimentName)||this._hasSpecialName(e.experimentName))},_defaultVariant:function(e){return e.defaultVariant},_hasVariantCallback:function(e,i){return e&&t.isObject(e)&&e.hasOwnProperty(i)&&t.isFunction(e[i])},_extendConfiguration:function(e){return t.isObject(e)||(e={}),t.extend({},this.configurationTemplate,e)},_shouldEnableWildcardTracking:function(e,t){return!(!t||!t.enableWildcardTracking)||e&&e.indexOf("*")>=0},_getExperiment:function(e,t){return this.experiments&&this.experiments[e]&&this.experiments[e][t]?this.experiments[e][t]:null},_findMatchingExperiment:function(e,i){if(t.isEmpty(this.experiments))return null;for(var n in this.experiments)if(this.experiments.hasOwnProperty(n))for(var r in this.experiments[n])if(this.experiments[n].hasOwnProperty(r)){var o=this.experiments[n][r];if(i&&0===o.experimentName.indexOf(e))return o;if(o.experimentName===e)return o}return null},_runForExperiment:function(e,t,i){var n=e.getVariantName();this._hasVariantCallback(t,n)?t[n](e):this._hasVariantCallback(t,this._specialVariantKey)&&t[this._specialVariantKey](e),this._shouldTrack(e,i)&&e.track()},_getRawExperimentName:function(e){return e.replace("*","")},track:function(e,t,i){return this.load().then(function(){var n=this._shouldEnableWildcardTracking(e),r=this._getRawExperimentName(e),o=this._findMatchingExperiment(r,n);if(o){var s=new a(o);if(s.getVariantName()===t)return s.track(i),s}return null}.bind(this)).done()},_getVariants:function(e){var i=e.features;return t.isObject(i)?t.isArray(i)&&i.length?i:[i]:[]},loadExperimentsBasedOnAttrib:function(e){return this.getStandardAuthenticatedExperiment()||this._hasAuthenticatedUserAttribute(e)?r.featuresLoaded():(this.registerAuthenticatedUserAttributes([e]),r.refreshFeatures())},run:function(e,t,i){var r=this._extendConfiguration(i),o=this._getRawExperimentName(e),s=n.defer();return this.load().then(function(){var i=null,n=this._shouldEnableWildcardTracking(e,r),l=this._findMatchingExperiment(o,n);l&&(i=new a(l),this._runForExperiment(i,t,r));var c=this._defaultVariant(r);!i&&this._hasVariantCallback(t,c)&&t[c](i),s.resolve(i)}.bind(this)).catch(function(e){window.marvel.logger.error("[ExperimentEngine] run_load_failure",{error:e}),s.reject(e)}).done(),s.promise},runSilent:function(e,t,i){var n=this._extendConfiguration(i);return n.autoTrack=!1,this.run(e,t,n)},removeAuthenticatedUserAttributes:function(e){var t={},i=this.getStandardAuthenticatedExperiment();i&&(t=i.metadata);var n=r.getAuthenticatedUserAttributes();n&&n.length&&t&&t.operation===e&&this._browserStorage.remove(this._authenticatedUserAttributeKey)},_hasAuthenticatedUserAttribute:function(e){var i=r.getAuthenticatedUserAttributes();return!!t.find(i,function(t){return t===e})},registerAuthenticatedUserAttributes:function(e){return this._registerUserAttributes(this._authenticatedUserAttributeKey,r.getAuthenticatedUserAttributes(),e)},registerUnauthenticatedUserAttributes:function(e){return this._registerUserAttributes(this._unauthenticatedUserAttributeKey,r.getUnauthenticatedUserAttributes(),e)},_registerUserAttributes:function(e,i,n){if(!t.isArray(n))return!1;var r=t.union(i,n);return this._browserStorage.set(e,r),r},getStandardUnauthenticatedExperiment:function(){return this.experiments&&this.experiments.standard&&this.experiments.standard.unauthenticated?this.experiments.standard.unauthenticated:null},getStandardAuthenticatedExperiment:function(){return this.experiments&&this.experiments.standard&&this.experiments.standard.authenticated?this.experiments.standard.authenticated:null},shouldRedirectUserForExperiment:function(){var e=r.getAuthenticatedUserAttributes();if(e&&e.length){var t=this.getStandardAuthenticatedExperiment();if(t&&t.metadata&&t.metadata.hasOwnProperty("first-time-user-redirection-link"))return!0}return!1},handleExperimentRedirect:function(){return this.load().then(function(){if(this.shouldRedirectUserForExperiment()){var e=this.getStandardAuthenticatedExperiment();e&&e.metadata&&e.metadata["first-time-user-redirection-link"]&&window.marvel.navigate(e.metadata["first-time-user-redirection-link"],{trigger:!0,replace:!0})}}.bind(this)).catch(function(e){window.marvel.logger.error("[ExperimentEngine] handleExperimentRedirect_load_failure",{error:e})})}}))}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n=i(120),r=i(52);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},function(e,t,i){var n=i(54);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(235),i(11)],void 0===(r=function(e,t,i,n,r,o){"use strict";new o({color:"periwinkle",name:"imageUtils"});return new(i.Model.extend({imageServices:{nonDooplo:["stock"],dooplo:["flickr","unsplash","pixabay","the-noun-project","bing"],flagPrefixDooplo:"user-flag-image-source-dooplo-",showFlagPrefixDooplo:"show-user-flag-image-source-dooplo-"},_convertUrlToBlob:function(e,t,i){var o=n.defer(),a=new Image;return i&&a.setAttribute("crossOrigin","anonymous"),a.onload=function(e){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=this.width,i.height=this.height,n.drawImage(this,0,0,this.width,this.height);try{o.resolve(r(i.toDataURL(t||"image/png")))}catch(e){o.reject(e)}},a.onerror=function(e){o.reject(e)},a.src=e,o.promise},convertUrlToBlob:function(e,t){return this._convertUrlToBlob(e,t,!1).then(function(e){return e},function(i){return this._convertUrlToBlob(e,t,!0).then(function(e){return e},function(e){return n.reject(e)})}.bind(this))},getDataUrl:function(e){var t=n.defer(),i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);try{t.resolve(e.toDataURL("image/png"))}catch(e){t.reject(e)}},i.onerror=function(e){t.reject(e)},i.src=e,t.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(11)],void 0===(r=function(e,t,i,n){var r=new n({color:"coral",name:"BrowserStorage"});return i.Model.extend({_shortStorage:null,_global:window,_persistentStorage:null,initialize:function(e,t){this.setStorage(e,t)},setStorage:function(e,i){this._shortStorage=null,this._persistentStorage=null;try{t.isUndefined(e)?this._shortStorage=null:this._isBrowserStorage(e)?this._shortStorage=this._global[e]:this._isValidStorage(e)?this._shortStorage=e:this._shortStorage=null,t.isUndefined(i)?this._persistentStorage=null:this._isBrowserStorage(i)?this._persistentStorage=this._global[i]:this._isValidStorage(i)?this._persistentStorage=i:this._persistentStorage=null}catch(e){this._shortStorage=null,this._persistentStorage=null}},_isValidStorage:function(e){try{return!t.isEmpty(e)&&t.isObject(e)&&t.isFunction(e.getItem)&&t.isFunction(e.removeItem)&&t.isFunction(e.setItem)}catch(e){r.error("could not check valid storage"+e)}return!1},_isBrowserStorage:function(e){try{return t.isString(e)&&!t.isEmpty(e)&&this._global.hasOwnProperty(e)&&this._global[e]&&this._isValidStorage(this._global[e])}catch(e){r.error("could not check storage"+e)}return!1},getStorage:function(e,t){try{if(this._isBrowserStorage(e))return this._global[e];if(this._isValidStorage(e))return e;if(this._shortStorage)return this._shortStorage;if(this._isBrowserStorage(t))return this._global[t];if(this._isValidStorage(t))return t;if(this._persistentStorage)return this._persistentStorage}catch(e){r.error("could not get storage"+e)}return null},get:function(e,i,n,r){var o,a=this.getStorage(n,r),s=null;try{if(i=i||JSON.parse,a)return s=a.getItem(e),i&&t.isFunction(i)&&(o=i(s),t.isObject(o))?o:s}catch(e){return s}return null},set:function(e,i,n,o,a){try{n=n||JSON.stringify;var s=this.getStorage(o,a);if(s)return n&&t.isFunction(n)&&t.isObject(i)&&(i=n(i)),s.setItem(e,i)}catch(t){r.error("could not set item "+e+" with value "+i+" "+t)}return null},remove:function(e,t,i){var n=this.getStorage(t,i);return n?n.removeItem(e):null},processValue:function(e,t,i){var n=this.getStorage(t,i),r=this.get(e,null,t,i);return n&&r&&r.indexOf("processed")<0?n.setItem(e,r+"_processed"):null},hasSetValue:function(e,t,i){var n=this.get(e,null,t,i);return n&&n.indexOf("processed")>=0},getRawUnprocessedValue:function(e,t,i){var n=this.getStorage(t,i),r=this.get(e,null,t,i);return n&&r&&r.length?r.replace("_processed",""):null}})}.apply(t,n))||(e.exports=r)},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(46);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(13),i(4),i(16),i(6),i(11),i(5),i(96)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";var u=new l({color:"firebrick",name:"App Storage"});return i.Model.extend({seedNewDoc:function(e){},initialize:function(){},initSyncGroup:function(){this.initPromise=r.storageReady().then(function(){return r.ensureSyncGroup(this.getSetting("syncGroup"))}.bind(this))},setSaveThumbOnLoad:function(){this._saveThumbOnLoad=!0},saveThumbOnLoad:function(){var e=this._saveThumbOnLoad;return this._saveThumbOnLoad=!1,e},_startingCreateDoc:function(){},releaseBatonLock:function(){return d.releaseBatonAndCloseSession(this.currentDoc)},_createDoc:function(e){this.currentDoc=null,this._startingCreateDoc(),this.initPromise.then(function(t){this.createDocFromConfig(t,e,this.creationDefer),e.assetId&&(this.rootObjectId=e.assetId)}.bind(this),function(e){this.initSyncGroup(),this.creationDefer.reject(e)}.bind(this)).catch(function(e){this.initSyncGroup(),this.creationDefer.reject(e)}.bind(this)).done()},createDocFromConfig:function(e,t,i){t.assetId?this._createDocLoad(e,t,i):this._createDocNew(e,t,i)},_createDocLoad:function(e,t,i){r.syncEnter(),e.getComposite(t.assetId,void 0,!0).then(function(e){return e.getMyApp().checkDocCompatibility(e,"opening").then(function(){return this.currentDoc=e,n.resolve()}.bind(this))}.bind(this)).then(function(){o.setCurrentProjectId(t.assetId);var e=o.getProductName()||this.currentDoc.get("syncGroupName");o.trackEvent("editor:loadedProject",{contextData:["projectId"]},e+":editor"),r.setSyncMode(r.MODE_EDITOR,this.currentDoc),r.logger.debug("Composite loaded.  asset-id["+t.assetId+"]"),r.syncLeave(),marvel.events.trigger("loaded-composite-doc",this.currentDoc),a.augmentLoadDoc(this.currentDoc,t),i.resolve(this.currentDoc)}.bind(this)).catch(function(e){this.currentDoc=null,i.reject(e)}.bind(this))},_createDocNew:function(e,t,i){return this.currentDoc=e.newComposite(this.getSetting("newDocName"),this.getSetting("doctype")),r.setSyncMode(r.MODE_EDITOR,this.currentDoc),this._setProjectContexts(this.currentDoc,t),a.augmentLoadDoc(this.currentDoc,t),a.augmentNewDoc(this.currentDoc,t).then(function(){return this.seedNewDoc(this.currentDoc),i.resolve(this.currentDoc),!0}.bind(this))},_setProjectContexts:function(e,i){if(i&&i.hasOwnProperty("projectContext")&&t.isObject(i.projectContext)){var n=e.getDCXRoot();t.each(i.projectContext,function(e,t){n.setValue("projectContext#"+t,e),"useCaseId"===t&&this._saveLastUsedUseCaseSession(e)}.bind(this))}},_saveLaunchConfigSession:function(e){if(window.sessionStorage)try{sessionStorage.setItem("launch_config_tmp",JSON.stringify(e))}catch(e){u.error("error while saving launch config",e)}},_getAndClearLaunchConfigFromSession:function(){var e;try{if(!window.sessionStorage)return null;var t=sessionStorage.getItem("launch_config_tmp")||void 0;t&&(e=JSON.parse(t),sessionStorage.removeItem("launch_config_tmp"))}catch(e){u.error("error while getting launch config",e)}return e},_saveLastUsedUseCaseSession:function(e){if(window.sessionStorage)try{sessionStorage.setItem("last_used_usecase",JSON.stringify(e))}catch(e){u.error("error while saving launch config",e)}},createDocument:function(e){return this.creationDefer=n.defer(),r.setSyncMode(r.MODE_DISABLED),this.currentDoc?r.waitForQuiet(this.currentDoc).then(function(){this._createDoc(e)}.bind(this)):this._createDoc(e),this.creationDefer.promise},loadDocument:function(){return this.creationDefer.promise},storageManager:function(){return r},editorUnloadFinished:function(){this.currentDoc=null},getImage:function(t,i,r,o){if(!(o=o||this.currentDoc))return console.error("no doc for getImage",{pathOrComponent:t,query:i,buster:r}),n.reject(new Error("no doc for getImage:"+t));var a,s=o.getDCXComposite();if(!(a="string"==typeof t?s.current.getComponentWithAbsolutePath(t):t))return n.resolve(null);var l=new n.defer,c=o.getComponentHref(a,!0,{size:i.size}),d=0;return function t(){var i=document.createElement("img"),n=function(e,i,n){d<2?t():r(n,i,"Image not accepting URL")},r=function(e,t,i){var n=i,r=1;"Image not accepting URL"!==i&&(r=e.status),l.reject({message:n,status:r})};i.onload=function(){l.resolve({path:c.replace(new RegExp("^.*image_assets/[^/]*/"+s.id+"/"),""),size:{width:i.width,height:i.height},img:this})},i.onerror=function(){e.get(c).success(n).error(r)},d++,i.src=c}(),l.promise}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3)],void 0===(r=function(e,t,i,n){"use strict";return new(i.Model.extend({initialize:function(){this.deferredObject=void 0,this.reTries=0,this.MAX_ATTEMPTS=10},isLoadedAndConsented:function(){return this.deferredObject||(this.deferredObject=n.defer(),this.checkForConsent()),this.deferredObject.promise},checkForConsent:function(){window.sprk_evidon_consented?this.deferredObject.resolve(!0):this.MAX_ATTEMPTS>this.reTries?(this.reTries++,t.delay(this.checkForConsent.bind(this),500)):this.deferredObject.reject()}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(37),i(6),i(5)],void 0===(r=function(e,t,n,r,o,a){"use strict";var s,l,c,d,u={},h=!1;function p(){window.TypekitPreview?(window.TypekitPreview.setup({auth_id:"slte",auth_token:"Hik3Pm6JnhEwLxQ0zehfgHbPDnVkFnfVeM5Dl15HLM9Nvtt1z6Zcx%2FCrp%2Ba6IPG%2F4rar1RfQpMk18PnaqVj5UR3JusyvaDexkb4zuYwE6edbEtYVoeY8I0RGujcBA982%2FgXgDjNyLWrd6f8i%2FsbDs1mQLbIorXyId0bC0yU2kZo%3D"}),s.resolve(window.TypekitPreview)):t.delay(p,1e3)}function f(){return c||(c=n.defer(),i.e("sparkfonts-registry").then(function(e){var n=i(242),r=i(314);n.cards=r,t.each(t.filter(n.sparkfonts,function(e){return!!e.typekitPreviewId}),function(e){e.typekitVariations=t.map(e.faces,function(e){return e.typekitKey})}),n.facesByKey||(n.facesByKey={},t.each(n.sparkfonts,function(e,i){t.each(e.faces,function(r){n.facesByKey[r.lookupKey]={subgroup:t.extend({},e,{name:i}),face:r}})})),n.bodyFonts=[{subgroupName:"Acumin Pro Semi Condensed",cssName:n.sparkfonts["Acumin Pro Semi Condensed"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2"}]},{subgroupName:"Adobe Caslon Pro",cssName:n.sparkfonts["Adobe Caslon Pro"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75"}]},{subgroupName:"Calluna",cssName:n.sparkfonts.Calluna.cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"278fd89c347f793d024ce318fee20e"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"278fd89c347f793d195de501fbe0"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"278fd89c347f793d1246e809"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"278fd89c347f793d1246e809b2ca089abf4687"}]},{subgroupName:"Lato",cssName:n.sparkfonts.Lato.cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"288fc09f6c437d772545e51f"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"288fc09f6c586c713c40e7"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"288fc09f6c53777c34"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"288fc09f6c5374713342a424e6e21092b0"}]},{subgroupName:"Museo Slab",cssName:n.sparkfonts["Museo Slab"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"299bc7952e314b7c314ba95ea2b3"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"299bc7952e314b7c314ba95aa2b3"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3"}]},{subgroupName:"PT Sans",cssName:n.sparkfonts["PT Sans"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"34ba94a3207f6b3d024ce318fee20e"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"34ba94a3207f6b3d195de501fbe0"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"34ba94a3207f6b3d1246e809"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687"}]},{subgroupName:"PT Serif",cssName:n.sparkfonts["PT Serif"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]},{subgroupName:"Proxima Nova",cssName:n.sparkfonts["Proxima Nova"].cssName,faces:[{secondaryRole:"is-body-font",role:"body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{secondaryRole:"is-body-font-italic",role:"body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{secondaryRole:"is-body-font-bold",role:"body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{secondaryRole:"is-body-font-bold-italic",role:"body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]}],c.resolve(n)}.bind(null,i)).catch(i.oe)),c.promise}function g(e){return{subgroup:{name:e.preferredFamilyName||e.familyName,cssName:e.family,typekitPreviewId:!1,paragraphRecommended:!1,serif:e.serif,calligraphic:e.calligraphic},face:{name:e.preferredSubfamilyName||e.subfamilyName,path:e.filename,metrics:e,lookupKey:e.postScriptName}}}function m(t){return u[t]||(u[t]=n.defer(),e.getScript("https://use.typekit.net/"+t+".js",function(e,i,n){try{window.Typekit.load({async:!0})}catch(e){}u[t].resolve()})),u[t].promise}return{ENABLE_UPLOADED_FONTS_RENDITIONS:!1,USE_SPARKFONTS_PREVIEW_API:h,inject:function(){return(s||(s=n.defer(),l=m(h?"eww8idl":"zqr1kjd"),window.TypekitPreview?s.resolve(window.TypekitPreview):(e.getScript("https://use.typekit.net/previewkits/pk-v1.js"),p())),n.allSettled([s.promise,l])).then(function(){return window.TypekitPreview})},getFontRegistry:f,loadFonts:function(e){f().then(function(i){var n=[];t.each(e,function(e){var t=i.sparkfonts[e];if(t){if(t.typekitPreviewId){var r={id:t.typekitPreviewId,variations:t.typekitVariations,css_name:t.cssName,name:e};n.push(r)}}else console.warn("loadFont font not found: "+e)}),h&&window.TypekitPreview.load(n,{active:function(){},inactive:function(e,t){console.warn("font error "+e+" and "+t)},fontinactive:function(e,t){console.warn("font error2 "+e+" and "+t)}})})},getFont:function(e){var i=e,n=e;return f().then(function(e){return e.sparkfonts[i]?{subgroup:e.sparkfonts[i]}:(d||(d={},t.each(e.sparkfonts,function(e,i){t.each(e.faces,function(n){d[n.lookupKey]={subgroup:t.extend({},e,{name:i}),face:n}})})),d[n])})},fontArrayByFace:function(e){var i={};return t.each(e,function(e){i[e.postScriptName]=g(e)}),i},injectKit:m,convertPostFaceToJSON:g,getFontNormalized:function(e,t){var i=0;if(t){var n=600/t.capHeight*(.85/t.ascentDescentRatio)/t.capRatio;if(i=10*t.descentRatio,t.nameHeight){var r=t.nameHeight/180;n<1&&r<1?n=Math.max(r,n):(n>3||n<.5&&r>1)&&(n=r)}e=Math.round(100*n*e)/100}return{size:e,vshift:i}},cssName:function(e){return e?(0===(e=e.replace(/ /g,"-")).charAt(0).search(/[0-9]/)&&(e="css-name-"+e),e=e.replace(/[^A-z\-\_0-9]/g,"").toLowerCase()):e=r.v4(),e},checkProvidedFonts:function(e){var t="/fonts/toua-check/"+window.encodeURIComponent(e.join(",")),i=n.defer();return a.ajax({type:"GET",url:t,headers:{"x-api-key":o.key}}).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},providedFont:function(e){var t="/fonts/toua/"+window.encodeURIComponent(e),i=n.defer();return a.ajax({type:"GET",url:t,headers:{"x-api-key":o.key}}).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n,r;n=[i(0),i(65),i(1),i(45),i(13),i(4)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(n.extend({_createDoc:function(e){var t=this;t.currentDoc=null,t.launchConfig=e,t._docReadyDefer=Q.defer(),t.initPromise.then(function(i){o.setCurrentProjectId(e.assetId),e.projectContext&&t._saveLaunchConfigSession(e.projectContext),marvel.events.trigger("verify-email");var n=e.assetId?null:{};t.creationDefer.resolve(n)}).catch(function(e){this.initSyncGroup(),t.creationDefer.reject(e),dbg.error("app-storage::_createDoc",e)}.bind(this)).done()},setRealDoc:function(e){r.setSyncMode(r.MODE_EDITOR,e),this.currentDoc=e,this._docReadyDefer.resolve(e),t.isFunction(this._setProjectContexts)&&this._setProjectContexts(e,{projectContext:this._getAndClearLaunchConfigFromSession()})},ensureDoc:function(){return this._docReadyDefer.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(24),i(17),i(8)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s={defaultAltText:"Click to download Spark {{productName}} in the iTunes App Store",defaultGooglePlayAltText:"Click to download Spark {{productName}} on Google Play",appStoreUrl:"https://c00.adobe.com/v3/{{id}}/start?a_i_id={{aiId}}&a_dd=i&ctxa.referrer.campaign.name=Spark+Home+{{productName}}&ctxa.referrer.campaign.trackingcode={{trackingCode}}&ctxa.referrer.campaign.source=Spark+Home+{{productName}}&ctxa.referrer.campaign.medium=Banner",apps:[{id:"post",appStore:{id:"9c5f8efbfd205eb5ababce6d862135839de6e5ed55a3d0034475b7bee0ff552c",aiId:"1051937863",trackingCode:"votknbon",productName:"Spark Post"},googlePlay:{id:"fb91a0f30baf6ec5d01a35404158c976fb5e9ac375dbc0c53be9f75ffd28bea0",aiId:"1051937863",trackingCode:"votknbon",productName:"Spark Post",googlePlayUrl:{upgradeView:"https://play.google.com/store/apps/details?id=com.adobe.spark.post&referrer=utm_source%3DPricing%2520Page"}},productName:"Spark Post",downloadForTag:a.getString("platform-utils-post-app-desc")},{id:"page",appStore:{id:"2c18a4dd7ed9e6bff783299fe0861806c9f14220edc8b0d08d613ccb7b9cae6c",aiId:"968433730",trackingCode:"kpv6s5k2",productName:"Spark Page"},productName:"Spark Page",downloadForTag:a.getString("platform-utils-page-app-desc")},{id:"video",appStore:{id:"0b7e67fa41f6b592f2d606c22f107ce856db905f9d8ff39637f4a156e11890bf",aiId:"852555131",trackingCode:"j0qyxypf",productName:"Spark Video"},productName:"Spark Video",downloadForTag:a.getString("platform-utils-video-app-desc")}]};return new(i.Model.extend({initialize:function(){t.bindAll(this,t.functionsIn(this)),this._platformInfo=this.getPlatformInfo();var i=e(document.body);i.one("touchstart.platformutils",this._touchDetect.bind(this)),i.one("wheel.platformutils",this._wheelDetect.bind(this))},_wheelDetect:function(t){!this._platformInfo.supportsTrackScrollH&&t.originalEvent.deltaX&&(this._platformInfo.userHasTrackpad=!0,this._platformInfo.supportsTrackScrollH=!0,this._platformInfo.cssString+=" supports-track-scroll-h",marvel.events.trigger("platformUtils:detected-support-track-scroll-h",this._platformInfo)),!this._platformInfo.supportsTrackScrollV&&t.originalEvent.deltaY&&(this._platformInfo.userHasTrackpad=!0,this._platformInfo.supportsTrackScrollV=!0,this._platformInfo.cssString+=" supports-track-scroll-v",marvel.events.trigger("platformUtils:detected-support-track-scroll-v",this._platformInfo)),this._platformInfo.supportsTrackScrollH&&this._platformInfo.supportsTrackScrollV||e(document.body).one("wheel.platformutils",this._wheelDetect.bind(this))},_touchDetect:function(t){this._platformInfo.userHasTouchedOnDesktop=!0,this._platformInfo.supportsTouch=!0,this._platformInfo.cssString+=" supports-touch",e(document.body).off("touchstart.platformutils",this._touchDetect.bind(this)),marvel.events.trigger("platformUtils:detected-support-touch",this._platformInfo)},isMobile:function(){return!this._platformInfo.desktop},_platformInfo:{},getPlatformInfo:function(e){return e=e||window.navigator.userAgent,this._platformInfo.userAgent===e?this._platformInfo:this._platformFromUserAgent(e)},_platformFromUserAgent:function(e){var t=e,i={iOS:!1,iPhone:!1,iPad:!1,android:!1,nonIosOrAndroidMobile:!1,androidOrIos:!1,desktop:!1,tablet:!1,phone:!1,userAgent:e};return/like Mac OS X/.test(t)?(i.iOS=/CPU( iPhone)? OS ([0-9\._]+) like Mac OS X/.exec(t)[2].replace(/_/g,"."),i.iPhone=/iPhone/.test(t),i.iPad=/iPad/.test(t),i.tablet=i.iPad,i.phone=i.iPhone):/Android/.test(t)?(i.android=!0,/Mobi/.test(t)?i.phone=!0:i.tablet=!0):/Mobi/.test(t)?(i.nonIosOrAndroidMobile=!0,i.phone=!0):i.desktop=!0,i.desktop?i.cssString="desktop":(i.iOS?i.iPhone?i.cssString="ios iphone":i.cssString="ios ipad":i.android?i.cssString="non-ios-mobile android":i.nonIosOrAndroidMobile&&(i.cssString="non-ios-mobile"),i.tablet?i.cssString+=" tablet":i.cssString+=" phone"),i.desktop||(i.androidOrIos=i.android||i.iOS,i.supportsTouch=!0,i.cssString+=" supports-touch",i.supportsTrackScrollH=!0,i.cssString+=" supports-track-scroll-h supports-track-scroll-v"),i.apps=this.getAppsData(),i},getAppsData:function(){var e=t.cloneDeep(s.apps),i={};return t.each(e,function(e){i[e.id]=e,e[e.id]=!0,e.appStoreUrl=o.to_html(s.appStoreUrl,e.appStore),e.downloadAlt=o.to_html(s.defaultAltText,e.appStore),e.googlePlay&&(e.googlePlayUrl=e.googlePlay.googlePlayUrl,e.googlePlayDownloadAlt=o.to_html(s.defaultGooglePlayAltText,e.googlePlay))}),i.inOrder=e,i},checkAppBrowserSupport:function(e){return"string"==typeof e&&(e=r.getAppByType(e)),e.isBrowserSupported()?n(!0):e.handleBrowserUnsupported().then(function(){return n(!1)})}}))}.apply(t,n))||(e.exports=r)},function(e,t){function i(t,n){return e.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){var n=i(351)("wks"),r=i(273),o=i(42).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=n},function(e,t,i){"use strict";var n=i(257),r=i(475),o=i(363),a=i(778),s=i(338);function l(e){return e}function c(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}t.newBlob=function(e,i){t.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,i){var n=[],r=0,o=e.length;if(o<=i)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+i,o)))):n.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+i,o)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var i=65536,n=t.getTypeOf(e),r=!0;if("uint8array"===n?r=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=d.applyCanBeUsed.nodebuffer),r)for(;i>1;)try{return d.stringifyByChunk(e,n,i)}catch(e){i=Math.floor(i/2)}return d.stringifyByChar(e)}function h(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}t.applyFromCharCode=u;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},p.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,i){if(i||(i=""),!e)return i;t.checkSupport(e);var n=t.getTypeOf(i);return p[n][e](i)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},t.delay=function(e,t,i){a(function(){e.apply(i||null,t||[])})},t.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},t.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},t.prepareContent=function(e,i,o,a,l){return s.Promise.resolve(i).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(i){var d=t.getTypeOf(i);return d?("arraybuffer"===d?i=t.transformTo("uint8array",i):"string"===d&&(l?i=r.decode(i):o&&!0!==a&&(i=function(e){return c(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(i))),i):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t,i){(function(t,i,n){e.exports=function(){var e,r,o;return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return r(i||e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function i(e){var i=new t(e),n=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),n}e.any=function(e){return i(e)},e.prototype.any=function(){return i(this)}}},{}],2:[function(e,i,n){"use strict";var r;try{throw new Error}catch(e){r=e}var o=e("./schedule"),a=e("./queue"),s=e("./util");function l(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function c(e,t,i){this._lateQueue.push(e,t,i),this._queueTick()}function d(e,t,i){this._normalQueue.push(e,t,i),this._queueTick()}function u(e){this._normalQueue._pushOne(e),this._queueTick()}l.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},l.prototype.hasCustomScheduler=function(){return this._customScheduler},l.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},l.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},l.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},l.prototype.fatalError=function(e,i){i?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},l.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(l.prototype.invokeLater=function(e,t,i){this._trampolineEnabled?c.call(this,e,t,i):this._schedule(function(){setTimeout(function(){e.call(t,i)},100)})},l.prototype.invoke=function(e,t,i){this._trampolineEnabled?d.call(this,e,t,i):this._schedule(function(){e.call(t,i)})},l.prototype.settlePromises=function(e){this._trampolineEnabled?u.call(this,e):this._schedule(function(){e._settlePromises()})}):(l.prototype.invokeLater=c,l.prototype.invoke=d,l.prototype.settlePromises=u),l.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var i=e.shift(),n=e.shift();t.call(i,n)}else t._settlePromises()}},l.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},l.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},l.prototype._reset=function(){this._isTickUsed=!1},i.exports=l,i.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var c=i(o),d=new e(t);d._propagateFrom(this,1);var u=this._target();if(d._setBoundTo(c),c instanceof e){var h={promiseRejectionQueued:!1,promise:d,target:u,bindingPromise:c};u._then(t,a,void 0,d,h),c._then(s,l,void 0,d,h),d._setOnCancel(c)}else d._resolveCallback(u);return d},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,i){return e.resolve(i).bind(t)}}},{}],4:[function(e,t,i){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=n)}catch(e){}return r},t.exports=r},{"./promise":22}],5:[function(e,t,i){"use strict";var n=Object.create;if(n){var r=n(null),o=n(null);r[" size"]=o[" size"]=0}t.exports=function(t){var i=e("./util"),n=i.canEvaluate;function r(e){var n=this.pop(),r=function(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var o="Object "+i.classString(e)+" has no method '"+i.toString(n)+"'";throw new t.TypeError(o)}return r}(e,n);return r.apply(e,this)}function o(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}i.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,i="number"==typeof e;if(i)t=a;else if(n){var r=(void 0)(e);t=null!==r?r:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,i){"use strict";t.exports=function(t,i,n,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var i=e._cancellationParent;if(null==i||!i._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=i}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var i=0;i<e.length;++i)this._doInvokeOnCancel(e[i],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=a(e).call(this._boundValue());n===s&&(this._attachExtraTrace(n.e),l.throwLater(n.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){"use strict";t.exports=function(t){var i=e("./util"),n=e("./es5").keys,r=i.tryCatch,o=i.errorObj;return function(e,a,s){return function(l){var c=s._boundValue();e:for(var d=0;d<e.length;++d){var u=e[d];if(u===Error||null!=u&&u.prototype instanceof Error){if(l instanceof u)return r(a).call(c,l)}else if("function"==typeof u){var h=r(u).call(c,l);if(h===o)return h;if(h)return r(a).call(c,l)}else if(i.isObject(l)){for(var p=n(u),f=0;f<p.length;++f){var g=p[f];if(u[g]!=l[g])continue e}return r(a).call(c,l)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,i){"use strict";t.exports=function(e){var t=!1,i=[];function n(){this._trace=new n.CapturedTrace(r())}function r(){var e=i.length-1;if(e>=0)return i[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},n.CapturedTrace=null,n.create=function(){if(t)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var i=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,t=!1},t=!0,e.prototype._pushContext=n.prototype._pushContext,e.prototype._popContext=n.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},n}},{}],9:[function(e,i,n){"use strict";i.exports=function(i,n){var r,o,a,s=i._getDomain,l=i._async,c=e("./errors").Warning,d=e("./util"),u=d.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,m=null,v=!1,b=!(0==d.env("BLUEBIRD_DEBUG")),y=!(0==d.env("BLUEBIRD_WARNINGS")||!b&&!d.env("BLUEBIRD_WARNINGS")),w=!(0==d.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!d.env("BLUEBIRD_LONG_STACK_TRACES")),k=0!=d.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(y||!!d.env("BLUEBIRD_W_FORGOTTEN_RETURN"));i.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},i.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},i.prototype._notifyUnhandledRejectionIsHandled=function(){V("rejectionHandled",r,void 0,this)},i.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},i.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),V("unhandledRejection",o,e,this)}},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},i.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},i.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},i.prototype._warn=function(e,t,i){return O(e,t,i||this)},i.onPossiblyUnhandledRejection=function(e){var t=s();o="function"==typeof e?null===t?e:d.domainBind(t,e):void 0},i.onUnhandledRejectionHandled=function(e){var t=s();r="function"==typeof e?null===t?e:d.domainBind(t,e):void 0};var x=function(){};i.longStackTraces=function(){if(l.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!X.longStackTraces&&G()){var e=i.prototype._captureStackTrace,t=i.prototype._attachExtraTrace;X.longStackTraces=!0,x=function(){if(l.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");i.prototype._captureStackTrace=e,i.prototype._attachExtraTrace=t,n.deactivateLongStackTraces(),l.enableTrampoline(),X.longStackTraces=!1},i.prototype._captureStackTrace=j,i.prototype._attachExtraTrace=z,n.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},i.hasLongStackTraces=function(){return X.longStackTraces&&G()};var _=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return d.global.dispatchEvent(e),function(e,t){var i=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!d.global.dispatchEvent(i)}}if("function"==typeof Event){var e=new Event("CustomEvent");return d.global.dispatchEvent(e),function(e,t){var i=new Event(e.toLowerCase(),{cancelable:!0});return i.detail=t,!d.global.dispatchEvent(i)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),d.global.dispatchEvent(e),function(e,t){var i=document.createEvent("CustomEvent");return i.initCustomEvent(e.toLowerCase(),!1,!0,t),!d.global.dispatchEvent(i)}}catch(e){}return function(){return!1}}(),C=d.isNode?function(){return t.emit.apply(t,arguments)}:d.global?function(e){var t="on"+e.toLowerCase(),i=d.global[t];return!!i&&(i.apply(d.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function S(e,t){return{promise:t}}var T={promiseCreated:S,promiseFulfilled:S,promiseRejected:S,promiseResolved:S,promiseCancelled:S,promiseChained:function(e,t,i){return{promise:t,child:i}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,i){return{reason:t,promise:i}},rejectionHandled:S},M=function(e){var t=!1;try{t=C.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var i=!1;try{i=_(e,T[e].apply(null,arguments))}catch(e){l.throwLater(e),i=!0}return i||t};function I(){return!1}function D(e,t,i){var n=this;try{e(t,i,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+d.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function P(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?d.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function E(){return this._onCancelField}function A(e){this._onCancelField=e}function F(){this._cancellationParent=void 0,this._onCancelField=void 0}function L(e,t){if(0!=(1&t)){this._cancellationParent=e;var i=e._branchesRemainingToCancel;void 0===i&&(i=0),e._branchesRemainingToCancel=i+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}i.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?i.longStackTraces():!e.longStackTraces&&i.hasLongStackTraces()&&x()),"warnings"in e){var t=e.warnings;X.warnings=!!t,k=X.warnings,d.isObject(t)&&"wForgottenReturn"in t&&(k=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!X.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");i.prototype._clearCancellationData=F,i.prototype._propagateFrom=L,i.prototype._onCancel=E,i.prototype._setOnCancel=A,i.prototype._attachCancellationCallback=P,i.prototype._execute=D,N=L,X.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!X.monitoring?(X.monitoring=!0,i.prototype._fireEvent=M):!e.monitoring&&X.monitoring&&(X.monitoring=!1,i.prototype._fireEvent=I)),i},i.prototype._fireEvent=I,i.prototype._execute=function(e,t,i){try{e(t,i)}catch(e){return e}},i.prototype._onCancel=function(){},i.prototype._setOnCancel=function(e){},i.prototype._attachCancellationCallback=function(e){},i.prototype._captureStackTrace=function(){},i.prototype._attachExtraTrace=function(){},i.prototype._clearCancellationData=function(){},i.prototype._propagateFrom=function(e,t){};var N=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function R(){var e=this._boundTo;return void 0!==e&&e instanceof i?e.isFulfilled()?e.value():void 0:e}function j(){this._trace=new Y(this._peekContext())}function z(e,t){if(u(e)){var i=this._trace;if(void 0!==i&&t&&(i=i._parent),void 0!==i)i.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=U(e);d.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),d.notEnumerableProp(e,"__stackCleaned__",!0)}}}function O(e,t,n){if(X.warnings){var r,o=new c(e);if(t)n._attachExtraTrace(o);else if(X.longStackTraces&&(r=i._peekContext()))r.attachExtraTrace(o);else{var a=U(o);o.stack=a.message+"\n"+a.stack.join("\n")}M("warning",o)||$(o,"",!0)}}function B(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],r="    (No stack trace)"===n||g.test(n),o=r&&K(n);r&&!o&&(v&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function U(e){var t=e.stack,i=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),i=0;i<t.length;++i){var n=t[i];if("    (No stack trace)"===n||g.test(n))break}return i>0&&"SyntaxError"!=e.name&&(t=t.slice(i)),t}(e):["    (No stack trace)"],{message:i,stack:"SyntaxError"==e.name?t:B(t)}}function $(e,t,i){if("undefined"!=typeof console){var n;if(d.isObject(e)){var r=e.stack;n=t+m(r,e)}else n=t+String(e);"function"==typeof a?a(n,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function V(e,t,i,n){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(n):t(i,n))}catch(e){l.throwLater(e)}"unhandledRejection"===e?M(e,i,n)||r||$(i,"Unhandled rejection "):M(e,n)}function H(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():d.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var i=JSON.stringify(e);t=i}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function G(){return"function"==typeof Q}var K=function(){return!1},q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function W(e){var t=e.match(q);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function Y(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Q(this,Y),t>32&&this.uncycle()}d.inherits(Y,Error),n.CapturedTrace=Y,Y.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],i={},n=0,r=this;void 0!==r;++n)t.push(r),r=r._parent;for(var n=(e=this._length=n)-1;n>=0;--n){var o=t[n].stack;void 0===i[o]&&(i[o]=n)}for(var n=0;n<e;++n){var a=t[n].stack,s=i[a];if(void 0!==s&&s!==n){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var l=n>0?t[n-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,d=n-2;d>=0;--d)t[d]._length=c,c++;return}}}},Y.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=U(e),i=t.message,n=[t.stack],r=this;void 0!==r;)n.push(B(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],i=1;i<e.length;++i){for(var n=e[i],r=t.length-1,o=t[r],a=-1,s=n.length-1;s>=0;--s)if(n[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=n[s];if(t[r]!==l)break;t.pop(),r--}t=n}}(n),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(n),d.notEnumerableProp(e,"stack",function(e,t){for(var i=0;i<t.length-1;++i)t[i].push("From previous event:"),t[i]=t[i].join("\n");return i<t.length&&(t[i]=t[i].join("\n")),e+"\n"+t.join("\n")}(i,n)),d.notEnumerableProp(e,"__stackCleaned__",!0)}};var Q=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():H(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,g=e,m=t;var i=Error.captureStackTrace;return K=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,i(e,t),Error.stackTraceLimit-=6}}var n,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,m=t,v=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){n="stack"in e}return"stack"in r||!n||"number"!=typeof Error.stackTraceLimit?(m=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?H(t):t.toString()},null):(g=e,m=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(e){console.warn(e)},d.isNode&&t.stderr.isTTY?a=function(e,t){var i=t?"[33m":"[31m";console.warn(i+e+"[0m\n")}:d.isNode||"string"!=typeof(new Error).stack||(a=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var X={warnings:y,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&i.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return N},boundValueFunction:function(){return R},checkForgottenReturns:function(e,t,i,n,r){if(void 0===e&&null!==t&&k){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&n._bitField))return;i&&(i+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=B(s),c=l.length-1;c>=0;--c){var d=l[c];if(!p.test(d)){var u=d.match(f);u&&(o="at "+u[1]+":"+u[2]+":"+u[3]+" ");break}}if(l.length>0)for(var h=l[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var g="a promise was created in a "+i+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;n._warn(g,!0,t)}},setBounds:function(e,t){if(G()){for(var i,n,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<r.length;++l){var c=W(r[l]);if(c){i=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=W(o[l]);if(c){n=c.fileName,s=c.line;break}}a<0||s<0||!i||!n||i!==n||a>=s||(K=function(e){if(h.test(e))return!0;var t=W(e);return!!(t&&t.fileName===i&&a<=t.line&&t.line<=s)})}},warn:O,deprecated:function(e,t){var i=e+" is deprecated and will be removed in a future version.";return t&&(i+=" Use "+t+" instead."),O(i)},CapturedTrace:Y,fireDomEvent:_,fireGlobalEvent:C}}},{"./errors":12,"./util":36}],10:[function(e,t,i){"use strict";t.exports=function(e){function t(){return this.value}function i(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(i){return i instanceof e&&i.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:i},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(i,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof e&&i.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:i},void 0);var n=arguments[1];return n instanceof e&&n.suppressUnhandledRejections(),this.caught(i,function(){return n})}}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.reduce,n=e.all;function r(){return n(this)}e.prototype.each=function(e){return i(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,n){return i(e,n,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return i(e,n,t,t)}}},{}],12:[function(e,t,i){"use strict";var n,r,o=e("./es5"),a=o.freeze,s=e("./util"),l=s.inherits,c=s.notEnumerableProp;function d(e,t){function i(n){if(!(this instanceof i))return new i(n);c(this,"message","string"==typeof n?n:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(i,Error),i}var u=d("Warning","warning"),h=d("CancellationError","cancellation error"),p=d("TimeoutError","timeout error"),f=d("AggregateError","aggregate error");try{n=TypeError,r=RangeError}catch(e){n=d("TypeError","type error"),r=d("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(f.prototype[g[m]]=Array.prototype[g[m]]);o.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;function b(e){if(!(this instanceof b))return new b(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var i=0;i<this.length;++i){for(var n=this[i]===this?"[Circular AggregateError]":this[i]+"",r=n.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];n=r.join("\n"),t+=n+"\n"}return v--,t},l(b,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:h,TimeoutError:p,OperationalError:b,RejectionError:b,AggregateError:f}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:n,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:u}},{"./es5":13,"./util":36}],13:[function(e,t,i){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!(i&&!i.writable&&!i.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var i in e)r.call(e,i)&&t.push(i);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,i){return e[t]=i.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.map;e.prototype.filter=function(e,n){return i(this,e,n,t)},e.filter=function(e,n,r){return i(e,n,r,t)}}},{}],15:[function(e,t,i){"use strict";t.exports=function(t,i,n){var r=e("./util"),o=t.CancellationError,a=r.errorObj,s=e("./catch_filter")(n);function l(e,t,i){this.promise=e,this.type=t,this.handler=i,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function d(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function u(){return p.call(this,this.promise._target()._settledValue())}function h(e){if(!d(this,e))return a.e=e,a}function p(e){var r=this.promise,s=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?s.call(r._boundValue()):s.call(r._boundValue(),e);if(l===n)return l;if(void 0!==l){r._setReturnedNonUndefined();var p=i(l,r);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var f=new o("late cancellation observer");return r._attachExtraTrace(f),a.e=f,a}p.isPending()&&p._attachCancellationCallback(new c(this))}return p._then(u,h,void 0,this,void 0)}}}return r.isRejected()?(d(this),a.e=e,a):(d(this),e)}return l.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){d(this.finallyHandler)},t.prototype._passThrough=function(e,t,i,n){return"function"!=typeof e?this.then():this._then(i,n,void 0,new l(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,p,p)},t.prototype.tap=function(e){return this._passThrough(e,1,p)},t.prototype.tapCatch=function(e){var i=arguments.length;if(1===i)return this._passThrough(e,1,void 0,p);var n,o=new Array(i-1),a=0;for(n=0;n<i-1;++n){var l=arguments[n];if(!r.isObject(l))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+r.classString(l)));o[a++]=l}o.length=a;var c=arguments[n];return this._passThrough(s(o,c,this),1,void 0,p)},l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o,a){var s=e("./errors"),l=s.TypeError,c=e("./util"),d=c.errorObj,u=c.tryCatch,h=[];function p(e,i,r,o){if(a.cancellation()){var s=new t(n),l=this._finallyPromise=new t(n);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new t(n);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=i,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,o),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,i=void 0!==this._generator.return;if(i)this._promise._pushContext(),e=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=u(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=u(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=u(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(e){var i=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?i.cancel():i._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?i.cancel():i._resolveCallback(n);var o=r(n,this._promise);if(o instanceof t||null!==(o=function(e,i,n){for(var o=0;o<i.length;++o){n._pushContext();var a=u(i[o])(e);if(n._popContext(),a===d){n._pushContext();var s=t.reject(d.e);return n._popContext(),s}var l=r(a,n);if(l instanceof t)return l}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=Object(t).yieldHandler,n=p,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new n(void 0,void 0,i,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+c.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new p(e,this),r=n.promise();return n._run(t.spawn),r}}},{"./errors":12,"./util":36}],17:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var r=new i(n).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o,a){var s=t._getDomain,l=e("./util"),c=l.tryCatch,d=l.errorObj,u=t._async;function h(e,t,i,n){this.constructor$(e),this._promise._captureStackTrace();var r=s();this._callback=null===r?t:l.domainBind(r,t),this._preservedValues=n===o?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}function p(e,i,r,o){if("function"!=typeof i)return n("expecting a function but got "+l.classString(i));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(r)));if("number"!=typeof r.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(r.concurrency)));a=r.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new h(e,i,a,o).promise()}l.inherits(h,i),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(e,i){var n=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(i<0){if(n[i=-1*i-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return n[i]=e,this._queue.push(i),!1;null!==s&&(s[i]=e);var u=this._promise,h=this._callback,p=u._boundValue();u._pushContext();var f=c(h).call(p,e,i,o),g=u._popContext();if(a.checkForgottenReturns(f,g,null!==s?"Promise.filter":"Promise.map",u),f===d)return this._reject(f.e),!0;var m=r(f,this._promise);if(m instanceof t){var v=(m=m._target())._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,n[i]=m,m._proxy(this,-1*(i+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);f=m._value()}n[i]=f}var b=++this._totalResolved;return b>=o&&(null!==s?this._filter(n,s):this._resolve(n),!0)},h.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,i=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(i[n],n)}},h.prototype._filter=function(e,t){for(var i=t.length,n=new Array(i),r=0,o=0;o<i;++o)e[o]&&(n[r++]=t[o]);n.length=r,this._resolve(n)},h.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return p(this,e,t,null)},t.map=function(e,t,i,n){return p(e,t,i,n)}}},{"./util":36}],19:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var n=new t(i);n._captureStackTrace(),n._pushContext();var r=s(e).apply(this,arguments),a=n._popContext();return o.checkForgottenReturns(r,a,"Promise.method",n),n._resolveFromSyncValue(r),n}},t.attempt=t.try=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var n,l=new t(i);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],d=arguments[2];n=a.isArray(c)?s(e).apply(d,c):s(e).call(d,c)}else n=s(e)();var u=l._popContext();return o.checkForgottenReturns(n,u,"Promise.try",l),l._resolveFromSyncValue(n),l},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,i){"use strict";var n=e("./util"),r=n.maybeWrapAsError,o=e("./errors"),a=o.OperationalError,s=e("./es5"),l=/^(?:name|message|stack|cause)$/;function c(e){var t;if(function(e){return e instanceof Error&&s.getPrototypeOf(e)===Error.prototype}(e)){(t=new a(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var i=s.keys(e),r=0;r<i.length;++r){var o=i[r];l.test(o)||(t[o]=e[o])}return t}return n.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(i,n){if(null!==e){if(i){var o=c(r(i));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(n);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){"use strict";t.exports=function(t){var i=e("./util"),n=t._async,r=i.tryCatch,o=i.errorObj;function a(e,t){if(!i.isArray(e))return s.call(this,e,t);var a=r(t).apply(this._boundValue(),[null].concat(e));a===o&&n.throwLater(a.e)}function s(e,t){var i=this._boundValue(),a=void 0===e?r(t).call(i,null):r(t).call(i,null,e);a===o&&n.throwLater(a.e)}function l(e,t){if(!e){var i=new Error(e+"");i.cause=e,e=i}var a=r(t).call(this._boundValue(),e);a===o&&n.throwLater(a.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var i=s;void 0!==t&&Object(t).spread&&(i=a),this._then(i,l,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,i,n){"use strict";i.exports=function(){var n=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new D.PromiseInspection(this._target())},o=function(e){return D.reject(new f(e))};function a(){}var s,l={},c=e("./util");s=c.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},c.notEnumerableProp(D,"_getDomain",s);var d=e("./es5"),u=e("./async"),h=new u;d.defineProperty(D,"_async",{value:h});var p=e("./errors"),f=D.TypeError=p.TypeError;D.RangeError=p.RangeError;var g=D.CancellationError=p.CancellationError;D.TimeoutError=p.TimeoutError,D.OperationalError=p.OperationalError,D.RejectionError=p.OperationalError,D.AggregateError=p.AggregateError;var m=function(){},v={},b={},y=e("./thenables")(D,m),w=e("./promise_array")(D,m,y,o,a),k=e("./context")(D),x=k.create,_=e("./debuggability")(D,k),C=(_.CapturedTrace,e("./finally")(D,y,b)),S=e("./catch_filter")(b),T=e("./nodeback"),M=c.errorObj,I=c.tryCatch;function D(e){e!==m&&function(e,t){if(null==e||e.constructor!==D)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new f("expecting a function but got "+c.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function P(e){this.promise._resolveCallback(e)}function E(e){this.promise._rejectCallback(e,!1)}function A(e){var t=new D(m);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,n=new Array(t-1),r=0;for(i=0;i<t-1;++i){var a=arguments[i];if(!c.isObject(a))return o("Catch statement predicate: expecting an object but got "+c.classString(a));n[r++]=a}return n.length=r,e=arguments[i],this.then(void 0,S(n,e,this))}return this.then(void 0,e)},D.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},D.prototype.then=function(e,t){if(_.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+c.classString(e);arguments.length>1&&(i+=", "+c.classString(t)),this._warn(i)}return this._then(e,t,void 0,void 0,void 0)},D.prototype.done=function(e,t){var i=this._then(e,t,void 0,void 0,void 0);i._setIsFinal()},D.prototype.spread=function(e){return"function"!=typeof e?o("expecting a function but got "+c.classString(e)):this.all()._then(e,void 0,void 0,v,void 0)},D.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},D.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},D.prototype.error=function(e){return this.caught(c.originatesFromRejection,e)},D.getNewLibraryCopy=i.exports,D.is=function(e){return e instanceof D},D.fromNode=D.fromCallback=function(e){var t=new D(m);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=I(e)(T(t,i));return n===M&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},D.all=function(e){return new w(e).promise()},D.cast=function(e){var t=y(e);return t instanceof D||((t=new D(m))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(e){var t=new D(m);return t._captureStackTrace(),t._rejectCallback(e,!0),t},D.setScheduler=function(e){if("function"!=typeof e)throw new f("expecting a function but got "+c.classString(e));return h.setScheduler(e)},D.prototype._then=function(e,t,i,n,r){var o=void 0!==r,a=o?r:new D(m),l=this._target(),d=l._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&d)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var u=s();if(0!=(50397184&d)){var p,f,v=l._settlePromiseCtx;0!=(33554432&d)?(f=l._rejectionHandler0,p=e):0!=(16777216&d)?(f=l._fulfillmentHandler0,p=t,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,f=new g("late cancellation observer"),l._attachExtraTrace(f),p=t),h.invoke(v,l,{handler:null===u?p:"function"==typeof p&&c.domainBind(u,p),promise:a,receiver:n,value:f})}else l._addCallbacks(e,t,a,n,u);return a},D.prototype._length=function(){return 65535&this._bitField},D.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},D.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},D.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},D.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},D.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},D.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},D.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},D.prototype._isFinal=function(){return(4194304&this._bitField)>0},D.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},D.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},D.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},D.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},D.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==l)return void 0===t&&this._isBound()?this._boundValue():t},D.prototype._promiseAt=function(e){return this[4*e-4+2]},D.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},D.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},D.prototype._boundValue=function(){},D.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,i=e._rejectionHandler0,n=e._promise0,r=e._receiverAt(0);void 0===r&&(r=l),this._addCallbacks(t,i,n,r,null)},D.prototype._migrateCallbackAt=function(e,t){var i=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=l),this._addCallbacks(i,n,r,o,null)},D.prototype._addCallbacks=function(e,t,i,n,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=i,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:c.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:c.domainBind(r,t));else{var a=4*o-4;this[a+2]=i,this[a+3]=n,"function"==typeof e&&(this[a+0]=null===r?e:c.domainBind(r,e)),"function"==typeof t&&(this[a+1]=null===r?t:c.domainBind(r,t))}return this._setLength(o+1),o},D.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},D.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(n(),!1);var i=y(e,this);if(!(i instanceof D))return this._fulfill(e);t&&this._propagateFrom(i,2);var r=i._target();if(r!==this){var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var l=new g("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}else this._reject(n())}},D.prototype._rejectCallback=function(e,t,i){var n=c.ensureErrorObject(e),r=n===e;if(!r&&!i&&_.warnings()){var o="a promise was rejected with a non-error: "+c.classString(e);this._warn(o,!0)}this._attachExtraTrace(n,!!t&&r),this._reject(e)},D.prototype._resolveFromExecutor=function(e){if(e!==m){var t=this;this._captureStackTrace(),this._pushContext();var i=!0,n=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,i)});i=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)}},D.prototype._settlePromiseFromHandler=function(e,t,i,n){var r=n._bitField;if(0==(65536&r)){var o;n._pushContext(),t===v?i&&"number"==typeof i.length?o=I(e).apply(this._boundValue(),i):(o=M).e=new f("cannot .spread() a non-array: "+c.classString(i)):o=I(e).call(t,i);var a=n._popContext();0==(65536&(r=n._bitField))&&(o===b?n._reject(i):o===M?n._rejectCallback(o.e,!1):(_.checkForgottenReturns(o,a,"",n,this),n._resolveCallback(o)))}},D.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},D.prototype._followee=function(){return this._rejectionHandler0},D.prototype._setFollowee=function(e){this._rejectionHandler0=e},D.prototype._settlePromise=function(e,t,i,n){var o=e instanceof D,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),i instanceof C&&i.isFinallyHandler()?(i.cancelPromise=e,I(t).call(i,n)===M&&e._reject(M.e)):t===r?e._fulfill(r.call(i)):i instanceof a?i._promiseCancelled(e):o||e instanceof w?e._cancel():i.cancel()):"function"==typeof t?o?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,i,n,e)):t.call(i,n,e):i instanceof a?i._isResolved()||(0!=(33554432&s)?i._promiseFulfilled(n,e):i._promiseRejected(n,e)):o&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(n):e._reject(n))},D.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,n=e.receiver,r=e.value;"function"==typeof t?i instanceof D?this._settlePromiseFromHandler(t,n,r,i):t.call(n,r,i):i instanceof D&&i._reject(r)},D.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},D.prototype._settlePromise0=function(e,t,i){var n=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,r,t)},D.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},D.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var i=n();return this._attachExtraTrace(i),this._reject(i)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():h.settlePromises(this))}},D.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return h.fatalError(e,c.isNode);(65535&t)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},D.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var n=this._fulfillmentHandlerAt(i),r=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(r,n,o,t)}},D.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var n=this._rejectionHandlerAt(i),r=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(r,n,o,t)}},D.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var i=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,i,e),this._rejectPromises(t,i)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},D.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},D.defer=D.pending=function(){_.deprecated("Promise.defer","new Promise");var e=new D(m);return{promise:e,resolve:P,reject:E}},c.notEnumerableProp(D,"_makeSelfResolutionError",n),e("./method")(D,m,y,o,_),e("./bind")(D,m,y,_),e("./cancel")(D,w,o,_),e("./direct_resolve")(D),e("./synchronous_inspection")(D),e("./join")(D,w,y,m,h,s),D.Promise=D,D.version="3.5.1",e("./map.js")(D,w,o,y,m,_),e("./call_get.js")(D),e("./using.js")(D,o,y,x,m,_),e("./timers.js")(D,m,_),e("./generators.js")(D,o,m,y,a,_),e("./nodeify.js")(D),e("./promisify.js")(D,m),e("./props.js")(D,w,y,o),e("./race.js")(D,m,y,o),e("./reduce.js")(D,w,o,y,m,_),e("./settle.js")(D,w,_),e("./some.js")(D,w,o),e("./filter.js")(D,m),e("./each.js")(D,m),e("./any.js")(D),c.toFastProperties(D),c.toFastProperties(D.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new D(m)),_.setBounds(u.firstLineError,c.lastLineError),D}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o){var a=e("./util");function s(e){var n=this._promise=new t(i);e instanceof t&&n._propagateFrom(e,3),n._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(i,o){var s=n(this._values,this._promise);if(s instanceof t){var l=(s=s._target())._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var c=r("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(c,!1)}},s.prototype._iterate=function(e){var i=this.getActualLength(e.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<i;++s){var l=n(e[s],r);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var i=++this._totalResolved;return i>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var i=0;i<e.length;++i)e[i]instanceof t&&e[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,i){"use strict";t.exports=function(t,i){var n={},r=e("./util"),o=e("./nodeback"),a=r.withAppended,s=r.maybeWrapAsError,l=r.canEvaluate,c=e("./errors").TypeError,d={__isPromisified__:!0},u=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return r.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function p(e){return!u.test(e)}function f(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function g(e,t,i){var n=r.getDataPropertyOrDefault(e,t+i,d);return!!n&&f(n)}function m(e,t,i,n){for(var o=r.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var l=o[s],d=e[l],u=n===h||h(l,d,e);"function"!=typeof d||f(d)||g(e,l,t)||!n(l,d,e,u)||a.push(l,d)}return function(e,t,i){for(var n=0;n<e.length;n+=2){var r=e[n];if(i.test(r))for(var o=r.replace(i,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,i),a}var v=function(e){return e.replace(/([$])/,"\\$")},b=l?void 0:function(e,l,c,d,u,h){var p=function(){return this}(),f=e;function g(){var r=l;l===n&&(r=this);var c=new t(i);c._captureStackTrace();var d="string"==typeof f&&this!==p?this[f]:e,u=o(c,h);try{d.apply(r,a(arguments,u))}catch(e){c._rejectCallback(s(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof f&&(e=d),r.notEnumerableProp(g,"__isPromisified__",!0),g};function y(e,t,i,o,a){for(var s=new RegExp(v(t)+"$"),l=m(e,t,s,i),c=0,d=l.length;c<d;c+=2){var u=l[c],h=l[c+1],p=u+t;if(o===b)e[p]=b(u,n,u,h,t,a);else{var f=o(h,function(){return b(u,n,u,h,t,a)});r.notEnumerableProp(f,"__isPromisified__",!0),e[p]=f}}return r.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new c("expecting a function but got "+r.classString(e));if(f(e))return e;var i=void 0===(t=Object(t)).context?n:t.context,o=!!t.multiArgs,a=function(e,t,i){return b(e,t,void 0,e,null,i)}(e,i,o);return r.copyDescriptors(e,a,p),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(t=Object(t)).multiArgs,n=t.suffix;"string"!=typeof n&&(n="Async");var o=t.filter;"function"!=typeof o&&(o=h);var a=t.promisifier;if("function"!=typeof a&&(a=b),!r.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=r.inheritedDataKeys(e),l=0;l<s.length;++l){var d=e[s[l]];"constructor"!==s[l]&&r.isClass(d)&&(y(d.prototype,n,o,a,i),y(d,n,o,a,i))}return y(e,n,o,a,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){"use strict";t.exports=function(t,i,n,r){var o,a=e("./util"),s=a.isObject,l=e("./es5");"function"==typeof Map&&(o=Map);var c=function(){var e=0,t=0;function i(i,n){this[e]=i,this[e+t]=n,e++}return function(n){t=n.size,e=0;var r=new Array(2*n.size);return n.forEach(i,r),r}}();function d(e){var t,i=!1;if(void 0!==o&&e instanceof o)t=c(e),i=!0;else{var n=l.keys(e),r=n.length;t=new Array(2*r);for(var a=0;a<r;++a){var s=n[a];t[a]=e[s],t[a+r]=s}}this.constructor$(t),this._isMap=i,this._init$(void 0,i?-6:-3)}function u(e){var i,o=n(e);return s(o)?(i=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new d(o).promise(),o instanceof t&&i._propagateFrom(o,2),i):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(d,i),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var i=++this._totalResolved;if(i>=this._length){var n;if(this._isMap)n=function(e){for(var t=new o,i=e.length/2|0,n=0;n<i;++n){var r=e[i+n],a=e[n];t.set(r,a)}return t}(this._values);else{n={};for(var r=this.length(),a=0,s=this.length();a<s;++a)n[this._values[a+r]]=this._values[a]}return this._resolve(n),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return u(this)},t.props=function(e){return u(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){"use strict";function n(e){this._capacity=e,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(e){return this._capacity<e},n.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var i=this._front+t&this._capacity-1;this[i]=e,this._length=t+1},n.prototype.push=function(e,t,i){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(i);var r=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=i,this._length=n},n.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var i=this._front,n=this._length,r=i+n&t-1;!function(e,t,i,n,r){for(var o=0;o<r;++o)i[o+n]=e[o+t],e[o+t]=void 0}(this,0,this,t,r)},t.exports=n},{}],27:[function(e,t,i){"use strict";t.exports=function(t,i,n,r){var o=e("./util"),a=function(e){return e.then(function(t){return s(t,e)})};function s(e,s){var l=n(e);if(l instanceof t)return a(l);if(null===(e=o.asArray(e)))return r("expecting an array or an iterable object but got "+o.classString(e));var c=new t(i);void 0!==s&&c._propagateFrom(s,3);for(var d=c._fulfill,u=c._reject,h=0,p=e.length;h<p;++h){var f=e[h];(void 0!==f||h in e)&&t.cast(f)._then(d,u,void 0,c,null)}return c}t.race=function(e){return s(e,void 0)},t.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o,a){var s=t._getDomain,l=e("./util"),c=l.tryCatch;function d(e,i,n,r){this.constructor$(e);var a=s();this._fn=null===a?i:l.domainBind(a,i),void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=r===o?Array(this._length):0===r?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function h(e,t,i,r){if("function"!=typeof t)return n("expecting a function but got "+l.classString(t));var o=new d(e,t,i,r);return o.promise()}function p(e){this.accum=e,this.array._gotAccum(e);var i=r(this.value,this.array._promise);return i instanceof t?(this.array._currentCancellable=i,i._then(f,void 0,void 0,this,void 0)):f.call(this,i)}function f(e){var i,n=this.array,r=n._promise,o=c(n._fn);r._pushContext(),(i=void 0!==n._eachValues?o.call(r._boundValue(),e,this.index,this.length):o.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=i);var s=r._popContext();return a.checkForgottenReturns(i,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),i}l.inherits(d,i),d.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},d.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},d.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},d.prototype._iterate=function(e){var i,n;this._values=e;var r=e.length;if(void 0!==this._initialValue?(i=this._initialValue,n=0):(i=t.resolve(e[0]),n=1),this._currentCancellable=i,!i.isRejected())for(;n<r;++n){var o={accum:null,value:e[n],index:n,length:r,array:this};i=i._then(p,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(i=i._then(this._eachComplete,void 0,void 0,this,void 0)),i._then(u,u,void 0,i,this)},t.prototype.reduce=function(e,t){return h(this,e,t,null)},t.reduce=function(e,t,i,n){return h(e,t,i,n)}}},{"./util":36}],29:[function(e,r,o){"use strict";var a,s=e("./util"),l=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=i.setImmediate,d=t.nextTick;a=s.isRecentNode?function(e){c.call(i,e)}:function(e){d.call(t,e)}}else if("function"==typeof l&&"function"==typeof l.resolve){var u=l.resolve();a=function(e){u.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==n?function(e){n(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},i=!1,n=document.createElement("div"),r=new MutationObserver(function(){e.classList.toggle("foo"),i=!1});return r.observe(n,t),function(r){var o=new MutationObserver(function(){o.disconnect(),r()});o.observe(e,t),i||(i=!0,n.classList.toggle("foo"))}}();r.exports=a},{"./util":36}],30:[function(e,t,i){"use strict";t.exports=function(t,i,n){var r=t.PromiseInspection,o=e("./util");function a(e){this.constructor$(e)}o.inherits(a,i),a.prototype._promiseResolved=function(e,t){this._values[e]=t;var i=++this._totalResolved;return i>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(e,t){var i=new r;return i._bitField=33554432,i._settledValueField=e,this._promiseResolved(t,i)},a.prototype._promiseRejected=function(e,t){var i=new r;return i._bitField=16777216,i._settledValueField=e,this._promiseResolved(t,i)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new a(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,i){"use strict";t.exports=function(t,i,n){var r=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=r.isArray,l={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function d(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(e),r=i.promise();return i.setHowMany(t),i.init(),r}r.inherits(c,i),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return d(e,t)},t.prototype.some=function(e){return d(this,e)},t._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(e,t,i){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var i=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return i.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,i){"use strict";t.exports=function(t,i){var n=e("./util"),r=n.errorObj,o=n.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var l=function(e){try{return function(e){return e.then}(e)}catch(e){return r.e=e,r}}(e);if(l===r){s&&s._pushContext();var c=t.reject(l.e);return s&&s._popContext(),c}if("function"==typeof l){if(function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(e)){var c=new t(i);return e._then(c._fulfill,c._reject,void 0,c,null),c}return function(e,o,a){var s=new t(i),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,d=n.tryCatch(o).call(e,function(e){s&&(s._resolveCallback(e),s=null)},function(e){s&&(s._rejectCallback(e,c,!0),s=null)});return c=!1,s&&d===r&&(s._rejectCallback(d.e,!0,!0),s=null),l}(e,l,s)}}return e}}},{"./util":36}],34:[function(e,t,i){"use strict";t.exports=function(t,i,n){var r=e("./util"),o=t.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,r){var o,l;return void 0!==r?(o=t.resolve(r)._then(s,null,null,e,void 0),n.cancellation()&&r instanceof t&&o._setOnCancel(r)):(o=new t(i),l=setTimeout(function(){o._fulfill()},+e),n.cancellation()&&o._setOnCancel(new a(l)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function c(e){return clearTimeout(this.handle),e}function d(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return l(e,this)},t.prototype.timeout=function(e,t){var i,s;e=+e;var l=new a(setTimeout(function(){i.isPending()&&function(e,t,i){var n;n="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),r.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._reject(n),null!=i&&i.cancel()}(i,t,s)},e));return n.cancellation()?(s=this.then(),(i=s._then(c,d,void 0,l,void 0))._setOnCancel(l)):i=this._then(c,d,void 0,l,void 0),i}}},{"./util":36}],35:[function(e,t,i){"use strict";t.exports=function(t,i,n,r,o,a){var s=e("./util"),l=e("./errors").TypeError,c=e("./util").inherits,d=s.errorObj,u=s.tryCatch,h={};function p(e){setTimeout(function(){throw e},0)}function f(e,i){var r=0,a=e.length,s=new t(o);return function o(){if(r>=a)return s._fulfill();var l=function(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[r++]);if(l instanceof t&&l._isDisposable()){try{l=n(l._getDisposer().tryDispose(i),e.promise)}catch(e){return p(e)}if(l instanceof t)return l._then(o,p,null,null,null)}o()}(),s}function g(e,t,i){this._data=e,this._promise=t,this._context=i}function m(e,t,i){this.constructor$(e,t,i)}function v(e){return g.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function b(e){this.length=e,this.promise=null,this[e-1]=null}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},g.prototype.tryDispose=function(e){var t=this.resource(),i=this._context;void 0!==i&&i._pushContext();var n=t!==h?this.doDispose(t,e):null;return void 0!==i&&i._popContext(),this._promise._unsetDisposable(),this._data=null,n},g.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(m,g),m.prototype.doDispose=function(e,t){var i=this.data();return i.call(e,e,t)},b.prototype._resultCancelled=function(){for(var e=this.length,i=0;i<e;++i){var n=this[i];n instanceof t&&n.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return i("you must pass at least 2 arguments to Promise.using");var r,o=arguments[e-1];if("function"!=typeof o)return i("expecting a function but got "+s.classString(o));var l=!0;2===e&&Array.isArray(arguments[0])?(r=arguments[0],e=r.length,l=!1):(r=arguments,e--);for(var c=new b(e),h=0;h<e;++h){var p=r[h];if(g.isDisposer(p)){var m=p;(p=p.promise())._setDisposable(m)}else{var y=n(p);y instanceof t&&(p=y._then(v,null,null,{resources:c,index:h},void 0))}c[h]=p}for(var w=new Array(c.length),h=0;h<w.length;++h)w[h]=t.resolve(c[h]).reflect();var k=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var i=e[t];if(i.isRejected())return d.e=i.error(),d;if(!i.isFulfilled())return void k.cancel();e[t]=i.value()}x._pushContext(),o=u(o);var n=l?o.apply(void 0,e):o(e),r=x._popContext();return a.checkForgottenReturns(n,r,"Promise.using",x),n}),x=k.lastly(function(){var e=new t.PromiseInspection(k);return f(c,e)});return c.promise=x,x._setOnCancel(c),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new m(e,this,r());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,n,r){"use strict";var o=e("./es5"),a="undefined"==typeof navigator,s={e:{}},l,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:void 0!==this?this:null;function d(){try{var e=l;return l=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function u(e){return l=e,d}var h=function(e,t){var i={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function p(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function f(e){return"function"==typeof e||"object"==typeof e&&null!==e}function g(e){return p(e)?new Error(M(e)):e}function m(e,t){var i,n=e.length,r=new Array(n+1);for(i=0;i<n;++i)r[i]=e[i];return r[i]=t,r}function v(e,t,i){if(!o.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var n=Object.getOwnPropertyDescriptor(e,t);return null!=n?null==n.get&&null==n.set?n.value:i:void 0}function b(e,t,i){if(p(e))return e;var n={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(e,t,n),e}function y(e){throw e}var w=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1};if(o.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var n=[],r=Object.create(null);null!=e&&!t(e);){var a;try{a=i(e)}catch(e){return n}for(var s=0;s<a.length;++s){var l=a[s];if(!r[l]){r[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&n.push(l)}}e=o.getPrototypeOf(e)}return n}}var n={}.hasOwnProperty;return function(i){if(t(i))return[];var r=[];e:for(var o in i)if(n.call(i,o))r.push(o);else{for(var a=0;a<e.length;++a)if(n.call(e[a],o))continue e;r.push(o)}return r}}(),k=/this\s*\.\s*\S+\s*=/;function x(e){try{if("function"==typeof e){var t=o.names(e.prototype),i=o.isES5&&t.length>1,n=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=k.test(e+"")&&o.names(e).length>0;if(i||n||r)return!0}return!1}catch(e){return!1}}function _(e){function t(){}t.prototype=e;for(var i=8;i--;)new t;return e}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(e){return C.test(e)}function T(e,t,i){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+i;return n}function M(e){try{return e+""}catch(e){return"[no string representation]"}}function I(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function D(e){try{b(e,"isOperational",!0)}catch(e){}}function P(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function E(e){return I(e)&&o.propertyIsWritable(e,"stack")}var A="stack"in new Error?function(e){return E(e)?e:new Error(M(e))}:function(e){if(E(e))return e;try{throw new Error(M(e))}catch(e){return e}};function F(e){return{}.toString.call(e)}function L(e,t,i){for(var n=o.names(e),r=0;r<n.length;++r){var a=n[r];if(i(a))try{o.defineProperty(t,a,o.getDescriptor(e,a))}catch(e){}}}var N=function(e){return o.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,i=[],n=e[Symbol.iterator]();!(t=n.next()).done;)i.push(t.value);return i};N=function(e){return o.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?R(e):null}}var j=void 0!==t&&"[object process]"===F(t).toLowerCase(),z=void 0!==t&&void 0!==t.env;function O(e){return z?t.env[e]:void 0}function B(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function U(e,t){return e.bind(t)}var $={isClass:x,isIdentifier:S,inheritedDataKeys:w,getDataPropertyOrDefault:v,thrower:y,isArray:o.isArray,asArray:N,notEnumerableProp:b,isPrimitive:p,isObject:f,isError:I,canEvaluate:a,errorObj:s,tryCatch:u,inherits:h,withAppended:m,maybeWrapAsError:g,toFastProperties:_,filledRange:T,toString:M,canAttachTrace:E,ensureErrorObject:A,originatesFromRejection:P,markAsOriginatingFromRejection:D,classString:F,copyDescriptors:L,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:j,hasEnvVariables:z,env:O,global:c,getNativePromise:B,domainBind:U};$.isRecentNode=$.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),$.isNode&&$.toFastProperties(t);try{throw new Error}catch(e){$.lastLineError=e}n.exports=$},{"./es5":13}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,i(18),i(9),i(67).setImmediate)},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(4),i(15),i(12),i(17),i(158)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return n.View.extend({events:{"click .ddv-dropdown-button":"handleDropdownButtonClick","click .ddv-dropdown-line":"handleDropdownLineClick","mousedown .ddv-dropdown-overlay":"handleDropdownOverlayClick","mousemove .ddv-dropdown-line":"handleLineMouseMove","mouseover .ddv-dropdown-line":"handleLineMouseOver","mouseout .ddv-dropdown-line":"handleLineMouseOut"},initialize:function(e,i,n){this.containerElement$=e,this.options=i||{},this._parentView=n,this._debouncer=t.debounce(this.scrollCapture,100).bind(this),t.bindAll(this,t.functionsIn(this)),l.indexOf('buttontext="" data-button-text={{.}} buttontext=""')>-1&&(l=l.replace('buttontext="" data-button-text={{.}} buttontext=""','{{#buttonText}} data-button-text="{{.}}"{{/buttonText}}')),this.options.analytics&&(this._trackData={dropdownName:i.analytics.dropdownName||"genericDropDown",pageName:i.analytics.pageName||"unknown"})},swallowEvent:function(e,t){e.stopPropagation(),e.preventDefault(),t&&(this._swallowNextKeyup=!0)},handleKeyUp:function(e){this._swallowNextKeyup&&(this.swallowEvent(e),this._swallowNextKeyup=!1)},handleKeyDown:function(e){var t;if(this.isShowing()){switch(e.keyCode){case o.DOM_VK_RETURN:case o.DOM_VK_ENTER:case o.DOM_VK_ESCAPE:this.swallowEvent(e,!0),e.keyCode!==o.DOM_VK_ESCAPE?(this._itemUnderMouse&&!this._arrowMove&&this._itemUnderMouse!==this.selectedItem&&this.setValueItem(this._itemUnderMouse),this.closeAndApply()):this.closeAndCancel(e.keyCode),a.ignoreNextKeyup()||this._parentView&&"function"==typeof this._parentView.ignoreNextKeyup&&this._parentView.ignoreNextKeyup();break;case o.DOM_VK_TAB:this.options.alwaysReset?this.closeAndCancel(e.keyCode):this.closeAndApply();break;case o.DOM_VK_UP:t=-1;break;case o.DOM_VK_DOWN:t=1;break;default:1===e.key.length&&this.setCharacterItem(e.key)&&this.swallowEvent(e)}if(t){this.swallowEvent(e);var i,n=-1;!this._arrowMove&&this._itemUnderMouse?n=this._itemUnderMouse.index:this.selectedItem&&(n=this.selectedItem.index),1===t?-1!==n?(i=n+1)===this.items.length&&(i=this.options.wrapArrows?0:this.items.length-1):i=0:-1!==n?-1===(i=n-1)&&(i=this.options.wrapArrows?this.items.length-1:0):i=this.items.length-1,this._arrowMove=!0,this.items$.addClass("arrow-nav"),this.setValueItem(this.items[i])}}else if(!a.isShowing()||this._parentView===a)switch(e.keyCode){case o.DOM_VK_UP:case o.DOM_VK_DOWN:this.swallowEvent(e),this.setDropdownShowing(!0)}},_setElemDisplay:function(e,t){(t=t||"").jquery?(e.html(""),e.append(t)):e.text(t)},setupItems:function(i,n,r){var o=-1;this.items=[],this.items$=n,this.charItemSets={},t.each(i,function(i){o++,this.items.push(i),t.isUndefined(i.value)&&(i.value=i.id),i.item$=e(n[o]),i.item$[0].item=i,i.index=o;var r=i.item$.text().charAt(0).toLowerCase(),a=this.charItemSets[r];a||(a=this.charItemSets[r]=[]),a.push(i)}.bind(this)),this.options.multiple?this._setupMultipleForDisplay():(this.setValueItem(r),this.multipleSettings=null)},getValue:function(){return this.selectedItem?this.selectedItem.value:null},setCharacterItem:function(e){e=e.toLowerCase();var t=this.charItemSets[e];if(t){var i=0;return t.length>1&&this.selectedItem&&((i=t.indexOf(this.selectedItem))>-1?++i===t.length&&(i=0):i=0),this.setValueItem(t[i]),!0}return!1},setValueItem:function(e){this.selectedItem&&this.selectedItem.item$.removeClass("selected"),this.selectedItem=e,this.selectedItem&&this.selectedItem.item$.addClass("selected"),this.options.alwaysReset||this.options.buttonDisplayControlledByCaller||this.setButtonDisplay()},setButtonDisplay:function(e){if(t.isUndefined(e))if(this.multipleSettings)e=this._getMultiButtonString();else if(this.selectedItem){e=this.selectedItem.item$.data("button-text")||this.selectedItem.buttonDisplay||this.selectedItem.name}else e=this.options.placeholderText||"";this._setElemDisplay(this.dropdownButtonText$,e)},setValue:function(e){var i=t.find(this.items,function(t){return t.value===e});this.setValueItem(i)},setValues:function(e){t.each(this.options.items,function(t){t.isSelected=-1!==e.indexOf(t.id)}),this.options.alwaysReset||this.options.buttonDisplayControlledByCaller||this.setButtonDisplay()},doClamps:function(t){this.dropdownBackground$.css("margin-top",0),this.dropdownBackground$.css("margin-left",0),this.dropdownBackground$.css("max-height","inherit"),this.dropdownBackground$.removeClass("center-vertical");var i=0,n=0,r=this.dropdownBackground$.css("height"),o=1*r.substring(0,r.length-2),a=e(window).height(),s=e(window).width(),l=Math.round(.01*s),c=Math.round(.01*a),d=a-2*c,u=this.dropdownBackground$[0].getBoundingClientRect(),h=this.alignTarget$[0].getBoundingClientRect(),p=h.bottom,f=h.left;u.top!==p&&(n=p-u.top,this.dropdownBackground$.css("margin-top",n)),u.left!==f&&(i=f-u.left,this.dropdownBackground$.css("margin-left",i)),(u=this.dropdownBackground$[0].getBoundingClientRect()).left<l?this.dropdownBackground$.css("margin-left",-(i+u.left)+l):u.right>s-l&&this.dropdownBackground$.css("margin-left",s-l-(-i+u.right)),o>d?(this.dropdownBackground$.addClass("center-vertical"),this.dropdownBackground$.css("max-height",d+"px"),u=this.dropdownBackground$[0].getBoundingClientRect(),this.dropdownBackground$.css("margin-top",n-(u.top-c))):(u=this.dropdownBackground$[0].getBoundingClientRect()).top<c?(this.dropdownBackground$.css("max-height",d+"px"),this.dropdownBackground$.css("margin-top",0)):u.bottom>a-c&&(this.dropdownBackground$.css("max-height",d+"px"),this.dropdownBackground$.css("margin-top",a-c-(-n+u.bottom)))},scrollCapture:function(t){this.isShowing()?this.doClamps(t):(this._debouncerEventsSet=!1,this._scrollParent$.off("scroll.positionmenu",this._debouncer),e(window).off("resize.positionmenu",this._debouncer))},_getComboDisplayStringFromStrings:function(e){var t="";if(e.length&&(t=e[0],e.length>1))if(2===e.length)t+=" & "+e[1];else{for(var i=1;i<e.length-1;i++)t+=", "+e[i];t+=", & "+e[e.length-1]}return t},_getMultiButtonString:function(){var e="";if(this.multipleSettings.allItem&&this.multipleSettings.allItem.isSelected)e=this.multipleSettings.allItem.buttonDisplay||this.multipleSettings.allItem.name;else{var i=[];if(t.each(this.options.items,function(e){e.isSelected&&i.push(e)}),i.length)if(1===i.length)e=i[0].buttonDisplay||i[0].name;else{var n=[];t.each(i,function(e){n.push(e.buttonDisplayMulti||e.buttonDisplay||e.name)}),e=this._getComboDisplayStringFromStrings(n)}}return e},_setupMultipleForDisplay:function(){var e=0;if(this.multipleSettings={initialItems:[]},t.each(this.items,function(t){t.isAllItem?this.multipleSettings.allItem=t:t.isSelected&&e++}.bind(this)),this.multipleSettings.allItem){var i=this.multipleSettings.allItem.isSelected||e===this.items.length-1;this.multipleSettings.allItem.isSelected=i,t.each(this.items,function(e){i&&!e.isAllItem&&(e.isSelected=!1),e.isSelected?(this.multipleSettings.initialItems[e.index]=e,e.item$.addClass("selected")):(this.multipleSettings.initialItems[e.index]=null,e.item$.removeClass("selected"))}.bind(this))}else t.each(this.items,function(e){e.isSelected?(this.multipleSettings.initialItems[e.index]=e,e.item$.addClass("selected")):(this.multipleSettings.initialItems[e.index]=null,e.item$.removeClass("selected"))}.bind(this));this.options.alwaysReset||this.options.buttonDisplayControlledByCaller||this.setButtonDisplay()},setDropdownShowing:function(t){window.marvel.currentDropdownShowing&&window.marvel.currentDropdownShowing!==this&&t&&window.marvel.currentDropdownShowing.closeAndCancel(),this._itemUnderMouse=null,t?(this.options.multiple&&this._setupMultipleForDisplay(),this.dropdownMain$.addClass("open"),this.dropdownBackground$.removeClass("hide"),this.dropdownOverlay$.removeClass("hide"),this.initialItem=this.selectedItem,this._arrowMove=!0,this.items$.addClass("arrow-nav"),this._waitingForFirstMouseMove=!0,this.doClamps(),this._debouncerEventsSet||(this._debouncerEventsSet=!0,this._scrollParent$.on("scroll.positionmenu",this._debouncer),e(window).on("resize.positionmenu",this._debouncer)),this.dropdownButton$.focus(),window.marvel.currentDropdownShowing=this,this.options.noKeyNav||(this._boundKeyEvents||(this._boundKeyEvents=!0,this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)),e(document).on("keydown.ddv",this.handleKeyDown),e(document).on("keyup.ddv",this.handleKeyUp))):(this.dropdownBackground$.addClass("hide"),this.dropdownOverlay$.addClass("hide"),this.dropdownMain$.removeClass("open"),this.options.alwaysReset&&!this.options.multiple&&this.setValueItem(),this._debouncerEventsSet&&(this._debouncerEventsSet=!1,this._scrollParent$.off("scroll.positionmenu",this._debouncer),e(window).off("resize.positionmenu",this._debouncer)),window.marvel.currentDropdownShowing=null,this.options.noKeyNav||(e(document).off("keydown.ddv",this.handleKeyDown),e(document).off("keyup.ddv",this.handleKeyUp))),this.options.dropdownShowingCallback&&this.options.dropdownShowingCallback(t)},handleDropdownButtonClick:function(e){this.setDropdownShowing(!0),this._trackDropdownClick()},_trackDropdownClick:function(){if(this._trackData){var e=this._trackData.dropdownName+"DropdownClicked",t=this._trackData.pageName;r.trackEvent(e,{},t)}},_trackDropdownItemClick:function(e){if(this._trackData){var t=this._trackData.dropdownName+"DropdownItemClicked",i=this._trackData.pageName;r.trackEvent(t,{context:e},i)}},_trackDropdownListItemsSelected:function(e){if(this._trackData){var t=this._trackData.dropdownName+"DropdownItemsSelected",i=this._trackData.pageName;r.trackEvent(t,{context:e.join(",")},i)}},handleDropdownOverlayClick:function(e){this.closeAndCancel("overlayClick")},handleLineMouseMove:function(e){this._arrowMove?this._waitingForFirstMouseMove?this._waitingForFirstMouseMove=!1:(this._arrowMove=!1,this.items$.removeClass("arrow-nav"),this.options.alwaysReset&&this.setValueItem()):this._waitingForFirstMouseMove&&(this._waitingForFirstMouseMove=!1)},handleLineMouseOver:function(e){this._itemUnderMouse=e.target.item,this._arrowMove&&(this._arrowMove=!1,this.items$.removeClass("arrow-nav"),this.options.alwaysReset&&this.setValueItem())},handleLineMouseOut:function(e){this._itemUnderMouse=null,this._arrowMove&&(this._arrowMove=!1,this.items$.removeClass("arrow-nav"),this.setValueItem())},handleDropdownLineClick:function(e){var i=e.currentTarget.item;if(this.multipleSettings){if(i.isAllItem)i.isSelected=!0,i.item$.addClass("selected"),t.each(this.options.items,function(e){e!==i&&(e.isSelected=!1,e.item$.removeClass("selected"))});else if(i.isSelected=!i.isSelected,i.isSelected?i.item$.addClass("selected"):i.item$.removeClass("selected"),this.multipleSettings.allItem){var n=i.isSelected;n||(n=t.find(this.options.items,function(e){return e.isSelected})),n?(this.multipleSettings.allItem.item$.removeClass("selected"),this.multipleSettings.allItem.isSelected=!1):(this.multipleSettings.allItem.item$.addClass("selected"),this.multipleSettings.allItem.isSelected=!0)}}else this.setValueItem(i),this.closeAndApply()},closeAndApply:function(){if(this.multipleSettings){var e,i=[];this.multipleSettings.allItem&&this.multipleSettings.allItem.isSelected?(i.push(this.multipleSettings.allItem.value),e=!this.multipleSettings.initialItems[this.multipleSettings.allItem.index]):(t.each(this.options.items,function(t){t.isSelected?(i.push(t.value),this.multipleSettings.initialItems[t.index]||(e=!0)):this.multipleSettings.initialItems[t.index]&&(e=!0)}.bind(this)),this.multipleSettings.allItem&&i.length===this.options.items.length-1&&(this.multipleSettings.allItem.isSelected=!0,this.multipleSettings.allItem.item$.addClass("selected"),t.each(this.options.items,function(e){e!==this.multipleSettings.allItem&&(e.isSelected=!1,e.item$.removeClass("selected"))}.bind(this)),i=[this.multipleSettings.allItem.value],e=!this.multipleSettings.initialItems[this.multipleSettings.allItem.index])),this._trackDropdownListItemsSelected(i),e&&this.options.onchangeCallback(this,i),this.options.alwaysReset||this.options.buttonDisplayControlledByCaller||this.setButtonDisplay()}else this.selectedItem!==this.initialItem&&(this.initialItem=this.selectedItem,this.options.onchangeCallback(this,this.selectedItem&&this.selectedItem.value),this._trackDropdownItemClick(this.selectedItem.value));this.setDropdownShowing(!1)},closeAndCancel:function(e){this.multipleSettings&&e?this.closeAndApply():(this.selectedItem!==this.initialItem&&this.setValueItem(this.initialItem),this.setDropdownShowing(!1))},isShowing:function(){return!this.dropdownBackground$.hasClass("hide")},renderItems:function(e,t){this.options.items=e,this.options.defaultValue=t,this.render()},renderItemsMultiple:function(e){this.options.items=e,this.render()},render:function(){var i="";this.options.checkmarkStyle?i=this.options.checkmarkStyle:this.options.alwaysReset||(i="use-checkmark");var n,r={itemDataPrefix:"ddv-",itemClass:"ddv-dropdown-line",items:this.options.items,checkmarkStyle:i,buttonDataAuto:this.options.buttonDataAuto||"ddv-dropdown-button",buttonIcon:this.options.buttonHasBackgroundItem,buttonLabel:this.options.buttonLabel||""};this.options.buttonDisplayControlledByCaller||(this.options.alwaysReset?r.buttonDisplay=this.options.placeholderText||"":this.options.items&&null!==this.options.defaultValue&&(n=t.find(r.items,function(e){return e.id===this.options.defaultValue}.bind(this)))&&(r.buttonDisplay=n.buttonText||n.buttonDisplay||n.name));var o=s.to_html(l,r);this.$el.html(o),this.$el.addClass("dropdown-view-element"),this.containerElement$[0].appendChild(this.$el[0]),this._scrollParent$=this.options.scrollParent||e(window),this.dropdownMain$=this.$el.find(".ddv-dropdown"),this.dropdownBackground$=this.$el.find(".ddv-dropdown-bg"),this.dropdownButton$=this.$el.find(".ddv-dropdown-button"),this.options.buttonHasBackgroundItem?this.dropdownButtonText$=this.dropdownButton$.find(".ddv-dropdown-button-text-div"):this.dropdownButtonText$=this.dropdownButton$,this.options.multiple?this.dropdownButton$.addClass("has-multiple"):this.dropdownButton$.removeClass("has-multiple"),this.alignTarget$=this.options.alignTarget$||this.dropdownButton$,this.dropdownOverlay$=this.$el.find(".ddv-dropdown-overlay"),this.options.items&&this.setupItems(this.options.items,this.$el.find("."+r.itemClass),n),this.options.widthSetByStyle||setTimeout(function(){var e=this.containerElement$.width();this.dropdownBackground$.css("width",e)}.bind(this),0),this.options.elemHeightSetByStyle||setTimeout(function(){var e=this.containerElement$.height();e>0&&this.$el.css("height",e)}.bind(this),0)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(32).Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(i);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(i+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(i+2)}}(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function d(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var r=a(t[n]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--n<i)return 0;if((r=a(t[n]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--n<i)return 0;if((r=a(t[n]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},,,function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){(function(e){var n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(130),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(9))},function(e,t,i){var n;void 0===(n=function(e){"use strict";return{}}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){var n,r;n=[i(28),i(3),i(48)],void 0===(r=function(e,t,i){"use strict";function n(e){if(!e)throw new Error("Parameter fontRegistry is required for new SlateFonts instances.");this.fontRegistry=e,this.fonts={},this._fontsByCss=null,this._setsByCss=null}return e.extend(n.prototype,{loadFontsByRole:function(i,n){n?e.isArray(n)||(n=[n]):n=[];var r=e.map(n,function(e){return i.getFontWithUniqueRole(e)});return t.all(r).then(function(t){t=e.mapKeys(t,function(e,t){return n[t]}),e.extend(this.fonts,t)}.bind(this))},getFontData:function(t,i){var r={},o=i?" "+i+" ":" ";if(!t)return console.warn("Undefined font"+o+"when retrieving font data."),r;if(r.assetId=t.getId(),i&&(r.role=i),marvel.features.hasFeature("enable-custom-fonts"))return e.extend(r,{fontFamily:t.cssName(),fontWeight:t.fontWeight(),fontStyle:t.fontStyle()});var a=this.fontRegistry.facesByKey[t.getLookupKey()];if(a){a.subgroup&&(r.fontFamily=a.subgroup.cssName);var s=a.face&&a.face.typekitKey;s&&e.extend(r,n.getModifiersFromKey(s))}else console.warn("Font"+o+"not found in registry when retrieving font data.");return r},getFontDataByRole:function(e){return this.getFontData(this.fonts[e],e)},getCssNameLookup:function(){return this._fontsByCss?this._fontsByCss:this._fontsByCss=e.reduce(this.fontRegistry,function(e,t){return e[t.cssName]=t,e},{})},getBodySetByCssNameLookup:function(){return this._setsByCss?this._setsByCss:this._setsByCss=e.reduce(this.fontRegistry.bodyFonts,function(e,t){return e[t.cssName]=t,e},{})},getFontFromThemeNode:function(t){var i=t.fontFamily,r=this.getCssNameLookup()[i];if(r){var o=n.getKeyFromModifiers(t);return e.find(r.faces,function(e){return e.typekitKey===o})}return null}}),n.get=function(e,t){return i.getFontRegistry().then(function(i){var r=new n(i);return r.loadFontsByRole(e,t).then(function(){return r})})},n.getModifiersFromKey=function(e,t){var i,n;return e?{fontStyle:"i"===e.charAt(0)?"italic":"normal",fontWeight:100*parseInt(e.charAt(1),10)}:(t.fontWeight&&"function"==typeof t.fontWeight&&(i=t.fontWeight()),t.fontStyle&&"function"==typeof t.fontStyle&&(n=t.fontStyle()),{fontStyle:n||"normal",fontWeight:i||"normal"})},n.getKeyFromModifiers=function(e){var t={normal:"n",italic:"i"},i={normal:"4",bold:"7"};if(!e)return t.normal+i.normal;var n=t[e.fontStyle]||t.normal,r=i[e.fontWeight]||(parseInt(e.fontWeight,10)/100).toFixed(0);return"NaN"===r&&(r=i.normal),n+r},n.SparkFonts=i,n.componentsThatUseBodyFonts={paragraph:!0,unorderedList:!0,orderedList:!0,inlineImage:!0,button:!0,inlineLink:!0,fullWidthImage:!0,photoGrid:!0},n}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(6),i(24),i(13),i(5),i(7),i(16),i(97)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";var u,h;return u=n.Model.extend({initialize:function(){this._failedInARow=0,this.onPollTimer=this.onPollTimer.bind(this),this.pollIfEnabled(1500)},isAcceptingInvites:function(){this._acceptingInvites=!0},doneAcceptingInvites:function(){this._acceptingInvites=!1},pollIfEnabled:function(e){l.featuresLoaded().then(function(){(l.hasFeature("enable-spark-templates")||l.hasFeature("enable-collaboration"))&&t.delay(this.onPollTimer,e)}.bind(this))},onPollTimer:function(){this._acceptingInvites?t.delay(this.onPollTimer,6e4):s.getPendingInvitations().then(function(e){e&&e.length>0&&(e=t.reduce(e,function(e,t){return"application/vnd.adobe.authoringcontext.document+dcx"!==t.resourceType&&e.push(t),e},[]),window.marvel.events.trigger("spark-collab-invites-recieved",e)),this._failedInARow=0,t.delay(this.onPollTimer,6e4)}.bind(this)).catch(function(e){this._failedInARow++;var i=6e4*(2^this.failedInARow);console.warn("[CollabController] failed to get invites, backing off... "+i),t.delay(this.onPollTimer,i)}.bind(this)).done()},getCompositeDoc:function(e){return"function"==typeof e.getCompositeDoc?e.getCompositeDoc():i.resolve(e)},getUsersWhoWillNeedBrand:function(e,i){var n=t.extend([],i);return this.getCompositeDoc(e).then(function(e){return c.getController().then(function(t){return t.getActiveContext(e)}.bind(this)).then(function(e){return e?this.getCollaboration(e.composite).then(function(e){return e&&e.collaborators&&e.collaborators.length?t.reduce(n,function(i,n){return t.find(e.collaborators,function(e){return e.email==n})||i.push(n),i},[]):n}):[]}.bind(this))}.bind(this))},silentlyInviteCollaboratorsToBrand:function(e,t){return this.getCompositeDoc(e).then(function(n){var r=n.getMyApp();return c.getController().then(function(o){var a=!!r.getAuthoringContextId(n);return c.verifyBrandAccess(n,a,i.resolve(o)).then(function(i){if(a&&i&&i.accessOk){var r=i.brand;if(r)return r.composite.getURN().then(function(e){return n.getMyApp().setAuthoringContextUrn(n,e)}.bind(this)).then(function(){if(r&&r.composite)return this.getUsersWhoWillNeedBrand(e,t).then(function(e){if(e&&e.length)return this._doSilentBrandInvite(r,e)}.bind(this))}.bind(this))}}.bind(this))}.bind(this))}.bind(this)).catch(function(e){throw e}.bind(this))},_doSilentBrandInvite:function(t,n){var o=t.composite;return"function"!=typeof t.upgradeVersionForCollaboration&&(console.log("\n\n\n"),console.log(JSON.stringify(t,void 0,4)),console.log("\n\n\n")),t.upgradeVersionForCollaboration().then(function(){return o.getURN().then(function(t){var a=o.getStorageURL(),l=o.get("name"),c={acceptanceRequired:!0,captcha:{},recipients:n,resourceUrl:a,resourceName:l,role:"viewer",useMounts:!0},d=i.defer(),u=s.ajax({type:"POST",url:"https://"+r.collab+"/invitations",headers:{"x-api-key":r.key},contentType:"application/json; charset=utf-8",data:JSON.stringify(c),dataType:"json"});return e.ajax(u).then(function(e,t,i){d.resolve(e)}),d.promise}.bind(this))}.bind(this))},revokeInvite:function(e){var t=i.defer();return s.ajax({type:"DELETE",url:"https://"+r.collab+"/invitations/"+e,headers:{"x-api-key":r.key}}).then(function(e){t.resolve(!0)}).fail(function(e){t.reject(e)}.bind(this)),t.promise},getCollaborationForPath:function(e){var t=i.defer();return s.ajax({type:"GET",url:"https://"+r.collab+"/collaboration/"+window.encodeURIComponent(e),headers:{"x-api-key":r.key}}).then(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}.bind(this)),t.promise},getCollaboration:function(e){return this.getCollaborationForPath(e.getStoragePath())},inviteeAcceptInvite:function(e){return this._doAccept(e).then(function(e){var t=/[^\/]*\/?$/g.exec(e.mount)[0];return h.inviteeAcceptBrandIfNecessary(t,e.type).then(function(){return e})})},_doAccept:function(e){var t=i.defer();return s.ajax({type:"POST",url:"https://"+r.collab+"/invitations/id/"+e,headers:{"x-api-key":r.key},contentType:"application/json; charset=utf-8"}).then(function(i){window.marvel.events.trigger("spark-collab-accepted-invite",e),t.resolve(i)}).fail(function(e){t.reject(e)}.bind(this)),window.marvel.events.trigger("spark-collab-accepting-invite",e),t.promise},inviteeAcceptBrandIfNecessary:function(e,i){var n=(-1!==i.search(/ginger/)?o.getAppByType("video"):o.getAppByDocType(i)).getConfig().syncGroup,r=function(e,t){var i=new Error("Brand "+t+" missing for newly-accepted shared-with-me project "+e.get("id")+". Could not find the brand via AuthoringContextController or via pending invite.");throw i.code="brand-not-found-invite-not-found",i.doc=e,i};return a.ensureSyncGroup(n).then(function(t){return d(t.getComposite.bind(t),{maxAttempts:8,logger:console,logMessagePrefix:"RETRY: "})(e)}).then(function(e){var i=e.getMyApp(),n=i.getAuthoringContextId(e);if(n)return c.getController().then(function(e){return e.getContextById(n)}).then(function(o){if(!o){var a=i.getAuthoringContextUrn(e);if(a)return s.getPendingInvitations().then(function(i){var o=t.find(i,function(e){return e.resourceURN==a});if(o)return this._doAccept(o.invitationId);r(e,n)}.bind(this));r(e)}}.bind(this))}.bind(this))},inviteeRejectInvite:function(e){return window.marvel.events.trigger("spark-collab-rejecting-invite",e),this.revokeInvite(e).then(function(){return window.marvel.events.trigger("spark-collab-rejected-invite",e),!0})},inviteeRejectBrandIfNeccessary:function(e){},inviteeRemoveSharedComposite:function(e){var t=i.defer();return s.ajax({type:"DELETE",url:"https://"+r.collab+"/collaborators/"+window.encodeURIComponent(e.getStoragePath()),headers:{"x-api-key":r.key}}).then(function(e){console.warn("removed collab",e),t.resolve(!0)}).fail(function(e){t.reject(e)}.bind(this)),t.promise},inviteeResolveInviteURN:function(e){var n=i.defer();return e?s.getPendingInvitations().then(function(i){var r=t.find(i,function(t){return t&&t.resourceURN===e});r?n.resolve(r.invitationId):n.reject("inviteeResolveInviteURN - no pending invitations for specified resource, wrong user?")}.bind(this)).fail(function(e){n.reject(e)}.bind(this)):n.reject("inviteeResolveInviteURN requires a URN"),n.promise}}),h=new u}.apply(t,n))||(e.exports=r)},function(e,t,i){var n=i(238),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){"use strict";t.extend=function(e){var t,i,r,o,a=Array.prototype.slice.call(arguments,1);for(t=0,i=a.length;t<i;t+=1)if(r=a[t])for(o in r)n.call(r,o)&&(e[o]=r[o]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjIxMTAgLTE0MjggMjAgMjAiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiNmZmY7fS5ie2ZpbGw6IzM1NDE0Yzt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQyNSAtMTg3MSkiPjxjaXJjbGUgY2xhc3M9ImEiIGN4PSIxMCIgY3k9IjEwIiByPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjg1IDQ0MykiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTU4MC42LDE0Ny4xbC0yLjctMi43LDIuNy0yLjdhLjc3OC43NzgsMCwxLDAtMS4xLTEuMWgwbC0yLjcsMi43LTIuNy0yLjdhLjc3OC43NzgsMCwxLDAtMS4xLDEuMWgwbDIuNywyLjctMi43LDIuN2EuNzc4Ljc3OCwwLDAsMCwxLjEsMS4xaDBsMi43LTIuNywyLjcsMi43YS43NzguNzc4LDAsMCwwLDEuMS0xLjFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTguMjI1IDMwOC42MjUpIi8+PC9nPjwvc3ZnPg=="},function(e,t,i){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var i;function n(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&r("arraybuffer"),t.msstream=!t.fetch&&a&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&s(n().overrideMimeType),t.vbArray=s(e.VBArray),i=null}).call(this,i(9))},function(e,t,i){(function(e,n,r){var o=i(74),a=i(14),s=i(76),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,i,r){var a=this;if(s.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){e.nextTick(function(){a.emit("close")})}),"fetch"===r){if(a._fetchResponse=i,a.url=i.url,a.statusCode=i.status,a.statusMessage=i.statusText,i.headers.forEach(function(e,t){a.headers[t.toLowerCase()]=e,a.rawHeaders.push(t,e)}),o.writableStream){var l=new WritableStream({write:function(e){return new Promise(function(t,i){a._destroyed||(a.push(new n(e))?t():a._resumeFetch=t)})},close:function(){a._destroyed||a.push(null)},abort:function(e){a._destroyed||a.emit("error",e)}});try{return void i.body.pipeTo(l)}catch(e){}}var c=i.body.getReader();!function e(){c.read().then(function(t){a._destroyed||(t.done?a.push(null):(a.push(new n(t.value)),e()))}).catch(function(e){a._destroyed||a.emit("error",e)})}()}else{if(a._xhr=t,a._pos=0,a.url=t.responseURL,a.statusCode=t.status,a.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===a.headers[i]&&(a.headers[i]=[]),a.headers[i].push(t[2])):void 0!==a.headers[i]?a.headers[i]+=", "+t[2]:a.headers[i]=t[2],a.rawHeaders.push(t[1],t[2])}}),a._charset="x-user-defined",!o.overrideMimeType){var d=a.rawHeaders["mime-type"];if(d){var u=d.match(/;\s*charset=([^;])(;|$)/);u&&(a._charset=u[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{i=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==i){e.push(new n(i));break}case"text":try{i=t.responseText}catch(t){e._mode="text:vbarray";break}if(i.length>e._pos){var o=i.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new n(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;i=t.response,e.push(new n(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==l.LOADING||!i)break;e.push(new n(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==l.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(i)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,i(18),i(20).Buffer,i(9))},function(e,t,i){(t=e.exports=i(77)).Stream=t,t.Readable=t,t.Writable=i(80),t.Duplex=i(22),t.Transform=i(81),t.PassThrough=i(182)},function(e,t,i){"use strict";(function(t,n){var r=i(33).nextTick;e.exports=y;var o,a=i(66);y.ReadableState=b;i(57).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=i(78),c=i(32).Buffer,d=t.Uint8Array||function(){};var u=i(25);u.inherits=i(14);var h=i(179),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,g=i(180),m=i(79);u.inherits(y,l);var v=["error","close","destroy","pause","resume"];function b(e,t){o=o||i(22),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=i(63).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||i(22),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,i,n,r){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,C(e)}(e,a)):(r||(o=function(e,t){var i;(function(e){return c.isBuffer(e)||e instanceof d})(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));return i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):T(e,a)):k(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&C(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),i=!0),w(this,e,t,!1,i)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=i(63).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var x=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r(S,e):S(e))}function S(e){p("emit readable"),e.emit("readable"),P(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r(M,e,t))}function M(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,n=1,r=i.data;e-=r.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++n}return t.length-=n,r}(e,t):function(e,t){var i=c.allocUnsafe(e),n=t.head,r=1;n.data.copy(i),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t);return n}(e,t.buffer,t.decoder),i);var i}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):C(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&A(this),null;var n,r=t.needReadable;return p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",r=!0),t.ended||t.reading?p("reading or ended",r=!1):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(i,t))),null===(n=e>0?E(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&A(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:y;function c(t,n){p("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),i.removeListener("end",d),i.removeListener("end",y),i.removeListener("data",g),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function d(){p("onend"),e.end()}o.endEmitted?r(l):i.once("end",l),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(i);e.on("drain",u);var h=!1;var f=!1;function g(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!h&&(p("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function m(t){p("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",v),y()}function y(){p("unpipe"),i.unpipe(e)}return i.on("data",g),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",m),e.once("close",v),e.once("finish",b),e.emit("pipe",i),o.flowing||(p("pipe resume"),i.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,i);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},y.prototype.on=function(e,t){var i=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&C(this):r(I,this))}return i},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r(D,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",function(){if(p("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){(p("wrapped data"),i.decoder&&(r=i.decoder.write(r)),!i.objectMode||null!==r&&void 0!==r)&&((i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause())))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},y._fromList=E}).call(this,i(9),i(18))},function(e,t,i){e.exports=i(57).EventEmitter},function(e,t,i){"use strict";var n=i(33).nextTick;function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){"use strict";(function(t,n,r){var o=i(33).nextTick;function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o;b.WritableState=v;var c=i(25);c.inherits=i(14);var d={deprecate:i(111)},u=i(78),h=i(32).Buffer,p=r.Uint8Array||function(){};var f,g=i(79);function m(){}function v(e,t){s=s||i(22),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(o(r,n),o(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(r(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,i,n,t,r);else{var a=x(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||k(e,i),n?l(w,e,i,a,r):w(e,i,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||i(22),!(f.call(b,this)||this instanceof s))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,i,n,r,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function w(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function k(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,r=new Array(n),o=t.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;)r[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;r.allBuffers=l,y(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,d=i.encoding,u=i.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var i=x(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(b,u),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):f=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,i){var n=this._writableState,r=!1,a=!n.objectMode&&function(e){return h.isBuffer(e)||e instanceof p}(e);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(i=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=m),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o(t,i)}(this,i):(a||function(e,t,i,n){var r=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(n,a),r=!1),r}(this,n,e,i))&&(n.pendingcb++,r=function(e,t,i,n,r,o){if(!i){var a=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,i));return t}(t,n,r);n!==a&&(i=!0,r="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,r,o);return l}(this,n,a,e,t,i)),r},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,i){t.ending=!0,C(e,t),i&&(t.finished?o(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(18),i(67).setImmediate,i(9))},function(e,t,i){"use strict";e.exports=o;var n=i(22),r=i(25);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i(14),r.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){(function(e,n){var r;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=36,d=1,u=26,h=38,p=700,f=72,g=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=c-d,x=Math.floor,_=String.fromCharCode;function C(e){throw new RangeError(w[e])}function S(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function T(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+S((e=e.replace(y,".")).split("."),t).join(".")}function M(e){for(var t,i,n=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function I(e){return S(e,function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)}).join("")}function D(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,i){var n=0;for(e=i?x(e/p):e>>1,e+=x(e/t);e>k*u>>1;n+=c)e=x(e/k);return x(n+(k+1)*e/(e+h))}function A(e){var t,i,n,r,o,a,s,h,p,v,b=[],y=e.length,w=0,k=g,_=f;for((i=e.lastIndexOf(m))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&C("not-basic"),b.push(e.charCodeAt(n));for(r=i>0?i+1:0;r<y;){for(o=w,a=1,s=c;r>=y&&C("invalid-input"),((h=D(e.charCodeAt(r++)))>=c||h>x((l-w)/a))&&C("overflow"),w+=h*a,!(h<(p=s<=_?d:s>=_+u?u:s-_));s+=c)a>x(l/(v=c-p))&&C("overflow"),a*=v;_=E(w-o,t=b.length+1,0==o),x(w/t)>l-k&&C("overflow"),k+=x(w/t),w%=t,b.splice(w++,0,k)}return I(b)}function F(e){var t,i,n,r,o,a,s,h,p,v,b,y,w,k,S,T=[];for(y=(e=M(e)).length,t=g,i=0,o=f,a=0;a<y;++a)(b=e[a])<128&&T.push(_(b));for(n=r=T.length,r&&T.push(m);n<y;){for(s=l,a=0;a<y;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>x((l-i)/(w=n+1))&&C("overflow"),i+=(s-t)*w,t=s,a=0;a<y;++a)if((b=e[a])<t&&++i>l&&C("overflow"),b==t){for(h=i,p=c;!(h<(v=p<=o?d:p>=o+u?u:p-o));p+=c)S=h-v,k=c-v,T.push(_(P(v+S%k,0))),h=x(S/k);T.push(_(P(h,0))),o=E(i,w,n==r),i=0,++n}++i,++t}return T.join("")}s={version:"1.3.2",ucs2:{decode:M,encode:I},decode:A,encode:F,toASCII:function(e){return T(e,function(e){return b.test(e)?"xn--"+F(e):e})},toUnicode:function(e){return T(e,function(e){return v.test(e)?A(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return s}.call(t,i,t,e))||(e.exports=r)}()}).call(this,i(55)(e),i(9))},function(e,t,i){var n,r;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";e.exports?e.exports=a():void 0===(r="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=r)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,i,n=e.toLowerCase().split(":"),r=n.length,o=8;for(""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),-1!==n[(r=n.length)-1].indexOf(".")&&(o=7),t=0;t<r&&""!==n[t];t++);if(t<o)for(n.splice(t,1,"0000");n.length<o;)n.splice(t,0,"0000");for(var a=0;a<o;a++){i=n[a].split("");for(var s=0;s<3&&"0"===i[0]&&i.length>1;s++)i.splice(0,1);n[a]=i.join("")}var l=-1,c=0,d=0,u=-1,h=!1;for(a=0;a<o;a++)h?"0"===n[a]?d+=1:(h=!1,d>c&&(l=u,c=d)):"0"===n[a]&&(h=!0,u=a,d=1);d>c&&(l=u,c=d),c>1&&n.splice(l,c,""),r=n.length;var p="";for(""===n[0]&&(p=":"),a=0;a<r&&(p+=n[a],a!==r-1);a++)p+=":";return""===n[r-1]&&(p+=":"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},function(e,t,i){var n,r;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";e.exports?e.exports=a():void 0===(r="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=r)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,i={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var r=i.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var n=i.list[e.slice(t+1)];return!!n&&n.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var r=i.list[e.slice(t+1)];return r?r.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return i})},function(e,t,i){"use strict";e.exports=d;var n,r=i(19),o=r.LongBits,a=r.base64,s=r.utf8;function l(e,t,i){this.fn=e,this.len=t,this.next=void 0,this.val=i}function c(){}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}function u(e,t,i){t[i]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function f(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}d.create=r.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d},d.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(e,t,i){return this.tail=this.tail.next=new l(e,t,i),this.len+=t,this},h.prototype=Object.create(l.prototype),h.prototype.fn=function(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(p,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(p,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(p,t.length(),t)},d.prototype.bool=function(e){return this._push(u,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(f,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(f,4,t.lo)._push(f,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var g=r.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(u,1,0);if(r.isString(e)){var i=d.alloc(t=a.length(e));a.decode(e,i,0),e=i}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(u,1,0)},d.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},d._configure=function(e){n=e}},function(e,t,i){"use strict";e.exports=l;var n,r=i(19),o=r.LongBits,a=r.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function u(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}l.create=r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c,l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return u(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|u(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e;var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,i){"use strict";t.extend=function(e){var t,i,r,o,a=Array.prototype.slice.call(arguments,1);for(t=0,i=a.length;t<i;t+=1)if(r=a[t])for(o in r)n.call(r,o)&&(e[o]=r[o]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},function(e,t,i){var n=i(30),r=i(54),o=i(136),a=i(137);function s(t){var i="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},s(t)}e.exports=s},function(e,t,i){var n=i(44),r=i(444),o=i(255),a=Object.defineProperty;t.f=i(91)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},,function(e,t,i){e.exports=!i(43)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},function(e,t){!function(){if(function(){var e=[1,2];return String(e)===String(e.reverse())}()){console.warn("Polyfilling buggy reverse on Safari 12!");var e=Array.prototype.reverse;Array.prototype.reverse=function(){return Array.isArray(this)&&(this.length=this.length),e.call(this)}}}()},function(e,t,i){var n,r;n=[i(6)],void 0===(r=function(e){return!0===e.nr.disabled?{addPageAction:function(){},addRelease:function(){},addToTrace:function(){},finished:function(){},info:{},interaction:function(){var e={actionText:function(){return e},createTracer:function(){return e},end:function(){return e},getContext:function(){return e},ignore:function(){return e},onEnd:function(){return e},save:function(){return e},setAttribute:function(){return e},setName:function(){return e}};return e},noticeError:function(){},setCurrentRouteName:function(){},setCustomAttribute:function(){},setErrorHandler:function(){},setPageViewName:function(){}}:window.newrelic}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(107),i(5),i(6)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";var l=o.LibraryImageLinksModel,c="result_columns%5B%5D=title&result_columns%5B%5D=is_licensed&result_columns%5B%5D=content_type&result_columns%5B%5D=thumbnail_160_url&result_columns%5B%5D=thumbnail_160_width&result_columns%5B%5D=thumbnail_160_height&result_columns%5B%5D=comps&result_columns%5B%5D=details_url&result_columns%5B%5D=creator_name&result_columns%5B%5D=id&result_columns%5B%5D=premium_level_id",d={Standard:"royalty_free_standard",Extended:"royalty_free_extended"};function u(e){this.result=null,this._reachedEnd=!1,this.collection=new i.Collection,this.collection.model=l,this._searchAPI=e||u.searchPath,this._lastOpts=null}function h(e,t){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this._items=[],this._modelAttrs=[],this.filter=t,this._parseData()}function p(e){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this.links={},this._parseData()}function f(e){return!!(e.comps&&e.comps.Standard&&e.comps.Standard.url||1===e.media_type_id||2===e.media_type_id)}return u.apiHost=s.stockApiHost,u.searchPath="/Rest/Media/1/Search/Files",u.infoPath="/api/v1/assets/",u.profilePath="/Rest/Libraries/1/Member/Profile",u.itemLicensePath="/Rest/Libraries/1/Content/License",u.licenseHistoryPath="/Rest/Libraries/1/Member/LicenseHistory",u.licenseHistorySearchQuery="<<<[[[***LICENSE HISTORY***]]]>>>",t.extend(u.prototype,{search:function(e){this.result=null;var i={page:1,size:30,asset_type:"image",image_filter:[],source:[]};this._searchAPI===u.searchPath&&(i.query="landscape");var n=this._getParams(i,e),r=e.success,o=e.error;var s=u.apiHost+this._searchAPI;this._lastOpts=t.extend({},n,e);n.page>1&&n.page;var l,d={"search_parameters[offset]":(n.page-1)*n.size,"search_parameters[limit]":n.size};return this._searchAPI===u.licenseHistoryPath?l="result_columns%5B%5D=thumbnail_160_url&result_columns%5B%5D=thumbnail_160_width&result_columns%5B%5D=thumbnail_160_height":(d["search_parameters[words]"]=n.query,l=c),a.ajax({url:s+"?"+l,data:d,beforeSend:function(e){return e.setRequestHeader("X-api-key",a.apiKey),e.setRequestHeader("X-Product",a.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(i,a,s){var l=null;if(!i||t.isEmpty(i))l=new Error("No data received");else if(i.error_code)l=new Error(i.message);else try{this.result=new h(i,"image"===n.asset_type?function(t){return!(e.blockUnlicensedPremium&&!t.is_licensed&&t.data.premium_level_id>1||e.image_filter&&e.image_filter.length&&!(e.image_filter.indexOf(t.links.original.type)>=0))}.bind(this):null),this.result.getLength()?(this.offset+=i.files.length,this.collection.reset(this.result._modelAttrs)):this._reachedEnd=!0}catch(e){l=e}l?o&&o(s,"error",l):r&&r(this.result,a,s)}.bind(this)).fail(o)},searchNextSet:function(e){return this._lastOpts.page++,e=t.extend({add:!0},this._lastOpts,e),this.search(e)},reachedEnd:function(){return this._reachedEnd},_getParams:function(e,i){if(e=t.extend({},e),i){var n=[];for(var r in e)n.push(r);n.unshift(i);var o=t.pick.apply(t,n);e=t.extend(e,o)}return e},getLength:function(){return this.collection.length},at:function(e){return this.collection.at(e)}}),t.extend(h.prototype,{_parseData:function(){for(var e=this.data.files,t=0,i=e.length;t<i;t++){var n=e[t];if(f(n)){var r=new p(n);if(!this.filter||this.filter(r)){var o=r.getThumbURL(),a=r.getPreviewURL(),s=r.getOriginalURL();this._items.push(r),this._modelAttrs.push({source_id:n.id,title:n.title,mimeType:r.getMimeType(),image_url:s||a||o,preview_url:a||s||o,thumb_url:o||a||s})}}}},getLength:function(){return this._items.length},at:function(e){return this._items[e]}}),t.extend(p.prototype,{_parseData:function(){this.links.original=this.links.original||{},this.links.preview=this.links.preview||{},this.links.thumb=this.links.thumb||{},this.data.comps&&(this.links.original.href=this.data.comps.Standard.url,this.links.preview.href=this.data.comps.Standard.url,this.links.original.height=this.data.comps.Standard.height,this.links.original.width=this.data.comps.Standard.width,this.links.preview.height=this.data.comps.Standard.height,this.links.preview.width=this.data.comps.Standard.width),this.links.thumb.href=this.data.thumbnail_160_url,this.links.thumb.height=this.data.thumbnail_160_height,this.links.thumb.width=this.data.thumbnail_160_width,this.is_licensed=this.data.is_licensed||this.data.license,this.links.thumb.type=this.links.preview.type=this.links.original.type=this.data.content_type},setOriginalLinkFields:function(e){this.links.licensed?(e.link=this._sanitizeURL(this.links.licensed.url),e.height=this.links.licensed.height,e.width=this.links.licensed.width):(e.link=this._sanitizeURL(this.links.original.href),e.height=this.links.original.height,e.width=this.links.original.width)},getOriginalURL:function(){var e=this.links.licensed&&this.links.licensed.url||this.links.original.href;return this._sanitizeURL(e)},getPreviewURL:function(){return this._sanitizeURL(this.links.preview.href)},getThumbURL:function(){return this._sanitizeURL(this.links.thumb.href)},getMimeType:function(){return this.links.original.type},_sanitizeURL:function(e){return e},getAspect:function(){return{width:this.links.thumb.width,height:this.links.thumb.height}},getThumbHoverLabel:function(){return this.is_licensed&&r.getString("imagepicker-stock-licensed-image-hover-label")||""}}),u.addLocaleToParams=function(e){var t=a.getUserCountryInfo();t&&(e.locale=t.locale)},u.getLicensesAvailable=function(){var e=n.defer(),t=u.apiHost+u.profilePath,i={};return u.addLocaleToParams(i),a.ajax({url:t,data:i,beforeSend:function(e){return e.setRequestHeader("X-api-key",a.apiKey),e.setRequestHeader("X-Product",a.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(t,i,n){var r=t.available_entitlement?t.available_entitlement.quota:0,o=!!t.purchase_options&&t.purchase_options.requires_checkout,a=t.purchase_options&&"not_possible"===t.purchase_options.state,s=t.purchase_options&&t.purchase_options.url||!1,l=t.purchase_options&&t.purchase_options.message;marvel.logger.debug("Stock profile: ",t),e.resolve({numLicenses:r,requiresCheckout:o,notAllowedToPurchase:a,purchaseUrl:s,purchaseMessage:l})}).fail(function(t){marvel.logger.error("error retrieving available licenses",t),e.reject(t)}),e.promise},u.licenseItem=function(e){var t=n.defer(),i=u.apiHost+u.itemLicensePath,r={content_id:e};return u.addLocaleToParams(r),a.ajax({url:i,data:r,beforeSend:function(e){return e.setRequestHeader("X-api-key",a.apiKey),e.setRequestHeader("X-Product",a.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(i){var n=i.contents[e],r={url:n.purchase_details.url,licenseType:d[n.purchase_details.license],width:n.purchase_details.width,height:n.purchase_details.height,mimeType:n.purchase_details.content_type,thumb:n.thumbnail};t.resolve(r)}).fail(function(e){marvel.logger.error("stock request failed to license:"+e.status,{response:e.responseJSON||e.responseText,data:r}),t.reject(e)}),t.promise},u.getStockAssetDetailsUrl=function(e){return u.getItemInfo(e,{params:["details_url"]}).then(function(e){return e.details_url},function(e){return console.error("could not get url for stock page",e),n.reject(e)})},u.getItemInfo=function(e,t){t=t||{};var i=n.defer(),r=u.apiHost+u.searchPath,o={"search_parameters[media_id]":e,"search_parameters[offset]":0,"search_parameters[limit]":1},s="";return s=t.params?"result_columns%5B%5D="+t.params.join("&result_columns%5B%5D="):c,u.addLocaleToParams(o),a.ajax({url:r+"?"+s,data:o,beforeSend:function(e){return e.setRequestHeader("X-api-key",a.apiKey),e.setRequestHeader("X-Product",a.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(e){var t=e.files[0];i.resolve(t)}).fail(function(){i.reject()}),i.promise},u.getRequestType=function(e){return e?e._searchAPI===u.licenseHistoryPath?"history":"search":void 0},u}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(3),i(1),i(5),i(4),i(7),i(176),i(16)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";var l,c;return l=i.Model.extend({initialize:function(){this._sessionsById={}},_getBatonController:function(){return a},_getBrandKit:function(){return s},_checkEntitlement:function(e,i){var n=o.hasFeature("entitle-brand-kit"),r=e.getMyApp();return r.isBranded(e).then(function(o){return i.known.docIsBranded=o,"video"==r.typeName&&o&&!r.getAuthoringContextId(e)||!o||n||(i.known.unentitled=!0),t.resolve(!i.known.unentitled)}.bind(this))},_createEditingSession:function(e,i){return{batonEnabled:e,collabEnabled:i,deferInterstitial:t.defer(),known:{},activity:{}}},mockDocEditingSession:function(i,n){var r=this._createEditingSession(n.batonEnabled,n.collabEnabled);r.known.userEntitled=n.entitled,n.missingBrand?r.known.missingBrand=!0:n.missingFonts&&(r.known.missingFonts=!0,s.getController().then(function(t){var n=i.getMyApp().getAuthoringContextId(i);return t.getContextById(n).then(function(t){r.known.missingFontList=t?e.filter(t.getAllFonts(!0),function(e){return e.isCustomFont()}):[]})}).done()),n.batonFailedClean?(r.known.hasBaton=!1,r.known.lockHeldByUserName="Mock User"):n.batonFailedDirty?(r.known.hasBaton=!1,r.known.batonServiceFailed=!0,r.known.batonServiceError=new Error("some error from baton service")):n.hasBaton&&(r.known.hasBaton=!0),n.serviceFailed&&(r.known.serviceBorked=!0),this._sessionsById[i.id]=r,r.entitlementPromise=t.resolve(n.entitled),r.entitlementPromise.then(function(){this._updateUX(r)}.bind(this))},_doVerifyBrand:function(e,i){return this._getBrandKit().verifyBrandAccess(e,i.known.docIsBranded).then(function(n){return n&&n.accessOk?this._getBrandKit().verifyFontAccess(e,n.brand).then(function(e){return e.length>0?(i.known.missingFonts=!0,i.known.missingFontList=e,this._updateUX(i),t.resolve(!1)):(i.known.brandAndFontsOk=!0,t.resolve(!0))}.bind(this)):(i.known.missingBrand=!0,this._updateUX(i),t.resolve(!1))}.bind(this)).catch(function(e){return i.known.serviceBorked=!0,i.known.serviceBorkedMsg="Failed while validating project",i.known.serviceBorkedError=e,this._updateUX(i),t.reject(e)}.bind(this))},_doAcquireBaton:function(e,i){var n=e.getMyApp().getSetting("syncGroup"),r=e.id,o=e.getProjectName();return i.fnOnLeftEditor=function(t){this._sessionsById[r]&&this.releaseBatonAndCloseSession(e)}.bind(this),window.marvel.events.on("left-editing-session",i.fnOnLeftEditor),this._getBatonController().acquireBatonLock(n,r,o).then(function(e){return e&&e.virtualBaton&&(i.known.virtualBaton=!0),i.known.hasBaton=!0,this._updateUX(i),e}.bind(this),function(e){return i.known.hasBaton=!1,e.lockHeldByUserName?i.known.lockHeldByUserName=e.lockHeldByUserName:(i.known.batonServiceFailed=!0,i.known.batonServiceError=e),this._updateUX(i),t.reject(e)}.bind(this))},_awaitEditingSessionDone:function(i){return i.entitlementPromise.then(function(){var n=[i.verifyBrandPromise];return i.batonRequestPromise&&n.push(i.batonRequestPromise),t.allSettled(n).then(function(n){return e.each(n,function(e){"fulfilled"!==e.state&&(e.reason.toString().indexOf("BATON_LOCK_FAILED")>=0?i.known.lockHeldByUserName||(i.known.batonServiceFailed=!0,i.known.batonServiceError=e.reason,this._updateUX(i)):window.marvel.logger.debug("EditingSessionDone assuming error is already handled",e.reason))}),t.resolve(i)}.bind(this))})},getDocEditingSession:function(e){var i=e.id,n=e.getMyApp().supportsCollaboration(),r=e.getMyApp().requiresDocumentLocking(e),a=this._sessionsById[i];if(!a){if(o.hasFeature("enable-mock-editing-session"))try{var s=window.sessionStorage.getItem("marvel_mock_editing_session");if(s)return s=JSON.parse(s),window.marvel.logger.warn("[using editing session] ->",s),c.mockDocEditingSession(e,s),this._sessionsById[i]}catch(e){window.marvel.logger.warn("caught error in mock editing session",e)}a=this._createEditingSession(r,n),this._sessionsById[i]=a,a.entitlementPromise=this._checkEntitlement(e,a).then(function(i){return a.known.userEntitled=i,a.known.userEntitled?(a.verifyBrandPromise=this._doVerifyBrand(e,a),n&&r?a.batonRequestPromise=this._doAcquireBaton(e,a):(a.known.hasBaton=!0,a.known.virtualBaton=!0,a.batonRequestPromise=t.resolve(),this._updateUX(a))):this._updateUX(a),i}.bind(this),function(e){window.marvel.logger.error("editing-session: failed while checking entitlement",e),a.known.serviceBorked=!0,a.known.serviceBorkedMsg="Failed to check entitlements",a.known.serviceBorkedError=e,this._updateUX(a)}.bind(this)).catch(function(e){window.marvel.logger.error("editing-session: error caught while checking entitlement",e),a.known.serviceBorked=!0,a.known.serviceBorkedMsg="Failed while validating project",a.known.serviceBorkedError=e,this._updateUX(a)}.bind(this)),a.donePromise=this._awaitEditingSessionDone(a)}return a},_leaveInterstitial:function(e,t){e.deferInterstitial.resolve(),t&&window.marvel.navigate("/",{trigger:!0})},_updateUX:function(e){if(e&&e._ux){var t=e.activity,i=e.known,n=e._ux;t.inactivityTimeout?n.inactiveTimeout&&n.inactiveTimeout(e):i.userKnows||(i.serviceBorked?(i.userKnows=!0,n.serviceBorked(i.serviceBorkedError)):!1===i.userEntitled?i.interstitialReadyToHide&&(i.userKnows=!0,n.unentitled(),e.deferInterstitial.resolve()):!1!==i.hasBaton||i.ignoreBatonServiceError?(!0===i.hasBaton||i.ignoreBatonServiceError)&&(i.missingBrand?(i.userKnows=!0,n.missingBrand().then(function(){this._leaveInterstitial(e,!0)}.bind(this)).done()):i.missingFonts&&i.interstitialReadyToHide?(i.userKnows=!0,e.deferInterstitial.resolve(),n.missingFonts(i.missingFontList).then(function(t){t||window.marvel.navigate("/",{trigger:!0}),n.editing&&n.editing(e)})):i.brandAndFontsOk&&i.interstitialReadyToHide&&(i.userKnows=!0,e.deferInterstitial.resolve(),n.editing&&n.editing(e))):i.batonServiceFailed?i.interstitialReadyToHide&&(i.userKnows=!0,n.batonServiceFailed(i.batonServiceError).then(function(t){t?(i.ignoreBatonServiceError=!0,i.userKnows=!1,this._updateUX(e)):this._leaveInterstitial(e,!0)}.bind(this))):(i.userKnows=!0,n.batonNotAcquired(i.lockHeldByUserName).then(function(){this._leaveInterstitial(e,!0)}.bind(this)).done()))}},setUXHandler:function(e,t){var i=this.getDocEditingSession(e);i?(i._ux=t,this._updateUX(i)):window.marvel.logger.warn("failed to acquire EditingSession for doc",e)},inactivityTimeout:function(e){var t=this._sessionsById[e.id];t&&(t.activity.inactivityTimeout=!0,t.activity.lockReleaseDelayTimer=window.setTimeout(function(){t.activity.lockReleaseDelayTimer=0,this.stopInactivityMonitoring(e,t),this._getBatonController().justReleaseBatonLock()}.bind(this),t.activity.LOCK_RELEASE_TIMEOUT),this._updateUX(t))},_establishTimeouts:function(e){e.activity.INACTIVE_TIMEOUT=6e5,e.activity.LOCK_RELEASE_TIMEOUT=18e4,o.hasFeature("inactivity-timeout-15-seconds")&&(e.activity.INACTIVE_TIMEOUT=15e3,e.activity.LOCK_RELEASE_TIMEOUT=15e3)},beginSession:function(e,t){if(t.known.virtualBaton)window.marvel.events.trigger("collaboration-state",{enabled:!1});else{var i=t.activity;i.inactiveTimer?window.marvel.logger.warn("User inactiveTimer already exists!?"):(this._establishTimeouts(t),i.inLongUserActivity=0,i._fnTimeout=function(){window.marvel.logger.traceflow("baton-timeout","User inactive, timeout."),i.inactiveTimer=null,c.inactivityTimeout(e)},i.fnUserIsActive=function(e){i.inactiveTimer&&(window.clearTimeout(i.inactiveTimer),i.inactiveTimer=null),0===i.inLongUserActivity?(window.marvel.logger.traceflow("baton-timeout","userIsActive - starting or restarting timer"),i.inactiveTimer=window.setTimeout(i._fnTimeout,i.INACTIVE_TIMEOUT)):window.marvel.logger.traceflow("baton-timeout","userIsActive - ignored within long user activity begin/end pair")},i.fnBeginLongUserActivity=function(){i.inactiveTimer&&(window.clearTimeout(i.inactiveTimer),i.inactiveTimer=null),i.inLongUserActivity+=1,1===i.inLongUserActivity&&window.marvel.logger.traceflow("long-user-activity","Long user activity - STARTED"),window.marvel.logger.traceflow("baton-timeout","beginLongUserActivity - inLongUserActivity = "+i.inLongUserActivity)},i.fnEndLongUserActivity=function(t){i.inLongUserActivity-=1,window.marvel.logger.traceflow("baton-timeout",'endLongUserActivity - reason "'+t+'" inLongUserActivity reduced to '+i.inLongUserActivity),i.inLongUserActivity<0?window.marvel.logger.error('endLongUserActivity - reason "'+t+'" inLongUserActivity reduced to '+i.inLongUserActivity):0===i.inLongUserActivity&&window.marvel.logger.traceflow("long-user-activity","Long user activity - COMPLETE"),"release-lock"===t?(r.trackEvent("coediting:releasedLockAfterLongUserAction",{sparkFormat:e.getMyApp().typeName},"coediting"),c.releaseBatonAndCloseSession(e)):i.fnUserIsActive()},this.startInactivityMonitoring(e,t),window.marvel.events.trigger("collaboration-state",{enabled:!0,timeoutDuration:i.INACTIVE_TIMEOUT}))}},startInactivityMonitoring:function(e,t){var i=t.activity;i.inactiveTimer=window.setTimeout(i._fnTimeout,i.INACTIVE_TIMEOUT),e.getMyApp().onEditorActive(i.fnUserIsActive,i.fnBeginLongUserActivity,i.fnEndLongUserActivity)},stopInactivityMonitoring:function(e,t){var i=t.activity;i.fnUserIsActive&&e.getMyApp().offEditorActive(i.fnUserIsActive),i.inactiveTimer&&(window.clearTimeout(i.inactiveTimer),i.inactiveTimer=null)},endSession:function(e,t){this.stopInactivityMonitoring(e,t)},reviveSession:function(e,i){if(i.activity.lockReleaseDelayTimer)return r.trackEvent("coediting:stillWorkingPressedQuickly",{sparkFormat:e.getMyApp().typeName},"coediting"),window.clearTimeout(i.activity.lockReleaseDelayTimer),i.activity.lockReleaseDelayTimer=0,t.resolve(!0);r.trackEvent("coediting:stillWorkingPressedEventually",{sparkFormat:e.getMyApp().typeName},"coediting");var n=t.defer(),o=e.getMyApp().getSetting("syncGroup"),a=e.id,s=e.getProjectName();return this._getBatonController().acquireBatonLock(o,a,s).then(function(){e.hasCloudDocChanged().then(function(t){t?n.resolve(!1):(this.startInactivityMonitoring(e,i),n.resolve(!0))}.bind(this)).catch(function(e){window.marvel.logger.error("hasCloudDocChanged returned error",e),n.resolve(!1)})}.bind(this)).catch(function(e){window.marvel.logger.error("acquireBatonLock returned error",e),n.resolve(!1)}),n.promise},editingPreflightComplete:function(e){if(!e)return t.resolve();var i=this._sessionsById[e.id];return i?i.donePromise:t.reject(new Error("editingPreflightComplete called without an active editing session"))},interstitialReadyToHide:function(e){if(!e)return t.resolve();var i=this._sessionsById[e.id];return i?(i.known.interstitialReadyToHide=!0,this._updateUX(i),i.deferInterstitial.promise):t.reject("No editing session")},releaseBatonAndCloseSession:function(e){if(!e)return t.resolve();var i=this._sessionsById[e.id];return i&&this.removeDocEditingSession(e),i&&i.batonEnabled&&i.batonRequestPromise?this._getBatonController().releaseBatonLockAndConnection():t.resolve()},removeDocEditingSession:function(e){if(e){var t=this._sessionsById[e.id];t&&(t.fnOnLeftEditor&&(window.marvel.events.off("left-editing-session",t.fnOnLeftEditor),t.fnOnLeftEditor=null),t._ux&&t._ux.cleanup&&t._ux.cleanup(t),delete this._sessionsById[e.id])}}}),c=new l}.apply(t,n))||(e.exports=r)},function(e,t,i){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=0)}([function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e,t){var i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(t){n(e,t,i[t])})}return e}({},{maxAttempts:5,delay:100},t),r=0;return function t(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e.apply(void 0,o).catch(function(n){if(r++,i.hasOwnProperty("counter_cb")&&"function"==typeof i.counter_cb&&i.counter_cb(r),r===i.maxAttempts)return Promise.reject(n);if("function"==typeof i.shouldRetry&&!i.shouldRetry.apply(i,[n].concat(o)))throw n;var a,s=Math.floor(Math.pow(2,r-1)*i.delay*(Math.random()+1));if(i.logger){var l=i.logMessagePrefix||e.name,c="".concat(l," failed ").concat(r," times, will try again in ").concat(s,"ms");i.logger.info(n,c)}return(a=s,new Promise(function(e){setTimeout(e,a)})).then(function(){return t.apply(void 0,o)})})}}}])},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(220),i(221),i(7),i(11),i(40)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";var c=new s({color:"rebeccapurple",name:"userProfileController"});return new(n.Model.extend({initUserProfile:function(){return this._currentUserProfile?i.resolve():(this._currentUserProfile=new r,this._currentUserProfile.initProfile({useFeaureFlags:!0,featureController:a,dataObj:{},profileId:"spark",type:"spark",logger:c}))},onboardSettings:function(e){var i={mode:"setup",dontAllowCloseByKeyboard:!0,fieldIds:["displayName","share-default-to-unlisted","avatar"],required:["displayName","share-default-to-unlisted"]};return e&&t.assign(i,e),this._displaySettingsForEdit(i)},getChangedSettingsToSubmit:function(e){var i={};return t.each(e,function(e,n){"_"!==n.charAt(0)&&("object"!=typeof e||t.isArray(e)?i[n]=e:i[n]="featureFlipperChanges"!==n?this.getChangedSettingsToSubmit(e):e)}.bind(this)),i},setUserSettings:function(e){var n=i.defer();return t.each(e,function(e,t){"enableMarketing"===t&&console.log("try to save "+JSON.stringify(e))}.bind(this)),e=this.getChangedSettingsToSubmit(e),this._currentUserProfile.saveUpdatedProfileSettings(e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},refreshUserProfile:function(){if(this.userProfileDeferred){if(!this.userProfileDeferred.isFulfilled())return this.userProfileDeferred.promise;delete this.userProfileDeferred}return this.userProfileLoaded()},userProfileLoaded:function(){return this.userProfileDeferred||(this.userProfileDeferred=i.defer(),a.featuresLoaded().then(function(){this.initUserProfile().then(function(){this.userProfileDeferred.resolve(this._currentUserProfile)}.bind(this),function(e){window.marvel.logger.error("Failed to load user profile "+e.status,e),this.userProfileDeferred.reject(e.status)}.bind(this))}.bind(this)).done()),this.userProfileDeferred.promise},getGetNoticedSettings:function(){return this._currentUserProfile.getGetNoticedSettings()},getProfile:function(){return this._currentUserProfile},editSettings:function(e){var i={mode:"edit"};return e&&t.assign(i,e),this._displaySettingsForEdit(i)},_displaySettingsForEdit:function(e){e.fieldIds||(e.fieldIds=["share-default-to-unlisted"],a.hasFeature("user-settings-allow-show-account-info")&&e.fieldIds.push("displayName","avatar","email","entitlement"));var n=i.defer();e=t.clone(e),this._mode=e.mode;var r=!1;return o.showLoadingSpinner().then(function(e){r="canceled"===e}.bind(this)),this.userProfileLoaded().then(function(){return e.isFeatureFlipperRequest?void 0:this._currentUserProfile.emailListSettingsLoaded()}.bind(this)).then(function(s){if(r)return n.resolve();o.hideLoadingSpinner(),a.hasFeature("show-user-flag-image-source-stock")&&e.fieldIds.push("user-flag-image-source-stock"),t.each(l.imageServices.dooplo,function(t){a.hasFeature(l.imageServices.showFlagPrefixDooplo+t)&&e.fieldIds.push(l.imageServices.flagPrefixDooplo+t)}.bind(this));var d=e.fieldIds.indexOf("share-default-to-unlisted");-1!==d&&(this.getGetNoticedSettings().supported||e.fieldIds.splice(d,1));if(e.ignoreIfExisting&&this._currentUserProfile.lastModified)return n.resolve();var u=i.defer();e.userProfile=this._currentUserProfile,e.canEditNonBooleans=!1,e.closeDefer=u,"success"===s?e.fieldIds.push("spark-newsletter","tips-and-tricks"):"unableToLoadEmailSettingsForQualifiedUser"===s&&(e.unableToLoadEmailSettingsForQualifiedUser=!0),o.editProfile(e).then(function(e){e?this.setUserSettings(e).then(function(e){u.resolve(!0),n.resolve(e)}.bind(this),function(e){n.reject(e)}.bind(this)):(u.resolve(!0),n.resolve())}.bind(this),function(e){c.error("editProfile had error",e),n.reject(e)}).done()}.bind(this),function(e){n.reject(e)}).done(),n.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(1),i(3)],void 0===(r=function(e,t){"use strict";return new(e.Model.extend({getPublisher:function(){return this._publisher?t.resolve(this._publisher):(this._getPublisherDefer||(this._getPublisherDefer=t.defer(),this.getUtils().then(function(e){i.e("mui-cppublisher").then(function(t){var n=i(331);this._publisher=new n({cpUtils:e}),this._getPublisherDefer.resolve(this._publisher)}.bind(this).bind(null,i)).catch(i.oe)}.bind(this))),this._getPublisherDefer.promise)},getUtils:function(){return this._cpUtils?t.resolve(this._cpUtils):(this._getUtilsDefer||(this._getUtilsDefer=t.defer(),this.getPubController().then(function(e){i.e("mui-cputils").then(function(e){var t=i(332);this._cpUtils=new t({pubController:this._pubController}),this._getUtilsDefer.resolve(this._cpUtils)}.bind(this).bind(null,i)).catch(i.oe)}.bind(this))),this._getUtilsDefer.promise)},getPubController:function(){return this._pubController?t.resolve(this._pubController):(this._getPubControllerDefer||(this._getPubControllerDefer=t.defer(),i.e("mui-pubcontroller").then(function(e){this._pubController=i(333),this._getPubControllerDefer.resolve(this._pubController)}.bind(this).bind(null,i)).catch(i.oe)),this._getPubControllerDefer.promise)}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(175),i(11),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";new a({color:"blue",name:"PopOverView"});return i.View.extend({parentEl:".popover-wrapper",cachename:"popover-view",events:{"click .popover-primary-btn":"handlePrimaryClick","click .popover-secondary-btn":"handleSecondaryClick"},initialize:function(i){t.bindAll(this,t.functionsIn(this)),this.setOptions(i),"auto"===this.height&&this.determineHeight(),this.showing=!1,marvel.events.on("spark-area-change",function(){this.showing&&this.hide()}.bind(this)),e(window).resize(t.throttle(function(){this.showing&&(this.hideOnResize?this.hide():this.show())}.bind(this),1e3)),this.hideEvent&&marvel.events.on(this.hideEvent,function(){this.showing&&this.hide()}.bind(this))},setOptions:function(t){t&&(t.target&&(this.$referenceView=t.target instanceof e?t.target:e(t.target)),this.popOverName=t.name||"unnamed-takeover",this.logoURL=this._normalizeImageNameBasedOnScreen(t.logo)||void 0,this.primaryTxt=t.primaryTxt||"",this.secondaryTxt=t.secondaryTxt||"",this.dialogClass=t.dialogClass||"",this.primaryBtnTitle=t.primaryBtnTitle||"",this.secondaryBtnTitle=t.secondaryBtnTitle||"",this.primaryClickHandler=t.primaryClickHandler||void 0,this.hideHandler=t.hideHandler||void 0,this.secondaryClickHandler=t.secondaryClickHandler||void 0,this.height=t.height||"auto",this.width=t.width||340,this.direction=t.direction||"auto",this.top=t.top||void 0,this.left=t.left||void 0,this.refHeight=t.refHeight||void 0,this.refWidth=t.refWidth||void 0,this.hideEvent=t.hideEvent||void 0,this.hideOnResize=t.hideOnResize||!1,this.highlight=t.highlight||!1,this.template=t.template||o,this.keepViewOnHide=t.keepViewOnHide||!1,this.isBeta=t.isBeta||!1,this.parentCssToAdd=t.parentCssToAdd,this.analyticsEvent=t.analyticsEvent||"viewedOnboarding",this.analyticsTrigger=t.name||"unnamed",this.primaryCTAAnalytic=t.primaryCTAAnalytic||"clickedOnboardingCTA",this.secondaryCTAAnalytic=t.secondaryCTAAnalytic||"clickedOnboardingMaybeLater")},handlePrimaryClick:function(){r.trackEvent(this.primaryCTAAnalytic,{trigger:this.analyticsTrigger}),t.isFunction(this.primaryClickHandler)&&this.primaryClickHandler(),this.hide()},handleSecondaryClick:function(){r.trackEvent(this.secondaryCTAAnalytic,{trigger:this.analyticsTrigger}),t.isFunction(this.secondaryClickHandler)&&this.secondaryClickHandler(),this.hide()},_isInEditor:function(){return window.marvel._siteSection&&0===window.marvel._siteSection.indexOf("editor:")},determineHeight:function(){var t=e("<div/>");t.html(s.mustacheRender(this.template,{primaryText:this.primaryTxt,isBeta:this.isBeta,secondaryText:this.secondaryTxt,dialogClass:this.dialogClass,logoURL:this.logoURL,secondaryBtnTitle:this.secondaryBtnTitle,primaryBtnTitle:this.primaryBtnTitle,height:"auto",width:this.width+"px",direction:"top"})).appendTo(this.parentEl);var i=t.find(".popover-dialog");i.css("animation","none"),this.height=i.height(),t.remove()},show:function(i){if(!i||"auto"==this.direction){var o=this.$referenceView?this.getDocumentOffset(this.$referenceView).top:this.top,a=this.$referenceView?this.getDocumentOffset(this.$referenceView).left:this.left,l=e(window).height()-(this.$referenceView?this.getDocumentOffset(this.$referenceView).top+this.$referenceView.outerHeight(!0):this.top+this.refHeight),c=e(window).width()-(this.$referenceView?this.getDocumentOffset(this.$referenceView).left+this.$referenceView.outerHeight(!0):this.left+this.refWidth),d=[{dir:"top",val:o},{dir:"left",val:a},{dir:"bottom",val:l},{dir:"right",val:c}],u=t.maxBy(d,function(e){return e.val});i=u&&u.dir?u.dir:"bottom",l<=this.height/2&&(i="top"),o<=this.height/2&&(i="bottom"),a<=this.width/2&&(i="right"),c<=this.width/2&&(i="left")}var h,p,f,g;switch(i){case"bottom":f="top";break;case"top":f="bottom";break;case"left":f="right";break;case"right":f="left";break;case"bottom-left":f="top-right",g="right";break;default:f="top"}this.highlight&&this.highlightElement(this.$referenceView),this.$el.html(s.mustacheRender(this.template,{primaryText:this.primaryTxt,isBeta:this.isBeta,secondaryText:this.secondaryTxt,dialogClass:this.dialogClass,logoURL:this.logoURL,secondaryBtnTitle:this.secondaryBtnTitle,primaryBtnTitle:this.primaryBtnTitle,height:this.height+"px",width:this.width+"px",direction:f}));var m=this.$el.parent();m.length||(m=e(this.parentEl)).append(this.$el),this.parentCssToAdd&&m.addClass(this.parentCssToAdd);var v=this.$el.find(".popover-dialog");this.$referenceView||(this.$referenceView={offset:function(){return{top:this.top,left:this.left}}.bind(this),outerWidth:function(){return this.refWidth}.bind(this),outerHeight:function(){return this.refHeight}.bind(this)});var b=this.positionElementAroundAnother(this.$referenceView,v,{position:i,positionOffset:10,align:g});return h=b.y+"px",p=b.x+"px",v.css({top:h,left:p}),v.addClass(f),this.showing=!0,r.trackEvent(this.analyticsEvent,{trigger:this.analyticsTrigger}),t.defer(function(){this.$el.removeClass("hide")}.bind(this)),this.$el.find(".popover-fixed").removeClass("hide"),t.defer(function(){e("#active-popover").click(function(e){e.stopImmediatePropagation(),this.showing&&this.hide("no-selection")}.bind(this))}.bind(this)),n(!0)},highlightElement:function(e){e.addClass("popover-highlight-element")},removeHighlight:function(e){e.removeClass("popover-highlight-element")},getDocumentOffset:function(t){var i=0,n=0;if(t=e(t)[0]){var r=t.offsetParent;for(i=t.offsetLeft,n=t.offsetTop;t;)t===r&&(i+=t.offsetLeft,n+=t.offsetTop,r=t.offsetParent),i-=t.scrollLeft||0,n-=t.scrollTop||0,t=t.parentNode}return{left:i,top:n}},positionElementAroundAnother:function(t,i,n){n=e.extend({position:"right",positionOffset:0,align:"center",alignOffset:0},n);var r=t.tagName?e(t):t,o=e(i),a=o.offsetParent();o.removeClass("top bottom left right");var s=r.offset(),l=r.outerWidth(),c=r.outerHeight(),d=a.offset(),u=o.outerWidth(),h=o.outerHeight(),p=n.positionOffset,f=n.align,g=n.alignOffset,m=s.left-d.left,v=s.top-d.top;switch(n.position){case"top":m=m+this.getAlignmentAdjustment(f,l,u)+g,v=v-h-p;break;case"bottom":case"bottom-left":m=m+this.getAlignmentAdjustment(f,l,u)+g,v=v+c+p;break;case"left":m=m-u-p,v=v+this.getAlignmentAdjustment(f,c,h)+g;break;case"right":default:m=m+l+p,v=v+this.getAlignmentAdjustment(f,c,h)+g}return{x:m,y:v}},getAlignmentAdjustment:function(e,t,i){var n=0;switch(e){case"left":case"top":n=0;break;case"right":case"bottom":n=t-i;break;case"center":default:n=(t-i)/2}return n},_normalizeImageNameBasedOnScreen:function(e){return e&&window.devicePixelRatio>1&&-1==e.indexOf("@2x")?e.replace(/\.(?=[^.]*$)/,"@2x."):e},hide:function(i){if(this.showing=!1,this.parentCssToAdd){var n=this.$el.parent();n.length&&n.removeClass(this.parentCssToAdd)}return this.$el.addClass("hide"),this.$el.find(".popover-fixed").addClass("hide"),t.isFunction(this.hideHandler)&&this.hideHandler(i),this.keepViewOnHide||(e("#active-popover").unbind("click"),this.remove()),this},remove:function(){if(this.parentCssToAdd){var e=this.$el.parent();e.length&&e.removeClass(this.parentCssToAdd)}return i.View.prototype.remove.apply(this,arguments),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(6),i(4),i(8),i(35),i(62)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return n.View.extend({el:".language-and-region",cacheName:"LanguageSelectorView",initialize:function(e){this.location=e.location},render:function(){if(r.enableLocaleDetection){this.$el.closest(".spark-user-locale").removeClass("hide");var e={widthSetByStyle:!0,placeholderText:"Select your language…",onchangeCallback:function(e){var t=e.getValue();o.trackEvent("languageSelected",{contextualData1:"switchedFromLanguage:"+a.getLocale(),contextualData2:"switchedToLanguage:"+t},this._analyticsPageName,function(){var e=s.parse(this.location||window.location.href,!0);e.pathname=a.getLocalizedSparkPath(e.pathname,t),a.setLocaleCookie(t),this._navigate(s.format(e))}.bind(this))}.bind(this),items:a.getSupportedLocales()};this.dropdownView=new l(this.$el,e,this),this.dropdownView.render(),this.dropdownView.setValue(a.getLocale())}else this.$el.closest(".spark-user-locale").addClass("hide");return this},remove:function(){this.dropdownView&&this.dropdownView.remove(),this.$el.empty()},_navigate:function(e){window.location=e}})}.apply(t,n))||(e.exports=r)},function(e,t,i){!function(t,i){e.exports=i()}("undefined"!=typeof self&&self,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryLanguages=t.createLocaleFromIMS=t.getAppNameFromURL=t.isUmbrellaRegionApp=t.getUmbrellaRegions=t.getAllLocales=t.langScript=t.normalize=t.priuse=t.region=t.script=t.extlang=t.lang=t.findKey=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),o=l(i(39)),a=i(3),s=l(a);function l(e){return e&&e.__esModule?e:{default:e}}var c=/^([a-zA-Z]{2})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?(?:-x-([a-zA-Z0-9]{1,8})(?=$))?$/,d=function(e){return e.match(c)||[]},u=function(e,t){return Object.keys(e).filter(function(i){return t(e[i])})[0]},h=function(e){return d(e)[1]||""},p=function(e){return d(e)[4]||""},f=function(e){var t="",i=d(e);if(i.length>0)if(void 0!==i[3])t=i[1]+"-"+i[3];else if("zh"===i[1].toLowerCase()&&void 0!==i[4]){var n=i[4].toLowerCase();t=["tw","hk"].includes(n)?"zh-Hant":"zh-Hans"}else t=i[1];return t},g=function(){var e={},t={};return Object.keys(r).forEach(function(t){e=n({},e,r[t])}),Object.keys(e).forEach(function(i){var n=e[i];void 0===t[n]&&(t[n]=n,t[n.toLowerCase()]=n)}),e=n({},t,e)},m=function(e){return u(a.umbrellaRegions,function(t){return t.includes(e.toLowerCase())})},v=function(e){return a.umbrellaRegionApp.includes(e)},b=function(e){return e.replace(/^(https?:\/\/)/,"").replace(/^(www\.)/,"")};t.findKey=u,t.lang=h,t.extlang=function(e){return d(e)[2]||""},t.script=function(e){return d(e)[3]||""},t.region=p,t.priuse=function(e){return d(e)[5]||""},t.normalize=function(e,t){var i=t&&r[t]&&r[t][e]?r[t][e]:g()[e];if(void 0===i&&t&&v(t)){var n=m(p(e));n&&(i=h(e).toLowerCase()+"-x-"+n.toUpperCase())}return i},t.langScript=f,t.getAllLocales=g,t.getUmbrellaRegions=m,t.isUmbrellaRegionApp=v,t.getAppNameFromURL=function(e){var t=b(e.trim().toLowerCase());return u(s.default,function(e){return 0===t.indexOf(b(e.production))||0===t.indexOf(b(e.stage))})},t.createLocaleFromIMS=function(e,t){var i=!1,n="en-US";if("string"==typeof e&&"string"==typeof t&&2===t.length){var r=f(e),a=t.toUpperCase(),s=o.default[a];void 0!==s&&(s.includes(r)?i=!0:r=s[0]||"en",n=r+"-"+a)}return{match:i,locale:n}},t.getCountryLanguages=function(e){var t=["en"],i="string"==typeof e?o.default[e.toUpperCase()]||[]:t;return i.length?i:t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),r=i(0);t.default=function(e,t,i){if(void 0===n[e])return"";var o=void 0,a=void 0,s=(0,r.getAllLocales)();if(t&&(""!==(0,r.lang)(t)||void 0!==s[t]))if(void 0!==n[e][t])o=t;else if("string"==typeof(a=s[t])?o=(0,r.findKey)(n[e],function(e){return e===a}):a=t,void 0===o&&""!==(0,r.lang)(a)){if(""!==(0,r.script)(a)){var l=a.substr(0,7).toLowerCase();o=(0,r.findKey)(n[e],function(e){return e.substr(0,7).toLowerCase()===l})}if(void 0===o&&(0,r.isUmbrellaRegionApp)(e)){var c=(0,r.getUmbrellaRegions)((0,r.region)(t));if(c){var d=(0,r.lang)(t)+"-x-"+c.toUpperCase();void 0===(o=(0,r.findKey)(n[e],function(e){return e===d}))&&void 0!==n[e][c]&&(o=c)}}if(void 0===o){var u=a.substr(0,2).toLowerCase();o=(0,r.findKey)(n[e],function(e){return e.substr(0,2).toLowerCase()===u})}}return void 0===o&&void 0!==i&&(o=(0,r.findKey)(n[e],function(e){return e===i||e===s[i]})),"stock"===e&&"us"===o&&(o=""),o||""}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6);Object.defineProperty(t,"accountmanagement",{enumerable:!0,get:function(){return R(n).default}});var r=i(7);Object.defineProperty(t,"adminconsole",{enumerable:!0,get:function(){return R(r).default}});var o=i(8);Object.defineProperty(t,"adobeaccount",{enumerable:!0,get:function(){return R(o).default}});var a=i(9);Object.defineProperty(t,"assets",{enumerable:!0,get:function(){return R(a).default}});var s=i(10);Object.defineProperty(t,"assets_v1",{enumerable:!0,get:function(){return R(s).default}});var l=i(11);Object.defineProperty(t,"behance",{enumerable:!0,get:function(){return R(l).default}});var c=i(12);Object.defineProperty(t,"cchome",{enumerable:!0,get:function(){return R(c).default}}),Object.defineProperty(t,"comments",{enumerable:!0,get:function(){return R(a).default}});var d=i(13);Object.defineProperty(t,"color",{enumerable:!0,get:function(){return R(d).default}});var u=i(14);Object.defineProperty(t,"creativecloudapp",{enumerable:!0,get:function(){return R(u).default}});var h=i(15);Object.defineProperty(t,"dc",{enumerable:!0,get:function(){return R(h).default}});var p=i(16);Object.defineProperty(t,"dcweb",{enumerable:!0,get:function(){return R(p).default}});var f=i(17);Object.defineProperty(t,"editbilling",{enumerable:!0,get:function(){return R(f).default}});var g=i(18);Object.defineProperty(t,"experiencecloud",{enumerable:!0,get:function(){return R(g).default}});var m=i(19);Object.defineProperty(t,"helpx",{enumerable:!0,get:function(){return R(m).default}});var v=i(20);Object.defineProperty(t,"ims",{enumerable:!0,get:function(){return R(v).default}});var b=i(21);Object.defineProperty(t,"lightroom",{enumerable:!0,get:function(){return R(b).default}});var y=i(22);Object.defineProperty(t,"mcs",{enumerable:!0,get:function(){return R(y).default}});var w=i(23);Object.defineProperty(t,"ngl",{enumerable:!0,get:function(){return R(w).default}});var k=i(24);Object.defineProperty(t,"acrobat_plan",{enumerable:!0,get:function(){return R(k).default}});var x=i(25);Object.defineProperty(t,"panel_licensing",{enumerable:!0,get:function(){return R(x).default}});var _=i(26);Object.defineProperty(t,"portfolio",{enumerable:!0,get:function(){return R(_).default}});var C=i(27);Object.defineProperty(t,"publiclinks",{enumerable:!0,get:function(){return R(C).default}});var S=i(28);Object.defineProperty(t,"redemption_ui",{enumerable:!0,get:function(){return R(S).default}}),Object.defineProperty(t,"sharesheet",{enumerable:!0,get:function(){return R(a).default}});var T=i(29);Object.defineProperty(t,"spark",{enumerable:!0,get:function(){return R(T).default}});var M=i(30);Object.defineProperty(t,"stock",{enumerable:!0,get:function(){return R(M).default}});var I=i(31);Object.defineProperty(t,"typekit",{enumerable:!0,get:function(){return R(I).default}}),Object.defineProperty(t,"fonts",{enumerable:!0,get:function(){return R(I).default}});var D=i(32);Object.defineProperty(t,"unifiedcheckout",{enumerable:!0,get:function(){return R(D).default}});var P=i(33);Object.defineProperty(t,"unifiedcheckout_v1",{enumerable:!0,get:function(){return R(P).default}});var E=i(34);Object.defineProperty(t,"uss",{enumerable:!0,get:function(){return R(E).default}});var A=i(35);Object.defineProperty(t,"utilitynav",{enumerable:!0,get:function(){return R(A).default}});var F=i(36);Object.defineProperty(t,"xd",{enumerable:!0,get:function(){return R(F).default}});var L=i(37);Object.defineProperty(t,"adobedotcom",{enumerable:!0,get:function(){return R(L).default}}),Object.defineProperty(t,"globalnav",{enumerable:!0,get:function(){return R(L).default}});var N=i(38);function R(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"_supplement",{enumerable:!0,get:function(){return R(N).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.urlApp=["adobedotcom","helpx","stock","accountmanagement","creativecloudapp","acrobat_plan","ngl","color"],t.langParamApp=["adobeaccount","redemption_ui"],t.umbrellaRegionApp=["adobedotcom","helpx","globalnav","ims","acrobat_plan","ngl"],t.umbrellaRegions={africa:["africa","ao","bf","bi","bj","bw","cd","cf","cg","ci","cm","cv","dj","er","et","ga","gh","gm","gn","gq","gw","ke","km","lr","ls","mg","ml","mu","mw","mz","na","ne","ng","rw","sc","sd","sl","sn","so","st","sz","td","tg","tz","ug","za","zm","zw"],cis:["cis","am","az","by","ge","kg","kz","md","tj","tm","uz"],la:["la","ar","bl","bo","br","bz","cl","co","cr","cu","do","ec","fk","gf","gt","gy","hn","ht","mf","mq","ni","pa","pe","pr","py","sr","sv","uy","ve"],mena:["mena","ae","bh","dz","eg","jo","kw","lb","ma","om","qa","sa","tn","ye","iq","ly","mr"],sea:["sea","id","my","ph","sg","th","vn"]};t.default={acrobat_plan:{stage:"https://stage.acrobat.adobe.com",production:"https://acrobat.adobe.com"},adobeaccount:{stage:"https://stage.account.adobe.com",production:"https://account.adobe.com"},adobedotcom:{stage:"https://www.stage.adobe.com",production:"https://www.adobe.com"},adminconsole:{stage:"https://stage.adminconsole.adobe.com",production:"https://adminconsole.adobe.com"},accountmanagement:{stage:"https://prestage.accounts.adobe.com",production:"https://accounts.adobe.com"},assets:{stage:"https://assets-stage.adobecc.com",production:"https://assets.adobe.com"},assets_v1:{stage:"https://assets2-stage.adobecc.com",production:"https://assets2.adobe.com"},behance:{stage:"https://net.s2stagehance.com",production:"https://www.behance.net"},cchome:{stage:"https://stage.creativecloud.adobe.com",production:"https://creativecloud.adobe.com"},color:{stage:"https://stage.adobeku.com",production:"https://color.adobe.com"},creativecloudapp:{stage:"https://stage.ccmui.adobe.com",production:"https://creative.adobe.com"},dc:{stage:"https://cloud.stage.acrobat.com",production:"https://cloud.acrobat.com"},dcweb:{stage:"https://dc-stage.documentcloudtest.com",production:"https://documentcloud.adobe.com"},experiencecloud:{stage:"https://experiencecloud-stage.adobe.com",production:"https://experiencecloud.adobe.com"},helpx:{stage:"https://helpx.stage.adobe.com",production:"https://helpx.adobe.com"},ims:{stage:"https://ims-na1-stg1.adobelogin.com",production:"https://adobeid-na1.services.adobe.com"},lightroom:{stage:"https://stage.adobelr.com",production:"https://lightroom.adobe.com"},ngl:{stage:"https://workflow-stage.licenses.adobe.com",production:"https://workflow.licenses.adobe.com"},portfolio:{stage:"https://www.ccpsx.com",production:"https://portfolio.adobe.com"},redemption_ui:{stage:"https://commerce-stg.adobe.com/redeem",production:"https://creative.adobe.com/redeem"},stock:{stage:"https://primary.stock.stage.adobe.com",production:"https://stock.adobe.com"},spark:{stage:"https://stage.adobeprojectm.com",production:"https://spark.adobe.com"},typekit:{stage:"https://relstage.typekit.com",production:"https://typekit.com"},fonts:{stage:"https://fonts-relstage.adobe.com",production:"https://fonts.adobe.com"},xd:{stage:"https://stage.xd.adobe.com",production:"https://xd.adobe.com"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),r=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i(1));t.default=function(e,t){try{if("string"!=typeof e||"string"!=typeof t)throw Error('expect "url" and "locale" to be string.');var i=e,a=(0,r.getAppNameFromURL)(e);if(void 0===a)throw Error('this app is not supported yet: "'+e+'"');var s=(0,o.default)(a,t);if(s){var l=(0,r.getAllLocales)();if(n.urlApp.includes(a)){"en"!==s&&"us"!==s||(s="");var c=/adobe(?:stock){0,1}\.com\/(.*?)(?=\/|$)/;"acrobat_plan"===a&&(c=/adobe\.com\/(.{5,10}?)(?=\/|$)/);var d=(e.match(c)||[])[1];void 0!==d&&void 0!==l[d]?i=e.replace(".com/"+d,""===s?".com":".com/"+s):""!==s&&(i=e.replace(".com",".com/"+s))}else{var u=n.langParamApp.includes(a)?"lang":"locale",h=new RegExp("("+u+"=)(.*?)(?=&|$)");i=void 0!==(e.match(h)||[])[2]?e.replace(h,"$1"+s):e+(e.includes("?")?"&":"?")+u+"="+s}}return i}catch(e){console.error("[getLocalizedURL] Error: "+e.message)}return e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1);Object.defineProperty(t,"getAppLocale",{enumerable:!0,get:function(){return d(n).default}});var r=i(40);Object.defineProperty(t,"getAppLocales",{enumerable:!0,get:function(){return d(r).default}});var o=i(41);Object.defineProperty(t,"getAppLocaleFromIMS",{enumerable:!0,get:function(){return d(o).default}});var a=i(4);Object.defineProperty(t,"getLocalizedURL",{enumerable:!0,get:function(){return d(a).default}});var s=i(42);Object.defineProperty(t,"getLocalizedURLFromIMS",{enumerable:!0,get:function(){return d(s).default}});var l=i(43);Object.defineProperty(t,"parseLocaleParam",{enumerable:!0,get:function(){return d(l).default}});var c=i(0);function d(e){return e&&e.__esModule?e:{default:e}}Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hr:"hr-HR",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA",zh_cn:"zh-Hans-CN",zh_tw:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",zh:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","nb-NO":"nb-NO","nl-NL":"nl-NL","pt-BR":"pt-BR","sv-SE":"sv-SE"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",it:"it-IT",ja:"ja-JP","ko-kr":"ko-KR","pt-br":"pt-BR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mena_ar:"ar-x-MENA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",en:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",eeurope:"en-x-EEUROPE",mena_en:"en-x-MENA",sea:"en-x-SEA",es:"es-ES",mx:"es-MX",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_AE:"en-AE",en_GB:"en-GB",en_IL:"en-IL",en_XM:"en-x-MENA",es_ES:"es-ES",es_LA:"es-x-LA",es_MX:"es-MX",es_NA:"es-x-NA",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-RS",sr_SP:"sr-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_HANS:"zh-Hans-CN",zh_CN:"zh-Hans-CN",zh_HANT:"zh-Hant-TW",zh_TW:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","es-MX":"es-MX","fr-FR":"fr-FR","fr-CA":"fr-CA","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nl-NL":"nl-NL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ar_AE:"ar-AE",bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_HK:"en-HK",en_IL:"en-IL",es_ES:"es-ES",es_MX:"es-MX",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",he_IL:"he-IL",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_HK:"zh-Hant-HK",zh_TW:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_IL:"en-IL",en_AE:"en-AE",en_XM:"en-x-MENA",es_ES:"es-ES",es_MX:"es-MX",es_LA:"es-x-LA",es_NA:"es-x-NA",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",hu_HU:"hu-HU",sk_SK:"sk-SK",sl_SI:"sl-SI",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"at/de":"de-AT","au/en":"en-AU","be/en":"en-BE","be/fr":"fr-BE","be/nl":"nl-BE","bg/en":"en-BG","br/pt":"pt-BR","ca/en":"en-CA","ca/fr":"fr-CA","ch/de":"de-CH","ch/fr":"fr-CH","ch/it":"it-CH","cn/zh-Hans":"zh-Hans-CN","cy/en":"en-CY","cz/cs":"cs-CZ","de/de":"de-DE","dk/da":"da-DK","ee/en":"en-EE","es/es":"es-ES","fi/fi":"fi-FI","fr/fr":"fr-FR","gr/en":"en-GR","hk/en":"en-HK","hk/zh-Hant":"zh-Hant-HK","hu/hu":"hu-HU","ie/en":"en-IE","il/en":"en-IL","in/en":"en-IN","it/it":"it-IT","jp/ja":"ja-JP","kr/ko":"ko-KR","la/es":"es-x-LA","lt/en":"en-LT","lu/de":"de-LU","lu/en":"en-LU","lu/fr":"fr-LU","lv/en":"en-LV","mena/en":"en-x-MENA","mt/en":"en-MT","mx/es":"es-MX","nl/nl":"nl-NL","no/no":"nb-NO","nz/en":"en-NZ","pl/pl":"pl-PL","pt/pt":"pt-PT","ro/en":"en-RO","ru/ru":"ru-RU","se/sv":"sv-SE","sea/en":"en-x-SEA","si/en":"en-SI","sk/en":"en-SK","tr/tr":"tr-TR","tw/zh-Hant":"zh-Hant-TW","ua/en":"en-UA","uk/en":"en-GB","us/en":"en-US","za/en":"en-x-AFRICA"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","pt-PT":"pt-PT","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","tr-TR":"tr-TR","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-HK":"zh-Hant-HK","zh-TW":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={en_us:"en-US",en_au:"en-AU",en_be:"en-BE",en_br:"en-BR",en_ca:"en-CA",en_cis:"en-x-CIS",en_cy:"en-CY",en_gb:"en-GB",en_gr:"en-GR",en_il:"en-IL",en_ie:"en-IE",en_in:"en-IN",en_hk:"en-HK",en_lu:"en-LU",en_mena:"en-x-MENA",en_mt:"en-MT",en_nz:"en-NZ",en_sea:"en-x-SEA",en_za:"en-ZA",cs_cz:"cs-CZ",da_dk:"da-DK",de_de:"de-DE",de_ch:"de-CH",de_lu:"de-LU",es_es:"es-ES",es_419:"es-x-LA",es_mx:"es-MX",fr_fr:"fr-FR",fi_fi:"fi-FI",fr_ca:"fr-CA",fr_ch:"fr-CH",fr_be:"fr-BE",fr_mena:"fr-x-MENA",fr_lu:"fr-LU",it_it:"it-IT",it_ch:"it-CH",ja_jp:"ja-JP",ko_kr:"ko-KR",nb_no:"nb-NO",nl_nl:"nl-NL",pl_pl:"pl-PL",pt_pt:"pt-PT",pt_br:"pt-BR",ru_ru:"ru-RU",sv_se:"sv-SE",tr_tr:"tr-TR",zh_cn:"zh-Hans-CN",zh_tw:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"en-US":"en-US","de-DE":"de-DE","fr-FR":"fr-FR","es-ES":"es-ES","it-IT":"it-IT","pt-BR":"pt-BR"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",au:"en-AU",uk:"en-GB",gr_en:"en-GR",ie:"en-IE",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",es:"es-ES",mx:"es-MX",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI",se:"sv-SE",th:"th-TH",ua:"uk-UA",hk:"zh-Hant-HK"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"de-DE":"de-DE","en-US":"en-US","fr-FR":"fr-FR","ja-JP":"ja-JP"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hant":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",no:"nb-NO",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",de_LU:"de-LU",el_GR:"el-GR",en_US:"en-US",en_GB:"en-GB",es_ES:"es-ES",et_EE:"et-EE",fr_FR:"fr-FR",fr_CA:"fr-CA",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",pt_PT:"pt-PT",ro_RO:"ro-RO",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",es_ES:"es-ES",fi_FI:"fi-FI",fr_FR:"fr-FR",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_PT:"pt-PT",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fr-FR":"fr-FR","ja-JP":"ja-JP","ko-KR":"ko-KR","pt-BR":"pt-BR"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mena_ar:"ar-x-MENA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",cis_en:"en-x-CIS",mena_en:"en-x-MENA",sea:"en-x-SEA",sg:"en-x-SEA",es:"es-ES",mx:"es-MX",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis_ru:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={uk:"uk-UA",pt:"pt-BR",th:"th-TH",zh:"zh-Hans-CN","zh-tw":"zh-Hant-TW",zh_TW:"zh-Hant-TW","zh-HK":"zh-Hant-HK",zh_HK:"zh-Hant-HK",zh_Hans:"zh-Hans-CN",zh_hans:"zh-Hans-CN",zh_Hant:"zh-Hant-TW",zh_hant:"zh-Hant-TW","zh-hans-CN":"zh-Hans-CN","zh-hant-TW":"zh-Hant-TW","zh-hant-HK":"zh-Hant-HK"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={AF:[],AX:[],AL:[],DZ:["ar","fr","en"],AS:[],AD:["es","fr","pt"],AO:["pt"],AI:[],AQ:["en"],AG:["en"],AR:["es"],AM:["en","ru"],AW:[],AU:["en"],AT:["de"],AZ:["en","ru"],BS:["en"],BH:["ar","en"],BD:[],BB:["en"],BY:["ru"],BE:["nl","en","fr"],BZ:[],BJ:[],BM:["en"],BT:[],BO:["es"],BA:["en"],BW:["en"],BV:[],BR:["pt"],IO:[],BN:["en"],BG:["bg"],BF:[],BI:["en","fr"],KH:[],CM:["en","fr"],CA:["en","fr"],CV:[],KY:["en"],CF:[],TD:[],CL:["es"],CN:["zh-Hans","zh-hans"],CX:[],CC:["en"],CO:["es"],KM:[],CG:["en","fr"],CD:["en","fr"],CK:[],CR:["es"],CI:["en","fr"],HR:["hr"],CU:[],CY:["en"],CZ:["cs"],DK:["da"],DJ:[],DM:["en"],DO:["es"],EC:["es"],EG:["ar","en"],SV:["es"],GQ:[],ER:[],EE:["et"],ET:[],FK:[],FO:["da"],FJ:[],FI:["fi"],FR:["fr"],GF:["fr"],PF:[],TF:[],GA:[],GM:[],GE:["en","ru"],DE:["de"],GH:["en"],GI:[],GR:["en"],GL:[],GD:[],GP:["en","fr"],GU:[],GT:["es"],GG:[],GN:[],GW:[],GY:["en"],HT:["en","fr"],HM:[],VA:[],HN:["es"],HK:["en","zh-Hant","zh-hant"],HU:["hu"],IS:[],IN:["en"],ID:["en"],IR:[],IQ:["ar"],IE:["en"],IM:[],IL:["he","en"],IT:["it"],JM:["en"],JP:["ja"],JE:[],JO:["ar","en"],KZ:["ru"],KE:["en"],KI:[],KR:["ko"],KV:[],KW:["ar","en"],KG:["ru","en"],LA:[],LV:["lv"],LB:["ar","en"],LS:["en"],LR:["en"],LY:["ar"],LI:[],LT:["lt"],LU:["en","de","fr"],MO:[],MK:[],MG:["en","fr"],MW:[],MY:["en"],MV:[],ML:["en","fr"],MT:["en"],MH:[],MQ:["en","fr"],MR:["en","fr"],MU:["en","fr"],YT:["en","fr"],MX:["es"],FM:["en"],MD:["en","ru"],MC:[],MN:[],ME:[],MS:[],MA:["ar","fr","en"],MZ:["pt"],MM:[],NA:["en"],NR:[],NP:[],NL:["nl"],AN:["nl","en"],NC:[],NZ:["en"],NI:["es"],NE:["en","fr"],NG:["en"],NU:[],NF:[],MP:["en"],NO:["nb"],OM:["ar","en"],PK:["en"],PW:[],PS:[],PA:["es"],PG:[],PY:["es"],PE:["es"],PH:["en"],PN:[],PL:["pl"],PT:["pt"],PR:["es"],QA:["ar","en"],RE:[],RO:["ro"],RU:["ru"],RW:[],BL:[],SH:[],KN:["en"],LC:["en"],MF:[],PM:[],VC:["pt"],WS:[],SM:[],ST:[],SA:["ar","en"],SN:["en","fr"],RS:["rs"],SC:[],SL:[],SG:["en"],SK:["sk"],SI:["sl"],SB:[],SO:[],ZA:["en"],GS:[],ES:["es"],LK:[],SD:[],SR:["nl"],SJ:[],SZ:[],SE:["sv"],CH:["de","fr","it"],SY:[],TW:["zh-Hant","zh-hant"],TJ:["ru","en"],TZ:["en"],TH:["en"],TL:[],TG:[],TK:[],TO:[],TT:["en"],TN:["ar","fr","en"],TR:["tr"],TM:["ru","en"],TC:["en"],TV:[],UG:["en"],UA:["uk"],AE:["en","ar"],GB:["en"],US:["en"],UM:[],UY:["es"],UZ:["ru","en"],VU:[],VE:["es"],VN:["en"],VG:["en"],VI:[],WF:[],EH:[],YE:["ar","en"],ZM:["en"],ZW:["en"]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2));t.default=function(e){return n[e]&&Object.keys(n[e])}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(1)),r=i(0);t.default=function(e,t,i){var o=(0,r.createLocaleFromIMS)(t,i),a=o.locale;return{match:o.match,locale:(0,n.default)(e,a)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(4)),r=i(0);t.default=function(e,t,i){var o=(0,r.createLocaleFromIMS)(t,i),a=o.locale;return{match:o.match,url:(0,n.default)(e,a)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(1)),r=i(0),o=i(3);t.default=function(e){var t=void 0;if("string"==typeof e){var i=(0,r.getAppNameFromURL)(e);if(i){var a=o.langParamApp.includes(i)?"lang":"locale",s=new RegExp("("+a+"=)(.*?)(?=&|$)");t=(e.match(s)||[])[2],t=(0,n.default)(i,t,"en-US")}}return t}}])})},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(6),i(1)],void 0===(r=function(e,t,i,n,r){"use strict";var o=null,a={},s={},l={},c={Advertisement:{title:"Advertisement",iconURL:"/images/examples/flyer-lt.svg"},Announcement:{title:"Announcement",iconURL:"/images/examples/announcement-lt.svg"},"Animated Story":{title:"Animated Story",iconURL:"/images/examples/announcement-lt.svg"},Article:{title:"Article",iconURL:"/images/examples/webpage-lt.svg"},Brochure:{title:"Brochure",iconURL:"/images/examples/brochure-lt.svg"},Catalog:{title:"Catalog",iconURL:"/images/examples/catalog-lt.svg"},"Did You Know":{title:"Did You Know",iconURL:"/images/examples/flyer-lt.svg"},"Explainer/How To":{title:"Explainer/How To",iconURL:"/images/examples/flyer-lt.svg"},"Event Recap":{title:"Event Recap",iconURL:"/images/examples/flyer-lt.svg"},"Facebook Cover":{title:"Facebook Cover",iconURL:"/images/examples/flyer-lt.svg"},"Facts and Figures":{title:"Facts and Figures",iconURL:"/images/examples/flyer-lt.svg"},"For Fun":{title:"For Fun",iconURL:"/images/examples/flyer-lt.svg"},Flyer:{title:"Flyer",iconURL:"/images/examples/flyer-lt.svg"},Fundraiser:{title:"Fundraiser",iconURL:"/images/examples/fundraiser-lt.svg"},Greeting:{title:"Greeting",iconURL:"/images/examples/flyer-lt.svg"},"Hero Image":{title:"Hero Image",iconURL:"/images/examples/flyer-lt.svg"},Invitation:{title:"Invitation",iconURL:"/images/examples/flyer-lt.svg"},Lesson:{title:"Lesson",iconURL:"/images/examples/school-lt.svg"},"Linkedin Cover":{title:"Linkedin Cover",iconURL:"/images/examples/school-lt.svg"},Meme:{title:"Meme",iconURL:"/images/examples/flyer-lt.svg"},Newsletter:{title:"Newsletter",iconURL:"/images/examples/newsletter-lt.svg"},"Personal Story":{title:"Personal Story",iconURL:"/images/examples/photoessay-lt.svg"},"Photo Journal":{title:"Photo Journal",iconURL:"/images/examples/photoessay-lt.svg"},"Photo Story":{title:"Photo Story",iconURL:"/images/examples/photoessay-lt.svg"},Presentation:{title:"Presentation",iconURL:"/images/examples/presentation-lt.svg"},Pitch:{title:"Pitch",iconURL:"/images/examples/presentation-lt.svg"},Portfolio:{title:"Portfolio",iconURL:"/images/examples/flyer-lt.svg"},Resume:{title:"Resume",iconURL:"/images/examples/newsletter-lt.svg"},Recipe:{title:"Recipe",iconURL:"/images/examples/newsletter-lt.svg"},Report:{title:"Report",iconURL:"/images/examples/newsletter-lt.svg"},"Sales Promotion":{title:"Sales Promotion",iconURL:"/images/examples/flyer-lt.svg"},"Social Cause":{title:"Social Cause",iconURL:"/images/examples/newsletter-lt.svg"},"Social Graphic":{title:"Social Graphic",iconURL:"/images/examples/newsletter-lt.svg"},"Social Newsletter":{title:"Social Newsletter",iconURL:"/images/examples/newsletter-lt.svg"},School:{title:"School",iconURL:"/images/examples/school-lt.svg"},Testimonial:{title:"Testimonial",iconURL:"/images/examples/photoessay-lt.svg"},"Training Material":{title:"Training Material",iconURL:"/images/examples/photoessay-lt.svg"},"Travel Journal":{title:"Travel Journal",iconURL:"/images/examples/photoessay-lt.svg"},"Twitter Cover":{title:"Twitter Cover",iconURL:"/images/examples/photoessay-lt.svg"},Webpage:{title:"Webpage",iconURL:"/images/examples/webpage-lt.svg"},Whitepaper:{title:"Whitepaper",iconURL:"/images/examples/webpage-lt.svg"},Quote:{title:"Quote",iconURL:"/images/examples/flyer-lt.svg"}};function d(e){switch(e.type){case"theo":e.uri=e.imageURI||e.thumbURI;break;case"voice":e.uri=e.embedURI,e.uri||(e.uri="https://cc-api-cp.adobe.io/api/v2/voice/assets/"+e.alias+"/video/embed?api_key=LucaApp1");break;case"slate":e.uri=n.slateExampleServer+e.alias+"/"}a[e.alias]=e}return new(r.Model.extend({getUseCase:function(e){return c[e]},fetch:function(){e.ajax({method:"GET",url:"/examples/favorites",success:function(e){var i=e;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){window.marvel.logger.error("JSON parse failed when fetching list of examples and categories "+e),o.reject(e)}t.each(i.categories,function(e){e&&e.slug&&(s[e.slug]=e)}),t.each(i["favorite-examples"],function(e){e&&e.alias&&d(e)}),o.resolve()},error:function(e){window.marvel.logger.error("Failed to load favorite examples data "+e.status,e),o.reject(e.status)}})},loaded:function(){return o||(o=i.defer(),this.fetch()),o.promise},fetchByExample:function(t){var n=i.defer();return e.ajax({method:"GET",url:"/examples/detail/"+t,success:function(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return window.marvel.logger.error("JSON parse failed when fetching specific example "+e),n.reject(e)}d(t),n.resolve(t)},error:function(e){window.marvel.logger.error("Failed to load example ["+t+"] data "+e.status,e),n.reject(e.status)}}),n.promise},getExamplesForType:function(e){return this.loaded().then(function(){return t.filter(a,function(t){return t.type==e})})},getExamplesForTypeSample:function(e,i){return this.getExamplesForType(e).then(function(e){return t.sampleSize(e,i)})},getExample:function(e){return a[e]?i.resolve(a[e]):(l[e]||(l[e]=this.fetchByExample(e)),l[e])},getCategories:function(){return this.loaded().then(function(){return s})},getCategory:function(e){return this.getCategories().then(function(i){var n=null;return t.each(i,function(t){t.slug===e&&(n=t)}),n})},getCategoriesForNPWOverlay:function(){return this.getCategories().then(function(e){var i=t.filter(e,function(e){return e.listedInNPWOverlay});return i.sort(function(e,t){return e.name.localeCompare(t.name)}),i})},getSubCategories:function(e){return this.getCategories().then(function(i){var n=t.filter(i,function(t){return t.subcategory==e});return n.sort(function(e,t){return e.name.localeCompare(t.name)}),n})},getCategoryFavorites:function(e){return this.getCategory(e).then(function(e){var n=[],r=[];return t.each(e.favorites,function(e){var t=r.length;r[t]="placeholder",n.push(this.getExample(e).then(function(e){return r[t]=e,e}))}.bind(this)),i.allSettled(n).then(function(){return r})}.bind(this))}}))}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n,r;n=[i(0),i(65),i(1),i(3),i(29),i(50),i(5),i(8)],void 0===(r=function(e,t,n,r,o,a,s,l){"use strict";return new(o.extend({typeName:"video",themeId:null,_projectById:{},_projectDeferById:{},getConfig:function(){return{syncGroup:"adobe-voice",scope:"voice",community:window.marvel.settings.voicec,newDocName:"My Video",doctype:"application/vnd.adobe.ginger.project+dcx",enabledFlagName:"enable-voice",legacyName:"Voice",displayName:"Video",templateSyncGroup:"adobe-voice-template",templateDCXType:"application/vnd.adobe.ginger.sptemplate+dcx"}},isBrowserSupported:function(){return!navigator.userAgent.match(/Trident\/(\d+[.]\d+)/)||!marvel.features.hasFeature("disable-video-for-unsupported-browsers")},getUnsupportedBrowserMessage:function(){var e=navigator.userAgent.toLowerCase(),t=/windows nt 6.1/.test(e),i=/windows nt 6.2/.test(e),n=/windows nt 6.3/.test(e);return t||i||n?"Spark Video uses some of the latest web magic that Internet Explorer does not support. Please switch to another modern browser like <a href='https://google.com/chrome' target='_blank'  class='confirm-dialog-link'>Chrome</a> or <a href='https://mozilla.org/firefox' target='_blank' class='confirm-dialog-link'>Firefox</a>.":"Spark Video uses some of the latest web magic that Internet Explorer does not support. Please switch to <strong>Microsoft Edge</strong> or another modern browser like <a href='https://google.com/chrome' target='_blank'  class='confirm-dialog-link'>Chrome</a> or <a href='https://mozilla.org/firefox' target='_blank' class='confirm-dialog-link'>Firefox</a>."},supportsAsyncPublish:function(){return marvel.features.hasFeature("share-video-async")},setProject:function(e){var t=e.get("uuid");this._projectById[t]=e,this.ensureProject(t),this._projectDeferById[t].resolve(e)},getProject:function(e){return this._projectById[e]},ensureProject:function(e){return this._projectDeferById[e]||(this._projectDeferById[e]=r.defer()),this._projectDeferById[e].promise},loadForShare:function(e,t){var i=r.defer(),n=r.defer();return this.lazyLoad(n),n.promise.then(function(){return this._loadProjectForPublish(e,t).then(function(){i.resolve()},function(e){i.reject(e)})}.bind(this)),i.promise},setSnapiEndpoint:function(e){this._snapiEndpoint=e},getSnapiEndpoint:function(){if(this._snapiEndpoint)return this._snapiEndpoint;var e;try{e=localStorage.getItem("voice-debug-snapi")}catch(e){}return e&&t.startsWith(e,"http")?this._snapiEndpoint=e:this.needsPreviewSnapi()?this._snapiEndpoint=this.getSnapiBranch("preview"):this.needsSneakSnapi()?this._snapiEndpoint=this.getSnapiBranch("sneak"):this._snapiEndpoint="https://"+window.marvel.settings.snapi,this._snapiEndpoint},needsPreviewSnapi:function(){return marvel.features.hasFeature("share-video-async")&&marvel.features.hasFeature("use-preview-snapi")},needsSneakSnapi:function(){return!1},getSnapiBranch:function(e){var i=window.marvel.settings.snapi;return t.includes(i,"snapi-dev")?"https://projectm-snapi-"+e+"-dev.adobe.io":t.includes(i,"snapi-stage")?"https://projectm-snapi-"+e+"-stage.adobe.io":"https://projectm-snapi-"+e+".adobe.io"},_loadProjectForPublish:function(e,t){var n=r.defer();return Promise.all([i.e(0),i.e(2),i.e(3),i.e("vendors~gs-app-ac-theme-editor~voice-web"),i.e("voice-web")]).then(function(r){var o=i(295),a=i(305),s=i(296),l=e.getEtag();this.getSnapiEndpoint(),o.isPublishOnly=!0,o.settings.isPaidUser=marvel.features.hasFeature("entitle-brand-kit"),o.currentProjectETag=l;var c=new a({uuid:e.get("id"),name:e.get("name"),etag:l});c.registerWithApp(!0),s.getAuthToken().then(function(){t?n.resolve(c.loadAndUpdate()):n.resolve()},function(e){n.reject(e)})}.bind(this).bind(null,i)).catch(i.oe),n.promise},_fetchStringsFromFile:function(t,i,n){var o="/ginger-snap/assets/locales/"+t+"/"+i[t][n];return r.Promise(function(r,a){e.getJSON(o,function(e){r(e)}).promise().fail(function(e){console.error("Failed to load strings for: "+t+"/"+o),"en-US"!==o?this._fetchStringsFromFile("en-US",i,n).then(r):a(e)}.bind(this))}.bind(this))},_fetchLocaleStrings:function(e,t){return r.Promise(function(i,n){return r.all([this._fetchStringsFromFile(e,t,"strings"),this._fetchStringsFromFile(e,t,"storyArcs")]).spread(function(e,t){e.storyArcs=t,this._setStrings(e,t),i()}.bind(this))}.bind(this))},_getLocale:function(){var e=l.getLocale()||"en-US";try{var t=localStorage.getItem("voice-debug-locale");t&&(e=t)}catch(e){}return e},_fetchLocaleData:function(){var e=this._getLocale(),t=i(122);return this._fetchLocaleStrings(e,t).then(function(){i(116).setLocale(e)})},cancelEditingSession:function(e){return this.ensureProject(e.id).then(function(e){return e.cancelLoad()}.bind(this))},lazyLoad:function(e){Promise.all([i.e(0),i.e(2),i.e(3),i.e("vendors~gs-app-ac-theme-editor~voice-web"),i.e("voice-web")]).then(function(t){this._fetchLocaleData().then(function(){var t=i(124),n=i(119),r=i(50);t.prototype.snapiServer=window.marvel.settings.snapi,this.setStorageImpl(r),this.setPublishImpl(n),this.setAppViewImplCls(t),e.resolve()}.bind(this))}.bind(this).bind(null,i)).catch(i.oe)},_setStrings:function(e){var n=i(68);t.extend(n,e)},usesContentModifiedEtags:function(){return!1},rebrandProject:function(){return r()},hasContentBeenUpdatedSincePublish:function(e,t){var n=this.getMetadata(e),r=!i(123).isPublishCurrent(n);return window.dbg&&dbg.log("hasContentBeenUpdatedSincePublish ret "+r),r},hasContentBeenUpdatedSinceDownload:function(e,t){var i=this.getMetadata(e);return!!(i.userModDate&&i.userModDate>t)},_getProjectInfo:function(e){return e.getDCXComposite().current.getChildWithAbsolutePath("/Project Info")},getMetadata:function(e,t){var i,n=this.getProject(e);n&&n.pageSequence&&!t?i=n.get("metadata"):i=this._getProjectInfo(e).getValue("ginger#data");return i},getThemeController:function(e){var t=r.defer();return Promise.all([i.e(0),i.e(2),i.e(3),i.e(1),i.e(9)]).then(function(e){this._fetchLocaleData().then(function(){t.resolve(i(298))})}.bind(this).bind(null,i)).catch(i.oe),t.promise},isDocPublished:function(e){var t=!1;try{t=!!this.getMetadata(e).publishedVideoURL}catch(e){t=!1}return t},getCPAlias:function(e){return this.getMetadata(e).publishedVideoID},setCPAlias:function(e,t){return console.log("why call setCPAlias?"),r(!1)},getCPAssetId:function(e){return this.getCPAlias(e)},setCPAssetId:function(e,t){return console.log("why call setCPAssetId?"),r(!1)},resetPublishState:function(e){e.publishedVideoID="",e.publishedVideoURL="",e.publishedDate="0",e.publishedDuration="0",e.publishCount="0",e.videoContentChanged="1",e.isExported="0"},resetDocPublishData:function(e,t){e.saveChanges(function(i){var n=this._getProjectInfo(e),r=n.getValue("ginger#data");this.resetPublishState(r),n.setValue("ginger#data",r),t&&t.resolve()}.bind(this))},updateIsExported:function(e){return e.pull().then(function(){e.saveChanges(function(t){var i=this.getMetadata(e),n=this._getProjectInfo(e);i.isExported="1",n.setValue("ginger#data",i)}.bind(this))}.bind(this))},WIPresetDocPublishData:function(e,t){Promise.all([i.e(0),i.e(2),i.e(3),i.e("vendors~gs-app-ac-theme-editor~voice-web"),i.e("voice-web")]).then(function(n){var r=i(124),o=i(119),a=i(50);r.prototype.snapiServer=window.marvel.settings.snapi,r.prototype.mainCSS=window.marvel.settings.gsmaincss,this.setStorageImpl(a),this.setPublishImpl(o),this.setAppViewImplCls(r);var s=this._getProjectInfo(e),l=s.getValue("ginger#data");this.resetPublishState(l),s.setValue("ginger#data",l);var c=Globals.SNAPI_ENDPOINT+"/project/"+e.getValue("id"),d={method:"PUT",url:c+="?xVer="+Globals.XVER,useApiKey:!0,params:null,body:{metadata:l},requestHeaders:{"Content-Type":"application/json"},projectETagInOut:!0};XhrUtils.xhr(d).then(function(e){project.setSavedPageSequenceJson(pageSequenceJson),t&&t.resolve()}.bind(this),function(e){throw debug.log("put failed with",e.xhrData),e}.bind(this))}.bind(this).bind(null,i)).catch(i.oe)},postDuplicate:function(e){var t=r.defer();return this.resetDocPublishData(e,t),t.promise},setProjectName:function(e,t){e.set("name",t),e.saveChanges(function(e){e.setValue("name",t)})},getProjectName:function(e,t){var i=e.get("name");if(i||(i=this.getConfig().newDocName),"social"===t){var n=this.getMetadata(e).publishedVideoTitle;n&&(i=n)}return i},checkLastPublishFailure:function(e){var t=this.getMetadata(e);return"share-failed"===t.lastPublishStatus?"share":"download-failed"===t.lastPublishStatus?"download":null},_handlePublishStatus:function(e,i){var n=e.jobStatus||e.runningJobs;t.each(n,function(e){var n=e.projectid,o=t.find(i,{id:n});o?(o.resolve?o.resolve():r(o)).then(function(t){t.set("publishProgress",e)}):console.log("Did not find project ref: "+n)}.bind(this)),t.each(e.downloadUrls,function(e){var n=e.projectId,o=t.find(i,{id:n});o?(o.resolve?o.resolve():r(o)).then(function(t){this.getMetadata(t);t.set("downloadData",{url:e.href,userModDate:e.userModDate})}.bind(this)):console.log("Did not find project ref: "+n)}.bind(this))},getDocPublishStates:function(){var t=this.getSnapiEndpoint();return r.Promise(function(i,n){s.getAccessToken().then(function(r){e.ajax({type:"GET",url:t+"/project/status",headers:{authorization:"Bearer "+r,"x-api-key":"ginger_snap1","x-gw-ims-user-id":s.getProfile().userId},success:function(e){i(e)}.bind(this),error:function(e){n(e)}})}.bind(this))}.bind(this))},updateDocPublishStates:function(e){return this.getDocPublishStates().then(function(t){return this._handlePublishStatus(t,e)}.bind(this))},getAuthoringContextThemeId:function(e){return this.themeId},setAuthoringContextThemeId:function(e,t){this.themeId=t||null},getFontsUsed:function(e){return this.ensureProject(e.id).then(function(e){return e.getFontsUsed()}.bind(this))},setUploadedFontsFlag:function(e){this._hasUploadedFonts=e},includesUploadedFonts:function(){return this._hasUploadedFonts},setAspectRatio:function(e){this.aspectRatio=e},getAspectRatio:function(){return this.aspectRatio},getThemeEditorView:function(){var e=r.defer();return Promise.all([i.e(0),i.e(2),i.e(3),i.e("vendors~gs-app-ac-theme-editor~voice-web"),i.e("gs-app-ac-theme-editor")]).then(function(t){this._fetchLocaleData().then(function(){var t=i(317);e.resolve(t)}.bind(this))}.bind(this).bind(null,i)).catch(i.oe),e.promise},stripBranding:function(e){return this.setAuthoringContextId(e,"",!1)}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5),i(11),i(41)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s,l,c=new o({color:"rebeccapurple",name:"marketingController"}),d=["spark-newsletter","tips-and-tricks","spark-newsletter-holdout","book-report-2018"];return l=i.Model.extend({_emailListForReferCode:{segment_landing_page_book_ad_1:"book-report-2018"},emailListSettings:{},_getBrowserStorage:function(){return this.browserStorage||(this.browserStorage=new a(window.sessionStorage)),this.browserStorage},showedNewsletterPitch:function(){this._showedNewsletterPitch=!0},setNewsletterOptedIn:function(){try{window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true"),window.localStorage.setItem("spark-newsletter-pitches","4")}catch(e){}},getEmailListForReferCode:function(){var e=this._getBrowserStorage().get("referCode");return e&&this._emailListForReferCode.hasOwnProperty(e)?this._emailListForReferCode[e]:null},newsletterOptedOut:function(){try{window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true");var e=parseInt(window.localStorage.getItem("spark-newsletter-pitches")||"1");e++,window.localStorage.setItem("spark-newsletter-pitches",String(e))}catch(e){}},resetNewsletterOptOut:function(){try{window.localStorage.setItem("spark-newsletter-pitches","1"),window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true")}catch(e){}},_userQualifiesToReceiveEmail:function(){return"US"===r.getUserCountry()&&"type1"===r.getProfile().account_type&&!r.isAutomatedTestUser()},shouldSeeNewsletterPitch:function(){var e;if(!this._showedNewsletterPitch)try{if(!("true"===window.sessionStorage.getItem("dismissed-spark-newsletter-pitch"))){try{e=parseInt(window.localStorage.getItem("spark-newsletter-pitches")||"1",10)}catch(t){e=1}if(e<=3&&this._userQualifiesToReceiveEmail())return this.getEmailListOptInStatus("sparknewsletter").then(function(t){return t&&"subscribed"===t.status?n.reject():e}.bind(this))}}catch(e){}return n.reject()},getSettingIfEmailList:function(e){return this.emailListSettings.hasOwnProperty(e)?{value:this.emailListSettings[e]}:null},emailListSettingsLoaded:function(){return this.statusesDeferred||(this.statusesDeferred=n.defer(),this._userQualifiesToReceiveEmail()?this._getAllEmailListSubscriptionStatuses().then(this._initEmailListSubscriptionStatuses.bind(this)).done():this.statusesDeferred.resolve("unqualifiedToReceiveEmail")),this.statusesDeferred.promise},_initEmailListSubscriptionStatuses:function(e){var i=[];t.each(e,function(e){var n,r,o;"fulfilled"===e.state?(r="subscribed"===(n=e.value).status,o=t.find(d,function(e){return e.replace(/-/g,"")===n.listId}),this.emailListSettings[o]=r):"rejected"===e.state&&(c.error("email list subscription status failed to be initialized",e.reason),i.push(e.reason))}.bind(this)),t.isEmpty(i)?this.statusesDeferred.resolve("success"):this.statusesDeferred.resolve("unableToLoadEmailSettingsForQualifiedUser")},_getAllEmailListSubscriptionStatuses:function(){var e,i=[];return t.each(d,function(t){var r=t.replace(/-/g,"");e=s.getEmailListOptInStatus(r).then(function(e){return e.listId=r,e},function(e){return c.error("unable to get opt-in status for email list "+r,e),n.reject(e)}),i.push(e)}.bind(this)),n.allSettled(i)},getFilteredChanges:function(e){var i={},n={};return t.each(e,function(e,t){this.emailListSettings.hasOwnProperty(t)&&(i[t]={value:e,changed:this.emailListSettings[t]!==e},i[t].changed&&(n[t]=e,c.debug("MarketingController.getFilteredChanges differences has "+t+" with value "+e)))}.bind(this)),t.isEmpty(n)?{settings:i}:{settings:i,differences:n}},saveAndUpdateSettings:function(e){var i,r=[];return t.each(e,function(e,t){if(d.indexOf(t)>-1){var o=t.replace(/-/g,"");i=s.updateEmailListOptInForUser(e,o).then(function(i){var n=e?"subscribed":"unsubscribed";return c.info("Updated Status of Email List: "+o+" to: "+n),{settingId:t,status:e}},function(e){return c.error("unable to update opt-in status for email list "+o,e),n.reject(e)}),r.push(i)}}),n.allSettled(r).then(function(e){var i=[];if(t.each(e,function(e){"fulfilled"===e.state?this.emailListSettings[e.value.settingId]=e.value.status:"rejected"===e.state&&(c.error("failed to save updated opt-in status for email list",e.reason),i.push(e.reason))}.bind(this)),i.length>0)return n.reject(i)}.bind(this))},_fetchEmailListOptinStatus:function(e){var t=n.defer();return r.isValid().then(function(){r.ajax({type:"GET",url:"/list/subscription-status/"+e,success:function(e,i,n){t.resolve(e)},error:function(e,i,n){t.reject(n)}})}.bind(this),function(e){t.reject(e)}).done(),t.promise},getEmailListOptInStatus:function(e){return this._getBrowserStorage().get("spark-mrkt-subscription-"+e+"-status")?n.resolve({status:this._getBrowserStorage().get("spark-mrkt-subscription-"+e+"-status")}):this._fetchEmailListOptinStatus(e)},_saveOptInValue:function(e,t){var i="subscribe"===t?"subscribed":"unsubscribed";this._getBrowserStorage().set("spark-mrkt-subscription-"+e+"-status",i)},updateEmailListOptInForUser:function(e,t){var i=n.defer(),o=e?"subscribe":"unsubscribe";return r.isValid().then(function(){r.ajax({type:"GET",url:"/list/"+o+"/"+t,success:function(e,n,r){this._saveOptInValue(t,o),i.resolve(e)}.bind(this),error:function(e,t,n){i.reject(n)}.bind(this)})}.bind(this),function(e){i.reject(e)}.bind(this)),i.promise}}),s=new l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(1)],void 0===(r=function(e,t){"use strict";return{LibraryImageModel:t.Model.extend({getImage:function(){if(this.collection){var e=this.collection.images;if(e)return e.get(this.get("image_id"))}return null},getImageURL:function(){var e=this.getImage();return e?e.get("image_url"):this.get("image_url")||""},getPreviewURL:function(){return this.getImageURL()},getThumbURL:function(){return this.getImageURL()}}),LibraryImageLinksModel:t.Model.extend({getImageURL:function(){return this.get("image_url")||""},getPreviewURL:function(){return this.get("preview_url")||""},getThumbURL:function(){return this.get("thumb_url")||""},getImageSize:function(){return this.get("image_size")||void 0},getPreviewSize:function(){return this.get("preview_size")||void 0},getThumbSize:function(){return this.get("thumb_size")||void 0}})}}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(138).default;i(145),(t=e.exports=n).default=t},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(5),i(4),i(7),i(171),i(103),i(24),i(6)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u){"use strict";var h={theo:"post",slate:"page",voice:"video"},p=r.extend({el:"#preview-overlay",showFullScreen:!1,parentObj:null,events:{"click .preview-close-btn":"handleCaseOverlayCloseBtn","click .preview-blank-one-btn":"handleBlankOneClick","click .preview-resize-out-btn":"handleResizeOut","click .preview-resize-in-btn":"handleResizeIn","click .close-toast":"badgeToastClose"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),e.fullScreen&&(this.showFullScreen=e.fullScreen),e.parentObj&&(this.parentObj=e.parentObj),this.minZIndex=e.minZIndex||0},setOptions:function(e){this.showFullScreen=e.fullScreen,this.parentObj=e.parentObj,this.minZIndex=e.minZIndex||0,this.model=e.model||this.model},_getTypeName:function(e){return h[e]?h[e]:e},_getCreateNewButtonText:function(e){var t,i=d.getAppByType(e).getDisplayName();switch(e){case"post":t=s.hasFeature("post-gallery-remix")?"Remix this Post":"Create new "+i;break;default:t="Create new "+i}return t},createShareURI:function(e,t,i){if("theo"==t)return null;var n=u.publishedContentBases;if(n[t])return n[t]+"/"+i+"/";throw new Error("Unkown example type: "+t)},createFacebookShareURI:function(e,t,i){var n=this.createShareURI(e,t,i);return n?"https://www.facebook.com/sharer/sharer.php?u="+n:null},createTwitterShareURI:function(e,t,i){var n=this.createShareURI(e,t,i);if(!n)return null;switch(t){case"voice":return"https://twitter.com/intent/tweet?text="+encodeURIComponent('Check out this video: "'+e+'" '+n+" #adobespark via @AdobeSpark");case"slate":return"https://twitter.com/intent/tweet?text="+encodeURIComponent('Check out this web story: "'+e+'" '+n+" #adobespark via @AdobeSpark");default:throw new Error("Unkown example type: "+t)}},render:function(){if(this.$el.html(l.toString()),this.pageBody$=e("body"),this.bodyHasNoScroll=this.pageBody$.hasClass("no-scroll"),this.pageBody$.addClass("in-preview"),this.showBadge||e(".video-promotion").hide(),this.showFullScreen){this.$el.find(".preview-resize-in-btn").addClass("hide"),this.handleResizeOut();var n=this.createFacebookShareURI(this.model.get("title"),this.model.get("type"),this.model.get("alias")),r=this.createTwitterShareURI(this.model.get("title"),this.model.get("type"),this.model.get("alias"));n&&(e(".facebook-icon-item").removeClass("hide"),e(".preview-facebook-icon").attr("href",n)),r&&(e(".twitter-icon-item").removeClass("hide"),e(".preview-twitter-icon").attr("href",r))}else this.$el.find(".preview-social-icons").addClass("hide");this.iframeWrap$=this.$el.find(".preview-iframe-wrap"),this.iframeContainer$=this.$el.find(".preview-iframe-container"),this.iframe$=this.$el.find(".preview-iframe"),this.div$=this.$el.find(".preview-div"),this.divWrap$=this.$el.find(".preview-div-wrap"),this.type$=this.$el.find(".preview-case-type"),this.makeNewButton$=this.$el.find(".preview-blank-one-btn"),s.hasFeature("create-from-enabled")&&this.$el.find(".preview-make-one-btn").removeClass("hide");var o=this.model.get("type"),a=this._getTypeName(o),h=this.model.get("uri");"theo"===o?(this.div$.css("background-image","url("+h+")"),this.divWrap$.removeClass("hide"),this.iframeContainer$.addClass("hide")):("voice"===o?(this.iframe$.attr("src",h),e(".preview-resize-out-wrapper").addClass("hide"),this.showFullScreen&&(this.resizeVideo(),e(window).on("resize.resizevoice",this.resizeVideo))):this.iframe$.attr("src",h),this.divWrap$.addClass("hide"),this.iframeContainer$.removeClass("hide"));var p=d.getAppByType(a).getDisplayName();this.makeNewButton$.text(this._getCreateNewButtonText(a)),this.makeNewButton$.addClass(o),this.type$.text(p),this.type$.addClass(o),this.iframeWrap$.addClass(o),this.iframe$.addClass(o),this.iframeContainer$.addClass(o),this.$el.find(".case-overlay-shell").addClass(o),this.$el.find(".preview-main-area").addClass(o);var f=this.model.get("useCase"),g=this.model.get("description");(this._resetZIndexString=null,this.minZIndex)&&(1*this.$el.css("z-index")<this.minZIndex&&(this._resetZIndexString=this.$el[0].style.zIndex,this.$el.css("z-index",this.minZIndex)));if(f&&(this.caseTitle$=this.$el.find(".preview-case-title"),this.caseTitle$.text(f)),g&&(this.caseDesc$=this.$el.find(".preview-case-desc"),this.caseDesc$.text(g),this.caseDesc$.removeClass("hide")),this.caseRelated$=this.$el.find(".preview-case-related-items"),this.model.get("related")&&this.model.get("related").length){var m=this.model.get("related"),v=m.length>2?2:m.length,b=m.slice(0,v);t.each(b,function(e){c.getExample(e).then(function(e){var t=new i.Model(e),n=t.get("type");"theo"==n?h=t.get("imageURI")?t.get("imageURI"):t.get("thumbURI"):"voice"==n?(h=t.get("embedURI"))||(h="https://cc-api-cp.adobe.io/api/v2/voice/assets/"+t.get("alias")+"/video/embed?api_key=LucaApp1"):h=u.slateExampleServer+t.get("alias")+"/",t.set("uri",h);var r=this.createRelatedIem(t);this.caseRelated$.append(r)}.bind(this))}.bind(this))}else this.$el.find(".preview-case-related").addClass("hide");return this.showBadge&&(this.toast=this.$el.find("#custom-toast"),e("#custom-toast-text").attr("href","https://www.adobe.com/go/how-to-make-addictive-cooking-videos-for-social-media"),"mini-chocolate-cakes-recipe"!==this.model.get("slug")&&this.toast.hide(),this.badgeToastShow()),this.delegateEvents(),this},badgeToastShow:function(){var t=e(window).width()<=800?"400px":"353px";t=e(window).width()<=500?"300px":t,t=320===e(window).width()?"276px":t,setTimeout(function(){e("#custom-toast-text").delay(3e3).animate({width:t,opacity:"1"},{duration:700,queue:!1}),e(".close-toast").delay(1e3).animate({opacity:"1"},{duration:300,queue:!0})},4e3)},badgeToastClose:function(){e(".close-toast").animate({opacity:"0"}),e("#custom-toast-text").animate({width:"0",opacity:"0"},{duration:400,queue:!1}),e("#custom-toast").animate({opacity:"0"},{duration:100,queue:!1}),e(".badgeBounce").addClass("badgeBounceReverse")},resizeVideo:function(){var t=e(window),i=t.width();i=.7*i>1280?1280:.7*i;var n,r,o=parseInt(t.height()-67);i/(16/9)>o?(r=o,n=o*(16/9)):(n=i,r=i/(16/9)),n=Math.ceil(n),r=Math.ceil(r),this.iframeContainer$.width(n),this.iframeContainer$.height(r);var a=(o-r)/2;if(this.iframeContainer$.css("margin-top",a),this.iframeContainer$.css("margin-bottom",a),this.showBadge){this.$el.find(".preview-main-area").height();o<800&&i>414&&(this.iframeContainer$.width(951),this.iframeContainer$.height(535),this.iframeContainer$.css("margin-top","17.5px"),this.iframeContainer$.css("margin-bottom","17.5px"))}},createRelatedIem:function(t){var i=t.get("type"),n=d.getAppByType(this._getTypeName(i)).getDisplayName(),r=e("<div></div>").addClass("preview-case-related-item"),o=e("<div></div>").addClass("preview-case-type").text(n).addClass(i),a=e("<div></div>").addClass("preview-case-related-thumb").css("background-image","url("+t.get("thumbURI")+")").addClass(i),s=e("<div></div>").addClass("preview-case-related-title").text(t.get("useCase"));return r.append(o).append(a).append(s),this.parentObj&&r.on("click",function(e){e.stopPropagation(),this.parentObj.handleExampleClick(t)}.bind(this)),r},_openEditor:function(){if(d.getAppByType(this._getTypeName(this.model.get("type"))).requestAppCreateNew("npw-example-blank","organizer:projects",{projectOverlay:"v1.1",exampleAlias:this.model.get("alias")}))return marvel.events.trigger("remove-first-use-prep"),!0},handleResizeOut:function(){this.showFullScreen?this.$el.find(".case-overlay-shell").addClass("case-overlay-shell-only-full-screen"):this.$el.find(".case-overlay-shell").addClass("case-overlay-shell-full-screen")},handleResizeIn:function(){this.$el.find(".case-overlay-shell").removeClass("case-overlay-shell-full-screen")},handleBlankOneClick:function(e){if(o.checkUserAgentNavIfNotOk())if("theo"==this.model.get("type")&&s.hasFeature("post-gallery-remix"))marvel.navigate("#remix-gallery/post/"+this.model.get("alias"),{trigger:!0}),this.hideOverlay();else{if(!this._openEditor())return!1;this.hideOverlay()}},onHide:function(){this.bodyHasNoScroll||this.pageBody$.removeClass("no-scroll"),this.pageBody$.removeClass("in-preview"),this.showFullScreen=!1,null!==this._resetZIndexString&&this.$el.css("z-index",this._resetZIndexString),this.$el.empty(),this.undelegateEvents(),e(window).off("resize.resizevoice")},handleCaseOverlayCloseBtn:function(){a.trackEvent("CaseOverlayCloseBtnClicked",{context:this.model.get("alias")},"exampleviewer:case-overlay"),this.handleCloseBtn()}});return p.contentTypeMap={video:"voice",page:"slate",post:"theo"},p}.apply(t,n))||(e.exports=r)},function(e,t){e.exports="<style>\n    {{#assets}}\n    #{{id}} {\n        {{^hideAssetUntilLoaded}}\n        {{^rendition}}\n        background-image: url('{{{url}}}.{{fileType}}');\n        {{/rendition}}\n        {{#rendition}}\n        background-image: url('{{{.}}}');\n        {{/rendition}}\n        {{/hideAssetUntilLoaded}}\n        {{#hwar}}\n        padding-top: {{.}};\n        {{/hwar}}\n        {{#w}}\n        width: {{.}};\n        {{/w}}\n        {{#h}}\n        height: {{.}};\n        {{/h}}\n    }\n\n    {{/assets}}\n    @media\n        only screen and (-webkit-min-device-pixel-ratio: 1.5),\n        only screen and (min--moz-device-pixel-ratio: 1.5),\n        only screen and (-o-min-device-pixel-ratio: 1.5/1),\n        only screen and (min-device-pixel-ratio: 1.5),\n        only screen and (min-resolution: 192dpi),\n        only screen and (min-resolution: 1.5dppx) {\n\n        {{#assets}}\n        #{{id}} {\n            {{^hideAssetUntilLoaded}}\n            {{^rendition}}\n            background-image: url('{{{url}}}@2x.{{fileType}}');\n            {{/rendition}}\n            {{#rendition2x}}\n            background-image: url('{{{.}}}');\n            {{/rendition2x}}\n            {{/hideAssetUntilLoaded}}\n        }\n        {{/assets}}\n</style>\n"},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,i(9))},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(148)],void 0===(r=function(e,t,i,n,r){"use strict";return n.View.extend({events:{},initialize:function(){t.bindAll(this,t.functionsIn(this))},setupProgress:function(e){this.$el=e.el$||this.$el,this.text$=e.text$,this.itemsAdded=e.itemsAdded||0,this.itemsResolved=e.itemsResolved||0,this.pct=e.pct||0,this._eventNames=e.eventNames,this.initialText=e.initialText},render:function(){this.$el.html(r.toString()),this._eventNames&&this._eventNames.updateText&&(marvel.events.on(this._eventNames.updateText,this._handleProgressUpdateText),this.text$&&""===this.text$.text()&&this.text$.html("&nbsp;")),this.progress$=this.$el.find(".progress-bar-fill"),this.initialText&&this.setText(this.initialText),this._eventNames&&this._eventNames.setPct?(this._setProgressPercent(this.pct),marvel.events.on(this._eventNames.setPct,this._handleProgressSetPct)):(this._setProgressPercent(this.itemsResolved/this.itemsAdded),this._eventNames&&this._eventNames.add&&marvel.events.on(this._eventNames.add,this._handleProgressItemAdded),this._eventNames&&this._eventNames.resolved&&marvel.events.on(this._eventNames.resolved,this._handleProgressItemResolved))},_setProgressPercent:function(e){e>1?e=1:e<0&&(e=0),this.pct=e,this.progress$.css("transform","scaleX("+this.pct+")")},_updateProgressPercent:function(){var e=this.itemsResolved/this.itemsAdded;this._setProgressPercent(e)},_handleProgressItemAdded:function(e){this.itemsAdded+=e||1,this._updateProgressPercent()},_handleProgressItemResolved:function(e){this.itemsResolved+=e||1,this._updateProgressPercent()},_handleProgressSetPct:function(e){this.pct=e,this._setProgressPercent(e)},setText:function(e){this._handleProgressUpdateText(e)},_handleProgressUpdateText:function(e){this.text$&&((e=e||"").jquery?(this.text$.html(""),this.text$.append(e)):this.text$.text(e))},hide:function(){this._eventNames.add&&marvel.events.off(this._eventNames.add,this._handleProgressItemAdded),this._eventNames.resolved&&marvel.events.off(this._eventNames.resolved,this._handleProgressItemResolved),this._eventNames.setPct&&marvel.events.off(this._eventNames.setPct,this._handleProgressSetPct),this._eventNames.updateText&&marvel.events.off(this._eventNames.updateText,this._handleProgressUpdateText)}})}.apply(t,n))||(e.exports=r)},,,function(e,t,i){var n,r;n=[i(0),i(28),i(3),i(17),i(108),i(200),i(202),i(203)],void 0===(r=function(e,t,i,n,r,o,a,s){function l(){}return e.extend(l.prototype,{init:function(e){return this._cachedPromise||(e&&!this.locale&&this._setLocale(e),this._cachedPromise=this._loadLocaleStrings()),this._cachedPromise},_loadLocaleStrings:function(){var t=i.defer();function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.top.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var r=window.localStorage.getItem("slate-lang")||n("locale")||n("lang"),s=this;if(r&&r!==this.locale&&(this._setLocale(r),this.locStrings=null),this.locStrings)t.resolve();else{if(this.flatLocaleStrings=void 0,s.locStringsDefault=a,"en-US"===s.locale)s.locStrings=s.locStringsDefault,t.resolve();else if("USE_KEYS"===s.locale)s.locStrings=function(e){var t=o(e),i={};for(var n in t)i[n]=n;return o.unflatten(i)}(s.locStringsDefault),t.resolve();else{var l={url:s.getLocaleStringsPath(s.locale),method:"GET",dataType:"json",headers:{"Accept-Language":s.locale,Accept:"text/html; charset=utf-8"}};e.ajax(l).then(function(i,n,r){s._reportMissingStrings(i,s.locale),s.locStrings=e.extend(!0,{},s.locStringsDefault,i),t.resolve()}).fail(function(i,n,r){s.locStrings=e.extend(!0,{},s.locStringsDefault),alert("Loading of localized strings failed. This is probably due to network issues. Reload Spark Page to try again."),t.resolve()})}}return t.promise},_setLocale:function(e){this.locale=e},getLocale:function(){return this.locale},getLocaleStringsPath:function(e,t){return(s[t||"slate-web"]||{})[e||self.locale]||"/slate-web/locales/"+self.locale+".json"},_reportMissingStrings:function(e,t){if(window.top.marvel.features.hasFeature("enable-debug-log")){var i=o(this.locStringsDefault),n=o(e);for(var r in i)i.hasOwnProperty(r)&&(n[r]||console.warn("Missing string in locale "+t+': "'+r+'"'))}},getString:function(e){var t=this.getFlatStrings()[e];return void 0===t&&(t="LOCALIZED STRING NOT FOUND!",console.warn("Localized string not found in locale "+this.locale+', id "'+e+'"')),t},getFlatStrings:function(){return this._ensureInit(),this.flatLocaleStrings},getStrings:function(){return this.locStrings},_ensureInit:function(){this.flatLocaleStrings||(this.flatLocaleStrings=o(this.getStrings(),"."))},renderMustache:function(t,i){var r=e.extend({},i,{locString:this.getStrings()});return n.render(t,r)},format:function(e,t){var i=this.getString(e);return new r(i,this.locale).format(t)}}),new l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n;void 0===(n=function(e){"use strict";var t=i(68),n=(i(105),i(8)),r=i(204),o=function(){};return _.extend(o.prototype,{DEFAULT_LOCALE:"en-US",locale:"",setLocale:function(e){this.locale=e},getSupportedLocales:function(){return["en-US","de-DE","es-ES","fr-FR","it-IT","pt-BR"]},localeIsDefault:function(){return this.locale===this.DEFAULT_LOCALE},formatZendesk:function(e){var t=n.getString("zendesk-locale");return e.replace("{{zendesk-locale}}",t)},format:function(e,i){var n=t[e];return i?new r(n,this.locale).format(i):n}}),new o}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){var n,r;n=[i(0),i(28),i(69)],void 0===(r=function(e,t,i){"use strict";function n(e){return r(e)&&e.assetId&&e.assetId}function r(e){return"fontFamily"in e}function o(e,t){var r=[],o=t.components,a={},s=function(e){a[e.getId()]||(r.push(e),a[e.getId()]=!0)},l=function(t,n){var r=e.getFontById(t);if(function(e){return e&&!!e.getData()}(r)&&r.isCustomFont())if(i.componentsThatUseBodyFonts[n]){var o=r.subgroupName(),a=e.getCustomBodyFontSet(o);if(a)for(var l=0,c=a.models.length;l<c;l++)s(a.at(l));else s(r)}else s(r)},c=function(e,t){for(var i in e){var r=e[i];"object"==typeof r&&(n(r)&&l(r.assetId,t),c(r,i))}};return c(o,null),r}return{getCustomFontData:function(e,i,n,r,a){n=n||"";var s=o(e,i),l=[],c=function(e){for(var t="",i=0;i<e.length;i++)e[i]&&(t+="url("+e[i]+")",i<e.length-1&&(t+=", "));return t};return t.each(s,function(i){i.getId();var o={},s=[];t.each(["otf","ttf","woff"],function(t){var a=i.getHref(t,!!n);if(a){a=n+a;var l=e.getComponentForCustomFont(i,t);l&&r&&(a=a.replace(/^(.*)\/([^\?\#]*)(.*)$/,"$1/"+l.id+"$3")),o[t]=a,s.push(a)}});var d=[];a&&(d=t.map(a,function(t){var o=i.getHref(t,!!n);if(o){o=n+o;var a=e.getComponentForCustomFont(i,t);return a&&r&&(o=o.replace(/^(.*)\/([^\?\#]*)(.*)$/,"$1/"+a.id+"$3")),{value:c([o])}}})),l.push({cssName:i.cssName(),fontWeight:i.fontWeight(),fontStyle:i.fontStyle(),srcStrings:d,src:c(s)})}),l},getCustomFontsInTheme:o,getThemeTextNodes:function(e){if(!e||!e.components)return null;var t=[];return function e(t,i,n){for(var o in t){var a=t[o];"object"==typeof a&&(r(a)?n.push({node:a,component:i}):e(a,i?i+"."+o:o,n))}}(e.components,null,t),t}}}.apply(t,n))||(e.exports=r)},function(e,t,i){i(156),e.exports=self.fetch.bind(self)},,function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=n=function(e){return i(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},n(t)}e.exports=n},function(e,t,i){var n,r;n=[i(28),i(6)],void 0===(r=function(e,t){"use strict";return{productionModelVersion:"1.22",productionRuntimeVersion:"1.22",slateNextFeaturesModelVersion:"1.22",slateNextFeaturesRuntimeVersion:"1.22",featureFlags:[{name:"slate-next-features",usesNextRuntimeVersion:!0,usesNextModelVersion:!0,editorFeatureFlagName:"slateNextFeaturesEnabled"},{name:"slate-enable-pagentations",usesNextRuntimeVersion:!0,usesNextModelVersion:!1,editorFeatureFlagName:"slateEnablePagentations"},{name:"slate-enable-split-layout",usesNextRuntimeVersion:!0,usesNextModelVersion:!0,editorFeatureFlagName:"slateEnableSplitLayout"}],_hasFeaturePropEnabled:function(e){for(var t=window.marvel.features,i=this.featureFlags,n=i.length,r=0;r<n;r++)if(t.hasFeature(i[r].name)&&i[r][e])return!0;return!1},getEditorFeatureFlags:function(){for(var e={},t=window.marvel.features,i=this.featureFlags,n=i.length,r=0;r<n;r++){var o=i[r];o.editorFeatureFlagName&&(e[o.editorFeatureFlagName]=t.hasFeature(o.name)||!1)}return e},getRuntimeVersion:function(){return this._hasFeaturePropEnabled("usesNextRuntimeVersion")?this.slateNextFeaturesRuntimeVersion:this.productionRuntimeVersion},getEditorModelVersion:function(){return this._hasFeaturePropEnabled("usesNextModelVersion")?this.slateNextFeaturesModelVersion:this.productionModelVersion},compareVersionNumbers:function(e,t){e=((e||"0")+"").split(/\./),t=((t||"0")+"").split(/\./);for(var i=Math.max(e.length,t.length),n=0;n<i;n++){var r=parseInt(e[n]||"0",10),o=parseInt(t[n]||"0",10);if(r!=o)return r-o}return 0}}}.apply(t,n))||(e.exports=r)},function(e){e.exports={"de-DE":{storyArcs:"storyArcs-e2913683.json",strings:"strings-92ed6aa1.json"},"en-US":{storyArcs:"storyArcs-12c2fb5e.json",strings:"strings-421962d2.json"},"es-ES":{storyArcs:"storyArcs-ea9d848c.json",strings:"strings-48db5326.json"},"fr-FR":{storyArcs:"storyArcs-93cc9840.json",strings:"strings-5ba150e8.json"},"it-IT":{storyArcs:"storyArcs-5e49f8ad.json",strings:"strings-77f984b3.json"},"pt-BR":{storyArcs:"storyArcs-30524193.json",strings:"strings-7b073769.json"},"zz-ZZ":{strings:"strings-61508342.json"}}},function(e,t,i){var n;void 0===(n=function(e){"use strict";return new function(){this.isPublishCurrent=function(e){return e.publishDate&&(e.publishedDate=e.publishDate),!(!e.publishedDate||e.publishedDate.length<1)&&(!(!e.userModDate||e.userModDate.length<1)&&parseFloat(e.publishedDate)>=parseFloat(e.userModDate))}}}.call(t,i,t,e))||(e.exports=n)},,function(e,t,i){var n=i(42),r=i(216),o=i(215),a=i(273)("src"),s=i(613),l=(""+s).split("toString");i(92).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,i,s){var c="function"==typeof i;c&&(o(i,"name")||r(i,"name",t)),e[t]!==i&&(c&&(o(i,a)||r(i,a,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:s?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,i){var n=i(246);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(10),r=i(43),o=i(246),a=/"/g,s=function(e,t,i,n){var r=String(o(e)),s="<"+t;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(s),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},function(e,t,i){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,i,n,a,s,l=e.length;a=c(e),s=new o(3*l/4-a),i=a>0?l-4:l;var d=0;for(t=0;t<i;t+=4)n=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],s[d++]=n>>16&255,s[d++]=n>>8&255,s[d++]=255&n;2===a?(n=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,s[d++]=255&n):1===a&&(n=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,s[d++]=n>>8&255,s[d++]=255&n);return s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o="",a=[],s=0,l=i-r;s<l;s+=16383)a.push(u(e,s,s+16383>l?l:s+16383));1===r?(t=e[i-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===r&&(t=(e[i-2]<<8)+e[i-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="=");return a.push(o),a.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function u(e,t,i){for(var n,r=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(d(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,d=-7,u=i?r-1:0,h=i?-1:1,p=e[t+u];for(u+=h,o=p&(1<<-d)-1,p>>=-d,d+=s;d>0;o=256*o+e[t+u],u+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+e[t+u],u+=h,d-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,d=(1<<c)-1,u=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(t*l-1)*Math.pow(2,r),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,r),a=0));r>=8;e[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[i+p]=255&a,p+=f,a/=256,c-=8);e[i+p-f]|=128*g}},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){d(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&d(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),n=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){d(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var i=s.createElement("script");i.onreadystatechange=function(){d(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():n=function(e){setTimeout(d,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var a={callback:e,args:t};return o[r]=a,n(r),r++},l.clearImmediate=c}function c(e){delete o[e]}function d(e){if(a)setTimeout(d,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(9),i(18))},function(e,t,i){(function(e,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=36,d=1,u=26,h=38,p=700,f=72,g=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=c-d,x=Math.floor,_=String.fromCharCode;function C(e){throw RangeError(w[e])}function S(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function T(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+S((e=e.replace(y,".")).split("."),t).join(".")}function M(e){for(var t,i,n=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function I(e){return S(e,function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)}).join("")}function D(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,i){var n=0;for(e=i?x(e/p):e>>1,e+=x(e/t);e>k*u>>1;n+=c)e=x(e/k);return x(n+(k+1)*e/(e+h))}function A(e){var t,i,n,r,o,a,s,h,p,v,b=[],y=e.length,w=0,k=g,_=f;for((i=e.lastIndexOf(m))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&C("not-basic"),b.push(e.charCodeAt(n));for(r=i>0?i+1:0;r<y;){for(o=w,a=1,s=c;r>=y&&C("invalid-input"),((h=D(e.charCodeAt(r++)))>=c||h>x((l-w)/a))&&C("overflow"),w+=h*a,!(h<(p=s<=_?d:s>=_+u?u:s-_));s+=c)a>x(l/(v=c-p))&&C("overflow"),a*=v;_=E(w-o,t=b.length+1,0==o),x(w/t)>l-k&&C("overflow"),k+=x(w/t),w%=t,b.splice(w++,0,k)}return I(b)}function F(e){var t,i,n,r,o,a,s,h,p,v,b,y,w,k,S,T=[];for(y=(e=M(e)).length,t=g,i=0,o=f,a=0;a<y;++a)(b=e[a])<128&&T.push(_(b));for(n=r=T.length,r&&T.push(m);n<y;){for(s=l,a=0;a<y;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>x((l-i)/(w=n+1))&&C("overflow"),i+=(s-t)*w,t=s,a=0;a<y;++a)if((b=e[a])<t&&++i>l&&C("overflow"),b==t){for(h=i,p=c;!(h<(v=p<=o?d:p>=o+u?u:p-o));p+=c)S=h-v,k=c-v,T.push(_(P(v+S%k,0))),h=x(S/k);T.push(_(P(h,0))),o=E(i,w,n==r),i=0,++n}++i,++t}return T.join("")}s={version:"1.3.2",ucs2:{decode:M,encode:I},decode:A,encode:F,toASCII:function(e){return T(e,function(e){return b.test(e)?"xn--"+F(e):e})},toUnicode:function(e){return T(e,function(e){return v.test(e)?A(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return s}.call(t,i,t,e))||(e.exports=r)}()}).call(this,i(55)(e),i(9))},function(e,t,i){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,i){"use strict";t.decode=t.parse=i(134),t.encode=t.stringify=i(135)},function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var d=0;d<c;++d){var u,h,p,f,g=e[d].replace(s,"%20"),m=g.indexOf(i);m>=0?(u=g.substr(0,m),h=g.substr(m+1)):(u=g,h=""),p=decodeURIComponent(u),f=decodeURIComponent(h),n(a,p)?r(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,s){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(n(a))+i;return r(e[a])?o(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+i+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var a=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,i){var n=i(54);function r(t,i,o){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=r=function(e,t,i){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return i&&n(o,i.prototype),o}:e.exports=r=Reflect.construct,r.apply(null,arguments)}e.exports=r},function(e,t,i){"use strict";var n=i(139),r=i(144);n.default.__addLocaleData(r.default),n.default.defaultLocale="en",t.default=n.default},function(e,t,i){"use strict";var n=i(72),r=i(140),o=i(141),a=i(142);function s(e,t,i){var n="string"==typeof e?s.__parse(e):e;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");i=this._mergeFormats(s.formats,i),r.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),a=this._compilePattern(n,t,i,o),l=this;this.format=function(t){try{return l._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,r.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),r.defineProperty(s,"__localeData__",{value:r.objCreate(null)}),r.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),r.defineProperty(s,"__parse",{value:a.default.parse}),r.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,i,n){return new o.default(t,i,n).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,i=t[e.toLowerCase()];i;){if(i.pluralRuleFunction)return i.pluralRuleFunction;i=i.parentLocale&&t[i.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var i,r,o,a,s,l,c="";for(i=0,r=e.length;i<r;i+=1)if("string"!=typeof(o=e[i])){if(a=o.id,!t||!n.hop.call(t,a))throw(l=new Error("A value must be provided for: "+a)).variableId=a,l;s=t[a],o.options?c+=this._format(o.getOption(s),t):c+=o.format(s)}else c+=o;return c},s.prototype._mergeFormats=function(e,t){var i,o,a={};for(i in e)n.hop.call(e,i)&&(a[i]=o=r.objCreate(e[i]),t&&n.hop.call(t,i)&&n.extend(o,t[i]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,i,n,r,o=s.__localeData__;for(t=0,i=e.length;t<i;t+=1)for(n=e[t].toLowerCase().split("-");n.length;){if(r=o[n.join("-")])return r.locale;n.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},function(e,t,i){"use strict";var n=i(72),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!r&&Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,i){"get"in i&&e.__defineGetter__?e.__defineGetter__(t,i.get):(!n.hop.call(e,t)||"value"in i)&&(e[t]=i.value)}),a=Object.create||function(e,t){var i,r;function a(){}for(r in a.prototype=e,i=new a,t)n.hop.call(t,r)&&o(i,r,t[r]);return i};t.defineProperty=o,t.objCreate=a},function(e,t,i){"use strict";function n(e,t,i){this.locales=e,this.formats=t,this.pluralFn=i}function r(e){this.id=e}function o(e,t,i,n,r){this.id=e,this.useOrdinal=t,this.offset=i,this.options=n,this.pluralFn=r}function a(e,t,i,n){this.id=e,this.offset=t,this.numberFormat=i,this.string=n}function s(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,i,n,r=e.elements,o=[];for(t=0,i=r.length;t<i;t+=1)switch((n=r[t]).type){case"messageTextElement":o.push(this.compileMessageText(n));break;case"argumentElement":o.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return o},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var i,n=this.formats,a=this.locales,l=this.pluralFn;switch(t.type){case"numberFormat":return i=n.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,i).format};case"dateFormat":return i=n.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,i).format};case"timeFormat":return i=n.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,i).format};case"pluralFormat":return i=this.compileOptions(e),new o(e.id,t.ordinal,t.offset,i,l);case"selectFormat":return i=this.compileOptions(e),new s(e.id,i);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,i,n,r=e.format,o=r.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?e:null,t=0,i=o.length;t<i;t+=1)a[(n=o[t]).selector]=this.compileMessage(n.value);return this.currentPlural=this.pluralStack.pop(),a},r.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},o.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,i){"use strict";(t=e.exports=i(143).default).default=t},function(e,t,i){"use strict";t.default=function(){function e(t,i,n,r){this.message=t,this.expected=i,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}(e,Error),{SyntaxError:e,parse:function(t){var i,n=arguments.length>1?arguments[1]:{},r={},o={start:Pe},a=Pe,s=function(e){return{type:"messageFormatPattern",elements:e,location:Se()}},l=function(e){var t,i,n,r,o,a="";for(t=0,n=e.length;t<n;t+=1)for(i=0,o=(r=e[t]).length;i<o;i+=1)a+=r[i];return a},c=function(e){return{type:"messageTextElement",value:e,location:Se()}},d=/^[^ \t\n\r,.+={}#]/,u={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},h="{",p={type:"literal",value:"{",description:'"{"'},f=",",g={type:"literal",value:",",description:'","'},m="}",v={type:"literal",value:"}",description:'"}"'},b=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Se()}},y="number",w={type:"literal",value:"number",description:'"number"'},k="date",x={type:"literal",value:"date",description:'"date"'},_="time",C={type:"literal",value:"time",description:'"time"'},S=function(e,t){return{type:e+"Format",style:t&&t[2],location:Se()}},T="plural",M={type:"literal",value:"plural",description:'"plural"'},I=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Se()}},D="selectordinal",P={type:"literal",value:"selectordinal",description:'"selectordinal"'},E=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Se()}},A="select",F={type:"literal",value:"select",description:'"select"'},L=function(e){return{type:"selectFormat",options:e,location:Se()}},N="=",R={type:"literal",value:"=",description:'"="'},j=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Se()}},z="offset:",O={type:"literal",value:"offset:",description:'"offset:"'},B=function(e){return e},U=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Se()}},$={type:"other",description:"whitespace"},V=/^[ \t\n\r]/,H={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},G={type:"other",description:"optionalWhitespace"},K=/^[0-9]/,q={type:"class",value:"[0-9]",description:"[0-9]"},W=/^[0-9a-f]/i,Y={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Q="0",X={type:"literal",value:"0",description:'"0"'},Z=/^[1-9]/,J={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ie={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ne="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},le=function(){return"\\#"},ce="\\{",de={type:"literal",value:"\\{",description:'"\\\\{"'},ue=function(){return"{"},he="\\}",pe={type:"literal",value:"\\}",description:'"\\\\}"'},fe=function(){return"}"},ge="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ve=function(e){return String.fromCharCode(parseInt(e,16))},be=function(e){return e.join("")},ye=0,we=0,ke=[{line:1,column:1,seenCR:!1}],xe=0,_e=[],Ce=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=o[n.startRule]}function Se(){return Me(we,ye)}function Te(e){var i,n,r=ke[e];if(r)return r;for(i=e-1;!ke[i];)i--;for(r={line:(r=ke[i]).line,column:r.column,seenCR:r.seenCR};i<e;)"\n"===(n=t.charAt(i))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),i++;return ke[e]=r,r}function Me(e,t){var i=Te(e),n=Te(t);return{start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:n.line,column:n.column}}}function Ie(e){ye<xe||(ye>xe&&(xe=ye,_e=[]),_e.push(e))}function De(t,i,n,r){return null!==i&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==t?t:function(e,t){var i,n=new Array(e.length);for(i=0;i<e.length;i++)n[i]=e[i].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(i,n),i,n,r)}function Pe(){return Ee()}function Ee(){var e,t,i;for(e=ye,t=[],i=Ae();i!==r;)t.push(i),i=Ae();return t!==r&&(we=e,t=s(t)),e=t}function Ae(){var e;return(e=function(){var e,i;return e=ye,(i=function(){var e,i,n,o,a,s;if(e=ye,i=[],n=ye,(o=Re())!==r&&(a=Ue())!==r&&(s=Re())!==r?n=o=[o,a,s]:(ye=n,n=r),n!==r)for(;n!==r;)i.push(n),n=ye,(o=Re())!==r&&(a=Ue())!==r&&(s=Re())!==r?n=o=[o,a,s]:(ye=n,n=r);else i=r;return i!==r&&(we=e,i=l(i)),(e=i)===r&&(e=ye,i=Ne(),e=i!==r?t.substring(e,ye):i),e}())!==r&&(we=e,i=c(i)),e=i}())===r&&(e=function(){var e,i,n,o,a,s,l;return e=ye,123===t.charCodeAt(ye)?(i=h,ye++):(i=r,0===Ce&&Ie(p)),i!==r&&Re()!==r&&(n=function(){var e,i,n;if((e=Oe())===r){if(e=ye,i=[],d.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=r,0===Ce&&Ie(u)),n!==r)for(;n!==r;)i.push(n),d.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=r,0===Ce&&Ie(u));else i=r;e=i!==r?t.substring(e,ye):i}return e}())!==r&&Re()!==r?(o=ye,44===t.charCodeAt(ye)?(a=f,ye++):(a=r,0===Ce&&Ie(g)),a!==r&&(s=Re())!==r&&(l=function(){var e;return(e=function(){var e,i,n,o,a,s;return e=ye,t.substr(ye,6)===y?(i=y,ye+=6):(i=r,0===Ce&&Ie(w)),i===r&&(t.substr(ye,4)===k?(i=k,ye+=4):(i=r,0===Ce&&Ie(x)),i===r&&(t.substr(ye,4)===_?(i=_,ye+=4):(i=r,0===Ce&&Ie(C)))),i!==r&&Re()!==r?(n=ye,44===t.charCodeAt(ye)?(o=f,ye++):(o=r,0===Ce&&Ie(g)),o!==r&&(a=Re())!==r&&(s=Ue())!==r?n=o=[o,a,s]:(ye=n,n=r),n===r&&(n=null),n!==r?(we=e,i=S(i,n),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o;return e=ye,t.substr(ye,6)===T?(i=T,ye+=6):(i=r,0===Ce&&Ie(M)),i!==r&&Re()!==r?(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r&&Re()!==r&&(o=Le())!==r?(we=e,i=I(o),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o;return e=ye,t.substr(ye,13)===D?(i=D,ye+=13):(i=r,0===Ce&&Ie(P)),i!==r&&Re()!==r?(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r&&Re()!==r&&(o=Le())!==r?(we=e,i=E(o),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o,a;if(e=ye,t.substr(ye,6)===A?(i=A,ye+=6):(i=r,0===Ce&&Ie(F)),i!==r)if(Re()!==r)if(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r)if(Re()!==r){if(o=[],(a=Fe())!==r)for(;a!==r;)o.push(a),a=Fe();else o=r;o!==r?(we=e,i=L(o),e=i):(ye=e,e=r)}else ye=e,e=r;else ye=e,e=r;else ye=e,e=r;else ye=e,e=r;return e}()),e}())!==r?o=a=[a,s,l]:(ye=o,o=r),o===r&&(o=null),o!==r&&(a=Re())!==r?(125===t.charCodeAt(ye)?(s=m,ye++):(s=r,0===Ce&&Ie(v)),s!==r?(we=e,i=b(n,o),e=i):(ye=e,e=r)):(ye=e,e=r)):(ye=e,e=r),e}()),e}function Fe(){var e,i,n,o,a;return e=ye,Re()!==r&&(i=function(){var e,i,n,o;return e=ye,i=ye,61===t.charCodeAt(ye)?(n=N,ye++):(n=r,0===Ce&&Ie(R)),n!==r&&(o=Oe())!==r?i=n=[n,o]:(ye=i,i=r),(e=i!==r?t.substring(e,ye):i)===r&&(e=Ue()),e}())!==r&&Re()!==r?(123===t.charCodeAt(ye)?(n=h,ye++):(n=r,0===Ce&&Ie(p)),n!==r&&Re()!==r&&(o=Ee())!==r&&Re()!==r?(125===t.charCodeAt(ye)?(a=m,ye++):(a=r,0===Ce&&Ie(v)),a!==r?(we=e,e=j(i,o)):(ye=e,e=r)):(ye=e,e=r)):(ye=e,e=r),e}function Le(){var e,i,n,o;if(e=ye,(i=function(){var e,i,n;return e=ye,t.substr(ye,7)===z?(i=z,ye+=7):(i=r,0===Ce&&Ie(O)),i!==r&&Re()!==r&&(n=Oe())!==r?(we=e,e=i=B(n)):(ye=e,e=r),e}())===r&&(i=null),i!==r)if(Re()!==r){if(n=[],(o=Fe())!==r)for(;o!==r;)n.push(o),o=Fe();else n=r;n!==r?(we=e,e=i=U(i,n)):(ye=e,e=r)}else ye=e,e=r;else ye=e,e=r;return e}function Ne(){var e,i;if(Ce++,e=[],V.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=r,0===Ce&&Ie(H)),i!==r)for(;i!==r;)e.push(i),V.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=r,0===Ce&&Ie(H));else e=r;return Ce--,e===r&&(i=r,0===Ce&&Ie($)),e}function Re(){var e,i,n;for(Ce++,e=ye,i=[],n=Ne();n!==r;)i.push(n),n=Ne();return e=i!==r?t.substring(e,ye):i,Ce--,e===r&&(i=r,0===Ce&&Ie(G)),e}function je(){var e;return K.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(q)),e}function ze(){var e;return W.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(Y)),e}function Oe(){var e,i,n,o,a,s;if(e=ye,48===t.charCodeAt(ye)?(i=Q,ye++):(i=r,0===Ce&&Ie(X)),i===r){if(i=ye,n=ye,Z.test(t.charAt(ye))?(o=t.charAt(ye),ye++):(o=r,0===Ce&&Ie(J)),o!==r){for(a=[],s=je();s!==r;)a.push(s),s=je();a!==r?n=o=[o,a]:(ye=n,n=r)}else ye=n,n=r;i=n!==r?t.substring(i,ye):n}return i!==r&&(we=e,i=ee(i)),e=i}function Be(){var e,i,n,o,a,s,l,c;return te.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(ie)),e===r&&(e=ye,t.substr(ye,2)===ne?(i=ne,ye+=2):(i=r,0===Ce&&Ie(re)),i!==r&&(we=e,i=oe()),(e=i)===r&&(e=ye,t.substr(ye,2)===ae?(i=ae,ye+=2):(i=r,0===Ce&&Ie(se)),i!==r&&(we=e,i=le()),(e=i)===r&&(e=ye,t.substr(ye,2)===ce?(i=ce,ye+=2):(i=r,0===Ce&&Ie(de)),i!==r&&(we=e,i=ue()),(e=i)===r&&(e=ye,t.substr(ye,2)===he?(i=he,ye+=2):(i=r,0===Ce&&Ie(pe)),i!==r&&(we=e,i=fe()),(e=i)===r&&(e=ye,t.substr(ye,2)===ge?(i=ge,ye+=2):(i=r,0===Ce&&Ie(me)),i!==r?(n=ye,o=ye,(a=ze())!==r&&(s=ze())!==r&&(l=ze())!==r&&(c=ze())!==r?o=a=[a,s,l,c]:(ye=o,o=r),(n=o!==r?t.substring(n,ye):o)!==r?(we=e,e=i=ve(n)):(ye=e,e=r)):(ye=e,e=r)))))),e}function Ue(){var e,t,i;if(e=ye,t=[],(i=Be())!==r)for(;i!==r;)t.push(i),i=Be();else t=r;return t!==r&&(we=e,t=be(t)),e=t}if((i=a())!==r&&ye===t.length)return i;throw i!==r&&ye<t.length&&Ie({type:"end",description:"end of input"}),De(null,_e,xe<t.length?t.charAt(xe):null,xe<t.length?Me(xe,xe+1):Me(xe,xe))}}}()},function(e,t,i){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e,o=r&&i[0].slice(-1),a=r&&i[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&n?"one":"other"}}},function(e,t){},function(e,t,i){"use strict";var n=i(147);function r(e){var t,i,n,r,o=[],a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t);var s=a.sort();for(i=0,n=s.length;i<n;i+=1)(r={})[t=s[i]]=e[t],o[i]=r;return o}t.default=function(e){var t=n.objCreate(null);return function(){var i=Array.prototype.slice.call(arguments),o=function(e){if("undefined"==typeof JSON)return;var t,i,n,o=[];for(t=0,i=e.length;t<i;t+=1)(n=e[t])&&"object"==typeof n?o.push(r(n)):o.push(n);return JSON.stringify(o)}(i),a=o&&t[o];return a||(a=new(n.bind.apply(e,[null].concat(i))),o&&(t[o]=a)),a}}},function(e,t,i){"use strict";var n=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),r.prototype=new n,r},r=Object.prototype.hasOwnProperty,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,i){"get"in i&&e.__defineGetter__?e.__defineGetter__(t,i.get):(!r.call(e,t)||"value"in i)&&(e[t]=i.value)}),s=Object.create||function(e,t){var i,n;function o(){}for(n in o.prototype=e,i=new o,t)r.call(t,n)&&a(i,n,t[n]);return i};t.bind=n,t.defineProperty=a,t.objCreate=s},function(e,t){e.exports='<div class="progress-bar-view">\n    <div class="progress-bar-bg">\n        <div class="progress-bar-fill"></div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="confirm-view-bg mrvl-overlay-overlay-bg">\n</div>\n<div class="confirm-view-shell mrvl-overlay-shell" data-auto="confirm-view-shell">\n    <h2 class="confirm-view-dialog-title dialog-title" data-auto="confirm-view-title">{{confirm-view-default-title}}</h2>\n    <div class="confirm-view-content-shell mrvl-overlay-content-shell">\n        <div class="confirm-main-content">\n            <div class="confirm-view-content mrvl-overlay-content">\n                <div class="confirm-view-thumbnail"></div>\n                <div class="confirm-progress-bar" data-auto="confirm-progress-bar"></div>\n                <div class="wait-spinner" data-auto="wait-spinner"></div>\n                <div class="wait-success"></div>\n                <p class="confirm-view-dialog-text" data-auto="confirm-view-text"></p>\n                <div class="confirm-view-prompt-field-area hide">\n                    <input class="confirm-view-prompt-field" data-auto="confirm-view-prompt-field">\n                </div>\n            </div>\n\n            <div class="mrvl-dlg-btn-acts">\n                <div class="sp-cta-button-secondary" data-auto="cancel-btn">{{confirm-view-default-verb-cancel}}</div>\n                <div class="sp-cta-button-primary confirm-btn-0" data-auto="confirm-btn">{{confirm-view-default-verb-ok}}</div>\n                <div class="sp-cta-button-primary confirm-btn-1 hide" data-auto="confirm-btn-1">{{confirm-view-default-verb-ok}}</div>\n                <div class="sp-cta-button-primary confirm-btn-2 hide" data-auto="confirm-btn-2">{{confirm-view-default-verb-ok}}</div>\n            </div>\n        </div>\n    </div>\n    <button class="confirm-view-close-btn x-close-btn">X</button>\n</div>\n'},function(e,t,i){var n=i(151);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(51);(e.exports=i(26)(!1)).push([e.i,".sp-cta-button-primary,.sp-cta-button-secondary{height:32px;border-radius:24px;font-size:15px;font-weight:700;line-height:30px;padding:0 16px;min-width:75px;text-align:center;cursor:pointer;transition:background-color .3s,color .3s}.sp-cta-button-primary.link,.sp-cta-button-secondary.link{text-decoration:none;line-height:32px}.sp-cta-button-primary.disabled,.sp-cta-button-secondary.disabled{background-color:rgba(130,145,155,.09);color:#d8dde0}.sp-cta-button-primary.disabled:active,.sp-cta-button-primary.disabled:hover,.sp-cta-button-secondary.disabled:active,.sp-cta-button-secondary.disabled:hover{cursor:default;background-color:rgba(130,145,155,.09)}.sp-cta-button-primary{color:#fff;background-color:#1473e6}.sp-cta-button-primary:hover{background-color:#1269d0}.sp-cta-button-primary:active{background-color:#1056a7}.sp-cta-button-secondary{color:#82919b;background-color:transparent;border:2px solid #82919b;line-height:28px;transition:background-color .3s,color .3s,border-color .3s}.sp-cta-button-secondary:hover{background-color:#82919b;color:#fff}.sp-cta-button-secondary:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark,.sp-cta-button-secondary.over-dark-photo{color:#dce0e3;border-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo.over-dark-photo,.sp-cta-button-secondary.over-dark.over-dark-photo{color:#fff;border-color:#fff}.sp-cta-button-secondary.over-dark-photo:hover,.sp-cta-button-secondary.over-dark:hover{color:#35414c;background-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo:hover.over-dark-photo,.sp-cta-button-secondary.over-dark:hover.over-dark-photo{background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active,.sp-cta-button-secondary.over-dark:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark-photo{color:#fff;border:2px solid #fff}.sp-cta-button-secondary.over-dark-photo:hover{color:#35414c;background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active{background-color:#35414c;border-color:#35414c;color:#fff}.mrvl-dlg-btn-acts .sp-cta-button-primary,.mrvl-dlg-btn-acts .sp-cta-button-secondary{margin-left:5px;margin-right:5px}.mrvl-dlg-btn-acts .sp-cta-button-primary:first-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:first-child{margin-left:0}.mrvl-dlg-btn-acts .sp-cta-button-primary:last-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:last-child{margin-right:0}.mrvl-overlay-overlay-bg{z-index:106;position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.8)}.mrvl-overlay-shell{z-index:106;position:fixed;background-color:#fff;border-radius:10px;width:580px;height:500px;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.mrvl-overlay-shell .marvel-overlay-shell-content{background-color:#fff;border-radius:5px;position:absolute;top:30px;bottom:0;width:100%}.mrvl-overlay-shell .mrvl-overlay-content-shell{padding:30px 30px 25px}.mrvl-overlay-shell .mrvl-overlay-content{margin-bottom:80px}.mrvl-overlay-shell .mrvl-overlay-content p{font-size:1.38em;font-weight:400;line-height:1.5;color:#35414c;word-wrap:break-word}.mrvl-overlay-shell .dialog-title{font-size:2em;font-weight:700;background-color:#f2f4f5;text-align:left;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#35414c;margin:0;padding:20px 25px;border-top-left-radius:10px;border-top-right-radius:10px}.mrvl-overlay-shell h2{font-size:2.4em;color:#484848}.mrvl-overlay-shell h2,.mrvl-overlay-shell h3{font-weight:300;text-align:center;margin:30px 0 16px}.mrvl-overlay-shell h3{font-size:1.8em;color:#666}.mrvl-overlay-shell .x-close-btn{position:absolute;right:20px;top:20px;background-color:transparent;border:none;outline:none;color:#999;cursor:pointer;font-size:1.4em}.mrvl-overlay-shell .cancel-btn,.mrvl-overlay-shell .done-btn{background-color:transparent;color:#ccc;border:1px solid #ccc}.mrvl-overlay-shell .mrvl-dlg-btn-acts{position:absolute;bottom:27px;text-align:right;right:25px;width:100%}.mrvl-overlay-shell .mrvl-dlg-btn-acts .cancel-btn{background-color:#9aa6af}.mrvl-overlay-shell .mrvl-dlg-btn-acts .cancel-btn:hover{background-color:#82919b}.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn{background-color:#35657c}.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn:hover{background-color:#35414c}.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn a{color:#fff;background-color:#35657c}.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn:hover a,.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn a:hover{background-color:#35414c}.mrvl-overlay-shell .mrvl-dlg-btn-acts .cancel-btn,.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn,.mrvl-overlay-shell .mrvl-dlg-btn-acts .done-btn{padding:10px 16px;color:#fff;text-decoration:none;border-radius:40px;font-weight:700;font-size:1.23em;margin:0;line-height:1;height:36px;border:0}@-moz-document url-prefix(){.mrvl-overlay-shell .mrvl-dlg-btn-acts .cancel-btn,.mrvl-overlay-shell .mrvl-dlg-btn-acts .confirm-btn,.mrvl-overlay-shell .mrvl-dlg-btn-acts .done-btn{line-height:-moz-block-height!important}}.mrvl-overlay-shell .mrvl-dlg-btn-acts .mrvl-btn{display:inline-block;margin:0 5px;overflow:hidden;position:relative}.mrvl-overlay-shell .mrvl-dlg-btn-acts .mrvl-btn:last-child{margin-right:0}.mrvl-overlay-shell.short{height:250px}.mrvl-overlay-shell .flag-toggle{width:62px;height:28px;cursor:pointer;display:inline-block;position:relative}.mrvl-overlay-shell .flag-toggle.selected .toggle-values{left:0}.mrvl-overlay-shell .flag-toggle.selected .toggle-handle{left:33px}.mrvl-overlay-shell .flag-toggle:not(.selected) .toggle-handle{left:-3px}.mrvl-overlay-shell .flag-toggle .toggle-handle,.mrvl-overlay-shell .flag-toggle .toggle-values{transition-property:left;transition:left .19s linear;transition-duration:.19s;transition-timing-function:linear;transition-delay:0s}.mrvl-overlay-shell .flag-toggle .toggle-values{width:116px;height:24px;position:absolute;z-index:0;left:-58px}.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-off,.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-on{width:58px;line-height:24px;text-transform:uppercase;display:inline-block;font-size:11px;font-weight:700}.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-off.toggle-values-on,.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-on.toggle-values-on{background-color:#35414c;text-align:left;color:#fff;padding-left:10px}.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-off.toggle-values-off,.mrvl-overlay-shell .flag-toggle .toggle-values .toggle-values-on.toggle-values-off{background-color:#f2f4f5;text-align:right;color:#81919b;padding-right:10px}.mrvl-overlay-shell .flag-toggle .toggle-mask{position:absolute;overflow:hidden;width:58px;height:24px;z-index:1;top:2px}.mrvl-overlay-shell .flag-toggle .toggle-mask .toggle-values-image-mask{position:absolute;top:0;left:0;width:58px;height:24px;z-index:1;background-image:url("+n(i(152))+');background-size:cover}.mrvl-overlay-shell .flag-toggle .toggle-handle{height:28px;width:28px;border-radius:14px;background-color:#dce0e3;position:absolute;z-index:2}.mrvl-overlay-shell .flag-toggle .toggle-handle .dot{background-color:#81919b;width:6px;height:6px;border-radius:3px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.confirm-overlay .confirm-view-bg,.confirm-overlay .index-progress-view-bg,.confirm-overlay .move-view-bg{z-index:10001}.confirm-overlay .confirm-view-bg.transparent-overlay,.confirm-overlay .index-progress-view-bg.transparent-overlay,.confirm-overlay .move-view-bg.transparent-overlay{background-color:transparent}.confirm-overlay .confirm-view-shell,.confirm-overlay .index-progress-view-shell,.confirm-overlay .move-view-shell{width:inherit;height:auto;min-width:440px;min-height:222px;z-index:10002;border-radius:4px;padding:40px}.confirm-overlay .confirm-view-shell.alert .cancel-btn,.confirm-overlay .index-progress-view-shell.alert .cancel-btn,.confirm-overlay .move-view-shell.alert .cancel-btn{display:none}.confirm-overlay .confirm-view-shell.prompt.mrvl-overlay-shell .dialog-title,.confirm-overlay .index-progress-view-shell.prompt.mrvl-overlay-shell .dialog-title,.confirm-overlay .move-view-shell.prompt.mrvl-overlay-shell .dialog-title{border-color:transparent}.confirm-overlay .confirm-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta,.confirm-overlay .index-progress-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta,.confirm-overlay .move-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta{margin-bottom:0;padding-bottom:4px}.confirm-overlay .confirm-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta:after,.confirm-overlay .index-progress-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta:after,.confirm-overlay .move-view-shell.prompt.mrvl-overlay-shell .dialog-title.beta:after{background:#1473e6;color:#fff;font-size:10px;font-family:adobe-clean,sans-serif;content:"BETA";margin-left:20px;border-radius:0;padding:3px 5px;display:inline-block;-webkit-transform:translateY(-4px);transform:translateY(-4px)}.confirm-overlay .confirm-view-shell .wait-spinner,.confirm-overlay .index-progress-view-shell .wait-spinner,.confirm-overlay .move-view-shell .wait-spinner{display:none}.confirm-overlay .confirm-view-shell .wait-success,.confirm-overlay .index-progress-view-shell .wait-success,.confirm-overlay .move-view-shell .wait-success{display:none;width:63px;height:63px;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-image:url(/images/brandkit/blue-check.svg);background-repeat:no-repeat;background-size:28px 28px;background-position:center 14px;border:4px solid #1d6ae5;border-radius:100px;margin-left:4px;margin-top:-9px}.confirm-overlay .confirm-view-shell .confirm-progress-bar,.confirm-overlay .confirm-view-shell.showing-progress .confirm-btn,.confirm-overlay .confirm-view-shell.showing-progress:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .confirm-view-shell.showing-progress:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .confirm-view-shell.showing-progress:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .confirm-view-shell.showing-waiter-success .confirm-btn,.confirm-overlay .confirm-view-shell.showing-waiter-success:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .confirm-view-shell.showing-waiter-success:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .confirm-view-shell.showing-waiter-success:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .confirm-view-shell.showing-waiter .confirm-btn,.confirm-overlay .confirm-view-shell.showing-waiter:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .confirm-view-shell.showing-waiter:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .confirm-view-shell.showing-waiter:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .index-progress-view-shell .confirm-progress-bar,.confirm-overlay .index-progress-view-shell.showing-progress .confirm-btn,.confirm-overlay .index-progress-view-shell.showing-progress:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .index-progress-view-shell.showing-progress:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .index-progress-view-shell.showing-progress:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .index-progress-view-shell.showing-waiter-success .confirm-btn,.confirm-overlay .index-progress-view-shell.showing-waiter-success:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .index-progress-view-shell.showing-waiter-success:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .index-progress-view-shell.showing-waiter-success:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .index-progress-view-shell.showing-waiter .confirm-btn,.confirm-overlay .index-progress-view-shell.showing-waiter:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .index-progress-view-shell.showing-waiter:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .index-progress-view-shell.showing-waiter:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .move-view-shell .confirm-progress-bar,.confirm-overlay .move-view-shell.showing-progress .confirm-btn,.confirm-overlay .move-view-shell.showing-progress:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .move-view-shell.showing-progress:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .move-view-shell.showing-progress:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .move-view-shell.showing-waiter-success .confirm-btn,.confirm-overlay .move-view-shell.showing-waiter-success:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .move-view-shell.showing-waiter-success:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .move-view-shell.showing-waiter-success:not(.can-cancel-waiter) .mrvl-dlg-btn-acts,.confirm-overlay .move-view-shell.showing-waiter .confirm-btn,.confirm-overlay .move-view-shell.showing-waiter:not(.can-cancel-waiter) .cancel-btn,.confirm-overlay .move-view-shell.showing-waiter:not(.can-cancel-waiter) .confirm-view-close-btn,.confirm-overlay .move-view-shell.showing-waiter:not(.can-cancel-waiter) .mrvl-dlg-btn-acts{display:none}.confirm-overlay .confirm-view-shell.showing-progress.showing-waiter .wait-spinner,.confirm-overlay .confirm-view-shell.showing-waiter-success.showing-waiter .wait-spinner,.confirm-overlay .confirm-view-shell.showing-waiter.showing-waiter .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-progress.showing-waiter .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-waiter-success.showing-waiter .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-waiter.showing-waiter .wait-spinner,.confirm-overlay .move-view-shell.showing-progress.showing-waiter .wait-spinner,.confirm-overlay .move-view-shell.showing-waiter-success.showing-waiter .wait-spinner,.confirm-overlay .move-view-shell.showing-waiter.showing-waiter .wait-spinner{-webkit-animation:blue-spinner-anim 1s steps(60) infinite forwards;animation:blue-spinner-anim 1s steps(60) infinite forwards;background:50% url('+n(i(153))+") no-repeat;width:68px;height:68px;position:relative;display:block;margin-bottom:1.5rem;margin-top:-12px}@-webkit-keyframes blue-spinner-anim{0%{background-position:0 0}to{background-position:-4080px 0}}@keyframes blue-spinner-anim{0%{background-position:0 0}to{background-position:-4080px 0}}.confirm-overlay .confirm-view-shell.showing-progress.showing-progress .confirm-progress-bar,.confirm-overlay .confirm-view-shell.showing-waiter-success.showing-progress .confirm-progress-bar,.confirm-overlay .confirm-view-shell.showing-waiter.showing-progress .confirm-progress-bar,.confirm-overlay .index-progress-view-shell.showing-progress.showing-progress .confirm-progress-bar,.confirm-overlay .index-progress-view-shell.showing-waiter-success.showing-progress .confirm-progress-bar,.confirm-overlay .index-progress-view-shell.showing-waiter.showing-progress .confirm-progress-bar,.confirm-overlay .move-view-shell.showing-progress.showing-progress .confirm-progress-bar,.confirm-overlay .move-view-shell.showing-waiter-success.showing-progress .confirm-progress-bar,.confirm-overlay .move-view-shell.showing-waiter.showing-progress .confirm-progress-bar{display:block;position:relative;width:80%;margin:10px auto;height:4px;border-radius:0}.confirm-overlay .confirm-view-shell.showing-progress.mrvl-overlay-shell .dialog-title,.confirm-overlay .confirm-view-shell.showing-waiter-success.mrvl-overlay-shell .dialog-title,.confirm-overlay .confirm-view-shell.showing-waiter.mrvl-overlay-shell .dialog-title,.confirm-overlay .index-progress-view-shell.showing-progress.mrvl-overlay-shell .dialog-title,.confirm-overlay .index-progress-view-shell.showing-waiter-success.mrvl-overlay-shell .dialog-title,.confirm-overlay .index-progress-view-shell.showing-waiter.mrvl-overlay-shell .dialog-title,.confirm-overlay .move-view-shell.showing-progress.mrvl-overlay-shell .dialog-title,.confirm-overlay .move-view-shell.showing-waiter-success.mrvl-overlay-shell .dialog-title,.confirm-overlay .move-view-shell.showing-waiter.mrvl-overlay-shell .dialog-title{text-align:center;border-bottom-color:transparent}.confirm-overlay .confirm-view-shell.showing-progress.waiter-has-text .wait-spinner,.confirm-overlay .confirm-view-shell.showing-waiter-success.waiter-has-text .wait-spinner,.confirm-overlay .confirm-view-shell.showing-waiter.waiter-has-text .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-progress.waiter-has-text .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-waiter-success.waiter-has-text .wait-spinner,.confirm-overlay .index-progress-view-shell.showing-waiter.waiter-has-text .wait-spinner,.confirm-overlay .move-view-shell.showing-progress.waiter-has-text .wait-spinner,.confirm-overlay .move-view-shell.showing-waiter-success.waiter-has-text .wait-spinner,.confirm-overlay .move-view-shell.showing-waiter.waiter-has-text .wait-spinner{margin-bottom:1rem;margin-top:-24px}.confirm-overlay .confirm-view-shell.showing-progress .confirm-view-dialog-text,.confirm-overlay .confirm-view-shell.showing-waiter-success .confirm-view-dialog-text,.confirm-overlay .confirm-view-shell.showing-waiter .confirm-view-dialog-text,.confirm-overlay .index-progress-view-shell.showing-progress .confirm-view-dialog-text,.confirm-overlay .index-progress-view-shell.showing-waiter-success .confirm-view-dialog-text,.confirm-overlay .index-progress-view-shell.showing-waiter .confirm-view-dialog-text,.confirm-overlay .move-view-shell.showing-progress .confirm-view-dialog-text,.confirm-overlay .move-view-shell.showing-waiter-success .confirm-view-dialog-text,.confirm-overlay .move-view-shell.showing-waiter .confirm-view-dialog-text{text-align:center}.confirm-overlay .confirm-view-shell.showing-progress:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .confirm-view-shell.showing-waiter-success:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .confirm-view-shell.showing-waiter:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .index-progress-view-shell.showing-progress:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .index-progress-view-shell.showing-waiter-success:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .index-progress-view-shell.showing-waiter:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .move-view-shell.showing-progress:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .move-view-shell.showing-waiter-success:not(.can-cancel-waiter).showing-waiter .confirm-view-content,.confirm-overlay .move-view-shell.showing-waiter:not(.can-cancel-waiter).showing-waiter .confirm-view-content{margin-bottom:inherit}.confirm-overlay .confirm-view-shell.showing-waiter-success .wait-success,.confirm-overlay .index-progress-view-shell.showing-waiter-success .wait-success,.confirm-overlay .move-view-shell.showing-waiter-success .wait-success{display:block}.confirm-overlay .confirm-view-shell .cancel-btn,.confirm-overlay .confirm-view-shell .confirm-btn,.confirm-overlay .confirm-view-shell .mrvl-btn,.confirm-overlay .index-progress-view-shell .cancel-btn,.confirm-overlay .index-progress-view-shell .confirm-btn,.confirm-overlay .index-progress-view-shell .mrvl-btn,.confirm-overlay .move-view-shell .cancel-btn,.confirm-overlay .move-view-shell .confirm-btn,.confirm-overlay .move-view-shell .mrvl-btn{text-align:center}.confirm-overlay .confirm-view-shell .confirm-dialog-link,.confirm-overlay .index-progress-view-shell .confirm-dialog-link,.confirm-overlay .move-view-shell .confirm-dialog-link{font-weight:600;color:#35414c}.confirm-overlay .confirm-view-shell .confirm-view-prompt-field,.confirm-overlay .index-progress-view-shell .confirm-view-prompt-field,.confirm-overlay .move-view-shell .confirm-view-prompt-field{color:#35414c;border:1px solid #dce0e3;border-width:0 0 1px;width:100%;font-size:3em;line-height:-moz-block-height;padding-bottom:2px;font-family:adobe-clean,sans-serif}.confirm-overlay .confirm-view-shell .confirm-view-prompt-field:focus,.confirm-overlay .index-progress-view-shell .confirm-view-prompt-field:focus,.confirm-overlay .move-view-shell .confirm-view-prompt-field:focus{outline:none;border-color:#1473e6}.confirm-overlay .confirm-view-shell .confirm-view-prompt-field.error,.confirm-overlay .index-progress-view-shell .confirm-view-prompt-field.error,.confirm-overlay .move-view-shell .confirm-view-prompt-field.error{border-color:#e63c4b}.confirm-overlay .confirm-view-shell .x-close-btn,.confirm-overlay .index-progress-view-shell .x-close-btn,.confirm-overlay .move-view-shell .x-close-btn{position:absolute;right:25px;top:25px;background-image:url("+n(i(73))+');background-color:transparent;background-repeat:no-repeat;background-size:contain;background-position:50%;width:20px;height:20px;border:none;outline:none;cursor:pointer;color:transparent;transition:opacity .3s ease-in;opacity:.7}.confirm-overlay .confirm-view-shell .x-close-btn:hover,.confirm-overlay .index-progress-view-shell .x-close-btn:hover,.confirm-overlay .move-view-shell .x-close-btn:hover{opacity:1}.confirm-overlay .confirm-view-shell span,.confirm-overlay .index-progress-view-shell span,.confirm-overlay .move-view-shell span{font-weight:400;color:#35414c}.confirm-overlay .confirm-view-shell span em,.confirm-overlay .index-progress-view-shell span em,.confirm-overlay .move-view-shell span em{font-weight:700}.confirm-overlay .confirm-view-shell a,.confirm-overlay .index-progress-view-shell a,.confirm-overlay .move-view-shell a{text-decoration:none;cursor:pointer;color:#35414c;font-weight:700;opacity:.9}.confirm-overlay .confirm-view-shell a:hover,.confirm-overlay .index-progress-view-shell a:hover,.confirm-overlay .move-view-shell a:hover{opacity:1}.confirm-overlay .confirm-view-shell .sp-cta-button-primary a,.confirm-overlay .confirm-view-shell .sp-cta-button-secondary a,.confirm-overlay .index-progress-view-shell .sp-cta-button-primary a,.confirm-overlay .index-progress-view-shell .sp-cta-button-secondary a,.confirm-overlay .move-view-shell .sp-cta-button-primary a,.confirm-overlay .move-view-shell .sp-cta-button-secondary a{color:inherit;opacity:inherit}.confirm-overlay .confirm-view-shell .sp-cta-button-primary.disabled.sp-cta-button-primary,.confirm-overlay .confirm-view-shell .sp-cta-button-secondary.disabled.sp-cta-button-primary,.confirm-overlay .index-progress-view-shell .sp-cta-button-primary.disabled.sp-cta-button-primary,.confirm-overlay .index-progress-view-shell .sp-cta-button-secondary.disabled.sp-cta-button-primary,.confirm-overlay .move-view-shell .sp-cta-button-primary.disabled.sp-cta-button-primary,.confirm-overlay .move-view-shell .sp-cta-button-secondary.disabled.sp-cta-button-primary{opacity:.5}.confirm-overlay .confirm-view-shell b,.confirm-overlay .confirm-view-shell strong,.confirm-overlay .index-progress-view-shell b,.confirm-overlay .index-progress-view-shell strong,.confirm-overlay .move-view-shell b,.confirm-overlay .move-view-shell strong{font-weight:600}.confirm-overlay .mrvl-overlay-overlay-bg{background-color:rgba(25,34,38,.5)}.confirm-overlay .mrvl-overlay-shell .dialog-title{font-size:22px;font-weight:700;font-family:brandon-grotesque,adobe-clean,sans-serif;background-color:inherit;padding:0 0 13px;border-bottom:2px solid #e8ebed;margin-bottom:25px}.confirm-overlay .mrvl-overlay-shell .mrvl-dlg-btn-acts{margin-top:25px;position:inherit;display:-webkit-flex;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end}.confirm-overlay .mrvl-overlay-shell .mrvl-dlg-btn-acts button,.confirm-overlay .mrvl-overlay-shell .mrvl-dlg-btn-acts input[type=button]{outline:none;font-family:adobe-clean,sans-serif}.confirm-overlay .mrvl-overlay-shell .mrvl-overlay-content p{font-size:1.077em;width:360px}.confirm-overlay .mrvl-overlay-shell .mrvl-overlay-content p span{font-family:adobe-clean,sans-serif;font-weight:400;font-size:1em}.confirm-overlay .mrvl-overlay-shell .mrvl-overlay-content p span em{font-weight:700}.confirm-overlay .confirm-view-content-shell.mrvl-overlay-content-shell{padding:0}.confirm-overlay .confirm-view-content-shell.mrvl-overlay-content-shell .confirm-view-content{margin-bottom:inherit}.confirm-overlay .cancel-btn,.confirm-overlay .confirm-btn,.confirm-overlay .mrvl-btn{border-radius:40px;font-size:1.23em;font-family:adobe-clean,sans-serif;font-weight:700;height:32px;padding:6px 16px 7px;transition:background-color .2s ease-in,color .2s ease-in;text-align:center}.confirm-overlay .confirm-btn,.confirm-overlay .confirm-btn a{background-color:#1473e6;color:#fff;line-height:1.23em}.confirm-overlay .confirm-btn.confirm-btn a,.confirm-overlay .confirm-btn a.confirm-btn a{opacity:1;transition:background-color .2s ease-in,color .2s ease-in}.confirm-overlay .confirm-btn:hover,.confirm-overlay .confirm-btn a:hover{background-color:#1269d0}.confirm-overlay .confirm-btn:hover a,.confirm-overlay .confirm-btn a:hover a{background-color:#1269d0;color:#fff}.confirm-overlay .confirm-btn:active,.confirm-overlay .confirm-btn a:active{background-color:#1056a7}.confirm-overlay .confirm-btn:active a,.confirm-overlay .confirm-btn a:active a{background-color:#1056a7;color:#fff}.confirm-overlay .cancel-btn{background-color:transparent;color:#82919b;border:2px solid #82919b}.confirm-overlay .cancel-btn:active,.confirm-overlay .cancel-btn:hover{background-color:#82919b;color:#fff}.confirm-overlay .index-progress-view-shell{padding:0;width:550px}.confirm-overlay .index-progress-view-shell .index-progress-view-graphic-div{background-color:#eff1f2;border-top-left-radius:4px;border-top-right-radius:4px;overflow:hidden;position:relative}.confirm-overlay .index-progress-view-shell .index-progress-view-graphic-div .index-progress-view-curve{position:absolute;top:204px;margin-left:-85px;background-color:#e2e6e9;height:550px;width:720px;border-radius:50%}.confirm-overlay .index-progress-view-shell .index-progress-view-graphic-div .index-progress-view-graphic{height:300px;width:300px;position:relative;z-index:1;margin-left:125px}.confirm-overlay .index-progress-view-shell .index-progress-view-description{background-color:#fff;margin:30px 30px 0}.confirm-overlay .index-progress-view-shell .index-progress-view-description .index-progress-view-title{border:none;margin:0}.confirm-overlay .index-progress-view-shell .index-progress-view-description p{font-size:1.2em;font-weight:300;margin-bottom:6px}.confirm-overlay .index-progress-view-shell .index-progress-view-description .index-progress-view-warning{font-weight:700;font-style:italic}.confirm-overlay .index-progress-view-shell .index-progress-view-results{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;margin:30px}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left{width:100%}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:7px;padding-right:30px}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels .index-progress-view-label{font-weight:700;opacity:.5}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels .index-progress-view-label .loadinging-dots span{-webkit-animation:dots-blink;animation:dots-blink;-webkit-animation-duration:1.4s;animation-duration:1.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels .index-progress-view-label .loadinging-dots span:nth-child(2){-webkit-animation-delay:.4s;animation-delay:.4s}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels .index-progress-view-label .loadinging-dots span:nth-child(3){-webkit-animation-delay:.8s;animation-delay:.8s}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-labels .index-complete-view-label{font-weight:700;opacity:.5}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-bar{height:8px;width:100%;padding-right:30px}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-bar .progress-bar-view{position:static}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-left .index-progress-view-progress .index-progress-view-progress-bar .progress-bar-view .progress-bar-bg .progress-bar-fill{transition:-webkit-transform .1s ease-out;transition:transform .1s ease-out;transition:transform .1s ease-out,-webkit-transform .1s ease-out}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-right{width:100%;display:-webkit-flex;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-right .index-progress-view-create-folder-button{padding-left:15px;padding-right:15px;height:30px;cursor:pointer;font-size:15px;font-weight:800;color:#fff;background-color:#1473e6;border-radius:20px;transition:background-color .2s}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-right .index-progress-view-create-folder-button:focus{outline:none}.confirm-overlay .index-progress-view-shell .index-progress-view-results .index-progress-view-results-right .index-progress-view-create-folder-button.disabled{background-color:#f1f1f1;color:#aeaeae}.progress-bar-view{position:absolute;height:100%;width:100%;top:0;left:0}.progress-bar-view .progress-bar-bg{height:100%;border-radius:50px;background-color:#dce0e3;overflow:hidden}.progress-bar-view .progress-bar-bg .progress-bar-fill{height:100%;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transform-origin:left center 0;transform-origin:left center 0;background-color:#1473e6;transition:-webkit-transform .5s ease-out;transition:transform .5s ease-out;transition:transform .5s ease-out,-webkit-transform .5s ease-out}.progress-bar-view .progress-bar-bg .progress-bar-fill.ongoing{width:95%;transition:width 6s ease-out}.mrvl-dlg-btn-area{position:absolute;bottom:30px;text-align:center;width:100%}.mrvl-dlg-btn-area .mrvl-btn{display:inline-block;margin:0 20px}.wait-spinner{content:"";position:absolute;top:50%;left:48.5%;margin:-1.5rem 0 0 -1.5rem;width:65px;height:65px;background-size:100% 100%;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:wait-spinner-rotate;animation-name:wait-spinner-rotate}@-webkit-keyframes wait-spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes wait-spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes dots-blink{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}@keyframes dots-blink{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}',""])},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OCAyNCIgd2lkdGg9IjU4IiBoZWlnaHQ9IjI0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmljb24tcGlsbC1tYXNrPC90aXRsZT48cGF0aCBpZD0icGF0aC0xIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMiwyNEgwVjEyLjE5QTEyLjA1LDEyLjA1LDAsMCwwLDEyLDI0Wm00NiwwSDQ2QTEyLjA2LDEyLjA2LDAsMCwwLDU4LDEyLjIyVjI0Wk0wLDExLjgxSDBWMEgxMS44M0ExMi4wOSwxMi4wOSwwLDAsMCwwLDExLjgxWm01OCwwQTEyLDEyLDAsMCwwLDQ2LjIxLDBINThWMTEuNzhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIi8+PC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjQwODBweCIgaGVpZ2h0PSI2OHB4IiB2aWV3Qm94PSIwIDAgNDA4MCA2OCI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGwtb3BhY2l0eTowO3N0cm9rZTojMDAwO3N0cm9rZS13aWR0aDo0O3N0cm9rZS1vcGFjaXR5OjAuMTt9Cgkuc3Qxe2ZpbGwtb3BhY2l0eTowO3N0cm9rZTojMTQ3M0U2O3N0cm9rZS13aWR0aDo0O30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBTNTAuNiw2NCwzNCw2NFM0LDUwLjYsNCwzNFMxNy40LDQsMzQsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM0LDRMMzQsNGMxNi42LDAsMzAsMTMuNCwzMCwzMCIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAyLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBTNzIsNTAuNiw3MiwzNFM4NS40LDQsMTAyLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDIuOCw0QzExOSw0LjQsMTMyLDE3LjcsMTMyLDM0YzAsMy40LTAuNiw2LjctMS42LDkuOCIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTcwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMTUzLjQsNCwxNzAsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MS42LDRDMTg3LjQsNC45LDIwMCwxOCwyMDAsMzRjMCw2LjgtMi4zLDEzLjEtNi4xLDE4LjIiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIzOCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzIyMS40LDQsMjM4LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNDAuNCw0LjFDMjU1LjgsNS4zLDI2OCwxOC4yLDI2OCwzNGMwLDEwLjEtNSwxOS0xMi42LDI0LjQiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwNiw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzI4OS40LDQsMzA2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMDkuMSw0LjJDMzI0LjIsNS43LDMzNiwxOC41LDMzNiwzNGMwLDEzLjItOC41LDI0LjQtMjAuMywyOC40Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNzQsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzNTcuNCw0LDM3NCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzc3LjksNC4zQzM5Mi42LDYuMiw0MDQsMTguOCw0MDQsMzRjMCwxNi0xMi42LDI5LjEtMjguNCwzMCIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDQyLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTNDI1LjQsNCw0NDIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTQ0Ni43LDQuNEM0NjEsNi42LDQ3MiwxOSw0NzIsMzRjMCwxNi42LTEzLjQsMzAtMzAsMzBjLTIuMSwwLTQuMi0wLjItNi4yLTAuNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTEwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBjLTE2LjYsMC0zMC0xMy40LTMwLTMwUzQ5My40LDQsNTEwLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01MTUuNSw0LjVDNTI5LjQsNy4xLDU0MCwxOS4zLDU0MCwzNGMwLDE2LjYtMTMuNCwzMC0zMCwzMGMtNC43LDAtOS4yLTEuMS0xMy4yLTMuMSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTc4LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTNTYxLjQsNCw1NzgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTU4NC4yLDQuN0M1OTcuOCw3LjUsNjA4LDE5LjYsNjA4LDM0YzAsMTYuNi0xMy40LDMwLTMwLDMwYy03LjMsMC0xNC0yLjYtMTkuMS02LjkiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTY0Niw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzYyOS40LDQsNjQ2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02NTMsNC44QzY2Ni4yLDgsNjc2LDE5LjksNjc2LDM0YzAsMTYuNi0xMy40LDMwLTMwLDMwYy05LjcsMC0xOC4zLTQuNi0yMy44LTExLjgiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTcxNCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzY5Ny40LDQsNzE0LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03MjEuOCw1QzczNC42LDguNCw3NDQsMjAuMSw3NDQsMzRjMCwxNi42LTEzLjQsMzAtMzAsMzBjLTEyLDAtMjIuMy03LTI3LjEtMTcuMiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzgyLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTNzY1LjQsNCw3ODIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTc5MC41LDUuMkM4MDIuOSw4LjksODEyLDIwLjQsODEyLDM0YzAsMTYuNi0xMy40LDMwLTMwLDMwYy0xNC4xLDAtMjYtOS44LTI5LjItMjIuOSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNODUwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTODMzLjQsNCw4NTAsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTg1OS4zLDUuNUM4NzEuMyw5LjQsODgwLDIwLjcsODgwLDM0YzAsMTYuNi0xMy40LDMwLTMwLDMwYy0xNi4xLDAtMjkuMy0xMi43LTMwLTI4LjYiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTkxOCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzkwMS40LDQsOTE4LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05MjgsNS43QzkzOS43LDkuOCw5NDgsMjEsOTQ4LDM0YzAsMTYuNi0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwYzAtMS40LDAuMS0yLjgsMC4zLTQuMSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTg2LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTOTY5LjQsNCw5ODYsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTk5Ni44LDZjMTEuMiw0LjMsMTkuMiwxNS4yLDE5LjIsMjhjMCwxNi42LTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBjMC0zLjIsMC41LTYuMywxLjQtOS4xIi8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDU0LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMTAzNy40LDQsMTA1NCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA2NS41LDYuM2MxMC44LDQuNSwxOC41LDE1LjIsMTguNSwyNy43YzAsMTYuNi0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwYzAtNC45LDEuMi05LjYsMy4zLTEzLjciLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTExMjIsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxMTA1LjQsNCwxMTIyLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMTM0LjIsNi42YzEwLjUsNC43LDE3LjgsMTUuMiwxNy44LDI3LjRjMCwxNi42LTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBjMC02LjYsMi4xLTEyLjcsNS43LTE3LjYiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTExOTAsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxMTczLjQsNCwxMTkwLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMjAzLDYuOWMxMCw0LjksMTcsMTUuMiwxNywyNy4xYzAsMTYuNi0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwYzAtOC4yLDMuMy0xNS42LDguNi0yMSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTI1OCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzEyNDEuNCw0LDEyNTgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTEyODEuNCwxNS4zYzQuMSw1LjEsNi42LDExLjYsNi42LDE4LjdjMCwxNi42LTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBjMC05LjYsNC42LTE4LjIsMTEuNi0yMy43Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzI2LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMTMwOS40LDQsMTMyNiw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTM1NSwyNi40YzAuNiwyLjQsMSw1LDEsNy42YzAsMTYuNi0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwYzAtMTEsNi0yMC43LDE0LjktMjUuOSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTM5NCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzEzNzcuNCw0LDEzOTQsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0MjMuNywzOC4xYy0yLDE0LjYtMTQuNSwyNS45LTI5LjcsMjUuOWMtMTYuNiwwLTMwLTEzLjQtMzAtMzBjMC0xMi4zLDcuNS0yMywxOC4xLTI3LjYiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE0NjIsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxNDQ1LjQsNCwxNDYyLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDg4LjMsNDguNWMtNS4xLDkuMi0xNSwxNS41LTI2LjMsMTUuNWMtMTYuNiwwLTMwLTEzLjQtMzAtMzBjMC0xMy42LDktMjUsMjEuNC0yOC43Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNTMwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMTUxMy40LDQsMTUzMCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU0OS45LDU2LjRjLTUuMyw0LjctMTIuMyw3LjYtMTkuOSw3LjZjLTE2LjYsMC0zMC0xMy40LTMwLTMwYzAtMTQuNywxMC42LTI3LDI0LjYtMjkuNSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTU5OCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzE1ODEuNCw0LDE1OTgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE2MTAsNjEuNWMtMy43LDEuNi03LjcsMi41LTEyLDIuNWMtMTYuNiwwLTMwLTEzLjQtMzAtMzBjMC0xNS44LDEyLjItMjguNywyNy42LTI5LjkiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2NjYsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxNjQ5LjQsNCwxNjY2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjY5LjUsNjMuOGMtMS4yLDAuMS0yLjMsMC4yLTMuNSwwLjJjLTE2LjYsMC0zMC0xMy40LTMwLTMwczEzLjQtMzAsMzAtMzBjMC4yLDAsMC40LDAsMC41LDAiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE3MzQsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxNzE3LjQsNCwxNzM0LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNzI5LjMsNjMuNkMxNzE1LDYxLjQsMTcwNCw0OSwxNzA0LDM0YzAtMTYuNiwxMy40LTMwLDMwLTMwYzEuMSwwLDIuMiwwLjEsMy4zLDAuMiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTgwMiw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzE3ODUuNCw0LDE4MDIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OTAuMSw2MS41Yy0xMC43LTQuNi0xOC4xLTE1LjItMTguMS0yNy41YzAtMTYuNiwxMy40LTMwLDMwLTMwYzIsMCwzLjksMC4yLDUuOCwwLjYiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE4NzAsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMxODUzLjQsNCwxODcwLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODUyLDU4Yy03LjMtNS41LTEyLTE0LjItMTItMjRjMC0xNi42LDEzLjQtMzAsMzAtMzBjMi44LDAsNS42LDAuNCw4LjIsMS4xIi8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xOTM4LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMTkyMS40LDQsMTkzOCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTkxNS4zLDUzLjZjLTQuNS01LjMtNy4zLTEyLjEtNy4zLTE5LjZjMC0xNi42LDEzLjQtMzAsMzAtMzBjMy42LDAsNy4xLDAuNiwxMC4zLDEuOCIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjAwNiw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzE5ODkuNCw0LDIwMDYsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE5NzkuOSw0OC43Yy0yLjUtNC4zLTMuOS05LjMtMy45LTE0LjdjMC0xNi42LDEzLjQtMzAsMzAtMzBjNC40LDAsOC42LDAuOSwxMi4zLDIuNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjA3NCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzIwNTcuNCw0LDIwNzQsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTIwNDUuNiw0My44Yy0xLTMuMS0xLjYtNi40LTEuNi05LjhjMC0xNi42LDEzLjQtMzAsMzAtMzBjNS4xLDAsOS45LDEuMywxNC4xLDMuNSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjE0Miw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzIxMjUuNCw0LDIxNDIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMTIuNCwzOC45Yy0wLjMtMS42LTAuNC0zLjItMC40LTQuOWMwLTE2LjYsMTMuNC0zMCwzMC0zMGM1LjgsMCwxMS4yLDEuNiwxNS44LDQuNSIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIxMCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzIxOTMuNCw0LDIyMTAsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTIxODAsMzQuM2MwLTAuMSwwLTAuMiwwLTAuM2MwLTE2LjYsMTMuNC0zMCwzMC0zMGM2LjQsMCwxMi40LDIsMTcuMyw1LjUiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIyNzgsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyMjYxLjQsNCwyMjc4LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMjQ4LjMsMzAuMUMyMjUwLjIsMTUuNCwyMjYyLjgsNCwyMjc4LDRjNywwLDEzLjUsMi40LDE4LjYsNi41Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMzQ2LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMjMyOS40LDQsMjM0Niw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjMxNywyNi4zYzMuNC0xMi44LDE1LjEtMjIuMywyOS0yMi4zYzcuNiwwLDE0LjYsMi44LDE5LjksNy41Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNDE0LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMjM5Ny40LDQsMjQxNCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjM4Ni4xLDIyLjlDMjM5MC41LDExLjgsMjQwMS40LDQsMjQxNCw0YzguMiwwLDE1LjYsMy4zLDIxLDguNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQ4Miw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzI0NjUuNCw0LDI0ODIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTI0NTUuNSwyMGM1LTkuNSwxNS0xNiwyNi41LTE2YzguNywwLDE2LjUsMy43LDIyLDkuNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjU1MCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzI1MzMuNCw0LDI1NTAsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTI1MjUsMTcuNWM1LjMtOC4xLDE0LjUtMTMuNSwyNS0xMy41YzkuMiwwLDE3LjQsNC4xLDIyLjksMTAuNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjYxOCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzI2MDEuNCw0LDI2MTgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTI1OTQuNSwxNS4zQzI2MDAsOC40LDI2MDguNSw0LDI2MTgsNGM5LjYsMCwxOC4yLDQuNSwyMy43LDExLjYiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI2ODYsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyNjY5LjQsNCwyNjg2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjY0LjEsMTMuNWM1LjUtNS44LDEzLjMtOS41LDIxLjktOS41YzEwLDAsMTksNSwyNC40LDEyLjUiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3NTQsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyNzM3LjQsNCwyNzU0LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzMzLjcsMTEuOUMyNzM5LDcsMjc0Ni4yLDQsMjc1NCw0YzEwLjUsMCwxOS43LDUuNCwyNS4xLDEzLjUiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI4MjIsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyODA1LjQsNCwyODIyLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yODAzLjIsMTAuNmM1LjEtNC4xLDExLjctNi42LDE4LjgtNi42YzEwLjksMCwyMC40LDUuOCwyNS42LDE0LjQiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI4OTAsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyODczLjQsNCwyODkwLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yODcyLjYsOS41YzQuOS0zLjQsMTAuOS01LjUsMTcuNC01LjVjMTEuMiwwLDIxLDYuMiwyNi4yLDE1LjMiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI5NTgsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMyOTQxLjQsNCwyOTU4LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yOTQyLDguNmM0LjctMi45LDEwLjEtNC42LDE2LTQuNmMxMS42LDAsMjEuNyw2LjYsMjYuNywxNi4yIi8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zMDI2LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMzAwOS40LDQsMzAyNiw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzAxMS40LDcuOGM0LjMtMi40LDkuMy0zLjgsMTQuNi0zLjhjMTIsMCwyMi4zLDcsMjcuMSwxNy4xIi8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zMDk0LDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMzA3Ny40LDQsMzA5NCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzA4MC42LDcuMWM0LTIsOC42LTMuMSwxMy40LTMuMWMxMi4zLDAsMjIuOSw3LjQsMjcuNSwxOCIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzE2Miw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzMxNDUuNCw0LDMxNjIsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTMxNDkuOCw2LjZjMy43LTEuNyw3LjgtMi42LDEyLjItMi42YzEyLjYsMCwyMy40LDcuOCwyNy45LDE4LjkiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTMyMzAsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzMjEzLjQsNCwzMjMwLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMjE4LjksNi4xYzMuNC0xLjMsNy4yLTIuMSwxMS4xLTIuMWMxMi45LDAsMjQsOC4yLDI4LjIsMTkuNyIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzI5OCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzMyODEuNCw0LDMyOTgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTMyODcuOSw1LjdjMy4yLTEuMSw2LjYtMS43LDEwLjEtMS43YzEzLjIsMCwyNC41LDguNiwyOC41LDIwLjUiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTMzNjYsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzMzQ5LjQsNCwzMzY2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMzU2LjksNS40YzIuOS0wLjksNS45LTEuNCw5LjEtMS40YzEzLjUsMCwyNSw5LDI4LjcsMjEuMyIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzQzNCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzM0MTcuNCw0LDM0MzQsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM0MjUuOCw1LjFjMi42LTAuNyw1LjQtMS4xLDguMi0xLjFjMTMuOCwwLDI1LjUsOS40LDI5LDIyLjEiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM1MDIsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzNDg1LjQsNCwzNTAyLDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNDk0LjcsNC45YzIuNC0wLjYsNC44LTAuOSw3LjMtMC45YzE0LjEsMCwyNiw5LjgsMjkuMiwyMi45Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNTcwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMzU1My40LDQsMzU3MCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzU2My42LDQuN2MyLjEtMC41LDQuMi0wLjcsNi40LTAuN2MxNC40LDAsMjYuNCwxMC4yLDI5LjMsMjMuNyIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzYzOCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzM2MjEuNCw0LDM2MzgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM2MzIuNCw0LjVjMS44LTAuMywzLjctMC41LDUuNi0wLjVjMTQuNywwLDI2LjksMTAuNiwyOS41LDI0LjUiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM3MDYsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzNjg5LjQsNCwzNzA2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNzAxLjMsNC40YzEuNS0wLjMsMy4xLTAuNCw0LjctMC40YzE1LDAsMjcuNCwxMSwyOS42LDI1LjMiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM3NzQsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFMzNzU3LjQsNCwzNzc0LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNzcwLjEsNC4zYzEuMi0wLjIsMi42LTAuMywzLjktMC4zYzE1LjIsMCwyNy44LDExLjQsMjkuNywyNi4xIi8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zODQyLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMzgyNS40LDQsMzg0Miw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzgzOC45LDQuMmMxLTAuMSwyLTAuMiwzLjEtMC4yYzE1LjUsMCwyOC4zLDExLjgsMjkuOCwyNi45Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zOTEwLDRjMTYuNiwwLDMwLDEzLjQsMzAsMzBzLTEzLjQsMzAtMzAsMzBzLTMwLTEzLjQtMzAtMzBTMzg5My40LDQsMzkxMCw0eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzkwNy42LDQuMWMwLjgtMC4xLDEuNi0wLjEsMi40LTAuMWMxNS44LDAsMjguNywxMi4yLDI5LjksMjcuNiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzk3OCw0YzE2LjYsMCwzMCwxMy40LDMwLDMwcy0xMy40LDMwLTMwLDMwcy0zMC0xMy40LTMwLTMwUzM5NjEuNCw0LDM5NzgsNHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM5NzYuNCw0YzAuNSwwLDEuMSwwLDEuNiwwYzE2LDAsMjkuMSwxMi42LDMwLDI4LjQiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwNDYsNGMxNi42LDAsMzAsMTMuNCwzMCwzMHMtMTMuNCwzMC0zMCwzMHMtMzAtMTMuNC0zMC0zMFM0MDI5LjQsNCw0MDQ2LDR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00MDQ1LjIsNGMwLjMsMCwwLjUsMCwwLjgsMGMxNi4zLDAsMjkuNiwxMywzMCwyOS4yIi8+Cjwvc3ZnPgo="},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4)],void 0===(r=function(e,t,i,n,r){"use strict";return i.Model.extend({DEFAULT_AA_EVENT_TO_TRIGGER:"shown",initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._setData(e)},_setData:function(e){this._experimentData=e},getExperimentName:function(){return this._experimentData.experimentName},getVariantName:function(){return this._experimentData.variantName},getMetadata:function(){return t.cloneDeep(this._experimentData.metadata)},_getStandardTypeName:function(){return this._isStandard()?"standard":"global"},_getAuthenticatedTypeName:function(){return this._isAuthenticated()?"authenticated":"unauthenticated"},_getVariantId:function(){return this._experimentData.variantId},isInSecondLockup:function(){return this._experimentData.isInSecondLockup},_isStandard:function(){return this._experimentData.isStandard},_isAuthenticated:function(){return this._experimentData.isAuthenticated},_standardizedAAEventName:function(e){var t="experiment:";return t+=this._getStandardTypeName()+":",t+=this._getAuthenticatedTypeName()+":",t+=e},track:function(e){r.setExperiment(this._experimentData,this._getStandardTypeName(),this._getAuthenticatedTypeName()),e=e||this.DEFAULT_AA_EVENT_TO_TRIGGER,r.trackEvent(this._standardizedAAEventName(e),{})}})}.apply(t,n))||(e.exports=r)},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=s(e),t=l(t);var i=this.map[e];this.map[e]=i?i+","+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=l(t)},d.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),c(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=m,e.Response=b,e.fetch=function(e,i){return new Promise(function(n,r){var o=new m(e,i),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new b(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(i[Symbol.iterator]=function(){return i}),i}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function p(e){var t=new FileReader,i=h(t);return t.readAsArrayBuffer(e),i}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,i=h(t);return t.readAsText(e),i}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5),i(4),i(62),i(11),i(12),i(53),i(6),i(159),i(160),i(161),i(162),i(163),i(164),i(169),i(7),i(36),i(41),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k){"use strict";var x=new s({color:"aqua",name:"upgrade-view"}),_=[],C=i.View.extend({events:{"click .plan-buy-button":"offerButtonClick","click .view-plans-button":"viewPlansButtonClick","click .plan-get-started-button":"offerButtonClick","click .upgrade-view-close-btn":"handleCloseUpgradeView","click a":"handleAnchorClick","click .plan-see-hide-features":"handleShowFeatures"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._controller=e.controller,this._browserStorage=new w("sessionStorage"),this._plansSectionTemplate={},this._pageVariant={}},_plans:{},_getTermInfo:function(e){return this._plans.termMap[e]},_getCommitmentTermInfo:function(e){return this._plans.commitmentAndTermMap[e]},_combineNames:function(e){var t="";if(e.length)if(1===e.length)t=e[0];else if(2===e.length)t=e[0]+" and "+e[1];else{var i;for(i=0;i<e.length-1;i++)t+=e[i]+", ";t+="and "+e[i]}return t},handleViewTransitionEnd:function(i){this._viewOverlay$.addClass("hide"),this._isView&&e(document.body).removeClass("no-scroll-upgrade-view"),t.each(_,function(t){e(document.body).removeClass(t)})},handleCloseUpgradeView:function(e){e&&!this._hidePlans&&this.sendPlanAnalytic("dismissPurchasePanel",{reason:"cancel"}),marvel._dialogShowing=!1,window.marvel.events.dialogClosed(),this._viewOverlay$.one("transitionend.upgradeview",this.handleViewTransitionEnd),this.needsShowing$.removeClass("showing"),e&&this._controller.upgradeViewClosed()},handleShowFeatures:function(t){t.preventDefault();var i=e(t.currentTarget);"See details"===i.text().trim()?(i.text("Hide details"),i.removeClass("see-details")):(i.text("See details"),i.addClass("see-details"));var n=i.data("planclassname");e(".plan-features-"+n).toggle()},sendAnalytic:function(e,t){"string"==typeof(e=e||{})&&(e={type:e}),e.workflow=this.workflow,o.trackEvent("plansPageEvent",e,null,t)},sendPlanAnalytic:function(e,i,n){var r=this._controller.getUserAnalytics();(i=t.assign({},{trigger:this.workflow,context:this._pageVariant&&this._pageVariant.id||"unknown"},i||{},r,this._plansShowingAnalytics||{})).showingPlans&&(i.showingPlans=i.showingPlans.join(",")),o.trackEvent(e,i,null,n)},handleAnchorClick:function(t){var i=e(t.currentTarget),n=i.attr("href");if("#"===n.charAt(0))t.preventDefault(),this.scrollToElement(n);else{var r;if(i.data("app")){i.hasClass("download-app-store-button");var o=i.hasClass("download-google-play-button");i.hasClass("about-app");r={type:o?"androidAppClick":"iosAppClick",id:i.data("analytics")}}r?this.sendAnalytic(r):i.hasClass("landing-plans-edu-link")?this.sendPlanAnalytic("plansPageLinkClick:eduLink"):i.hasClass("landing-plans-cc-premium-info-link")&&this.sendPlanAnalytic("plansPageLinkClick:ccPremiumInfokLink")}},setupPlanDiv:function(i){if(this._plansShowingAnalytics.showingPlans.push(i.id),i.recommended&&(this._plansShowingAnalytics.recommended=i.id),i.div$.data("plan",i),i.price$=i.div$.find(".plan-price"),t.each(i.price$,function(t){var n=i.offersById[e(t).data("offer")];e(t).data("offer",n)}),i.items&&i.items.length>1||i.apps)if(i.offersDropdown=new a(i.div$.find(".plan-dropdown"),i.dropdownOptions),i.apps){var n=i.div$.find(".single-app-dropdown");i.appsDropdownOptions.placeholderText=n.attr("placeholder")||k.getString("upgrade-select-application"),i.appsDropdown=new a(n,i.appsDropdownOptions),n.removeClass("hide"),i.defaultPrice&&(i.defaultPrice.div$=i.div$.find(".default-price-holder .plan-price"),i.defaultPrice.div$.addClass("selected")),i.appsDropdown.render()}else i.offersDropdown.render();else i.div$.addClass("single-offer");i.defaultOfferId&&this.setPlanOffer(i,i.defaultOfferId)},setPlanApp:function(e,i,n){var r,o=e.apps[i],a=e.selectedOfferTerms||e.defaultOfferTerms[0];t.find(o.offers,function(e){if(e.termsId===a)return r=e,!0}.bind(this)),r?e.selectedOfferTerms=r.termsId:t.find(e.defaultOfferTerms,function(t){var i=e.offersInfo.offerIdsByTerms[t];if(i)return r=i,!0}.bind(this)),e.selectedApp||(e.div$.find(".plan-pricing-area").removeClass("hide"),e.defaultPrice&&e.defaultPrice.div$.removeClass("selected")),e.selectedApp=o,e.offersDropdown.renderItems(o.offersInfo.dropdownItems,r.offerId),this.setPlanOffer(e,r)},setPlanOffer:function(i,n,r){if(i.showFreeText)return i.div$.addClass("free"),void(i.selectedOffer=n);var o;"string"==typeof n&&(n=i.offersById[n]),o=n.priceDisplay.price<=0,i.selectedPrice$&&i.selectedPrice$.removeClass("selected"),t.find(i.price$,function(t){if(e(t).data("offer")===n)return i.selectedPrice$=e(t),!0}),i.selectedPrice$.addClass("selected"),i.selectedOffer=n,o?i.div$.addClass("free"):i.div$.removeClass("free"),r&&i.apps&&(i.selectedOfferTerms=n.termsId)},offerDropdownOnChange:function(e,t){this.setPlanOffer(e.options.plan,t,!0)},appDropdownOnChange:function(e,t){this.setPlanApp(e.options.plan,t,!0)},_getTermsPriceLineString:function(e){var t={commitment:k.getString(this._getTermInfo(e.commitment).commitment),commitmentAndTerms:k.getString(this._getCommitmentTermInfo(e.termsId))};return"mm"!==e.termsId&&(t.billing=k.getString(this._getTermInfo(e.term).billed)),t},_getOfferDropdownOption:function(e){var t=e.priceDisplay,i=this._getTermsPriceLineString(e),n=this.getMenuPriceLine(t,i);return{id:e.offerId,name:n.line,buttonText:n.buttonText}},getOffersInfo:function(e){var i={dropdownItems:[],offerIdsByTerms:{}};return t.each(e,function(e){i.offerIdsByTerms[e.termsId]=e.offerId,i.dropdownItems.push(this._getOfferDropdownOption(e))}.bind(this)),i},_initPlans:function(e){this.countryInfo=e.plansData.countryInfo;var i=[],n={};t.each(e.plansData.orderedPlans,function(r){r.supertitle=r.supertitle,r.title=k.getString(r.title),r.subtitle=k.getString(r.subtitle),r.upgradeButtonText=k.getString(r.upgradeButtonText),t.isObject(e.pageVariant)&&t.isObject(e.pageVariant.plans)&&t.isObject(e.pageVariant.plans[r.id])&&(r=t.assign({},r,e.pageVariant.plans[r.id])),r.hide||(i.push(r),n[r.id]=r),!0===r.hasAdminFeatures&&(e.plansData.hasAdminFeatures=!0)}.bind(this)),e.plansData.orderedPlans=i,this._plansById=n,this._plans=e.plansData,this._plans.orderedPlans=i},getMenuPriceLine:function(e,t){return e.terms=t,{line:k.mustacheRender(this.menuLineTemplate,e),buttonText:t.commitmentAndTerms||t.commitment}},initPlansDisplay:function(){var i=this.plans$.find(".inner");t.each(i,function(t){var i=e(t),n=i.data("plan"),r=this._plansById[n];r&&(r.div$=i)}.bind(this)),this._plansShowingAnalytics={showingPlans:[],recommended:"none"},t.each(this._plans.orderedPlans,function(e){if(e.apps||e.offers)if(e.items=[],e.dropdownOptions={items:[],defaultValue:e.defaultOfferId,onchangeCallback:this.offerDropdownOnChange.bind(this),plan:e},e.offers)t.each(e.offers,function(t){e.items.push({offerId:t.offerId,isDr:t.isDr,isSpark:t.isSpark,quantity:t.quantity||1}),e.dropdownOptions.items.push(this._getOfferDropdownOption(t))}.bind(this));else if(e.apps){var i=e.apps;e.apps={},e.appsDropdownOptions={items:[],defaultValue:e.defaultOfferId,onchangeCallback:this.appDropdownOnChange.bind(this),plan:e},t.each(i,function(t){t.id=t.id||t.name,e.apps[t.id]=t,e.appsDropdownOptions.items.push({id:t.id,name:t.name}),t.offersInfo=this.getOffersInfo(t.offers)}.bind(this))}this.setupPlanDiv(e)}.bind(this))},renderInApp:function(e){window.marvel.events.dialogShown("upgrade"),this._viewOverlay$=e.parent$,this._isView=!0,this.renderOptions(e)},renderInLanding:function(e){this._isView=!1,this.renderOptions(e)},_renderPageVariant:function(t){var i=e(".mrvl-mrkt-nav-start-now");t.pageVariant.addBuyNowToNavBar&&(i.text(k.getString(t.pageVariant.upgradeButtonText)),i.css("width","100px"),i.on("click",function(t){t.preventDefault(),e(".plan-buy-button")[0].click()})),t.pageVariant&&e(document.body).addClass(t.pageVariant.cssId),t.robotsMetaContent&&e("head").append('<meta name="robots" content="'+t.robotsMetaContent+'"')},_renderView:function(t){this.workflow=t.workflow,this._hidePlans=t.hidePlans,this.setElement(t.parent$),this.renderPlans(t),t.hasPlansAtTop?this.$el.addClass("plans-page-plans-top"):this.$el.removeClass("plans-page-plans-top"),this._renderPageVariant(t);t.jumpToAnchor&&this.scrollToElement(t.jumpToAnchor,{fromLoad:!0}),t.hidePlans?this.sendAnalytic("viewedPlansPageNoPlans"):this.sendPlanAnalytic("displayPurchasePanel"),e(".fouc").removeClass("fouc")},_loadTarget:function(e){return n.Promise(function(t,i){window.adobe&&window.adobe.target?window.adobe.target.getOffer({mbox:d.upgradeMboxName,params:{touchpointName:e.workflow,srcUrl:encodeURI(window.location.pathname),returnHost:window.location.host},success:function(e){window.adobe.target.applyOffer({mbox:d.upgradeMboxName,offer:e}),t()},error:function(e,i){x.warn("Failed to load target!",{status:e,error:i}),t()}}):(x.debug("Target disabled or not available, not using it."),t())})},_getPageVariant:function(e){this._allowedVariants=e.plansData.allowedVariants||e.allowedVariants;var i=this._browserStorage.get("paid_traffic_source"),n=window.location.pathname.split("/");if(n.length>=3){var r=n[n.length-1];if(this._allowedVariants.hasOwnProperty(r))return this._browserStorage.set("paid_traffic_source",r),this._allowedVariants[r]}return!t.isEmpty(i)&&this._allowedVariants.hasOwnProperty(i)?this._allowedVariants[i]:e.plansData.pageVariant},shouldExcludeFromSparkRunExperiment:function(e){return e.hidePlans||e.marketingTouchpointCTA||e.jumpToAnchor||this._browserStorage.get("paid_traffic_source")&&0===this._browserStorage.get("paid_traffic_source").indexOf("gmo")||-1!==window.location.pathname.search(/gmo/i)},isAtMarketingTouchpoint:function(e){return e.marketingTouchpointCTA||e.jumpToLearnMore},renderOptions:function(e){var i=t.cloneDeep(e);i.pageVariant=i.plansData.pageVariant,this._pageVariant=i.pageVariant,this.isAtMarketingTouchpoint(i)?(i.pageVariant=this._getPageVariant(i),this._pageVariant=i.pageVariant,i.showViewPlansLink=!1,this._renderView(i)):this._loadTarget(i).then(function(){i.showViewPlansLink=!0,i.hasPlansAtTop=!0,this._renderView(i)}.bind(this)).done()},_initMainVideo:function(){var e=this.$el.find(".plans-video-viewer");if(e.length){var t=e.find("iframe");e.find(".close-button").on("click",function(){return e.addClass("hide"),t[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo"}',"https://www.youtube.com"),this.$el.removeClass("showing-hero-video"),!1}.bind(this)),this.$el.find(".watch-plans-video-button").on("click",function(i){e.removeClass("hide");var n=t.attr("data-src");return t[0].src=n+"&autoplay=1",this.$el.addClass("showing-hero-video"),!1}.bind(this))}},render:function(){return this.$el.length&&this.$el.parent().length||this.setElement(e(document.body).find(".landing-plans-view")),this.$el.html(this._rendered_template),this.page$=this.$el,this.plans$=this.page$.find(".list-of-plans"),this._isView?(this.needsShowing$=this.$el.filter(".needs-showing").add(this.$el.find(".needs-showing")),this._viewOverlay$.removeClass("hide"),t.delay(function(){this.needsShowing$.addClass("showing")}.bind(this),5),this.scroller$=this.$el,e(document.body).addClass("no-scroll-upgrade-view")):this.scroller$=e(window),this.initPlansDisplay(),this._isView||this.$el.removeClass("hide"),this._initMainVideo(),this.brandsExamplesView?this.brandsExamplesView.setElement(this.$el.find(".brands-examples-view-holder")):this.brandsExamplesView=new v({el:this.$el.find(".brands-examples-view-holder"),model:new i.Model({parentWorkflow:this.workflow,pickerOnTop:!0,parentZIndex:1*this.$el.css("z-index")||0})}),this.brandsExamplesView.render(),this},_getPartialsForPageVariant:function(e){var i=p;return!t.isEmpty(e)&&this._plansSectionTemplate.hasOwnProperty(e.id)&&(i=this._plansSectionTemplate[e.id]),{"plans-plans-section":i}},renderPlans:function(e){this._initPlans(e);var i,n={plansData:e.plansData,showViewPlansLink:e.showViewPlansLink,heroMovieEmbed:e.plansData.heroMovieEmbed,upgradeButtonText:k.getString(e.pageVariant.upgradeButtonText),pricingVariantSubUrl:e.pageVariant.pricingVariantSubUrl,watchVideoButtonText:k.getString(e.pageVariant.watchVideoButtonText),hidePlansPricingCTA:e.pageVariant.hidePlansPricingCTA,getStartedButtonText:k.getString(e.pageVariant.getStartedButtonText),isInAppView:this._isView,hideAllPlans:e.hidePlans,ccPlansLink:e.plansData.ccPlansLink,eduLink:e.plansData.eduLink,ccPremiumInfoLink:e.plansData.ccPremiumInfoLink,eduPhoneNumber:e.plansData.eduPhoneNumber,enterprisePhoneNumber:e.plansData.enterprisePhoneNumber,teamPromoTermsLink:e.plansData.teamPromoTermsLink,customerServicePhoneNumber:e.plansData.customerServicePhoneNumber,enterpriseLink:e.plansData.enterpriseLink,showCCPremiumInfo:e.plansData.showCCPremiumInfo,platformInfo:c.getPlatformInfo()},r=this._getPartialsForPageVariant(e.pageVariant);i=n.hideAllPlans?{}:t.extend({"plans-plans":h,"plans-plans-section":p,"plan-price-display":f},r);var o=u;this.menuLineTemplate=g,this._rendered_template=k.mustacheRender(o,n,i),this.render()},showAlert:function(e,t){return window.marvel._isInApp?l.showAlert(e,t):(alert(t),n())},viewPlansButtonClick:function(e){this.sendPlanAnalytic("pricing:viewPlansClicked")},offerButtonClick:function(t){var i=e(t.target).closest(".inner").data("plan");if(i.selectedOffer){var n=i.selectedOffer.offerId,r=i.div$.hasClass("free"),o=i.productCode,a=function(){this._controller.handleUserClicksToPurchasePlan({offerId:n,quantity:i.quantity,isDr:i.selectedOffer.isDr,isSpark:i.selectedOffer.isSpark,countryCode:this.countryInfo.countryCode,languageCode:this.countryInfo.locale,isSparkFree:r,productId:o,workflow:this.workflow,view:this._isView&&this,ucReturnUrl:i.ucReturnUrl})}.bind(this);if(r)this.sendPlanAnalytic("dismissPurchasePanel",{reason:"get-started"},a);else{var s={productId:o,customerSegment:i.selectedOffer.businessSegment,offerTerm:this._plans.termsInfo.termsToTermId[i.selectedOffer.term],offerCommitment:this._plans.termsInfo.termsToTermId[i.selectedOffer.commitment],offerId:n};this.sendPlanAnalytic("beginPurchaseFlow",s,a)}}else this.showAlert(k.getString("upgrade-error-title-plans"),k.getString("upgrade-error-text-select-offer")).done()},scrollToElement:function(i,n){var r;if(n=n||{},"#plans"===i&&this._plans.orderedPlans.length){var o,a=t.find(this._plans.orderedPlans,function(e){if(e.recommended)return e;o||"SPK.FREE"===e.id||(o=e)});r=a?a.div$:this.$el.find(i)}else try{r="string"==typeof i?this.$el.find(i):i}catch(e){}r&&r.length||(r=this.$el.find("div:first")),this._isView||(n.fromLoad?this._scrollBound||(this._scrollBound=!0,this._scrollCap=this._scrollCap.bind(this),this._clearScrollCap=this._clearScrollCap.bind(this)):this._lastJumpTime&&e(window).off("scroll.uc",this._scrollCap));var s,l=r.offset().top-(this.scroller$.offset()||{top:0}).top,c=this.scroller$.scrollTop();if(this._isView)s=l+c;else{s=l-66}this.scroller$.scrollTop(s),r.focus(),n.fromLoadFix||n.fromLoad&&!this._isView&&(this._lastScrollTo=i,this._lastJumpTime=Date.now(),t.delay(function(){e(window).one("scroll.uc",this._scrollCap),e(document.body).one("wheel.uc",this._clearScrollCap.bind(this)),e(document.body).one("mousedown.uc",this._clearScrollCap.bind(this))}.bind(this)))},_clearScrollCap:function(){this._lastJumpTime&&(this._lastJumpTime=0,e(window).off("scroll.uc",this._scrollCap))},_scrollCap:function(t){this._lastJumpTime&&(this.scrollToElement(this._lastScrollTo,{fromLoadFix:!0}),Date.now()-this._lastJumpTime<1e4&&e(window).one("scroll.uc",this._scrollCap))}});return C.getPricePartials=function(){return{"plan-price-display":f}},C}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="ddv-dropdown">\n    {{^buttonIcon}}\n    <div class="ddv-dropdown-button" data-auto="{{buttonDataAuto}}">\n        {{#buttonLabel}}<label class="ddv-dropdown-label">{{.}}</label>{{/buttonLabel}}\n        {{#buttonDisplay}}{{.}}{{/buttonDisplay}}\n    </div>\n    {{/buttonIcon}}\n    {{#buttonIcon}}\n    <div class="ddv-dropdown-button use-icon-div" data-auto="{{buttonDataAuto}}">\n        {{#buttonLabel}}<label class="ddv-dropdown-label">{{.}}</label>{{/buttonLabel}}\n        <div class="ddv-dropdown-button-text-div">{{#buttonDisplay}}{{.}}{{/buttonDisplay}}</div>\n        <div class="background-icon-div"></div>\n    </div>\n    {{/buttonIcon}}\n    <div class="ddv-dropdown-bg hide">\n    {{#items}}\n    <div class="{{itemClass}}{{#checkmarkStyle}} {{.}}{{/checkmarkStyle}}" data-auto="{{^itemDataAuto}}{{itemDataPrefix}}{{id}}{{/itemDataAuto}}{{#itemDataAuto}}{{.}}{{/itemDataAuto}}"{{#buttonText}} data-button-text="{{.}}"{{/buttonText}}>{{{name}}}\n    </div>\n    {{/items}}\n    </div>\n    <div class="ddv-dropdown-overlay hide"></div>\n</div>\n'},function(e,t){e.exports='{{#isInAppView}}\n    <div class="upgrade-overlay">\n{{/isInAppView}}\n    <div class="landing-plans-sections">\n        {{> plans-plans-section }}\n        <div class="landing-plans-hero plans-page-section">\n            <div class="hero-content flex-vertical">\n                <h1 class="landing-plans-hero-title">{{upgrade-hero-title}}</h1>\n                <h3 class="landing-plans-hero-subtitle">{{upgrade-hero-subtitle}}</h3>\n                <div class="mrvl-dlg-btn-acts flex-horizontal">\n                    <button class="hero-button watch-video-button watch-plans-video-button sp-cta-button-secondary over-dark-photo">\n                        {{watchVideoButtonText}}\n                    </button>\n                    {{^hideAllPlans}}\n                        {{^hidePlansPricingCTA}}\n                            <a href="#plans" class="hero-button plans-and-pricing sp-cta-button-primary link">{{upgrade-plans-and-pricing}}</a>\n                        {{/hidePlansPricingCTA}}\n                    {{/hideAllPlans}}\n                </div>\n            </div>\n        </div>\n        <div class="plans-video-viewer hero-video-viewer hide">\n            <a href="#" class="close-button"></a>\n            <iframe class="youtube-frame" data-src="{{{heroMovieEmbed}}}"></iframe>\n        </div>\n        <div class="plan-blurbs-area-holder plans-page-section flex-vertical">\n            <h2 class="plan-blurbs-area-title">{{upgrade-plan-blurbs-area-title}}</h2>\n            <p class="plan-blurbs-area-subtitle">{{upgrade-plan-blurbs-area-subtitle}}</p>\n            <div class="premium-features bullets-area flex-horizontal">\n                <div class="feature logo bullet-item">\n                    <div class="bullet-image"></div>\n                    <div class="bullet-title">{{upgrade-add-your-logo-title}}</div>\n                    <div class="bullet-text">{{upgrade-add-your-logo-subtitle}}</div>\n                </div>\n                <div class="feature colors-and-fonts bullet-item">\n                    <div class="bullet-image"></div>\n                    <div class="bullet-title">{{upgrade-colors-and-fonts-title}}</div>\n                    <div class="bullet-text">{{upgrade-colors-and-fonts-subtitle}}</div>\n                </div>\n                <div class="feature templates-and-themes bullet-item">\n                    <div class="bullet-image"></div>\n                    <div class="bullet-title">{{upgrade-templates-and-themes-for-you-title}}</div>\n                    <div class="bullet-text">{{upgrade-templates-and-themes-for-you-subtitle}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="plans-blurb-section plans-page-section">\n            <div class="blurb-row-holder differentiate">\n                <div class="blurb-row differentiate">\n                    <div class="blurb-text">\n                        <h2 class="blurb-title">{{upgrade-differentiate-blurb-title}}</h2>\n                        <p class="blurb-blurb-text">{{upgrade-differentiate-blurb-subtitle}}</p>\n                    </div>\n                    <div class="blurb-image"></div>\n                </div>\n            </div>\n            <div class="blurb-row-holder speed">\n                <div class="blurb-row speed">\n                    <div class="blurb-image"></div>\n                    <div class="blurb-text">\n                        <h2 class="blurb-title">{{upgrade-speed-blurb-title}}</h2>\n                        <p class="blurb-blurb-text">{{upgrade-speed-blurb-subtitle}}</p>\n                    </div>\n                </div>\n            </div>\n            <div class="blurb-row-holder manage-brand">\n                <div class="blurb-row manage-brand">\n                    <div class="blurb-text">\n                        <h2 class="blurb-title">{{upgrade-manage-brand-content-title}}</h2>\n                        <p class="blurb-blurb-text">{{upgrade-manage-brand-content-subtitle}}</p>\n                    </div>\n                    <div class="blurb-image"></div>\n                </div>\n            </div>\n            <div class="blurb-row-holder customize">\n                <div class="blurb-row customize">\n                    <div class="blurb-image"></div>\n                    <div class="blurb-text">\n                        <h2 class="blurb-title">{{upgrade-customize-title}}</h2>\n                        <p class="blurb-blurb-text">{{upgrade-customize-subtitle}}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="plans-brand-examples-section plans-page-section flex-vertical">\n            <h2>{{upgrade-examples-section-title}}</h2>\n            <div class="brands-examples-view-holder"></div>\n        </div>\n        {{#quotes}}\n            <div class="plans-quotes-section plans-page-section">\n                {{#orderedQuotes}}\n                    <div class="plans-quote">\n                        <h2>{{quote}}</h2>\n                        <p class="plans-quote-citation">- {{citation}}</p>\n                    </div>\n                {{/orderedQuotes}}\n            </div>\n        {{/quotes}}\n        {{#showViewPlansLink}}\n            <a name="plans-plans" href="#plans-plans"\n               class="sp-cta-button-secondary hero-button view-plans-button">{{upgrade-view-plans}}</a>\n        {{/showViewPlansLink}}\n    </div>\n{{#isInAppView}}\n        <button class="upgrade-view-close-btn x-close-btn needs-showing"\n                data-auto="upgrade-view-close-button"></button>\n{{/isInAppView}}\n\n</div>\n'},function(e,t){e.exports='<ul class="list list-of-plans{{^plansData.hasAdminFeatures}} no-admin-features{{/plansData.hasAdminFeatures}}{{#plansData.somePlansHaveApps}} has-apps{{/plansData.somePlansHaveApps}} number-of-plans-{{plansData.numberOfPlans}}"\n    id="plans" name="plans">\n    {{#plansData}}\n        {{#orderedPlans}}\n            <li class="inner{{#recommended}} recommended{{/recommended}}{{#discounted}} discounted{{/discounted}}"\n                data-plan="{{id}}">\n                <span class="recommended recommended-only">{{upgrade-recommended-text}}</span>\n                <span class="discounted discounted-only">{{upgrade-limited-discount-text}}</span>\n                <div class="plan-info{{#recommended}} recommended-plan-info{{/recommended}}">\n                    <div class="plan-info-header">\n                        <div class="plan-supertitle">{{#supertitle}}{{.}}{{/supertitle}}</div>\n                        <div class="plan-title">{{title}}</div>\n\n                        {{#image}}\n                            <div class="plan-image {{planClassName}}">\n                                <img src="{{{.}}}"/>\n                            </div>\n                        {{/image}}\n\n                        <div class="plan-subtitle">{{{subtitle}}}</div>\n                        {{^showFreeText}}\n                            <div class="plan-pricing-area{{#hasSpecialOffers}} has-special-offers{{/hasSpecialOffers}}">\n                                {{#offers}}\n                                    {{> plan-price-display }}\n                                {{/offers}}\n                                {{#defaultPrice}}\n                                    <div class="default-price-holder">\n                                        {{> plan-price-display }}\n                                    </div>\n                                {{/defaultPrice}}\n                                {{#apps}}\n                                    {{#offers}}\n                                        {{> plan-price-display }}\n                                    {{/offers}}\n                                {{/apps}}\n\n                                <div class="plan-dropdown-area">\n                                    {{#hasApps}}\n                                        <div class="single-app-dropdown hide"\n                                             placeholder="{{upgrade-select-application}}"></div>\n                                    {{/hasApps}}\n                                    <div class="plan-dropdown"></div>\n                                </div>\n                            </div>\n\n                        {{/showFreeText}}\n                        {{#showFreeText}}\n                            <div class="plan-pricing-area simply-free">\n                                <div class="free-text is-free">{{upgrade-show-free-text-free}}</div>\n                                <div class="free-text no-credit-card-required">{{upgrade-show-free-text-credit-card}}</div>\n                            </div>\n                        {{/showFreeText}}\n                        <button class="plan-buy-button sp-cta-button-primary">{{upgradeButtonText}}</button>\n                    </div>\n                    <div class="plan-see-hide-features see-details" data-planClassName="{{planClassName}}">\n                        See details\n                    </div>\n                    \n                    <ul class="plan-info-features plan-features-{{planClassName}}">\n                        <li class="check-plan-has-feature {{#hasFeatureUseStunningImages}} checked{{/hasFeatureUseStunningImages}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureRemoveWatermark}} checked{{/hasFeatureRemoveWatermark}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeaturePersonalizeDesigns}} checked{{/hasFeaturePersonalizeDesigns}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureDesignFromTemplates}} checked{{/hasFeatureDesignFromTemplates}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureAdobeFonts}} checked{{/hasFeatureAdobeFonts}} no-bottom-border"></li>\n\n                        {{#plansData.hasAdminFeatures}}\n                            <li class="space divider"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureConsolidateBilling}} checked{{/hasFeatureConsolidateBilling}}"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureReassignLicenses}} checked{{/hasFeatureReassignLicenses}}"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureDedicatedTechnicalSupport}} checked{{/hasFeatureDedicatedTechnicalSupport}}"></li>\n                        {{/plansData.hasAdminFeatures}}\n\n                        {{#hasFeatureUseStunningImages}}\n                            <li class="plan-feature named-plan-feature use-stunning-images">\n                                <div>\n                                    {{upgrade-feature-use-stunning-images}}\n                                </div>\n                            </li>\n                        {{/hasFeatureUseStunningImages}}\n                        {{#hasFeatureRemoveWatermark}}\n                            <li class="plan-feature named-plan-feature remove-watermark">\n                                <div>\n                                    {{upgrade-feature-remove-watermark}}\n                                </div>\n                            </li>\n                        {{/hasFeatureRemoveWatermark}}\n                        {{#hasFeaturePersonalizeDesigns}}\n                            <li class="plan-feature named-plan-feature personalize-designs">\n                                <div>\n                                    {{upgrade-feature-personalize-designs}}\n                                </div>\n                            </li>\n                        {{/hasFeaturePersonalizeDesigns}}\n                        {{#hasFeatureDesignFromTemplates}}\n                            <li class="plan-feature named-plan-feature design-from-templates">\n                                <div>\n                                    {{upgrade-feature-design-from-templates}}\n                                </div>\n                            </li>\n                        {{/hasFeatureDesignFromTemplates}}\n                        {{#hasFeatureAdobeFonts}}\n                            <li class="plan-feature named-plan-feature has-adobe-fonts">\n                                <div>\n                                    {{upgrade-feature-has-adobe-fonts}}\n                                </div>\n                            </li>\n                        {{/hasFeatureAdobeFonts}}\n\n\n                        {{#hasFeatureConsolidateBilling}}\n                            <li class="plan-info-upgrade-admin-label ">{{upgrade-admin-features-label}}</li>\n                            <li class="plan-feature named-plan-feature consolidate-billing admin-feature">\n                                <div>\n                                    {{upgrade-feature-consolidate-billing}}\n                                </div>\n                            </li>\n                        {{/hasFeatureConsolidateBilling}}\n                        {{#hasFeatureReassignLicenses}}\n                            <li class="plan-feature named-plan-feature reassign-licenses admin-feature">\n                                <div>\n                                    {{upgrade-feature-reassign-licenses}}\n                                </div>\n                            </li>\n                        {{/hasFeatureReassignLicenses}}\n                        {{#hasFeatureDedicatedTechnicalSupport}}\n                            <li class="plan-feature named-plan-feature dedicated-tech-support admin-feature">\n                                <div>\n                                    {{upgrade-feature-dedicated-tech-support}}\n                                </div>\n                            </li>\n                        {{/hasFeatureDedicatedTechnicalSupport}}\n                    </ul>\n                </div>\n            </li>\n        {{/orderedPlans}}\n    {{/plansData}}\n</ul>\n\n\n'},function(e,t){e.exports='{{^hideAllPlans}}\n    <a name="plans-plans"></a>\n    <div class="landing-plans-plans-wrapper">\n        <div class="landing-plans-plans-wrapper-inner">\n            <div class="landing-plans-plans">\n                <div class="plans-wrapper{{^plansData.hasAdminFeatures}} no-admin-features{{/plansData.hasAdminFeatures}}{{#plansData.somePlansHaveApps}} has-apps{{/plansData.somePlansHaveApps}}">\n                    <div class="plans-wrapper-header">\n                        <h1 class="plans-wrapper-title">{{upgrade-plans-wrapper-title}}</h1>\n                        <p class="plans-wrapper-desc">\n                            {{#fmr}}upgrade-plans-wrapper-desc{{/fmr}}\n                        </p>\n                    </div>\n                    <div class="plans-wrapper-features">\n                        <h4 class="upgrade-features-label">{{upgrade-features-label}}</h4>\n                        <ul>\n                            <li class="plan-feature use-stunning-images">\n                                <div>{{upgrade-feature-use-stunning-images}}</div>\n                            </li>\n                            <li class="plan-feature remove-watermark">\n                                <div>{{upgrade-feature-remove-watermark}}</div>\n                            </li>\n                            <li class="plan-feature personalize-designs">\n                                <div>{{upgrade-feature-personalize-designs}}</div>\n                            </li>\n                            <li class="plan-feature design-from-templates">\n                                <div>{{upgrade-feature-design-from-templates}}</div>\n                            </li>\n                            <li class="plan-feature has-adobe-fonts">\n                                <div>{{upgrade-feature-has-adobe-fonts}}</div>\n                            </li>\n                        </ul>\n                        <h4 class="upgrade-admin-label">{{upgrade-admin-label}}</h4>\n                        <ul>\n                            <li class="plan-feature consolidate-billing admin-feature">\n                                <div>{{upgrade-feature-consolidate-billing}}</div>\n                            </li>\n                            <li class="plan-feature reassign-licenses admin-feature">\n                                <div>{{upgrade-feature-reassign-licenses}}</div>\n                            </li>\n                            <li class="plan-feature dedicated-tech-support admin-feature">\n                                <div>{{upgrade-feature-dedicated-tech-support}}</div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                {{> plans-plans }}\n                <div class="clear"></div>\n            </div>\n            {{#plansData.hasAdminFeatures}}\n                <p class="discount-terms-conditions">{{#fmr}}upgrade-discount-terms-conditions{{/fmr}}</p>\n            {{/plansData.hasAdminFeatures}}\n            {{^plansData.hasAdminFeatures}}\n                <p class="discount-terms-conditions">{{#fmr}}upgrade-terms-conditions{{/fmr}}</p>\n            {{/plansData.hasAdminFeatures}}\n\n            {{#platformInfo.androidOrIos}}\n                <div class="landing-plans-mobile-apps-section">\n                    {{#platformInfo.iOS}}\n                        <div class="landing-plans-ios-apps-section flex-vertical">\n                            {{#platformInfo.apps.inOrder}}\n                                <div class="landing-plans-ios-app {{id}} flex-vertical">\n                                    <p class="landing-plans-ios-about {{id}}">\n                                        {{upgrade-download-ios-or-android}}\n                                        <a class="about-link {{id}}"\n                                           href="/{{localePathPrefix}}about/{{id}}"\n                                           data-app="{{id}}"\n                                           data-analytics="plans-cta-about-ios-{{id}}">\n                                            {{productName}}\n                                        </a>{{upgrade-download-for}} {{downloadForTag}}\n                                    </p>\n                                    <a class="download-app-store-button link-background cc-paid-cta ios"\n                                       href="{{{appStoreUrl}}}"\n                                       alt="{{downloadAlt}}"\n                                       data-app="{{id}}"\n                                       data-analytics="plans-cta-download-ios-{{id}}"></a>\n                                </div>\n                            {{/platformInfo.apps.inOrder}}\n                        </div>\n                    {{/platformInfo.iOS}}\n                    {{#platformInfo.android}}\n                        <div class="landing-plans-android-apps-section flex-vertical">\n                            {{#platformInfo.apps.inOrder}}\n                                {{#googlePlay}}\n                                    <div class="landing-plans-android-app {{id}} flex-vertical">\n                                        <p class="landing-plans-android-about {{id}}">\n                                            {{upgrade-download-ios-or-android}}\n                                            <a class="about-link {{id}}"\n                                               href="/{{localePathPrefix}}about/{{id}}"\n                                               data-app="{{id}}"\n                                               data-analytics="plans-cta-about-android-{{id}}">\n                                                {{productName}}\n                                            </a>{{upgrade-download-for}} {{downloadForTag}}\n                                        </p>\n                                        <a class="download-google-play-button link-background cc-paid-cta android"\n                                           href="{{{googlePlayUrl.upgradeView}}}"\n                                           data-app="{{id}}"\n                                           data-analytics="plans-cta-download-android-{{id}}"\n                                           alt="{{googlePlayDownloadAlt}}"></a>\n                                    </div>\n                                {{/googlePlay}}\n                            {{/platformInfo.apps.inOrder}}\n                        </div>\n                    {{/platformInfo.android}}\n                </div>\n            {{/platformInfo.androidOrIos}}\n\n            <div class="learn-more-edu learn-more-and-call"><div class="learn-more-and-call-header">{{upgrade-education-label}}</div><div class="learn-more-and-call-text with-phone-text"><div>{{#fmr}}upgrade-call-education{{/fmr}}</div></div><div class="learn-more-and-call-text learn-more-and-call-explainer"><div>{{#fmr}}upgrade-learn-more-edu{{/fmr}}</div></div></div>\n\n\n            <div class="learn-more-enterprise learn-more-and-call">\n                <div class="learn-more-and-call-header">{{upgrade-enterprise-label}}</div><div class="learn-more-and-call-text with-phone-text"><div>{{#fmr}}upgrade-call-enterprise{{/fmr}}</div></div><div class="learn-more-and-call-text learn-more-and-call-explainer"><div>{{#fmr}}upgrade-learn-more-enterprise{{/fmr}}</div></div>\n            </div>\n\n            <div class="cc-footer">\n                <img src="/images/pricing/v2/icon-cc.svg" alt="{{upgrade-cc-text}}" />\n                <p class="cc-text">{{#fmr}}upgrade-cc-text{{/fmr}}</p>\n            </div>\n        </div>\n    </div>\n{{/hideAllPlans}}\n\n\n'},function(e,t){e.exports='<div class="plan-price{{#symbolAtEnd}} symbol-at-end{{/symbolAtEnd}}{{#priceDisplay}}{{#oldPrice}} has-special-offer{{/oldPrice}}{{#selected}} selected{{/selected}}{{/priceDisplay}}" data-offer="{{offerId}}">\n{{#priceDisplay}}\n{{^symbolAtEnd}}\n    <div class="currency">{{currencySymbol}}</div>{{#oldPrice}}<div class="old-price">{{numberString}}</div>{{/oldPrice}}<div class="value">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time"><div class="value-fraction">{{fraction}}{{^fraction}}&nbsp;{{/fraction}}</div><div class="time">{{time}}{{#discounted}}*{{/discounted}}</div></div>\n{{/symbolAtEnd}}\n{{#symbolAtEnd}}\n    <div class="value">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time"><div class="fraction-and-currency"><div class="value-fraction">{{fraction}}</div><div class="currency">{{currencySymbol}}</div></div><div class="time">{{time}}{{#discounted}}*{{/discounted}}</div></div>\n{{/symbolAtEnd}}\n{{/priceDisplay}}\n</div>\n'},function(e,t){e.exports='<div class="plan-offer-dropdown-line-terms">{{terms.commitment}}{{#terms.billing}}, {{.}}{{/terms.billing}}</div>\n<div class="plan-offer-dropdown-line-pricing">\n{{^symbolAtEnd}}\n<span class="currency">{{currencySymbol}}</span>\n{{/symbolAtEnd}}\n{{#oldPrice}}\n<span class="old-price price-text">{{shortNumberString}}</span>\n<span class="new-price price-text">\n{{/oldPrice}}\n{{^oldPrice}}\n<span class="price-text">\n{{/oldPrice}}\n{{shortNumberString}}\n</span>\n{{#symbolAtEnd}}\n<span class="currency">{{currencySymbol}}</span>\n{{/symbolAtEnd}}\n<span class="payment-time">{{time}}</span>\n</div>\n'},function(e,t,i){var n=i(165);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(51);(e.exports=i(26)(!1)).push([e.i,".plans-page,.upgrade-overlay-holder{width:100%;font-family:brandon-grotesque,adobe-clean,sans-serif}.plans-page a,.upgrade-overlay-holder a{text-decoration:none}.plans-page .upgrade-overlay,.upgrade-overlay-holder .upgrade-overlay{font-size:16px}.plans-page h1,.plans-page h2,.plans-page h3,.plans-page h4,.plans-page h5,.upgrade-overlay-holder h1,.upgrade-overlay-holder h2,.upgrade-overlay-holder h3,.upgrade-overlay-holder h4,.upgrade-overlay-holder h5{max-width:calc(100vw - 32px)}.plans-page h1,.upgrade-overlay-holder h1{font-size:1.8em}.plans-page h1.big,.upgrade-overlay-holder h1.big{font-size:2.5em;padding-bottom:15px;font-weight:300}.plans-page h2,.upgrade-overlay-holder h2{font-size:1.5em}.plans-page h3,.upgrade-overlay-holder h3{font-size:1.4em}.plans-page h4,.plans-page h5,.upgrade-overlay-holder h4,.upgrade-overlay-holder h5{font-size:1.2em}.plans-page h6,.upgrade-overlay-holder h6{font-size:1.1em}.plans-page .tag-line,.upgrade-overlay-holder .tag-line{color:#181919}.plans-page .landing-plans-sections,.upgrade-overlay-holder .landing-plans-sections{width:100%;margin:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center}.plans-page .landing-plans-sections p,.upgrade-overlay-holder .landing-plans-sections p{color:#82919c;font-size:1.125em;line-height:1.5em;font-weight:500}.plans-page .landing-plans-sections .plans-page-section,.upgrade-overlay-holder .landing-plans-sections .plans-page-section{width:100%;margin:auto}.plans-page .landing-plans-view,.plans-page .upgrade-overlay,.upgrade-overlay-holder .landing-plans-view,.upgrade-overlay-holder .upgrade-overlay{font-size:16px}.plans-page .landing-plans-view h2,.plans-page .upgrade-overlay h2,.upgrade-overlay-holder .landing-plans-view h2,.upgrade-overlay-holder .upgrade-overlay h2{font-size:2.25em;font-family:brandon-grotesque,adobe-clean,sans-serif;font-weight:400;color:#35414c}.plans-page .landing-plans-hero,.upgrade-overlay-holder .landing-plans-hero{font-size:1em;background-image:url(/images/pricing/heroPhoto.png);background-repeat:no-repeat;background-size:cover;background-color:rgba(0,0,0,.2);background-blend-mode:multiply;background-position:50%;margin:0 auto;text-align:center;height:480px;max-height:480px;display:-webkit-flex;display:flex;padding:0}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.plans-page .landing-plans-hero,.upgrade-overlay-holder .landing-plans-hero{background-image:url(/images/pricing/heroPhoto@2x.png)}}.plans-page .landing-plans-hero h1,.plans-page .landing-plans-hero h3,.upgrade-overlay-holder .landing-plans-hero h1,.upgrade-overlay-holder .landing-plans-hero h3{color:#fff;font-weight:400}.plans-page .landing-plans-hero h1,.upgrade-overlay-holder .landing-plans-hero h1{font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:48px}.plans-page .landing-plans-hero h3,.upgrade-overlay-holder .landing-plans-hero h3{width:90%;max-width:90%;font-family:adobe-clean,sans-serif;font-size:18px;line-height:22px}.plans-page .landing-plans-hero .hero-content,.upgrade-overlay-holder .landing-plans-hero .hero-content{margin:auto;height:280px;-webkit-justify-content:space-between;justify-content:space-between}.plans-page .landing-plans-hero .hero-content .mrvl-dlg-btn-acts,.upgrade-overlay-holder .landing-plans-hero .hero-content .mrvl-dlg-btn-acts{margin-top:36px}.plans-page .landing-plans-hero .hero-content .mrvl-dlg-btn-acts .hero-button,.upgrade-overlay-holder .landing-plans-hero .hero-content .mrvl-dlg-btn-acts .hero-button{height:44px;line-height:44px;padding:0 24px;font-size:16px}.plans-page .landing-plans-hero .hero-content .mrvl-dlg-btn-acts .hero-button.sp-cta-button-secondary,.upgrade-overlay-holder .landing-plans-hero .hero-content .mrvl-dlg-btn-acts .hero-button.sp-cta-button-secondary{line-height:40px}@media (max-width:1024px){.plans-page .landing-plans-hero h1,.upgrade-overlay-holder .landing-plans-hero h1{font-size:36px}.plans-page .landing-plans-hero p,.upgrade-overlay-holder .landing-plans-hero p{max-width:calc(100vw - 40px)}.plans-page .landing-plans-hero .hero-content,.upgrade-overlay-holder .landing-plans-hero .hero-content{width:100%}}.plans-page .view-plans-button,.upgrade-overlay-holder .view-plans-button{border:2px solid #82919b;color:#82919b;margin:20px auto 50px;border-radius:24px;width:150px;padding:0 24px;font-size:16px;line-height:40px;height:42px}.plans-page .landing-plans-plans-wrapper,.upgrade-overlay-holder .landing-plans-plans-wrapper{background-color:#f2f4f5;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 auto}.plans-page .landing-plans-plans-wrapper-inner,.upgrade-overlay-holder .landing-plans-plans-wrapper-inner{margin:80px auto 60px;width:1036px}.plans-page .plan-blurbs-area-holder,.upgrade-overlay-holder .plan-blurbs-area-holder{background:#f2f4f5;padding:80px 0}.plans-page .plan-blurbs-area-holder h2,.upgrade-overlay-holder .plan-blurbs-area-holder h2{font-size:2.5em;margin-bottom:30px}.plans-page .plan-blurbs-area-holder .plan-blurbs-area-subtitle,.upgrade-overlay-holder .plan-blurbs-area-holder .plan-blurbs-area-subtitle{margin-bottom:56px;max-width:90%}.plans-page .plans-blurb-section,.upgrade-overlay-holder .plans-blurb-section{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;padding:0;overflow:hidden}.plans-page .plans-blurb-section .blurb-row-holder,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder{background:#fff;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row{max-width:1366px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;height:680px;padding:0;background-position-y:center;background-repeat:no-repeat}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text{width:30%;text-align:left;margin:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text.left,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text.left{padding-right:10%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text.right,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text.right{padding-left:10%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title{margin-bottom:18px;font-size:32px;font-weight:500}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text{font-size:18px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-image{background-size:contain;background-repeat:no-repeat;position:relative}.plans-page .plans-blurb-section .blurb-row-holder.differentiate,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.differentiate{-webkit-order:0;order:0}.plans-page .plans-blurb-section .blurb-row-holder.differentiate .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.differentiate .blurb-image{background-image:url(/images/pricing/differentiate.png);width:708px;height:566px;right:-40px}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.plans-page .plans-blurb-section .blurb-row-holder.differentiate .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.differentiate .blurb-image{background-image:url(/images/pricing/differentiate@2x.png)}}.plans-page .plans-blurb-section .blurb-row-holder.manage-brand,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.manage-brand{-webkit-order:2;order:2}.plans-page .plans-blurb-section .blurb-row-holder.manage-brand .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.manage-brand .blurb-image{background-image:url(/images/pricing/manageBrand.png);width:560px;height:590px;left:-65px}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.plans-page .plans-blurb-section .blurb-row-holder.manage-brand .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.manage-brand .blurb-image{background-image:url(/images/pricing/manageBrand@2x.png)}}.plans-page .plans-blurb-section .blurb-row-holder.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.speed{-webkit-order:1;order:1}.plans-page .plans-blurb-section .blurb-row-holder.speed .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.speed .blurb-image{background-image:url(/images/pricing/speed.png);width:568px;height:565px}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.plans-page .plans-blurb-section .blurb-row-holder.speed .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.speed .blurb-image{background-image:url(/images/pricing/speed@2x.png)}}.plans-page .plans-blurb-section .blurb-row-holder.speed .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.speed .blurb-text{width:30%}.plans-page .plans-blurb-section .blurb-row-holder.customize,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.customize{display:none}.plans-page .plans-blurb-section .blurb-row-holder.customize .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.customize .blurb-image{background-image:url(/images/pricing/customizeLookAndFeel.png);width:742px;height:544px;left:-80px}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.plans-page .plans-blurb-section .blurb-row-holder.customize .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.customize .blurb-image{background-image:url(/images/pricing/customizeLookAndFeel@2x.png)}}.plans-page .plans-blurb-section .blurb-row-holder.customize .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.customize .blurb-text{width:30%;margin-right:10%}@media (max-width:1024px){.plans-page .plans-blurb-section .blurb-row.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row.speed{padding-left:40px}.plans-page .plans-blurb-section .blurb-row.speed .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row.speed .blurb-image{width:444px;height:444px}.plans-page .plans-blurb-section .blurb-row.manage-brand .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row.manage-brand .blurb-image{width:438px;height:462px}.plans-page .plans-blurb-section .blurb-row.differentiate .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row.differentiate .blurb-image{height:428px;width:553px}}@media (max-width:800px){.plans-page .plans-blurb-section .blurb-row-holder,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder{width:100vw}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row{-webkit-flex-direction:column;flex-direction:column;width:100%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-image{-webkit-order:2;order:2;left:inherit;right:inherit}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-image,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-image,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-image,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-image,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-image{left:inherit;right:inherit;background-position:50%;margin-top:32px;width:90%;max-width:inherit}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text{margin:0 auto;width:100%;padding:60px 32px 32px;-webkit-align-items:center;align-items:center;text-align:center;-webkit-order:1;order:1}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text .blurb-title,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text .blurb-title,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text .blurb-title,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text .blurb-title{width:100%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text .blurb-blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text .blurb-blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text .blurb-blurb-text,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.customize .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.differentiate .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.speed .blurb-text .blurb-blurb-text{width:364px;max-width:90%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.customize.speed,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.differentiate.speed,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand.speed,.plans-page .plans-blurb-section .blurb-row-holder .blurb-row.speed.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.customize.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.differentiate.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.manage-brand.speed,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row.speed.speed{padding-left:inherit}}.plans-page .plans-brand-examples-section,.upgrade-overlay-holder .plans-brand-examples-section{padding:60px 0;width:100%;position:relative;background:#fff}.plans-page .plans-brand-examples-section h2,.upgrade-overlay-holder .plans-brand-examples-section h2{width:700px;max-width:80%;margin-bottom:4%;font-size:2em;font-weight:500}.plans-page .plans-brand-examples-section .brand-examples,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-between;justify-content:space-between;position:relative;max-width:1366px;width:100%;height:570px;padding-left:30px;padding-right:30px}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;height:400px;width:100%;max-width:1306px}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow{height:32px;width:22px;background-size:contain;background-repeat:no-repeat;cursor:pointer}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.left,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.left{margin-right:22px;background-image:url(/images/icon-carousel-arrow-left.svg)}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.left:hover,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.left:hover{background-image:url(/images/icon-carousel-arrow-hover-left.svg)}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.right,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.right{margin-left:22px;background-image:url(/images/icon-carousel-arrow-right.svg)}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.right:hover,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .nav-arrow.right:hover{background-image:url(/images/icon-carousel-arrow-hover-right.svg)}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples{height:400px;width:920px;position:relative}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image{background-repeat:no-repeat;background-size:cover;position:absolute;cursor:pointer;transition:-webkit-transform .2s ease-in;transition:transform .2s ease-in;transition:transform .2s ease-in,-webkit-transform .2s ease-in}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image:not(.profile):hover,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image:not(.profile):hover{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 2px 2px rgba(0,0,0,.1)}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.profile,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.profile{height:284px;width:288px;cursor:inherit}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image .show-example-btn,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image .show-example-btn{display:none}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.video .show-example-btn,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.video .show-example-btn{width:100%;height:100%;background-image:url(/images/pricing/icon-video-play-button.svg);background-size:18%;background-repeat:no-repeat;background-position:50%;display:block}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-page,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-page{height:350px;width:232px;top:50px;left:298px}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-video,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-video{height:170px;width:302px;left:540px;top:60px}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-video2,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-video2{width:229px;height:135px;left:540px;top:240px}.plans-page .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-post,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .brand-examples-samples-column .brand-examples-samples .brand-examples-sample-image.subtype-post{width:170px;height:170px;left:780px;top:240px}.plans-page .plans-brand-examples-section .brand-examples .nav-dots,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .nav-dots{display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center}.plans-page .plans-brand-examples-section .brand-examples .nav-dots .nav-dot,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .nav-dots .nav-dot{background-image:url(/images/icon-carousel-bullet.svg);background-size:12px;width:12px;height:12px;background-repeat:no-repeat;margin-left:6px;cursor:pointer}.plans-page .plans-brand-examples-section .brand-examples .nav-dots .nav-dot:hover,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .nav-dots .nav-dot:hover{opacity:.9}.plans-page .plans-brand-examples-section .brand-examples .nav-dots .nav-dot.selected,.upgrade-overlay-holder .plans-brand-examples-section .brand-examples .nav-dots .nav-dot.selected{background-image:url(/images/icon-carousel-bullet-selected.svg)}.plans-page .landing-plans-mobile-apps-section,.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app,.upgrade-overlay-holder .landing-plans-mobile-apps-section,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app{margin:20px 0}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p{color:#82919b;font-weight:400;margin-bottom:20px}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p a,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p a,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p a,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p a{color:#35414c;font-weight:700;text-decoration:none;cursor:pointer}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p a:hover,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p a:hover,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p a:hover,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p a:hover{opacity:.8}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background{display:inherit;background-size:contain;background-repeat:no-repeat;width:154px;height:44px}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-app-store-button,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-app-store-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-app-store-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-app-store-button{background-image:url(/images/landing/appstoredownloadbtn.svg)}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-google-play-button,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-google-play-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-google-play-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-google-play-button{background-image:url(/images/landing/googleplaydownloadbtn.svg)}.plans-page.upgrade-overlay-holder,.upgrade-overlay-holder.upgrade-overlay-holder{position:fixed;width:100%;height:100vh;overflow:auto;z-index:2000;top:100%;transition:top .5s ease-in}.plans-page.upgrade-overlay-holder .x-close-btn,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn{position:fixed;z-index:2001;right:26px;top:calc(100vh + 26px);background-image:url(/images/icon-close-x.svg);background-color:transparent;background-repeat:no-repeat;background-size:contain;background-position:50%;width:20px;height:20px;border:none;outline:none;cursor:pointer;color:transparent;opacity:0;transition:opacity .5s ease-in,top .5s ease-in}.plans-page.upgrade-overlay-holder .x-close-btn.showing,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn.showing{opacity:.5;top:26px}.plans-page.upgrade-overlay-holder .x-close-btn.showing:hover,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn.showing:hover{opacity:1}.plans-page.upgrade-overlay-holder.showing,.upgrade-overlay-holder.upgrade-overlay-holder.showing{top:0}.plans-page.upgrade-overlay-holder.showing-hero-video,.upgrade-overlay-holder.upgrade-overlay-holder.showing-hero-video{overflow:hidden}.plans-page.upgrade-overlay-holder.showing-hero-video .upgrade-view-close-btn,.upgrade-overlay-holder.upgrade-overlay-holder.showing-hero-video .upgrade-view-close-btn{display:none}.landing-plans-hero{padding-top:48px;text-align:center;position:relative;height:200px;font-size:2em}.landing-plans-hero h2,.landing-plans-hero h4{font-family:brandon-grotesque,adobe-clean,sans-serif;color:#35414c}.landing-plans-hero h2{color:#fff;line-height:1.14;width:70%;margin:0 auto 38px;text-align:center;font-size:48px}.landing-plans-hero h4{margin-top:20px;margin-bottom:50px;color:#fff;font-size:20px}.landing-plans-hero h4 a{color:#fff;font-weight:400}.landing-plans-hero .graphic-device{width:764px;height:auto}.landing-plans-view,.upgrade-overlay-holder .upgrade-overlay{-webkit-align-content:center;align-content:center;text-align:center;background:#fff}.landing-plans-plans-wrapper p.discount-terms-conditions{font-size:14px;line-height:17px;font-weight:400;padding-left:350px;margin:10px auto 40px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper p.discount-terms-conditions a{color:#82919b;font-weight:400;text-decoration:underline}.landing-plans-plans-wrapper p.discount-terms-conditions .phone{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans{font-family:adobe-clean,sans-serif;margin:0 auto;position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:center;justify-content:center}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper{width:310px;text-align:left;font-weight:400;margin-right:50px;opacity:1}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper h4{font-size:18px;font-weight:700;line-height:52px;color:#35414c;height:52px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .admin-feature{display:block}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .upgrade-admin-label{height:40px;line-height:40px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .upgrade-features-label{height:52px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .admin-feature,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .divider,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .upgrade-admin-label{display:none}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title{font-size:44px;font-weight:900;line-height:40px;margin-bottom:20px;text-align:left;font-family:adobe-clean,sans-serif;opacity:1;color:#35414c}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-header{height:348px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .plans-wrapper-header{height:378px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.has-apps.no-admin-features .plans-wrapper-header,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.has-apps .plans-wrapper-header{height:418px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc{color:#35414c;font-family:adobe-clean,sans-serif;font-size:15px;line-height:19px;font-weight:400;text-align:left;opacity:1;display:inline-block}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc strong{font-weight:900}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc h4{font-weight:700}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature{background-repeat:no-repeat;background-position:0;background-size:32px 32px;text-align:left;height:60px;font-size:15px;padding-top:3px;position:relative}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature div{font-size:15px;line-height:17px;font-weight:400;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:45px;width:100%}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.create-premium-templates{background-image:url(/images/pricing/v2/feature-icons/create-premium-templates.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.use-stunning-images{background-image:url(/images/pricing/v2/feature-icons/use-stunning-images-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.remove-watermark{background-image:url(/images/pricing/v2/feature-icons/remove-watermark-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.reassign-licenses{background-image:url(/images/pricing/v2/feature-icons/reassign-licenses-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.personalize-designs{background-image:url(/images/pricing/v2/feature-icons/personalize-designs-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.consolidate-billing{background-image:url(/images/pricing/v2/feature-icons/consolidate-billing-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.design-from-templates{background-image:url(/images/pricing/v2/feature-icons/design-from-templates-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.dedicated-tech-support{background-image:url(/images/pricing/v2/feature-icons/dedicated-tech-support-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.has-adobe-fonts{background-image:url(/images/pricing/v2/feature-icons/has-adobe-fonts-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .check-plan-has-feature{background-repeat:no-repeat;background-position:0;height:60px;border-bottom:1px solid rgba(53,65,76,.2)}.landing-plans-plans-wrapper .landing-plans-plans .check-plan-has-feature.checked{background-position:50%;background-size:14px auto;background-image:url(/images/pricing/v2/checked.svg)}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary{border:2px solid #1473e6;color:#1473e6;font-size:15px;font-weight:700;min-width:140px;max-width:170px;height:40px;background-color:#fff;line-height:25px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary:hover{color:#fff;background-color:#1473e6;border-color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary.selected{background-color:#fff;color:#1473e6}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line{font-size:18px;line-height:26px;font-weight:400;color:#35414c}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line a{font-weight:400;text-decoration:none;color:#1473e6;cursor:pointer}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line a:hover{color:#1269d0}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line.landing-plans-enterprise-info{margin-top:24px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans{font-family:adobe-clean,sans-serif;background-color:#fff;display:-webkit-flex;display:flex;height:920px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-info-header{height:400px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps{height:730px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps li.inner{width:260px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps.no-admin-features .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features{height:729px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features.has-apps{height:770px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features .plan-info-header{height:430px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features.divider{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner{list-style:none;border-radius:0;width:222px;padding:0;margin:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info{opacity:.4;margin:0;padding:0;transition:opacity .6s}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info:hover{opacity:1;cursor:pointer}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info.recommended-plan-info{opacity:1}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-upgrade-admin-label{display:none;font-family:adobe-clean,sans-serif;font-size:18px;line-height:40px;text-align:left;border-top:1px solid rgba(53,65,76,.2);font-weight:700;padding:10px 0 0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .named-plan-feature{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header{padding:20px 10px 40px;border-bottom:1px solid rgba(53,65,76,.2)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-supertitle{font-size:13px;font-weight:400;margin:10px auto 5px;line-height:24px;color:#82919b}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-title{color:#35414c;font-size:21px;font-weight:900;text-transform:uppercase;margin:0 0 20px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-buy-button{margin:0;height:44px;font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-subtitle{font-size:15px;line-height:19px;font-weight:400;color:#35414c;margin:0 0 24px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image{width:100%;margin:0 auto 24px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.free img,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.individual img{width:60px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.team img{width:78px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.ccp img{width:auto;height:48px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area{margin:0 0 20px;color:#35414c;font-weight:400;font-family:adobe-clean,sans-serif;min-height:66px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-dropdown{margin:0 auto}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free{min-height:70px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text{font-size:24px;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.is-free{font-weight:700;font-size:24px;line-height:22px;padding:0 0 3px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.no-credit-card-required{font-size:15px;font-weight:400;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price{display:none;color:#35414c;font-size:24px;font-weight:700;line-height:22px;font-family:adobe-clean,sans-serif;margin:0 0 15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div{display:inline-block;font-weight:700}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div.currency,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div.fraction-and-time div.time{font-weight:400;font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price.selected{display:inline-block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-dropdown-area{height:32px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-pricing-area .plan-dropdown{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-pricing-area .plan-price{width:100%;border-radius:40px;padding-left:0;padding-right:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .no-bottom-border{border:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-see-hide-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space{height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space.empty{background-color:#f2f4f5;opacity:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space.divider{opacity:.2;height:40px;border-bottom:40px solid rgba(53,65,76,.5)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .recommended-only{font-size:14px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown{font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:20px auto 5px;max-width:326px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown .ddv-dropdown-button,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown .ddv-dropdown-button{background:#fff url(/images/pricing/v2/updownarrow.svg) no-repeat 90% 50%;width:160px;height:32px;border-radius:4px;color:#284660;font-size:15px;line-height:19px;font-weight:400;margin:0 auto;text-align:center}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown .ddv-dropdown-line,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown .ddv-dropdown-line{font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .discounted-only,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .recommended-only{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended{opacity:1;background:linear-gradient(#5256d0,#4599cd);color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-subtitle,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-title{opacity:1;color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-supertitle{color:#f2f4f5}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-pricing-area .plan-price{color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .sp-cta-button-primary{opacity:1;background-color:#f2f4f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;border:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .sp-cta-button-primary:hover{color:#1473e6;background-color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .check-plan-has-feature.checked{background-image:url(/images/pricing/v2/checked-white.svg)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .recommended-only{display:block;font-size:14px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .recommended{height:32px;text-transform:uppercase;font-family:adobe-clean,sans-serif;color:#fff;display:block;line-height:32px;font-weight:700;border-radius:8px 8px 0 0;margin-top:-32px;background-color:#10c459}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .plan-supertitle{color:#82919b}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .discounted-only{display:block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .discounted{height:32px;text-transform:none;font-family:adobe-clean,sans-serif;color:#fff;display:block;font-size:14px;line-height:32px;font-weight:700;border-radius:8px 8px 0 0;margin-top:-32px;background-color:#9aa6af}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features li.inner{width:260px}.landing-plans-plans-wrapper .cc-footer{color:#82919b;text-align:center;font-size:15px;line-height:26px;font-weight:400;margin:50px auto 30px;font-family:inherit}.landing-plans-plans-wrapper .cc-footer p{margin-top:10px}.landing-plans-plans-wrapper .cc-footer a{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .learn-more-and-call{margin:12px auto;display:block;width:880px;text-align:left;font-weight:400;color:#1473e6}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-header{font-family:adobe-clean,sans-serif;font-weight:700;font-size:20px;line-height:80px;margin:0;height:80px;text-align:left;text-transform:uppercase;color:#35414c;display:inline-block;width:200px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-text{display:inline-block;background-color:#fff;font-family:adobe-clean,sans-serif;font-weight:400;height:80px;margin:0;font-size:16px;color:#35414c;line-height:19px;text-align:center;position:relative;border-top-right-radius:4px;border-bottom-right-radius:4px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-text div{padding-left:15px;font-weight:400;width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-explainer{width:430px;font-weight:400;font-size:15px;line-height:19px;position:relative;border-top-right-radius:4px;border-bottom-right-radius:4px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-explainer div{font-weight:400;width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .learn-more-and-call .with-phone-text{width:215px;padding:32px;font-size:18px;border-radius:4px;color:#82919b;background-color:#fff;margin:0}.landing-plans-plans-wrapper .learn-more-and-call .with-phone-text .phone,.landing-plans-plans-wrapper .learn-more-and-call a{color:#1473e6;font-weight:400}@media (max-width:1024px){.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner{width:90%;max-width:648px;margin:40px auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper{float:none;text-align:center;padding:0 0 30px;width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-header{width:100%;text-align:center;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-header .plans-wrapper-title{text-align:center}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper.has-apps .plans-wrapper-header,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper.no-admin-features .plans-wrapper-header{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-desc{width:100%;text-align:center;line-height:24px;font-size:18px;margin:0 0 40px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions{padding:0;text-align:center;font-size:16px;line-height:20px;font-weight:400;margin:0 auto 40px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions .phone{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions a{color:#82919b;font-weight:400;text-decoration:underline}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .upgrade-admin-label,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .upgrade-features-label{display:none;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call{width:100%;display:block;padding:25px;text-align:center;background-color:#fff;border-radius:8px;margin:20px auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-header{font-family:adobe-clean,sans-serif;font-size:20px;height:auto;line-height:20px;margin:0 auto 10px;text-align:center;display:block;padding:0}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-text{display:block;text-align:center;margin:0 auto;width:100%;padding:20px 0 30px;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-explainer{width:100%;font-size:16px;line-height:20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .with-phone-text{font-size:20px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans{display:block;width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans{height:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;background-color:transparent}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .space{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.no-admin-features{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.has-apps .inner .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.has-apps .inner,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.no-admin-features .inner{width:100%;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner{width:100%;max-width:100%;display:block;background-color:#fff;margin:0 auto 40px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info{opacity:1;padding:0 20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .collapsible{font-size:20px;line-height:18px;color:#82919b;font-weight:400;cursor:pointer;padding:20px;margin:0 auto;text-align:center;outline:none;background:url(/images/pricing/v2/down.svg);background-repeat:no-repeat;background-size:24px 24px;background-position:70%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features{display:block;background-image:url(/images/pricing/v2/uparrow.svg);background-position:100% -3px;background-repeat:no-repeat;background-size:24px 24px;font-size:20px;width:165px;height:25px;padding:0;color:#82919b;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:20px auto;text-align:center;line-height:18px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features.see-details{background-image:url(/images/pricing/v2/downarrow.svg);width:152px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features{padding:0 5px 5px;display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .plan-info-upgrade-admin-label{display:block}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .check-plan-has-feature{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .named-plan-feature{display:block;margin:20px auto 25px;padding-left:45px;position:relative}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .named-plan-feature div{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info.recommended-plan-info .plan-info-features{display:block}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-subtitle{font-size:18px;height:auto;margin:0 0 40px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-supertitle{font-size:16px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-title{font-size:24px;line-height:30px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-buy-button{font-size:18px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-dropdown .ddv-dropdown-button{width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image{margin:0 auto 20px;text-align:center;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.individual img{width:92px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.team img{width:120px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.free img{width:92px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.ccp img{width:auto;height:48px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area{font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free{min-height:65px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.is-free{font-size:24px;line-height:22px;font-family:inherit;font-weight:400;margin-bottom:3px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.no-credit-card-required{font-size:15px;font-weight:400;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area .plan-price{font-size:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area div{font-weight:400;font-family:inherit}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.discounted{-webkit-order:-1;order:-1;margin-top:20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended{-webkit-order:-2;order:-2}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-see-hide-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature{background-size:32px 32px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature span{font-weight:400;font-size:15px;line-height:17px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.create-premium-templates{background-image:url(/images/pricing/v2/feature-icons/create-premium-templates-w.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.use-stunning-images{background-image:url(/images/pricing/v2/feature-icons/use-stunning-images-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.remove-watermark{background-image:url(/images/pricing/v2/feature-icons/remove-watermark-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.personalize-designs{background-image:url(/images/pricing/v2/feature-icons/personalize-designs-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.design-from-templates{background-image:url(/images/pricing/v2/feature-icons/design-from-templates-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.has-adobe-fonts{background-image:url(/images/pricing/v2/feature-icons/has-adobe-fonts-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info-features .plan-feature{height:40px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .cc-footer .cc-text{font-size:16px;line-height:20px}}.hero-video-viewer{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:200;padding-top:5px;padding-bottom:5px}.hero-video-viewer.hide{display:none}.hero-video-viewer .cc-paid-hero-video,.hero-video-viewer iframe{width:100%;height:100%}.hero-video-viewer .close-button{position:absolute;right:0;top:0;background-color:red;background:url("+n(i(73))+");background-size:18px 18px;background-repeat:no-repeat;background-position:50%;width:60px;height:60px;z-index:1000}.flex-horizontal{-webkit-flex-direction:row;flex-direction:row}.flex-horizontal,.flex-vertical{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.flex-vertical{-webkit-flex-direction:column;flex-direction:column}.scroller-mask{-webkit-overflow-scrolling:touch;overflow:hidden;-ms-overflow-style:none}.scroller-mask::-webkit-scrollbar{display:none}.scroller-mask .scroller{position:absolute;top:0;display:-webkit-flex;display:flex;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s}.scroller-mask .scroller.non-flex-scroller{position:inherit}.scroller-mask .scroller.initting{transition:-webkit-transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s}.scroller-mask .scroller-hit-area{position:absolute;top:0;height:100%;width:10%;max-width:100px;min-width:75px}.scroller-mask .scroller-hit-area.left{left:0;cursor:w-resize}.scroller-mask .scroller-hit-area.left.disabled{z-index:-1}.scroller-mask .scroller-hit-area.right{right:0;cursor:e-resize}.scroller-mask .scroller-hit-area.right.disabled{z-index:-1}.scroller-mask.supports-touch,.scroller-mask.supports-track-scroll-h{overflow-x:auto;overflow-y:hidden}.scroller-mask.supports-touch .scroller-hit-area,.scroller-mask.supports-track-scroll-h .scroller-hit-area{display:none}.scroller-mask.scroll-not-needed{overflow:hidden}.scroller-mask.scroll-not-needed .scroller{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.example-assets-row-mask{width:100vw;position:relative;height:454px}.example-assets-row-mask.desktop{width:calc(100vw - 16px)}@media (max-width:1024px){.example-assets-row-mask{height:346px}}.example-assets-row-scroller{height:calc(100% - 3px)}.example-assets-row{height:100%;left:0;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:baseline;align-items:baseline;padding:0 15px}.example-asset-item{max-height:100%;height:276px;-webkit-justify-content:flex-start;justify-content:flex-start;margin:0 14px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.example-asset-item:first-child{margin-left:0}.example-asset-item:last-child{margin-right:0}.example-asset-item .asset-background{max-height:calc(100% - 50px);width:276px;position:relative;background-repeat:no-repeat;background-size:contain;background-position:bottom;box-shadow:0 1px 3px rgba(0,0,0,.1)}.example-asset-item .asset-title{height:50px;line-height:50px;font-size:14px;font-weight:400;text-align:left;width:100%;padding:0 20px;background:#fff;border-bottom-left-radius:4px;border-bottom-right-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:1;-webkit-flex-shrink:0;flex-shrink:0}.example-asset-item .show-asset-btn{display:none}.example-asset-item.can-preview .show-asset-btn{display:block;cursor:-webkit-zoom-in;cursor:zoom-in;width:100%;height:100%;background-repeat:no-repeat;background-position:50%;position:absolute;bottom:0}.example-asset-item.can-preview.video .show-asset-btn{background-image:url(/images/icon-video-play-button.svg);background-size:18%}@media (max-width:1024px){.example-asset-item{width:200px;height:200px}.example-asset-item .asset-background{width:200px}}.bullets-area .bullet-item{display:-webkit-flex;display:flex;width:376px;height:359px;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;align-items:center;margin-left:12px;margin-right:12px;font-size:15px;text-align:center;font-weight:400;padding:32px;border-radius:4px;background-color:#fff}.bullets-area .bullet-item:first-child{margin-left:0}.bullets-area .bullet-item:last-child{margin-right:0}.bullets-area .bullet-item .bullet-image{width:204px;height:126px;background-repeat:no-repeat;background-size:contain;background-position:50%}.bullets-area .bullet-item .bullet-title{font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:1.375em;font-weight:700;margin-top:40px;margin-bottom:14px;line-height:28px;color:#35414c}.bullets-area .bullet-item .bullet-text{line-height:1.5;font-weight:400;width:100%;color:#35414c}@media (max-width:1024px){.bullets-area .bullet-item{width:320px;height:337px;margin-left:5px;margin-right:5px;padding:30px}}@media (max-width:800px){.bullets-area.flex-horizontal{-webkit-flex-direction:column;flex-direction:column}.bullets-area.flex-horizontal .bullet-item{width:376px;height:335px;margin:10px 0;max-width:calc(100vw - 16px)}.bullets-area.flex-horizontal .bullet-item:first-child{margin-top:0}.bullets-area.flex-horizontal .bullet-item:last-child{margin-bottom:0}}.ddv-dropdown{height:100%;width:100%}.ddv-dropdown .ddv-dropdown-overlay{position:fixed;width:200vw;height:200vh;top:-50vh;left:-50vw;background-color:#fff;opacity:0;z-index:10001}.ddv-dropdown .ddv-dropdown-button{width:100%;color:#35414c;padding:5px 35px 5px 23px;font-size:16px;border-radius:23px;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background:#f2f4f5 url(/images/caret-arrow.png) 90% 50% no-repeat;background-size:11px auto;border:1px solid #dce0e3;cursor:pointer;font-style:normal;font-weight:400;transition:border-color .4s;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;line-height:150%;text-align:center}.ddv-dropdown .ddv-dropdown-button:focus,.ddv-dropdown .ddv-dropdown-button:hover{border-color:#82919b}.ddv-dropdown .ddv-dropdown-bg{z-index:10002;background-color:#fff;box-shadow:0 2px 10px 1px hsla(0,0%,60%,.35);border-radius:6px;padding:6px;position:fixed;overflow-y:auto}.ddv-dropdown .ddv-dropdown-bg.hide{display:none}.ddv-dropdown .ddv-dropdown-bg.center-vertical{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line{padding:0 16px;margin:5px;background-repeat:no-repeat;background-position:10px;background-size:16px;border-radius:3px;cursor:pointer;font-size:16px;color:#9aa6af;font-weight:400;text-align:left;line-height:27px}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line:hover:not(.arrow-nav){background-color:#f2f4f5;color:#35414c}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line.selected.use-checkmark{background-image:url("+n(i(166))+")}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line.selected.use-checkbox{background-image:url("+n(i(167))+");color:#1473e6}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line.selected:not(.use-checkbox){background-position:right 11px center;background-color:#f2f4f5;color:#35414c}.ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line.use-checkbox{padding-left:32px;background-image:url("+n(i(168))+");background-position:left 7px center;background-size:12px;color:#35414c}.cc-logo{height:24px;width:32px;background-repeat:no-repeat;background-size:contain;background-image:url(/images/icon-logo-cc-red.svg)}.cc-logo.gray{background-image:url(/images/icon-logo-cc-gray.svg)}.sp-cta-button-primary,.sp-cta-button-secondary{height:32px;border-radius:24px;font-size:15px;font-weight:700;line-height:30px;padding:0 16px;min-width:75px;text-align:center;cursor:pointer;transition:background-color .3s,color .3s}.sp-cta-button-primary.link,.sp-cta-button-secondary.link{text-decoration:none;line-height:32px}.sp-cta-button-primary.disabled,.sp-cta-button-secondary.disabled{background-color:rgba(130,145,155,.09);color:#d8dde0}.sp-cta-button-primary.disabled:active,.sp-cta-button-primary.disabled:hover,.sp-cta-button-secondary.disabled:active,.sp-cta-button-secondary.disabled:hover{cursor:default;background-color:rgba(130,145,155,.09)}.sp-cta-button-primary{color:#fff;background-color:#1473e6}.sp-cta-button-primary:hover{background-color:#1269d0}.sp-cta-button-primary:active{background-color:#1056a7}.sp-cta-button-secondary{color:#82919b;background-color:transparent;border:2px solid #82919b;line-height:28px;transition:background-color .3s,color .3s,border-color .3s}.sp-cta-button-secondary:hover{background-color:#82919b;color:#fff}.sp-cta-button-secondary:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark,.sp-cta-button-secondary.over-dark-photo{color:#dce0e3;border-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo.over-dark-photo,.sp-cta-button-secondary.over-dark.over-dark-photo{color:#fff;border-color:#fff}.sp-cta-button-secondary.over-dark-photo:hover,.sp-cta-button-secondary.over-dark:hover{color:#35414c;background-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo:hover.over-dark-photo,.sp-cta-button-secondary.over-dark:hover.over-dark-photo{background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active,.sp-cta-button-secondary.over-dark:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark-photo{color:#fff;border:2px solid #fff}.sp-cta-button-secondary.over-dark-photo:hover{color:#35414c;background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active{background-color:#35414c;border-color:#35414c;color:#fff}.mrvl-dlg-btn-acts .sp-cta-button-primary,.mrvl-dlg-btn-acts .sp-cta-button-secondary{margin-left:5px;margin-right:5px}.mrvl-dlg-btn-acts .sp-cta-button-primary:first-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:first-child{margin-left:0}.mrvl-dlg-btn-acts .sp-cta-button-primary:last-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:last-child{margin-right:0}.brands-examples-view .brand-assets-holder{-webkit-order:1;order:1}.brands-examples-view .brand-picker,.brands-examples-view.picker-on-top .brand-assets-holder{-webkit-order:2;order:2}.brands-examples-view.picker-on-top .brand-picker{-webkit-order:1;order:1}.example-assets-row{-webkit-transform:translate(0);transform:translate(0);opacity:1;transition:opacity .7s;display:-webkit-flex;display:flex}.example-assets-row.anim-out{opacity:0}.example-assets-row.anim-in{top:0;position:absolute}.example-assets-row.selected{display:-webkit-flex;display:flex}.example-assets-row .example-asset-item{height:250px}.example-assets-row .example-asset-item .asset-background{width:250px}@media (max-width:1024px){.example-assets-row .example-asset-item{width:200px;height:200px}.example-assets-row .example-asset-item .asset-background{width:200px}}.brand-picker{margin-top:54px;margin-bottom:60px;position:relative;max-width:calc(100vw - 16px);padding-left:16px;padding-right:16px}.brand-picker .border-box{position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:2px solid #dadee1}.brand-picker .brand-icon{z-index:1;width:80px;height:80px;background-size:50px 50px;background-position:top;background-repeat:no-repeat;margin-left:10px;margin-right:10px;cursor:pointer;transition:border-color .7s;border-bottom:2px solid #dadee1;opacity:.5}.brand-picker .brand-icon:last-child{margin-right:0}.brand-picker .brand-icon:nth-child(2){margin-left:0}.brand-picker .brand-icon.selected{border-bottom:2px solid #35414c;opacity:1}.brand-picker .brand-icon:hover{border-bottom:2px solid #35414c}@media (max-width:375px){.brand-picker .brand-icon{background-size:contain}}.bullet-item .bullet-image{height:160px}.bullet-item.logo .bullet-image{height:158px;width:238px;background-image:url(/images/features/steps-logo.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.logo .bullet-image{background-image:url(/images/features/steps-logo@2x.png)}}.bullet-item.logo-ccpl .bullet-image{background-image:url(/images/features/steps-logo-ccpl.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.logo-ccpl .bullet-image{background-image:url(/images/features/steps-logo-ccpl@2x.png)}}.bullet-item.colors .bullet-image{width:128px;height:133px;background-image:url(/images/features/steps-colors.svg)}.bullet-item.colors-and-fonts .bullet-image{width:242px;height:104px;background-image:url(/images/features/steps-colors-and-fonts.svg)}.bullet-item.present-your-photos .bullet-image{width:200px;height:164px;background-image:url(/images/features/steps-present-your-photos.svg)}.bullet-item.fonts .bullet-image{width:99px;height:135px;background-image:url(/images/features/steps-fonts.svg)}.bullet-item.templates-and-themes .bullet-image{height:182px;width:218px;background-image:url(/images/features/steps-templates-and-themes.png)}@media (max-width:768px){.bullet-item.templates-and-themes .bullet-image{margin-bottom:-32px}}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.templates-and-themes .bullet-image{background-image:url(/images/features/steps-templates-and-themes@2x.png)}}.bullet-item.intuitive .bullet-image{background-image:url(/images/features/intuitive.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.intuitive .bullet-image{background-image:url(/images/features/intuitive@2x.png)}}.bullet-item.tell-a-story .bullet-image{background-image:url(/images/features/tell-a-story.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.tell-a-story .bullet-image{background-image:url(/images/features/tell-a-story@2x.png)}}.bullet-item.share .bullet-image{background-image:url(/images/features/share.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.share .bullet-image{background-image:url(/images/features/share@2x.png)}}",""])},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMzMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDggOCI+PHBhdGggZD0iTTYuNDEgMWwtLjY5LjcyTDIuOTQgNC41bC0uODEtLjc4TDEuNDEgMyAwIDQuNDFsLjcyLjcyIDEuNSAxLjUuNjkuNzIuNzItLjcyIDMuNS0zLjUuNzItLjcyTDYuNDEgMXoiIGZpbGw9IiMzNTQxNGMiLz48L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjYwNDkgMjcyIDEyIDEyIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiMxNDczZTY7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTAtMjYzOEgyYTIsMiwwLDAsMS0yLTJ2LThhMiwyLDAsMCwxLDItMmg4YTIsMiwwLDAsMSwyLDJ2OEEyLDIsMCwwLDEsMTAtMjYzOFptLTYuODc1LTYuNmEuNzYxLjc2MSwwLDAsMC0uNS4ybC0uNC40YS43OS43OSwwLDAsMCwwLDEuMWwyLjQsMi4zYS43NjEuNzYxLDAsMCwwLC41LjIuODY4Ljg2OCwwLDAsMCwuNi0uM2w0LjEtNS4yYS43MzcuNzM3LDAsMCwwLC4yLS42LjU1Mi41NTIsMCwwLDAtLjMtLjVsLS40LS4zYS43NTEuNzUxLDAsMCwwLS40LS4yLjkwNi45MDYsMCwwLDAtLjcuM2wtMy4yLDQuMi0xLjQtMS40QS43NjIuNzYyLDAsMCwwLDMuMTI1LTI2NDQuNloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwNDkgMjkyMikiLz48L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjYwNDkgMjQwIDEyIDEyIj48ZGVmcz48c3R5bGU+LmEsLmN7ZmlsbDpub25lO30uYXtzdHJva2U6IzM1NDE0YztzdHJva2Utd2lkdGg6MnB4O30uYntzdHJva2U6bm9uZTt9PC9zdHlsZT48L2RlZnM+PGcgY2xhc3M9ImEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwNDkgMjQwKSI+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcng9IjIiLz48cmVjdCBjbGFzcz0iYyIgeD0iMSIgeT0iMSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiByeD0iMSIvPjwvZz48L3N2Zz4="},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(5),i(4),i(6),i(17),i(170),i(109),i(172),i(110),i(173),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f){"use strict";var g;return i.View.extend({defaultBrands:{defaultId:"morningGlo",assetsRoot:"/images/brandExamples/brand-",displayOrder:["morningGlo","rgFitness","pattiWatts","emeraldJones","blueWater"],thumbFileType:"png",allChildren:[{id:"morningGlo",icon:"MorningGlo.svg",displayOrder:["presentation","ad","flyer","engaging-tip","invitation"],allChildren:[{id:"presentation",title:f.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"MG_Video"},{id:"ad",title:f.getString("brand-examples-ad"),aspectRatio:1,contentType:"post",thumb:"MG_2ndlocation"},{id:"flyer",title:f.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"MG_Page"},{id:"invitation",title:f.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"MG_PostClass"},{id:"engaging-tip",title:f.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"MG_PostTip"}]},{id:"rgFitness",icon:"RGFitness.svg",displayOrder:["presentation","ad","flyer","engaging-tip","invitation"],allChildren:[{id:"presentation",title:f.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"RG_Video"},{id:"ad",title:f.getString("brand-examples-ad"),aspectRatio:1,contentType:"post",thumb:"RGPost_SignUp"},{id:"flyer",title:f.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"RGPage"},{id:"invitation",title:f.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"RGPost_Quote"},{id:"engaging-tip",title:f.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"RGPost_Hustle"}]},{id:"pattiWatts",icon:"PattiWatts.svg",displayOrder:["advertisement","tip","newsletter","quote","tip2"],allChildren:[{id:"advertisement",title:f.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"PW_Video"},{id:"tip",title:f.getString("brand-examples-tip"),aspectRatio:1,contentType:"post",thumb:"PW_PostTip"},{id:"newsletter",title:f.getString("brand-examples-newsletter"),aspectRatio:250/370,contentType:"page",thumb:"PW_Page"},{id:"quote",title:f.getString("brand-examples-quote"),aspectRatio:1,contentType:"post",thumb:"PW_Quote"},{id:"tip2",title:f.getString("brand-examples-tip"),aspectRatio:1,contentType:"post",thumb:"PW_Tip2"}]},{id:"emeraldJones",icon:"EmeraldLandscaping.svg",displayOrder:["presentation","portfolio","flyer","invitation","tip"],allChildren:[{id:"presentation",title:f.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"EJVideo"},{id:"portfolio",title:f.getString("brand-examples-portfolio"),aspectRatio:1,contentType:"post",thumb:"EJPost_portfolio"},{id:"flyer",title:f.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"EJPage"},{id:"invitation",title:f.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"EJPost_Offer"},{id:"tip",title:f.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"EJPost_Tip"}]},{id:"blueWater",icon:"BlueWater.svg",displayOrder:["presentation","guide","flyer","tip","invitation"],allChildren:[{id:"presentation",title:f.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"BWSC_Video"},{id:"guide",title:f.getString("brand-examples-guide"),aspectRatio:1,contentType:"post",thumb:"BWSC_PostProfile"},{id:"flyer",title:f.getString("brand-examples-flyer"),aspectRatio:200/294,contentType:"page",thumb:"BWSC_Page"},{id:"invitation",title:f.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"BWSC_RecruitmentPost"},{id:"tip",title:f.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"BWSC_PostThanks"}]}]},events:{"click .brand-icon":"handleBrandIconClick","click .example-asset-item":"handleExampleAssetClick"},workflow:"brandsExamplesView",initialize:function(e){t.bindAll(this,t.functionsIn(this))},sendAnalytic:function(e){var t=this.model.get("parentWorkflow"),i=t?t+":"+this.workflow:this.workflow;a.trackEvent("brandsExamplesAction",e,i)},render:function(){return this._brandsRenderStage("beforeMustache"),this.$el.html(l.to_html(c,this.model.toJSON(),{})),this._brandsRenderStage("afterMustache"),this},_doChildSwitch:function(e,i){if(e.current){e.current.selector$&&e.current.selector$.removeClass("selected"),e.current.animDiv$.removeClass("selected"),e.current.animDiv$.addClass("anim-out"),e.current.animDiv$.addClass("anim-in");var n=e.current;t.delay(function(){e.current!==n&&(n.animDiv$.addClass("hide"),n.animDiv$.removeClass("anim-in"))},750)}e.current=i,i.selector$&&i.selector$.addClass("selected"),e.current.animDiv$.addClass("selected"),e.current.animDiv$.removeClass("anim-in"),e.current.animDiv$.removeClass("hide"),t.delay(function(){e.current.animDiv$.removeClass("anim-out")},1),this.current=e.current},setCurrentBrand:function(e){var t=this.model.get("brands");"string"==typeof e&&(e=t.byId[e]),e!==t.current?(this._doChildSwitch(t,e),this.examplesScroller.resetScroll()):this.current=e},_getOrderedChildrenSet:function(e,i){var n={},r=[];return t.each(i,function(e,t){n[e]=t}),t.each(e,function(e){var i=n[e.id];t.isUndefined(i)||(r[i]=e)}),t.compact(r)},_brandsRenderStage:function(n){var r=this.model.get("brands");if("beforeMustache"===n){r?this.model.set("brands",t.cloneDeep(r)):this.model.set("brands",t.cloneDeep(this.defaultBrands)),r=this.model.get("brands");var o=this.model.get("displayOrder")||r.displayOrder,a=this.model.get("exampleOrders"),s=d.contentTypeMap,c=[];r.children=this._getOrderedChildrenSet(r.allChildren,o),r.byId={},r.assetsById={},t.each(r.children,function(e){var n=r.assetsRoot+e.id+"/",o=a&&a[e.id]||e.displayOrder;r.byId[e.id]=e,e.logoUrl=n+e.icon,e.id===r.defaultId&&(e.selected=!0,r.current=e),e.assets=this._getOrderedChildrenSet(e.allChildren,o),t.each(e.assets,function(t){var o=t.uri;t.thumbUrl=n+t.thumb,t.assetId=t.assetId||e.id+"_"+t.id,t.hwar=100/t.aspectRatio+"%",t.brandId=e.id,o||(t.model=new i.Model({assetId:t.assetId,type:s[t.contentType],useCase:t.title,uri:o,alias:t.alias})),r.assetsById[t.assetId]=t,c.push({id:t.assetId,url:t.thumbUrl})})}.bind(this));var p=l.to_html(h,{assets:c,fileType:r.thumbFileType});this.model.set("examplesStyle",p)}else if("afterMustache"===n){t.each(this.$el.find(".example-assets-row"),function(t){t=e(t),r.byId[t.data("id")].animDiv$=t}),t.each(this.$el.find(".brand-icon"),function(t){t=e(t),r.byId[t.data("id")].selector$=t}),this.setCurrentBrand(r.current);var f=this.$el.find(".example-assets-row-mask"),g=new i.Model({scroller$:f.find(".example-assets-row-scroller"),content$:f.find(".example-assets-row")});this.examplesScroller?(this.examplesScroller.setElement(f),this.examplesScroller.model=g):this.examplesScroller=new u({el:f,model:g}),this.examplesScroller.render()}},handleBrandIconClick:function(t){var i=e(t.target).data("id");this.setCurrentBrand(i),this.sendAnalytic({type:"brandIconClick",brand:i})},handleExampleAssetClick:function(t){var i=e(t.currentTarget).closest(".example-asset-item"),n=i.data("assetid"),r=this.model.get("brands").assetsById[n],o=(this.model.get("parentZIndex")||1*this.$el.css("z-index")||0)+1,a=i.hasClass("can-preview");this.sendAnalytic({type:"brandAssetClick",assetId:n,canPreview:a}),a&&(g?g.setOptions({parentObj:this,model:r.model,fullScreen:!0,minZIndex:o}):g=new d({model:r.model,el:"#preview-overlay-fs",parentObj:this,fullScreen:!0,minZIndex:o}),g.showOverlay())},closeExample:function(){g&&g.handleCloseBtn()},remove:function(){this.examplesScroller&&this.examplesScroller.remove()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='{{#brands}}\n{{{examplesStyle}}}\n<div class="brands-examples-view flex-vertical{{#pickerOnTop}} picker-on-top{{/pickerOnTop}}">\n    <div class="brand-assets-holder example-assets-row-mask scroller-mask">\n        <div class="example-assets-row-scroller flex-vertical">\n        {{#children}}\n            <div class="example-assets-row flex-horizontal {{#selected}} selected{{/selected}}{{^selected}} anim-out hide{{/selected}}" data-id="{{id}}">\n                {{#assets}}\n                <div class="brand-asset example-asset-item flex-vertical {{contentType}}{{#uri}} can-preview{{/uri}}" data-assetid="{{assetId}}">\n                    <div class="asset-background" id="{{assetId}}" style="padding-top:{{hwar}};">\n                        <div class="show-asset-btn"></div>\n                    </div>\n                    <div class="asset-title">{{title}}</div>\n                </div>\n                {{/assets}}\n            </div>\n        {{/children}}\n        </div>\n    </div>\n    <div class="brand-picker flex-horizontal">\n        <div class="border-box"></div>\n    {{#children}}\n        <div class="brand-icon{{#selected}} selected{{/selected}}" data-id="{{id}}" style="background-image:url({{logoUrl}}"></div>\n    {{/children}}\n    </div>\n</div>\n{{/brands}}\n'},function(e,t){e.exports='<div class="case-overlay-shell" data-auto="case-overlay-shell">\n    <div class="preview-full-screen-overlay clearfix">\n        <ul class="preview-social-icons clearfix">\n            <li class="facebook-icon-item hide"><a href="#" class="preview-social-icon preview-facebook-icon" target="_blank"><img src="/images/facebook-grey.svg" alt="Facebook" class="preview-facebook-icon"></a></li>\n            <li class="twitter-icon-item hide"><a href="#" class="preview-social-icon preview-twitter-icon" target="_blank"><img src="/images/twitter-grey.svg" alt="Twitter" class="preview-twitter-icon"></a></li>\n        </ul>\n        <button class="preview-blank-one-btn" data-auto="preview-blank-one-btn-fs">Create new video</button>\n    </div>\n    <div class="mrvl-overlay-actions">\n        <button class="preview-resize-in-btn" data-auto="preview-resize-in-btn"></button>\n        <button class="preview-close-btn" data-auto="preview-close-btn"></button>\n    </div>\n\n    <div class="preview-main-area">\n        <div class="preview-iframe-container hide">\n            <div class="preview-iframe-wrap">\n                <iframe name="case-overlay-iframe" class="preview-iframe" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n                <div class="preview-resize-out-wrapper">\n                    <div class="preview-resize-out-btn" data-auto="preview-resize-out-btn"></div>\n                </div>\n            </div>\n        </div>\n        <div class="video-promotion">\n            <div id="custom-badge-toast" class="badge-position">\n                <a href="/about"><img id="custom-badge" class="badge badgeBounce" src="/images/feature-promotion/new-video-badge-dark@2x.png"></a>\n                <div id="custom-toast" class="badge-text">\n                    <a id="custom-toast-text" href="#">How to craft a great recipe video</a>\n                    <div class="close-toast circle">\n                        <span class="close"></span>\n                    </div> \n                </div>\n            </div>\n        </div>\n        <div class="preview-div-wrap hide">\n            <div class="preview-div"></div>\n        </div>\n    </div>\n\n    <div class="preview-case-area">\n        <div class="preview-case-panel">\n            <div class="preview-case-top">\n                <div class="preview-case-type" data-auto="preview-case-type"></div>\n                <h2 class="preview-case-title"></h2>\n                <p class="preview-case-desc hide"></p>\n\n                <div class="preview-make-btns">\n                    <div class="preview-blank-one-btn" data-auto="preview-blank-one-btn">Create new Page</div>\n                </div>\n            </div>\n            <div class="preview-case-related">\n                <h4>More like this:</h4>\n\n                <div class="preview-case-related-items clearfix"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(53)],void 0===(r=function(e,t,i,n,r){"use strict";return i.View.extend({events:{"mouseover .scroller-hit-area":"handleMouseOverHitArea","mousemove .scroller-hit-area":"handleMouseMoveHitArea","mouseleave .scroller-hit-area":"handleMouseLeaveHitArea"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._debouncer=t.debounce(this.windowResized,100).bind(this)},render:function(){var i=r.getPlatformInfo(),n=this.$el.find(".scroller-hit-area left"),o=this.$el.find(".scroller-hit-area right");return this.$el.addClass("scroller-mask").addClass(i.cssString),this._appliedPlatformCssString=i.cssString,i.supportsTrackScrollH?(this._browserScroller=!0,n.length&&n.addClass("hide"),o.length&&o.addClass("hide")):(n.length||(n=e('<div class="scroller-hit-area left"></div>'),this.$el.append(n)),o.length||(o=e('<div class="scroller-hit-area right"></div>'),this.$el.append(o)),this._setScrollSupportNotification(!0)),this.right$=o,this.left$=n,this.scroller$=this.model.get("scroller$"),this._currentTarget$=this.scroller$.find("div:visible:first"),this.scroller$.addClass("initting"),this.scroller$.addClass("scroller"),this.resetScroll(),t.delay(function(){this.scroller$.removeClass("initting")}.bind(this),0),this._debouncerEventsSet||(this._debouncerEventsSet=!0,e(window).on("resize.sidescroller",this._debouncer)),this._removed=!1,this},_setScrollSupportNotification:function(e){e!==this._requested_scroll_suport_notification&&(e?(this._requested_scroll_suport_notification=!0,marvel.events.on("platformUtils:detected-support-track-scroll-h",this.detectedScrollSupport.bind(this))):(this._requested_scroll_suport_notification=!1,marvel.events.off("platformUtils:detected-support-track-scroll-h",this.detectedScrollSupport.bind(this))))},detectedScrollSupport:function(e){this._setScrollSupportNotification(!1),this._appliedPlatformCssString&&this.$el.removeClass(this._appliedPlatformCssString),this.$el.addClass("scroller-mask").addClass(e.cssString),this._appliedPlatformCssString=e.cssString,this._browserScroller=!0,this.resetScroll()},startCheck:function(){this.clearTheInterval(),this.scrollCheck()},startInterval:function(e){this.scrollInterval&&clearInterval(this.scrollInterval),this.scrollInterval="waitToStart"===e?setInterval(this.startCheck.bind(this),100):setInterval(this.scrollCheck.bind(this),5)},handleMouseOverHitArea:function(t){this._currentTarget$=e(t.currentTarget),this._currentOffsetX=t.offsetX,this.startInterval("waitToStart")},handleMouseMoveHitArea:function(t){this._currentTarget$=e(t.currentTarget),this._currentOffsetX=t.offsetX},clearTheInterval:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},handleMouseLeaveHitArea:function(e){this.clearTheInterval(),this._currentOverEdgeScroll=0},resetScroll:function(){this.setNewMiddle(0),this.clearTheInterval()},setNewMiddle:function(e){var t=this.scroller$.find("div:visible:first"),i=this.$el.width(),n=.5*(t.outerWidth()-i);this.setNewScrollValue(e-n)},setNewScrollValue:function(t){var i,n,r=this.scroller$.find("div:visible:first"),o=e(document).width(),a=this.$el.width(),s=.5*(a-o),l=r.outerWidth(),c=.5*(l-a);this.scroller$.css("width",l+"px"),l<a?(t=c,this.left$.addClass("disabled"),this.right$.addClass("disabled"),this.$el.addClass("scroll-not-needed"),this.scroller$.css("transform","")):(this.$el.removeClass("scroll-not-needed"),this._browserScroller?(n=800,(t=-t)<(i=0)?t=i:t>n&&(t=n),this.scroller$.css("transform",""),this.$el.scrollLeft(t)):(i=a-(l+s),t>(n=0+s)?(t=n,this.left$.addClass("disabled"),this.right$.removeClass("disabled")):t<i?(t=i,this.right$.addClass("disabled"),this.left$.removeClass("disabled")):(this.right$.removeClass("disabled"),this.left$.removeClass("disabled")),this.scroller$.css("transform","translateX("+t+"px)"))),this._scrollValue=t},scrollCheck:function(){var e,t=this._currentTarget$.hasClass("left")?-1:1,i=this._currentTarget$.width(),n=this._scrollValue;e=-1===t?n+9*(1-this._currentOffsetX/i):n-9*(this._currentOffsetX/i),this.setNewScrollValue(e),this._scrollValue!=e?(this.clearTheInterval(),this._currentOverEdgeScroll=0):this._currentOverEdgeScroll!==t&&this.startInterval("scrollCheck")},isShowing:function(){return!this._removed},windowResized:function(){this.isShowing()?this.resetScroll():(this._debouncerEventsSet=!1,e(window).off("resize.sidescroller",this._debouncer))},remove:function(){return this._setScrollSupportNotification(!1),this._appliedPlatformCssString&&(this.$el.removeClass(this._appliedPlatformCssString),this._appliedPlatformCssString=null),this._debouncerEventsSet&&(this._debouncerEventsSet=!1,e(window).off("resize.sidescroller",this._debouncer)),this._removed=!0,this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n=i(174);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".brands-examples-view .brand-assets-holder{-webkit-order:1;order:1}.brands-examples-view .brand-picker,.brands-examples-view.picker-on-top .brand-assets-holder{-webkit-order:2;order:2}.brands-examples-view.picker-on-top .brand-picker{-webkit-order:1;order:1}.example-assets-row{-webkit-transform:translate(0);transform:translate(0);opacity:1;transition:opacity .7s;display:-webkit-flex;display:flex}.example-assets-row.anim-out{opacity:0}.example-assets-row.anim-in{top:0;position:absolute}.example-assets-row.selected{display:-webkit-flex;display:flex}.example-assets-row .example-asset-item{height:250px}.example-assets-row .example-asset-item .asset-background{width:250px}@media (max-width:1024px){.example-assets-row .example-asset-item{width:200px;height:200px}.example-assets-row .example-asset-item .asset-background{width:200px}}.brand-picker{margin-top:54px;margin-bottom:60px;position:relative;max-width:calc(100vw - 16px);padding-left:16px;padding-right:16px}.brand-picker .border-box{position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:2px solid #dadee1}.brand-picker .brand-icon{z-index:1;width:80px;height:80px;background-size:50px 50px;background-position:top;background-repeat:no-repeat;margin-left:10px;margin-right:10px;cursor:pointer;transition:border-color .7s;border-bottom:2px solid #dadee1;opacity:.5}.brand-picker .brand-icon:last-child{margin-right:0}.brand-picker .brand-icon:nth-child(2){margin-left:0}.brand-picker .brand-icon.selected{border-bottom:2px solid #35414c;opacity:1}.brand-picker .brand-icon:hover{border-bottom:2px solid #35414c}@media (max-width:375px){.brand-picker .brand-icon{background-size:contain}}",""])},function(e,t){e.exports='<div id="active-popover" class="popover-fixed hide"></div>\n<div class="popover-dialog {{direction}} {{#dialogClass}}{{.}}{{/dialogClass}}" style="height: {{height}}; width: {{width}}; top: {{topOffset}}; left: {{leftOffset}};">\n    <div class="popover-section">\n        {{#logoURL}}\n            <div class="popover-logo" style="background-image: url(\'{{.}}\');"></div>\n        {{/logoURL}}\n        <div class="popover-content" style="text-align:{{#logoURL}}center{{/logoURL}}{{^logoURL}}left{{/logoURL}};">\n\n            <div class="popover-primary-text{{^isBeta}} beta{{/isBeta}}">{{{primaryText}}}</div>\n            <div class="popover-secondary-text">{{{secondaryText}}}</div>\n            <div class="popover-btns">\n                {{#secondaryBtnTitle}}\n                    <button class="popover-secondary-btn">{{.}}</button>\n                {{/secondaryBtnTitle}}\n                {{#primaryBtnTitle}}\n                    <button class="popover-primary-btn">{{.}}</button>\n                {{/primaryBtnTitle}}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(2),i(3),i(1),i(37),i(13),i(6),i(5),i(7),i(293),i(70),i(12)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return new(i.Model.extend({initialize:function(){this.connectionManager=void 0,this.rootObjectId=void 0,this._connectionManagerPromise=void 0},_getCollabController:function(){return c},_deltaHandler:function(e){r.logger.traceflow("baton-locking","_deltaHandler, object=",e)},_batonHandler:function(e){r.logger.traceflow("baton-locking","made it to _batonHandler: resource:"+e.resourceId+" sequenceNumber:"+e.sequenceNumber+" clientId:"+e.clientId)},_errorHandler:function(e){r.logger.traceflow("baton-locking","made it to _errorHandler, object=",JSON.stringify(e))},_createConnectionManager:function(e){return new l.default.ConnectionManager(e)},_cookieOverrides:function(e){var t={host:e,pathSuffix:""};return e.match(/stage.*\.adobe.io$/)?(t.host=e.replace(/\.adobe\.io$/,".adobeprojectm.com"),t.pathSuffix=";Domain=adobeprojectm.com"):(t.host=e.replace(/\.adobe\.io$/,".adobe.com"),t.pathSuffix=";Domain=adobe.com"),t},_initializeConnectionManager:function(){return this._connectionManagerPromise||(this._connectionManagerPromise=a.getAccessToken().then(function(e){var t={rootObjectId:this.rootObjectId,dsHost:o.discoveryServiceHost,dsEnvSelector:o.discoveryServiceEnvironment,authToken:e,syncMessageHandler:this._deltaHandler.bind(this),batonMessageHandler:this._batonHandler.bind(this),errorHandler:this._errorHandler.bind(this),cookieOverrides:this._cookieOverrides,logger:r.logger,apiKey:o.key};return this.connectionManager=this._createConnectionManager(t),this.connectionManager.connect()}.bind(this)).then(function(){this.sessionId=n.v4();var e=this.connectionManager.userId,t={deviceId:n.v4(),agent:navigator.userAgent,platform:navigator.platform};r.logger.info("app-storage-base - connect",{topic:this.rootObjectId,sessionId:this.sessionId,clientInfo:t});return this.connectionManager.send(new l.default.OpenSessionRequest(this.rootObjectId,e,t,2147483647)).then(function(){r.logger.traceflow("baton-locking","Delta History session is open.")})}.bind(this))),this._connectionManagerPromise},isCollaborationEnabled:function(e,t){var i=r.AdobeDCXUtil.appendPathElements("assets",e,t);return this._getCollabController().getCollaborationForPath(i).then(function(e){return!!(e&&e.collaborators&&e.collaborators.length>0)&&(this.collaborators=e.collaborators,!0)}.bind(this))},_clientIdToUserName:function(e){var t=e.split(":")[0],i=(this.collaborators||[]).find(function(e){return e.collaborator===t});return i&&i.displayName||"Unknown user"},acquireBatonLock:function(e,i,n){return this.rootObjectId&&this.rootObjectId!==i?(r.logger.warn("PRIOR LOCK ERROR CONDITION: asking for "+i+" but we still have "+this.rootObjectId),t.reject({code:"FAILED_TO_RELEASE_PRIOR_LOCK",usermsg:"Failed to release project lock."})):i?this.rootObjectId===i&&this._batonLockDefer?this._batonLockDefer.promise:(this.rootObjectId=i,this._batonLockDefer=t.defer(),this.isCollaborationEnabled(e,this.rootObjectId).then(function(e){if(e)return this._initializeConnectionManager().then(function(){return this._requestBatonLock()}.bind(this)).then(function(){this._batonLockDefer.resolve({virtualBaton:!1})}.bind(this));this._batonLockDefer.resolve({virtualBaton:!0})}.bind(this)).catch(function(e){this._batonLockDefer.reject(this._parseBatonError(e))}.bind(this)),this._batonLockDefer.promise):t.resolve({virtualBaton:!0})},_parseBatonError:function(e){var t={code:516,message:"Acquire Fail because any client trying exclusive lock on top of exclusive lock"},i=function(e){return 200===e||523===e||518===e},n=new Error("BATON_LOCK_FAILED unable to acquire lock");return e&&e.response&&e.response.batonAcquireResult?(i(e.response.status)&&r.logger.error("_parseBatonError called for a success response?",e),e.response.batonAcquireResult.errorCode[0]===t.code?(r.logger.traceflow("baton-locking","AcquireBatonRequest lock denied, another user has it",e),n.lockHeldByUserName=this._clientIdToUserName(e.response.batonAcquireResult.statuses[0].clientIds[0])):r.logger.error("baton-locking service failed with unexpected error",e)):r.logger.error("unexpected error when attempting to acquire baton lock",e),n},_requestBatonLock:function(){return this.connectionManager.send(new l.default.AcquireBatonRequest([{resourceId:this.rootObjectId,sequenced:!1,allOrNone:!0}],0)).then(function(e){return r.logger.traceflow("baton-locking","AcquireBatonRequest resolved to "+JSON.stringify(e,null,2)),e}.bind(this))},_cleanupConnection:function(){if(this.connectionManager){try{this.connectionManager.cleanup()}catch(e){r.logger.traceflow("baton-locking","Caught error cleaning up connectionManager")}this.connectionManager=null}this._connectionManagerPromise=null,this.rootObjectId=null},justReleaseBatonLock:function(){return this._connectionManagerPromise?this._connectionManagerPromise.then(function(){return this._batonLockDefer.promise||t.reject()}.bind(this)).then(function(){return this.connectionManager.send(new l.default.ReleaseBatonRequest([this.rootObjectId]))}.bind(this)).then(function(e){console.info("ReleaseBatonRequest resolved to "+JSON.stringify(e,null,2))}).finally(function(){this._batonLockDefer=null}.bind(this)):t.resolve()},releaseBatonLock:function(){return this.releaseBatonLockAndConnection()},releaseBatonLockAndConnection:function(){return this._connectionManagerPromise?this.justReleaseBatonLock().finally(function(){return this.connectionManager.send(new l.default.CloseSessionRequest)}.bind(this)).then(function(){return this._cleanupConnection(),t.resolve()}.bind(this)).catch(function(e){return r.logger.warn("BatonController: caught error releasing baton",e),this._cleanupConnection(),t.resolve()}.bind(this)):(this._cleanupConnection(),t.resolve())}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){(function(e){var n=i(178),r=i(75),o=i(184),a=i(185),s=i(35),l=t;l.request=function(t,i){t="string"==typeof t?s.parse(t):o(t);var r=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||r,l=t.hostname||t.host,c=t.port,d=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?a+"//"+l:"")+(c?":"+c:"")+d,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new n(t);return i&&u.on("response",i),u},l.get=function(e,t){var i=l.request(e,t);return i.end(),i},l.ClientRequest=n,l.IncomingMessage=r,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,i(9))},function(e,t,i){(function(t,n,r){var o=i(74),a=i(14),s=i(75),l=i(76),c=i(183),d=s.IncomingMessage,u=s.readyStates;var h=e.exports=function(e){var i,n=this;l.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){n.setHeader(t,e.headers[t])});var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)r=!1,i=!0;else if("prefer-streaming"===e.mode)i=!1;else if("allow-wrong-content-type"===e.mode)i=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");i=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(i,r),n.on("finish",function(){n._onFinish()})};a(h,l.Writable),h.prototype.setHeader=function(e,t){var i=e.toLowerCase();-1===p.indexOf(i)&&(this._headers[i]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,a=e._headers,s=null;"GET"!==i.method&&"HEAD"!==i.method&&(s=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map(function(e){return c(e)}),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var l=[];if(Object.keys(a).forEach(function(e){var t=a[e].name,i=a[e].value;Array.isArray(i)?i.forEach(function(e){l.push([t,e])}):l.push([t,i])}),"fetch"===e._mode){var d=null;if(o.abortController){var h=new AbortController;d=h.signal,e._fetchAbortController=h,"requestTimeout"in i&&0!==i.requestTimeout&&n.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},i.requestTimeout)}n.fetch(e._opts.url,{method:e._opts.method,headers:l,body:s||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:d}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)})}else{var p=e._xhr=new n.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(p.timeout=i.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),l.forEach(function(e){p.setRequestHeader(e[0],e[1])}),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case u.LOADING:case u.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}}}},h.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},h.prototype._write=function(e,t,i){this._body.push(e),i()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,i){"function"==typeof e&&(i=e,e=void 0),l.Writable.prototype.end.call(this,e,t,i)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,i(20).Buffer,i(9),i(18))},function(e,t){},function(e,t,i){"use strict";var n=i(32).Buffer,r=i(181);function o(e,t,i){e.copy(t,i)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),i=this.head,r=0;i;)o(i.data,t,r),r+=i.data.length,i=i.next;return t},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,i){"use strict";e.exports=o;var n=i(81),r=i(25);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r.inherits=i(14),r.inherits(o,n),o.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){var n=i(20).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,r=0;r<i;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,i){"use strict";var n=t;function r(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=i(85),n.BufferWriter=i(195),n.Reader=i(86),n.BufferReader=i(196),n.util=i(19),n.rpc=i(197),n.roots=i(199),n.configure=r,n.Writer._configure(n.BufferWriter),r()},function(e,t,i){"use strict";e.exports=function(e,t){var i=new Array(arguments.length-1),n=0,r=2,o=!0;for(;r<arguments.length;)i[n++]=arguments[r++];return new Promise(function(r,a){i[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];r.apply(null,t)}};try{e.apply(t||null,i)}catch(e){o&&(o=!1,a(e))}})}},function(e,t,i){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var r=new Array(64),o=new Array(123),a=0;a<64;)o[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,i){for(var n,o=null,a=[],s=0,l=0;t<i;){var c=e[t++];switch(l){case 0:a[s++]=r[c>>2],n=(3&c)<<4,l=1;break;case 1:a[s++]=r[n|c>>4],n=(15&c)<<2,l=2;break;case 2:a[s++]=r[n|c>>6],a[s++]=r[63&c],l=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=r[n],a[s++]=61,1===l&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,i){for(var n,r=i,a=0,s=0;s<e.length;){var l=e.charCodeAt(s++);if(61===l&&a>1)break;if(void 0===(l=o[l]))throw Error("invalid encoding");switch(a){case 0:n=l,a=1;break;case 1:t[i++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[i++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[i++]=(3&n)<<6|l,a=0}}if(1===a)throw Error("invalid encoding");return i-r},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,i){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},function(e,t,i){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}function o(e,n,r){t[0]=e,n[r]=i[3],n[r+1]=i[2],n[r+2]=i[1],n[r+3]=i[0]}function a(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function s(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,i,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,i,n);else if(isNaN(t))e(2143289344,i,n);else if(t>3.4028234663852886e38)e((r<<31|2139095040)>>>0,i,n);else if(t<1.1754943508222875e-38)e((r<<31|Math.round(t/1.401298464324817e-45))>>>0,i,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,i,n)}}function i(e,t,i){var n=e(t,i),r=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:r*(1/0):0===o?1.401298464324817e-45*r*a:r*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=i.bind(null,a),e.readFloatBE=i.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7]}function o(e,n,r){t[0]=e,n[r]=i[7],n[r+1]=i[6],n[r+2]=i[5],n[r+3]=i[4],n[r+4]=i[3],n[r+5]=i[2],n[r+6]=i[1],n[r+7]=i[0]}function a(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function s(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,i,n,r,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,r,o+t),e(1/n>0?0:2147483648,r,o+i);else if(isNaN(n))e(0,r,o+t),e(2146959360,r,o+i);else if(n>1.7976931348623157e308)e(0,r,o+t),e((a<<31|2146435072)>>>0,r,o+i);else{var s;if(n<2.2250738585072014e-308)e((s=n/5e-324)>>>0,r,o+t),e((a<<31|s/4294967296)>>>0,r,o+i);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,r,o+t),e((a<<31|l+1023<<20|1048576*s&1048575)>>>0,r,o+i)}}}function i(e,t,i,n,r){var o=e(n,r+t),a=e(n,r+i),s=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=i.bind(null,a,0,4),e.readDoubleBE=i.bind(null,s,4,0)}(),e}function r(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function o(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,i){"use strict";var n=t;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,r=null,o=[],a=0;t<i;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),a=0);return r?(a&&r.push(String.fromCharCode.apply(String,o.slice(0,a))),r.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,i){for(var n,r,o=i,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&r),++a,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-o}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n=i||8192,r=n>>>1,o=null,a=n;return function(i){if(i<1||i>r)return e(i);a+i>n&&(o=e(n),a=0);var s=t.call(o,a,a+=i);return 7&a&&(a=1+(7|a)),s}}},function(e,t,i){"use strict";e.exports=r;var n=i(19);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new r(i,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===a?o:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},function(e,t,i){"use strict";e.exports=a;var n=i(85);(a.prototype=Object.create(n.prototype)).constructor=a;var r=i(19),o=r.Buffer;function a(){n.call(this)}a.alloc=function(e){return(a.alloc=r._Buffer_allocUnsafe)(e)};var s=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]};function l(e,t,i){e.length<40?r.utf8.write(e,t,i):t.utf8Write(e,i)}a.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(l,t,e),this}},function(e,t,i){"use strict";e.exports=o;var n=i(86);(o.prototype=Object.create(n.prototype)).constructor=o;var r=i(19);function o(e){n.call(this,e)}r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,i){"use strict";t.Service=i(198)},function(e,t,i){"use strict";e.exports=r;var n=i(19);function r(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(i)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,i,r,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,i,r,o);if(s.rpcImpl)try{return s.rpcImpl(t,i[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,i){if(e)return s.emit("error",e,t),a(e);if(null!==i){if(!(i instanceof r))try{i=r[s.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",i,t),a(null,i)}s.end(!0)})}catch(e){return s.emit("error",e,t),void setTimeout(function(){a(e)},0)}else setTimeout(function(){a(Error("already ended"))},0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,i){"use strict";e.exports={}},function(e,t,i){var n=i(201);function r(e,t){var i=(t=t||{}).delimiter||".",r=t.maxDepth,o={};return function e(a,s,l){l=l||1,Object.keys(a).forEach(function(c){var d=a[c],u=t.safe&&Array.isArray(d),h=Object.prototype.toString.call(d),p=n(d),f=s?s+i+c:c;if(!u&&!p&&("[object Object]"===h||"[object Array]"===h)&&Object.keys(d).length&&(!t.maxDepth||l<r))return e(d,f,l+1);o[f]=d})}(e),o}e.exports=r,r.flatten=r,r.unflatten=function e(t,i){i=i||{};var r=i.delimiter||".";var o=i.overwrite||!1;var a={};var s=n(t);if(s||"[object Object]"!==Object.prototype.toString.call(t))return t;function l(e){var t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||i.object?e:t}var c=Object.keys(t).sort(function(e,t){return e.length-t.length});c.forEach(function(n){for(var s=n.split(r),c=l(s.shift()),d=l(s[0]),u=a;void 0!==d;){var h=Object.prototype.toString.call(u[c]),p="[object Object]"===h||"[object Array]"===h;if(!o&&!p&&void 0!==u[c])return;(o&&!p||!o&&null==u[c])&&(u[c]="number"!=typeof d||i.object?{}:[]),u=u[c],s.length>0&&(c=l(s.shift()),d=l(s[0]))}u[c]=e(t[n],i)});return a}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e){e.exports={toolbar:{setting:{project_settings:"Project settings",header_footer:"Header and footer"},themes:"Themes",settings:"Settings",present:"Present",preview:"Preview",share:"Share",get_inspired:"Get Inspired"},share_submenu:{button:{publish:"Publish and share link",print:"Print"},error:{photos:"You must replace or remove all missing photos before you can share."}},storage:{credits:{default:"{count, plural, offset:0 =0 {} =1 {Created with an image by} other {Created with images by}}"}},print:{unsupported:{title:"Unsupported Browser",message:"This feature is not yet supported in your browser. Please switch to Google Chrome to enable it."},wrong_method:{title:"Shucks, we can't print this way",message:"It looks like you're trying to print, but you can't get there from here. Close this window, then click 'Share' at the top of the editor, and choose 'Print'."},preview:{close:"Close Preview",print:"Print"}},sync:{saving:"Saving...",saved:"Saved"},modal_toolbar:{save:"Save",cancel:"Cancel"},theme_picker:{title:"Themes",upgrade_button:{text:"Create your own theme"},brand_group:{title:"Brand Themes"},builtin_group:{title:"Spark Themes"},edit_theme_shortcut:"Edit theme"},progress:{creating:{photo:{previews:{count:{label:"Creating {count, number, integer} photo previews"}}}},complete:{count:{label:"{current, number, integer} of {count, number, integer} complete"}}},dialog:{help:{glideshow:{title:"Create a glideshow",content:"Glideshow gives you a beautiful new way to tell your story. Choose photos, then add text, block quotes, images, and more.",button:{ok:"OK, got it"}}},link:{add_button:"Add a button",edit_button:"Edit a button"},embedded_link:{add_video:"Add an Embedded Video",edit_video:"Edit an Embedded Video"}},error:{images:{dismiss:"OK",status:{code:"(Error code: { code })"},default:{title:"Image Problem",body:"This is odd. We could not process that image for some reason. If this continues, please let us know."},no:{connect:{title:"Connection Refused",body:"We called. Nobody answered. Maybe try again later."}},not:{found:{title:"Unable to Save Image",body:"We're having trouble saving that image right now. Try again in a bit or try a different image."}},too:{large:{title:"Image Too Large",body:"That's a big image! Try a smaller size or another image."}},invalid:{type:{title:"Unsupported Image Type",body:"We do not work on image types like that. Please try again with a different type like JPG or PNG."}},service:{unavailable:{title:"No Response",body:"We tried to get your image, but the service either did not respond or was taking too long. Maybe try again in a bit."}},creating:{preview:{title:{unavailable:"{count, plural, offset:0 =0 {All available} =1 {One Image Unavailable} other {# Images Unavailable}}"},body:{single:"Your selected image could not be read at this time. Please select a different image or try again later.",some:"One or more of your selected images could not be read at this time. Please select different images or try again later.",all:"Your selected images could not be read at this time. Please select different images or try again later."}}}}},project:{compatibility:{requires:{newer:{version:"This story was edited in a newer version of Spark Page, and cannot be opened here."}},confirm:{update:"WARNING: You are about to open this story in a new version of Spark Page. It will no longer be editable in the current version of Spark Page, either on the web or on your mobile device. This cannot be undone.\n\nAre you sure you want to continue?"}}},conflict_dialog:{title:"Conflicting changes",message:"We found changes in the cloud that were made to this project on another device on ",message_advice:"You can update to the version in the cloud, or discard those changes and keep the version you're working on.",button:{update:"Update to cloud",keep:"Keep this version"},date_time:"{datetime, date, medium} at {datetime, time, short}"},embedded_link_dialog:{title:"Add an Embedded Video",advice:"Add a link from YouTube, Vimeo, or Spark Video.",button:{save:"Save",cancel:"Cancel"}},inline_link_dialog:{title:"Edit link",advice:"Enter a URL, such as www.example.com",button:{save:"Save",cancel:"Cancel"}},link_dialog:{title:"Add a button",advice:"Enter a URL, such as www.example.com",alignment:"Alignment",button:{save:"Save",cancel:"Cancel"},link:{placeholder:"Button text"}},slate_spinner:{title:"Preparing your Page for printing...",tooltip:"Closing this window will cancel the print process."},preview:{options:{button_tooltip:{close:"close",fullscreen:"fullscreen"}},nav:{button_tooltip:{previous:"prev",next:"next"}}},theme_editor_shell:{title:"Page Theme",name:{light:"Light",medium:"Medium",dark:"Dark",custom:"Custom Theme"},saving:"Saving...",button:{done:"Done"}},theme_panel_index:{title:"Edit theme",section:{page:"Page",text:"Text",links_and_buttons:"Links and Buttons",photos:"Photos",more:"More"},panel:{page:"Background",title_section:"Title",heading:"Heading 1",subheading:"Heading 2",paragraph:"Paragraph",blockquote:"Quote",button:"Button",inline_link:"Link",inline_image:"Inline",full_width_image:"Full width",window_image:"Window",fill_screen_image:"Fill screen",photo_grid:"Grid",glideshow:"Glideshow"},button:{reset_changes:"Reset changes"}},theme_components:{blockquote:{title:"Quote",options:{bottom_rule:"Bottom rule",top_bottom_rule:"Top bottom rule",left_rule:"Left rule",color_band:"Color band"}},button:{title:"Button",options:{square_background:"Square background",rounded_background:"Rounded background",pill_background:"Pill background",square_border:"Square border",rounded_border:"Rounded border",pill_border:"Pill border",double_border:"Double border",triangle:"Triangle"}},glideshow:{title:"Glideshow"},heading:{title:"Heading 1",options:{none:"None",single_rule:"Single rule",double_rule:"Double rule",whimsy:"Whimsy"}},fill_screen_image:{title:"Fill screen photo"},full_width_image:{title:"Full width photo"},inline_image:{title:"Inline photo",options:{none:"None",caption_background:"Caption background",image_border:"Image border"}},inline_link:{title:"Text link",options:{none:"None",underline:"Underline"}},ordered_list:{title:"Ordered list"},page:{title:"Background"},photo_grid:{title:"Photo grid"},simple_text:{title:"Paragraph"},subheading:{title:"Heading 2"},title_section:{title:"Title and subtitle",options:{gradient_overlay:"Gradient overlay",border_box:"Border box",solid_box:"Solid box",middle_rule:"Middle rule",top_bottom_rule:"Top and bottom rule",color_band:"Color band",whimsy:"Whimsy"}},unordered_list:{title:"Unordered list"},window_image:{title:"Window photo"}},theme_labels:{color_picker:{background:"Background",border:"Border",hover:"Hover",normal:"Normal",shape:"Shape",subtitle_text:"Subtitle text",text:"Text",title_text:"Title text"},opacity:{transparent:"Transparent"},side_panel:{color:"Color",opacity:"Opacity",subtitle_text:"Subtitle text",style:"Style",text:"Text",title_text:"Title text"},toggle:{all_caps:"All caps",underline_on_hover:"Underline on hover"}},theme_sample:{title:"Story Title",sections:{s00:{text_title:"Story Title",text_subtitle:"Use this sample project to customize your Page theme. Scroll down to get started!"},s01:{text_00:"You're on your way to creating a custom Page theme. Use this sample story to edit your theme and preview changes.",text_01:"Heading 1",text_02:"This story includes all the elements you might use in your story – from paragraphs and buttons, to different photo layouts. To get started, click on any item in the story to select it, or use the tray on the right to select something.",text_03:"We include <strong>bold</strong>, <em>italics</em>, and <strong><em>bold italics</em></strong> in your theme, so you can emphasize important text accordingly. These are set automatically based on the fonts you've chosen, so there's nothing extra for you to do.",text_04:"Button",text_05:"Heading 2",text_06:"Want to try a different color or font for the heading above? Click anywhere on the heading, and you’ll see customization options appear on the right.",text_07:"Use a quote to highlight something important or break up long paragraphs of text.",text_08:"Each design element has different things to customize, so try each one to explore all the options.",text_09:"<a href='http://spark.adobe.com'>Text link</a>"},s02:{text_00:"Highlight something important with a floating caption."},s03:{text_00:"Your design changes are saved as you go, so don’t worry about losing your work. If you've made some changes and don't want to commit, click “reset” and we’ll revert the styles to the previous state.",text_01:"List item",text_02:"List item",text_03:"List item",text_04:"List item",text_05:"List item",text_06:"List item",text_07:"Caption text",text_08:"Page includes four photo layouts, each with unique design options. Click to explore each one."},s04:{text_00:"Highlight something important with a floating caption."},s05:{text_00:"Make a bold statement with a full screen photo, or use a full width layout for a slightly more subtle effect."},s06:{text_00:"Caption text"},s07:{text_00:"Photo grids are a great way to present photos with a common theme. Add a couple photos, or many and include a caption at the bottom."},s08:{text_00:"Caption text"},s09:{text_00:"Heading 1",text_01:"Glideshows are a great way to use engaging photography to tell your story. They can include text, buttons, and inline photos.",text_02:"Button",text_03:"Heading 2",text_04:"Your styles will carry over from the body of the page, to the glideshow.",text_05:"Use a quote to highlight something important or break up long paragraphs of text."}}}}},function(e){e.exports={"slate-web":{"de-DE":"/slate-web/locales/de-DE-51080ec1.json","en-US":"/slate-web/locales/en-US-7dedac6a.json","es-ES":"/slate-web/locales/es-ES-39e5f449.json","fr-FR":"/slate-web/locales/fr-FR-c6a0c8a8.json","it-IT":"/slate-web/locales/it-IT-acbd3ad8.json","pt-BR":"/slate-web/locales/pt-BR-de93ce8d.json","zz-ZZ":"/slate-web/locales/zz-ZZ-c5c4e37d.json"},"luca-editor":{"de-DE":"/slate-web/luca-editor/assets/locales/de-DE-a3e75176.json","en-US":"/slate-web/luca-editor/assets/locales/en-US-a9cb6b60.json","es-ES":"/slate-web/luca-editor/assets/locales/es-ES-12cb58a1.json","fr-FR":"/slate-web/luca-editor/assets/locales/fr-FR-b439625c.json","it-IT":"/slate-web/luca-editor/assets/locales/it-IT-746661d1.json","pt-BR":"/slate-web/luca-editor/assets/locales/pt-BR-3902d67d.json","zz-ZZ":"/slate-web/luca-editor/assets/locales/zz-ZZ-8754bc30.json"}}},function(e,t,i){"use strict";var n=i(205).default;i(212),(t=e.exports=n).default=t},function(e,t,i){"use strict";var n=i(206),r=i(211);n.default.__addLocaleData(r.default),n.default.defaultLocale="en",t.default=n.default},function(e,t,i){"use strict";var n=i(87),r=i(207),o=i(208),a=i(209);function s(e,t,i){var n="string"==typeof e?s.__parse(e):e;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");i=this._mergeFormats(s.formats,i),r.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),a=this._compilePattern(n,t,i,o),l=this;this.format=function(t){try{return l._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,r.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),r.defineProperty(s,"__localeData__",{value:r.objCreate(null)}),r.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),r.defineProperty(s,"__parse",{value:a.default.parse}),r.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,i,n){return new o.default(t,i,n).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,i=t[e.toLowerCase()];i;){if(i.pluralRuleFunction)return i.pluralRuleFunction;i=i.parentLocale&&t[i.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var i,r,o,a,s,l,c="";for(i=0,r=e.length;i<r;i+=1)if("string"!=typeof(o=e[i])){if(a=o.id,!t||!n.hop.call(t,a))throw(l=new Error("A value must be provided for: "+a)).variableId=a,l;s=t[a],o.options?c+=this._format(o.getOption(s),t):c+=o.format(s)}else c+=o;return c},s.prototype._mergeFormats=function(e,t){var i,o,a={};for(i in e)n.hop.call(e,i)&&(a[i]=o=r.objCreate(e[i]),t&&n.hop.call(t,i)&&n.extend(o,t[i]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,i,n,r,o=s.__localeData__;for(t=0,i=e.length;t<i;t+=1)for(n=e[t].toLowerCase().split("-");n.length;){if(r=o[n.join("-")])return r.locale;n.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},function(e,t,i){"use strict";var n=i(87),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!r&&Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,i){"get"in i&&e.__defineGetter__?e.__defineGetter__(t,i.get):(!n.hop.call(e,t)||"value"in i)&&(e[t]=i.value)}),a=Object.create||function(e,t){var i,r;function a(){}for(r in a.prototype=e,i=new a,t)n.hop.call(t,r)&&o(i,r,t[r]);return i};t.defineProperty=o,t.objCreate=a},function(e,t,i){"use strict";function n(e,t,i){this.locales=e,this.formats=t,this.pluralFn=i}function r(e){this.id=e}function o(e,t,i,n,r){this.id=e,this.useOrdinal=t,this.offset=i,this.options=n,this.pluralFn=r}function a(e,t,i,n){this.id=e,this.offset=t,this.numberFormat=i,this.string=n}function s(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,i,n,r=e.elements,o=[];for(t=0,i=r.length;t<i;t+=1)switch((n=r[t]).type){case"messageTextElement":o.push(this.compileMessageText(n));break;case"argumentElement":o.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return o},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var i,n=this.formats,a=this.locales,l=this.pluralFn;switch(t.type){case"numberFormat":return i=n.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,i).format};case"dateFormat":return i=n.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,i).format};case"timeFormat":return i=n.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,i).format};case"pluralFormat":return i=this.compileOptions(e),new o(e.id,t.ordinal,t.offset,i,l);case"selectFormat":return i=this.compileOptions(e),new s(e.id,i);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,i,n,r=e.format,o=r.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?e:null,t=0,i=o.length;t<i;t+=1)a[(n=o[t]).selector]=this.compileMessage(n.value);return this.currentPlural=this.pluralStack.pop(),a},r.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},o.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,i){"use strict";(t=e.exports=i(210).default).default=t},function(e,t,i){"use strict";t.default=function(){function e(t,i,n,r){this.message=t,this.expected=i,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}(e,Error),{SyntaxError:e,parse:function(t){var i,n=arguments.length>1?arguments[1]:{},r={},o={start:Pe},a=Pe,s=function(e){return{type:"messageFormatPattern",elements:e,location:Se()}},l=function(e){var t,i,n,r,o,a="";for(t=0,n=e.length;t<n;t+=1)for(i=0,o=(r=e[t]).length;i<o;i+=1)a+=r[i];return a},c=function(e){return{type:"messageTextElement",value:e,location:Se()}},d=/^[^ \t\n\r,.+={}#]/,u={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},h="{",p={type:"literal",value:"{",description:'"{"'},f=",",g={type:"literal",value:",",description:'","'},m="}",v={type:"literal",value:"}",description:'"}"'},b=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Se()}},y="number",w={type:"literal",value:"number",description:'"number"'},k="date",x={type:"literal",value:"date",description:'"date"'},_="time",C={type:"literal",value:"time",description:'"time"'},S=function(e,t){return{type:e+"Format",style:t&&t[2],location:Se()}},T="plural",M={type:"literal",value:"plural",description:'"plural"'},I=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Se()}},D="selectordinal",P={type:"literal",value:"selectordinal",description:'"selectordinal"'},E=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Se()}},A="select",F={type:"literal",value:"select",description:'"select"'},L=function(e){return{type:"selectFormat",options:e,location:Se()}},N="=",R={type:"literal",value:"=",description:'"="'},j=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Se()}},z="offset:",O={type:"literal",value:"offset:",description:'"offset:"'},B=function(e){return e},U=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Se()}},$={type:"other",description:"whitespace"},V=/^[ \t\n\r]/,H={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},G={type:"other",description:"optionalWhitespace"},K=/^[0-9]/,q={type:"class",value:"[0-9]",description:"[0-9]"},W=/^[0-9a-f]/i,Y={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Q="0",X={type:"literal",value:"0",description:'"0"'},Z=/^[1-9]/,J={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ie={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ne="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},le=function(){return"\\#"},ce="\\{",de={type:"literal",value:"\\{",description:'"\\\\{"'},ue=function(){return"{"},he="\\}",pe={type:"literal",value:"\\}",description:'"\\\\}"'},fe=function(){return"}"},ge="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ve=function(e){return String.fromCharCode(parseInt(e,16))},be=function(e){return e.join("")},ye=0,we=0,ke=[{line:1,column:1,seenCR:!1}],xe=0,_e=[],Ce=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=o[n.startRule]}function Se(){return Me(we,ye)}function Te(e){var i,n,r=ke[e];if(r)return r;for(i=e-1;!ke[i];)i--;for(r={line:(r=ke[i]).line,column:r.column,seenCR:r.seenCR};i<e;)"\n"===(n=t.charAt(i))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),i++;return ke[e]=r,r}function Me(e,t){var i=Te(e),n=Te(t);return{start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:n.line,column:n.column}}}function Ie(e){ye<xe||(ye>xe&&(xe=ye,_e=[]),_e.push(e))}function De(t,i,n,r){return null!==i&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==t?t:function(e,t){var i,n=new Array(e.length);for(i=0;i<e.length;i++)n[i]=e[i].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(i,n),i,n,r)}function Pe(){return Ee()}function Ee(){var e,t,i;for(e=ye,t=[],i=Ae();i!==r;)t.push(i),i=Ae();return t!==r&&(we=e,t=s(t)),e=t}function Ae(){var e;return(e=function(){var e,i;return e=ye,(i=function(){var e,i,n,o,a,s;if(e=ye,i=[],n=ye,(o=Re())!==r&&(a=Ue())!==r&&(s=Re())!==r?n=o=[o,a,s]:(ye=n,n=r),n!==r)for(;n!==r;)i.push(n),n=ye,(o=Re())!==r&&(a=Ue())!==r&&(s=Re())!==r?n=o=[o,a,s]:(ye=n,n=r);else i=r;return i!==r&&(we=e,i=l(i)),(e=i)===r&&(e=ye,i=Ne(),e=i!==r?t.substring(e,ye):i),e}())!==r&&(we=e,i=c(i)),e=i}())===r&&(e=function(){var e,i,n,o,a,s,l;return e=ye,123===t.charCodeAt(ye)?(i=h,ye++):(i=r,0===Ce&&Ie(p)),i!==r&&Re()!==r&&(n=function(){var e,i,n;if((e=Oe())===r){if(e=ye,i=[],d.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=r,0===Ce&&Ie(u)),n!==r)for(;n!==r;)i.push(n),d.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=r,0===Ce&&Ie(u));else i=r;e=i!==r?t.substring(e,ye):i}return e}())!==r&&Re()!==r?(o=ye,44===t.charCodeAt(ye)?(a=f,ye++):(a=r,0===Ce&&Ie(g)),a!==r&&(s=Re())!==r&&(l=function(){var e;return(e=function(){var e,i,n,o,a,s;return e=ye,t.substr(ye,6)===y?(i=y,ye+=6):(i=r,0===Ce&&Ie(w)),i===r&&(t.substr(ye,4)===k?(i=k,ye+=4):(i=r,0===Ce&&Ie(x)),i===r&&(t.substr(ye,4)===_?(i=_,ye+=4):(i=r,0===Ce&&Ie(C)))),i!==r&&Re()!==r?(n=ye,44===t.charCodeAt(ye)?(o=f,ye++):(o=r,0===Ce&&Ie(g)),o!==r&&(a=Re())!==r&&(s=Ue())!==r?n=o=[o,a,s]:(ye=n,n=r),n===r&&(n=null),n!==r?(we=e,i=S(i,n),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o;return e=ye,t.substr(ye,6)===T?(i=T,ye+=6):(i=r,0===Ce&&Ie(M)),i!==r&&Re()!==r?(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r&&Re()!==r&&(o=Le())!==r?(we=e,i=I(o),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o;return e=ye,t.substr(ye,13)===D?(i=D,ye+=13):(i=r,0===Ce&&Ie(P)),i!==r&&Re()!==r?(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r&&Re()!==r&&(o=Le())!==r?(we=e,i=E(o),e=i):(ye=e,e=r)):(ye=e,e=r),e}())===r&&(e=function(){var e,i,n,o,a;if(e=ye,t.substr(ye,6)===A?(i=A,ye+=6):(i=r,0===Ce&&Ie(F)),i!==r)if(Re()!==r)if(44===t.charCodeAt(ye)?(n=f,ye++):(n=r,0===Ce&&Ie(g)),n!==r)if(Re()!==r){if(o=[],(a=Fe())!==r)for(;a!==r;)o.push(a),a=Fe();else o=r;o!==r?(we=e,i=L(o),e=i):(ye=e,e=r)}else ye=e,e=r;else ye=e,e=r;else ye=e,e=r;else ye=e,e=r;return e}()),e}())!==r?o=a=[a,s,l]:(ye=o,o=r),o===r&&(o=null),o!==r&&(a=Re())!==r?(125===t.charCodeAt(ye)?(s=m,ye++):(s=r,0===Ce&&Ie(v)),s!==r?(we=e,i=b(n,o),e=i):(ye=e,e=r)):(ye=e,e=r)):(ye=e,e=r),e}()),e}function Fe(){var e,i,n,o,a;return e=ye,Re()!==r&&(i=function(){var e,i,n,o;return e=ye,i=ye,61===t.charCodeAt(ye)?(n=N,ye++):(n=r,0===Ce&&Ie(R)),n!==r&&(o=Oe())!==r?i=n=[n,o]:(ye=i,i=r),(e=i!==r?t.substring(e,ye):i)===r&&(e=Ue()),e}())!==r&&Re()!==r?(123===t.charCodeAt(ye)?(n=h,ye++):(n=r,0===Ce&&Ie(p)),n!==r&&Re()!==r&&(o=Ee())!==r&&Re()!==r?(125===t.charCodeAt(ye)?(a=m,ye++):(a=r,0===Ce&&Ie(v)),a!==r?(we=e,e=j(i,o)):(ye=e,e=r)):(ye=e,e=r)):(ye=e,e=r),e}function Le(){var e,i,n,o;if(e=ye,(i=function(){var e,i,n;return e=ye,t.substr(ye,7)===z?(i=z,ye+=7):(i=r,0===Ce&&Ie(O)),i!==r&&Re()!==r&&(n=Oe())!==r?(we=e,e=i=B(n)):(ye=e,e=r),e}())===r&&(i=null),i!==r)if(Re()!==r){if(n=[],(o=Fe())!==r)for(;o!==r;)n.push(o),o=Fe();else n=r;n!==r?(we=e,e=i=U(i,n)):(ye=e,e=r)}else ye=e,e=r;else ye=e,e=r;return e}function Ne(){var e,i;if(Ce++,e=[],V.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=r,0===Ce&&Ie(H)),i!==r)for(;i!==r;)e.push(i),V.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=r,0===Ce&&Ie(H));else e=r;return Ce--,e===r&&(i=r,0===Ce&&Ie($)),e}function Re(){var e,i,n;for(Ce++,e=ye,i=[],n=Ne();n!==r;)i.push(n),n=Ne();return e=i!==r?t.substring(e,ye):i,Ce--,e===r&&(i=r,0===Ce&&Ie(G)),e}function je(){var e;return K.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(q)),e}function ze(){var e;return W.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(Y)),e}function Oe(){var e,i,n,o,a,s;if(e=ye,48===t.charCodeAt(ye)?(i=Q,ye++):(i=r,0===Ce&&Ie(X)),i===r){if(i=ye,n=ye,Z.test(t.charAt(ye))?(o=t.charAt(ye),ye++):(o=r,0===Ce&&Ie(J)),o!==r){for(a=[],s=je();s!==r;)a.push(s),s=je();a!==r?n=o=[o,a]:(ye=n,n=r)}else ye=n,n=r;i=n!==r?t.substring(i,ye):n}return i!==r&&(we=e,i=ee(i)),e=i}function Be(){var e,i,n,o,a,s,l,c;return te.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=r,0===Ce&&Ie(ie)),e===r&&(e=ye,t.substr(ye,2)===ne?(i=ne,ye+=2):(i=r,0===Ce&&Ie(re)),i!==r&&(we=e,i=oe()),(e=i)===r&&(e=ye,t.substr(ye,2)===ae?(i=ae,ye+=2):(i=r,0===Ce&&Ie(se)),i!==r&&(we=e,i=le()),(e=i)===r&&(e=ye,t.substr(ye,2)===ce?(i=ce,ye+=2):(i=r,0===Ce&&Ie(de)),i!==r&&(we=e,i=ue()),(e=i)===r&&(e=ye,t.substr(ye,2)===he?(i=he,ye+=2):(i=r,0===Ce&&Ie(pe)),i!==r&&(we=e,i=fe()),(e=i)===r&&(e=ye,t.substr(ye,2)===ge?(i=ge,ye+=2):(i=r,0===Ce&&Ie(me)),i!==r?(n=ye,o=ye,(a=ze())!==r&&(s=ze())!==r&&(l=ze())!==r&&(c=ze())!==r?o=a=[a,s,l,c]:(ye=o,o=r),(n=o!==r?t.substring(n,ye):o)!==r?(we=e,e=i=ve(n)):(ye=e,e=r)):(ye=e,e=r)))))),e}function Ue(){var e,t,i;if(e=ye,t=[],(i=Be())!==r)for(;i!==r;)t.push(i),i=Be();else t=r;return t!==r&&(we=e,t=be(t)),e=t}if((i=a())!==r&&ye===t.length)return i;throw i!==r&&ye<t.length&&Ie({type:"end",description:"end of input"}),De(null,_e,xe<t.length?t.charAt(xe):null,xe<t.length?Me(xe,xe+1):Me(xe,xe))}}}()},function(e,t,i){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e,o=r&&i[0].slice(-1),a=r&&i[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&n?"one":"other"}}},function(e,t){},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3)],void 0===(r=function(e,t,i,n){"use strict";function r(e){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this._init()}function o(e){r.prototype._init.call(this,e)}return t.extend(r.prototype,{_init:function(e){this.data=e,this.links={},this.links.preview={},this.links.original={},this.links.thumb={},this.isDir=!1,this._parseData()},_parseData:function(){},getOriginalURL:function(){return this._sanitizeURL(this.links.original.href)},getPreviewURL:function(){return this._sanitizeURL(this.links.preview.href)},getThumbURL:function(){return this._sanitizeURL(this.links.thumb.href)},getFolderName:function(){if(this.links.folder)return this._sanitizeURL(this.links.folder.filename)},getFolderPath:function(){if(this.links.folder)return this._sanitizeURL(this.links.folder.path)},isDirectory:function(){return this.isDir},_sanitizeURL:function(e){return e},hasCover:function(){return!1},getFolderLabel:function(){return this.getFolderName()},getCover:function(){var e=n.defer();return e.reject("no cover available"),e.promise},getThumbHoverLabel:function(){return""}}),r.createFolderItem=function(e,t){return new o({path:t})},t.extend(o.prototype,r.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.path,this.links.folder.path=this.data.path}}),r}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(118)],void 0===(r=function(e,t){"use strict";var n;return{load:function(){return n||(n=e.defer(),Promise.all([i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("m-storage~spark-core-wraper"),i.e("spark-core-wraper")]).then(function(){var e=i(319);n.resolve(e.default)}.bind(null,i)).catch(i.oe)),n.promise}}}.apply(t,n))||(e.exports=r)},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(89),r=i(272);e.exports=i(91)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(334),r=i(246);e.exports=function(e){return n(r(e))}},function(e,t,i){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=n},,function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(5),i(40),i(7),i(106),i(11),i(6)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";var d=new l({color:"rebeccapurple",name:"userProfile"});return n.Model.extend({initProfile:function(e){var t=i.defer();return r.isValid().then(function(){r.isSocialSignIn()?r.asyncGetProfileFromIMS().then(function(i){this._acProfile=i,this._init(e),this.loadProfileImage(this.profile.avatar,100).then(function(e){this.profile.avatar._data=e,t.resolve()}.bind(this),function(e){this.profile.avatar._data="",t.resolve()}.bind(this))}.bind(this)).done():(this._init(e),this.loadProfileImage(this.profile.avatar,100).then(function(e){this.profile.avatar._data=e,t.resolve()}.bind(this),function(e){this.profile.avatar._data="",t.resolve()}.bind(this)).done())}.bind(this)),t.promise},_init:function(e){this._id=e.profileId,this._type=e.profileType,this._acProfile=this._acProfile||r.getProfile(),this._settings=t.assign({},this.defaults),this.profile=t.clone(this._settings),this.profile.displayName=this.getSetting("displayName"),this._settings.displayName=this.profile.displayName,this.profile.email=this.getSetting("email"),this.profile.getUserProfilePictureUrl=this.getUserProfilePictureUrl.bind(this)},defaults:{category:"",avatar:{default:"/images/icon-generic-avatar.svg"}},_getValueFromAuthControllerProfile:function(e){return this._acProfile[e]},getSetting:function(e){if(-1===e.indexOf("-")){if("first_name"===e||"last_name"===e){var i=this._settings.displayName;if(i===this._acProfile.displayName)return this._getValueFromAuthControllerProfile(e);var n=i&&i.split(" ")||[""];return 1===n.length?"first_name"===e?n[0]:"":"first_name"===e?n.slice(0,-1).join(" "):n[n.length-1].trim()}return t.isUndefined(this._settings[e])?this._acProfile[e]:this._settings[e]}var r=s.getSettingIfEmailList(e);return r?r.value:a.hasFeature(e)},_serviceLevelToInt:function(e){return 0===e.indexOf("PAID_LVL")?parseInt(e.substring(9),10):c.serviceLevelFree},_getMaxServiceLevelFromContexts:function(e){return e.length?t.reduce(e,function(e,t){var i=this._serviceLevelToInt(t.prodCtx.serviceLevel);return Math.max(i,e)}.bind(this),c.serviceLevelFree):this._serviceLevelToInt("FREE_BASIC")},_getAllSparkProductContextsFromAll:function(e){return t.filter(e||[],function(e){return"spark"===e.prodCtx.serviceCode})},getPaidLevel:function(){var e=this.getSetting("serviceAccounts"),i=t.find(e,function(e){return"spark"===e.serviceCode}),n=this.getSetting("projectedProductContext")||[],r=this._getAllSparkProductContextsFromAll(n);return Math.max(this._serviceLevelToInt(i?i.serviceLevel:"FREE_BASIC"),this._getMaxServiceLevelFromContexts(r))},isNonEnterpriseUser:function(){return"type1"===this._acProfile.account_type},canShowNonDooploImageSourceForUser:function(e,t){return"stock"===(e=e.toLowerCase())?!!a.hasFeature("stock-picker-enable-in-"+t)&&this.getSetting("user-flag-image-source-stock"):"giphy"!==e||!!a.hasFeature("image-picker-suppports-giphy")&&(!!a.hasFeature("giphy-picker-enable-in-"+t)&&this.getSetting("user-flag-image-source-giphy"))},filterDooploBitmapServicesForUser:function(e,i){var n={enabled:[],blocked:[],show:[]},r=function(e,t,i){this.getSetting(e)?i?n.enabled.push(t):n.show.push(t):n.blocked.push(t)}.bind(this);return e&&e.length?t.each(e,function(e){e=e.toLowerCase(),r(o.imageServices.flagPrefixDooplo+e,e,!0)}.bind(this)):t.each(o.imageServices.dooplo,function(e){var t=o.imageServices.flagPrefixDooplo+e;r(t,e,!0);var i=o.imageServices.showFlagPrefixDooplo+e;r(i,e,!1)}.bind(this)),n.enabled=t.filter(n.enabled,function(e){return"The Noun Project"!==e}),n},getGetNoticedSettings:function(){var e={supported:this.isNonEnterpriseUser(),value:!1};return e.supported&&(e.value=!this.getSetting("share-default-to-unlisted")),e},isUserProfileDefaultUrl:function(e){return e===this.defaults.avatar.default},getUserProfilePictureUrl:function(e){return this.getSizedProfileImage(e)},getSizedProfileImage:function(e){return this.profile&&this.profile.avatar?this.profile.avatar._data:""},loadProfileImage:function(e,t){return e.componentName?this.getNamedImageAsset(e.componentName,t):r.getUserProfilePictureUrl("max").then(function(t){return t||e.default}.bind(this),function(t){return d.error("error loading user profile image, using default instead",t),e.default}.bind(this))},getUserProfileImageForTransload:function(e){var t,n=this.profile[e],r=i.defer();if(n)if(n._data)0===n._data.indexOf("https")||n._data===this.defaults.avatar.default?r.resolve(n._data):o.convertUrlToBlob(n._data).then(function(e){t={source:"file",file:e},r.resolve(t)},function(e){r.reject(e)});else{var a=this.getNamedImageAssetComponent(e);a&&(t={source:"component",component:a}),r.resolve(t)}else r.resolve();return r.promise},getUserDisplayName:function(e){var t,i=this._settings&&this._settings.displayName;return e.preferFirstPlusInitial?this._getValueFromAuthControllerProfile("displayName")===i&&(t=this._getValueFromAuthControllerProfile("last_name")||"",""!==(i=this._getValueFromAuthControllerProfile("first_name")||"")?(i=i.charAt(0).toLocaleUpperCase()+i.substring(1),""!==t&&(i+=" "+t.charAt(0).toLocaleLowerCase())):i=t):e.preferFirst&&(i=this._getValueFromAuthControllerProfile("first_name")||"Friend"),i},emailListSettingsLoaded:function(){return s.emailListSettingsLoaded()},saveUpdatedProfileSettings:function(e){var n=e.featureFlipperChanges,r=n&&n.authenticated||{},o=[],l=s.getFilteredChanges(e),c=n&&n.numUnauthenticated?n.unauthenticated:null;return t.each(e,function(e,t){-1!==t.indexOf("-")&&(l.settings[t]||"featureFlipperChanges"===t||(r[t]=e))}),l.differences&&o.push(s.saveAndUpdateSettings(l.differences)),t.isEmpty(r)&&!c||o.push(a.setUserFlagsBothKinds(r,c)),o.length>0?i.allSettled(o).then(function(e){return n&&n.total&&(r.featureFlipperChanges=n),r}):i.resolve(r)},uploadNamedImageAsset:function(e,t){var i=this.composite.getDCXComposite().current,n={name:e,path:e,isUpdate:!!i.getComponentWithAbsolutePath("/"+e),parent:i.getChildrenOf()[0],relationship:"rendition",type:t.type,file:t};return this.composite.pushComponent(n).then(function(){return this.composite.saveChanges(function(){})}.bind(this))},updateNamedImageAsset:function(e,t,i,n){var r=this.composite.getDCXComposite().current,o=r.getComponentWithAbsolutePath("/"+e),a={name:e,relationship:"rendition",type:i||"image/jpg",path:e,isUpdate:!!o,parent:r.getChildrenOf()[0],copyFrom:{source:n,assetId:t}};return this.composite.pushComponent(a)},getNamedImageAssetComponent:function(e){return this.composite.getDCXComposite().current.getComponentWithAbsolutePath("/"+e)},getNamedImageAsset:function(e,t){var n=this.getNamedImageAssetComponent(e);return n?i.resolve(this.composite.getComponentHref(n,!0,{size:t})):i.reject("UserProfile: no component found for "+e)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(23),i(222),i(12),i(99),i(15),i(11),i(4),i(7),i(34),i(16),i(40),i(223),i(101),i(8),i(227)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b){"use strict";var y=new c({color:"rebeccapurple",name:"userProfileView"});return new(r.extend({cachename:"userprofileview",_mode:"edit",_analyticsPageName:"user:profile",events:{"click .spark-user-profile-view-close-btn":"handleXCloseBtn","click .spark-user-profile-view-apply-changes":"handleConfirmBtn","click .cancel-btn":"handleCloseBtn","click .confirm-btn":"handleConfirmBtn","click .ok-btn":"handleConfirmBtn","click .spark-user-profile-view-editable-value":"handleEditableValueClick","click .spark-user-profile-view-editable-value-button":"handleEditValueClick","change .spark-user-profile-view-editable-value-select":"handleSelectChange","click .spark-user-profile-view-editable-value-flag":"handleFlagToggle","click .field-image-input":"handleImageClick","vclick .field-image":"handleImageVClick","click .field-image-hover-image":"handleImageVClick","change .field-image-input":"handleImageChange","click .spark-user-profile-reset-brand":"handleResetBrand"},initialize:function(){t.bindAll(this,t.functionsIn(this)),e("body").append(this.el),e(this.el).addClass("user-profile-view"),this.initFields()},handleResetBrand:function(e){e.preventDefault(),p.acquireDefaultBrand().then(function(e){d.trackEvent("clickedResetBrand",{},this._analyticsPageName),window.marvel._isInApp?(this.hideOverlay(),window.marvel.navigate("/branding/"+e.getId()+"/de-lete",{trigger:!0})):window.location.href=v.getLocalizedSparkPath("/sp/branding/"+e.getId()+"/de-lete")}.bind(this)).done()},setSaveButtonEnable:function(e){e?this.$saveBtn.removeClass("disabled"):this.$saveBtn.addClass("disabled")},showLoadingSpinner:function(){return this._loadingSpinnerHasBeenHidden=!1,a.showCancelableWaitView(v.getString("user-settings-loading"),"",{hideCloseButton:!0,okOnly:!0,okText:v.getString("user-settings-verb-cancel")}).then(function(){return this._loadingSpinnerHasBeenHidden?"hidden":"canceled"}.bind(this))},hideLoadingSpinner:function(){this._loadingSpinnerHasBeenHidden=!0,a.hide()},render:function(){return this.initFields().then(function(){this.$el.html(v.mustacheRender(o)),this.$el.addClass("user-profile-view"),e("body").addClass("no-scroll"),this.$el.addClass("hide"),this.confirmBtn$=this.$el.find(".confirm-btn"),this.cancelBtn$=this.$el.find(".cancel-btn"),this.closeBtn$=this.$el.find(".spark-user-profile-view-close-btn"),this.confirmBtn$.removeClass("disabled").removeClass("hide"),this.$el.find(".spark-user-profile-view-shell").addClass(this._mode),this.$el.addClass(this._mode),this.cancelBtn$.removeClass("disabled").removeClass("hide"),this.needsShowing$=this.$el.find(".needs-showing"),this.$el.removeClass("hide"),t.delay(function(){this.needsShowing$.addClass("showing")}.bind(this),5),this._options.unableToLoadEmailSettingsForQualifiedUser&&this.showUnusableSectionError({sectionId:"communication-preferences"}),this.setupUiFields(),this._showingFeatureFlipper=!1,this.$el.removeClass("tab-ff"),this.$saveBtn=this.$el.find(".spark-user-profile-view-apply-changes").addClass("hide"),u.hasFeature("enable-brand-kit-reset")&&p.acquireDefaultBrand().then(function(e){return!e||e.getSetupPercentDone().then(function(e){return e>0&&this.$el.find(".spark-user-profile-section.brand").removeClass("hide"),!0}.bind(this))}.bind(this)).catch(function(e){console.warn("caught error characterizing brand",e),this.$el.find(".spark-user-profile-section.brand").removeClass("hide")}.bind(this)).done(),u.hasFeature("feature-flipper-ui")&&this._options.isFeatureFlipperRequest&&(this.$el.addClass("tab-ff"),this.$el.find(".spark-user-profile-section.feature-flipper").removeClass("hide"),this._userFlagsView||(this._userFlagsView=new g,this._userFlagsView.$el.addClass("user-menu")),this._userFlagsView.setParentInfo({$el:this.$el.find(".user-flags"),setSaveButtonEnableCallback:this.setSaveButtonEnable}),this._userFlagsView.render(),this._showingFeatureFlipper=!0,this.$saveBtn.removeClass("hide"),t.delay(function(){this.$el.find(".x-close-btn.fixed").addClass("showing")}.bind(this),0)),u.hasFeature("user-settings-allow-show-account-info")?this.$el.find(".spark-user-profile-section.account").removeClass("hide"):this.$el.find(".spark-user-profile-section.account").addClass("hide"),new m({el:this.$el.find(".language-and-region"),location:"/sp/settings"}).render()}.bind(this)),this},drawFlagField:function(e){e.currentValue?e.field$.addClass("selected"):e.field$.removeClass("selected")},handleFlagToggle:function(i){if(!e(i.target).hasClass("no-toggle")){var n=i.target.fieldObj;if(!n){var r,o=e(i.target).parents();t.find(o,function(t){return e(t).hasClass("no-toggle")?(r=!0,!0):t.fieldObj?(n=t.fieldObj,!0):void 0});if(r)return}n?(n.currentValue=!n.currentValue,this.drawFlagField(n),this.fieldUpdated(n)):y.error("handleFlagToggle with no fieldObj",i.target)}},handleSelectChange:function(t){t.target.fieldObj.currentValue=e(t.target).val(),this.fieldUpdated(t.target.fieldObj)},loadCategories:function(){s.getUtils().then(function(e){e.getCommunityCategories("voice","voices").then(function(e){var t={placeholderText:v.getString("user-settings-pick-category-placeholder"),aData:e};this.initOneSelectField("category","category",{id:"selectedUse",valueId:"category"},t)}.bind(this)).done()}.bind(this))},fillFieldSelect:function(i,n,r){var o,a;r||(a=e('<option value="">'+(n.placeholderText||v.getString("uset-settings-select-placeholder"))+"</option>"),i.append(a)),t.each(n.aData,function(t){o=e('<option value="'+t.id+'"></option>').text(t.name),i.append(o)}),i.val(r||"")},_setFieldObjSubObject:function(e,t,i){var n=e.field$.find(i);return n.length?(e[t]=n,n[0].fieldObj=e,n):null},_getFieldSetting:function(e){return e.getSetting?e.getSetting(e):this._userProfile.getSetting(e.settingId)},_initOneFieldUi:function(e,t){var i=this.$el.find(".field-"+e.classId),n=i.length&&i.parents(".spark-user-profile-field-holder"),r=e.displayOnly;if(r||this._options.canEditNonBooleans||(r="boolean"!==e.dataType),r&&e.onlyDisplayIfCanEdit&&(t=!0),t)n&&n.addClass("hide");else{if(!n||!n.length)return void("user-flag-image-source-dooplo-bing"!==e.id&&y.warn("no fieldHolder for settings field:"+e.classId,e));e.uiDisplayOnly=r,n.removeClass("hide"),e.field$=i,e.fieldHolder$=n,e.originalValue=this._getFieldSetting(e),e.currentValue=e.originalValue,e.uiDisplayOnly&&(i.addClass("display-only"),n.addClass("display-only")),this._setFieldObjSubObject(e,"editBtn$",".spark-user-profile-view-editable-value-button"),"list"===e.dataType?this.fillFieldSelect(e.field$,e.data,e.originalValue):"string"===e.dataType?e.originalValue&&e.originalValue.jquery?e.field$.html(e.originalValue):e.valueIsClass?e.field$.addClass(e.originalValue||""):e.field$.text(e.originalValue||""):"boolean"===e.dataType?(e.originalValue=!!e.originalValue,e.currentValue=e.originalValue,this.drawFlagField(e)):"image"===e.dataType?(this._setFieldObjSubObject(e,"image$",".field-image"),this._setFieldObjSubObject(e,"hoverImage$",".field-image-hover-image"),this._setFieldObjSubObject(e,"input$",".field-image-input"),e.originalValue=e.originalValue&&e.originalValue._data,e.currentValue=e.originalValue,this.setFieldImageDisplay(e)):y.error("bad field data type:"+e.dataType,e),e.field$[0].fieldObj=e,this._uiFields[e.id]=e,this._numUiFields++}},_initOneField:function(e){e.id=e.settingId,"object"!=typeof e.dataSetOrType?e.dataType=e.dataSetOrType:(e.dataType=e.dataSetOrType.dataType,e.data=e.dataSetOrType.data),this._fields[e.id]=e},initOneEditField:function(e,t,i,n){this._initOneField({classId:e,settingId:t,analytic:i,dataSetOrType:"string",label:n})},initOneDisplayField:function(e){var i=t.clone(e);i.classId||(i.classId=i.settingId),i.dataSetOrType="string",i.readOnly=!0,this._initOneField(i)},initOneSelectField:function(e,t,i,n){this._initOneField({classId:e,settingId:t,analytic:i,dataSetOrType:{dataType:"list",data:n}})},initOneFlagField:function(e){var i=t.assign({dataSetOrType:"boolean"},e);this._initOneField(i)},initOneImageField:function(e,t,i,n){(n=n||{}).classId=e,n.settingId=t,n.compName=n.compName||t,n.analytic=i,n.dataSetOrType={dataType:"image"},n.displaySize=n.displaySize||100,this._initOneField(n)},setupUiFields:function(){this._uiFields={},this._modifiedFields={},this._numModifiedFields=0,this._numUiFields=0,this._fieldIdsSubset?t.each(this._fields,function(e){this._initOneFieldUi(e,-1===this._fieldIdsSubset.indexOf(e.settingId))}.bind(this)):t.each(this._fields,function(e){this._initOneFieldUi(e)}.bind(this)),this.required?(this._requiredFieldsFilled={},this._requiredFieldsNotFilled={},this._requiredFields={},this._numRequiredFieldsFilled=0,"all"===this.required?(t.each(this._uiFields,function(e){e.required=!0,this._requiredFields[e.id]=e}.bind(this)),this._numRequiredFields=this._numUiFields):(this._numRequiredFields=0,t.each(this._uiFields,function(e){e.required=this.required.indexOf(e.settingId)>-1,this._numRequiredFields++,this._requiredFields[e.id]=e}.bind(this))),this._numRequiredFields>0?this.recheckAllRequired():delete this._requiredFields):delete this._requiredFields,this._requiredFields||this.setRequiredDisplay(),this._initUiSections()},_initUiSections:function(){var i=this.$el.find(".spark-user-profile-section");t.each(i,function(i){if(e(i).hasClass("show-section-error"))e(i).removeClass("hide");else{var n=e(i).find(".spark-user-profile-field-holder");t.find(n,function(t){return!e(t).hasClass("section-error-holder")&&!e(t).hasClass("hide")})?e(i).removeClass("hide"):e(i).addClass("hide")}})},showUnusableSectionError:function(e){var t;t=e.sectionId?".spark-user-profile-section."+e.sectionId:e.sectionSelector;var i=this.$el.find(t);i.addClass("show-section-error"),e.errorString&&i.find(".section-error-holder").text(e.errorString)},getEntitlementSetting:function(e){var t=this._userProfile.getPaidLevel();return t>0?"premium-"+t:"free"},initFields:function(){return this._initFieldsDefer||(this._initFieldsDefer=i.defer(),u.featuresLoaded().then(function(){this._fields={},this.loadCategories(),this.initOneEditField("display-name","displayName",{id:"changedName"},"User Name"),this.initOneDisplayField({settingId:"email"}),this.initOneDisplayField({settingId:"entitlement",getSetting:this.getEntitlementSetting.bind(this),valueIsClass:!0}),this.initOneImageField("avatar","avatar",{id:"setAvatar"},{displaySize:100,onlyDisplayIfCanEdit:!0}),this.initOneFlagField({classId:"sparketing",settingId:"enableMarketing"}),this.initOneFlagField({classId:"share-default-to-unlisted",settingId:"share-default-to-unlisted",analytic:{eventNameMap:{true:"setDefaultToUnlisted",false:"setDefaultToListed"},id:"setShareDefaultToUnlisted",valueId:"shareDefaultToUnlisted"}}),this.initOneFlagField({classId:"spark-newsletter",settingId:"spark-newsletter",analytic:{eventNameMap:{true:"subscribeSparkNewsletter",false:"unsubscribeSparkNewsletter"},id:"sparkNewsletterPreference",valueId:"sparkNewsletterStatus"}}),this.initOneFlagField({classId:"tips-and-tricks",settingId:"tips-and-tricks",analytic:{eventNameMap:{true:"subscribeTipsAndTricks",false:"unsubscribeTipsAndTricks"},id:"tipsAndTricksPreference",valueId:"tipsAndTricksStatus"}}),this.initImagePickerFields(),this._initFieldsDefer.resolve()}.bind(this))),this._initFieldsDefer.promise},initImagePickerFields:function(){u.hasFeature("show-user-flag-image-source-stock")&&this.initOneFlagField({classId:"user-flag-image-source-stock",settingId:"user-flag-image-source-stock",analytic:{eventNameMap:{true:"enableStock",false:"disableStock"},id:"stockPreference",valueId:"stockStatus"}}),t.each(f.imageServices.dooplo,function(e){var t="the-noun-project"===e?"theNounProject":e,i=e.charAt(0).toUpperCase()+e.substring(1);u.hasFeature(f.imageServices.showFlagPrefixDooplo+e)&&this.initOneFlagField({classId:"user-flag-image-source-dooplo-"+e,settingId:"user-flag-image-source-dooplo-"+e,analytic:{eventNameMap:{true:"enable"+i,false:"disable"+i},id:t+"Preference",valueId:t+"Status"}})}.bind(this))},onConfirm:function(e,t,i){this._confirmCallback=e,this.title=t,this.text=i},handleXCloseBtn:function(e){var t=!this._showingFeatureFlipper;this.handleBtn(t)},handleConfirmBtn:function(t){e(t.currentTarget).hasClass("disabled")||this.handleBtn(!0,t)},getPrefixedFieldIdsForAnalytics:function(e,i){var n={};return t.each(e,function(e,t){n[i+t]=!0}),n},getChangeEventNamesForAnalytics:function(e,i){var n,r=[];return t.each(e,function(e,t){(n=this._fields[t]).analytic&&n.analytic.eventNameMap&&r.push(n.analytic.eventNameMap[e])}.bind(this)),r},sendFieldChangeEventAnalytics:function(e){var i=this.getChangeEventNamesForAnalytics(e);t.each(i,function(e){d.trackEvent(e,{},this._analyticsPageName)}.bind(this))},handleBtn:function(i,n){if(!this.confirmBtn$.hasClass("disabled")&&this._confirmDefer){var r;if(i){if(this._requiredFields&&(this._showingErrorsForRequired=!0,!this.recheckAllRequired()))return this.sendAnalytic("requiredNotFilled",this.getPrefixedFieldIdsForAnalytics(this._requiredFieldsNotFilled,"requiredNotFilled_")),void(this._requiredFieldsNotFilled.category&&this.sendAnalytic("noUseSelected"));if(this._numModifiedFields&&i&&(r={},t.each(this._modifiedFields,function(e){"image"!==e.dataType?r[e.settingId]=e.currentValue:r[e.settingId]={componentName:e.compName,imageData:e.currentValue,_file:e._file}})),this.sendAnalytic("save",this.getPrefixedFieldIdsForAnalytics(r,"saveChanged_")),this.sendFieldChangeEventAnalytics(r),this._showingFeatureFlipper){var o=this._userFlagsView.getChanges();o.total&&((r=r||{}).featureFlipperChanges=o)}}else this.sendAnalytic("cancel");this._closeDefer?(this._confirmDefer.resolve(r),this._confirmDefer=null,r&&a.showWaitView("",v.getString("user-settings-saving-settings")),this._closeDefer.promise.then(function(){this._closeDefer=null,this.needsShowing$.removeClass("showing"),r&&a.hide(),t.delay(function(){this.hideOverlay(),e("body").removeClass("no-scroll")}.bind(this),500)}.bind(this))):(this.hideOverlay(),this._confirmDefer.resolve(r),this._confirmDefer=null)}},handleCloseBtn:function(e){this.handleBtn(!1,e)},isShowing:function(){return!this.$el.hasClass("hide")},setFieldRequiredDisplay:function(e,t){t?e.fieldHolder$.removeClass("required"):e.fieldHolder$.addClass("required")},checkRequired:function(e,t){var i;(i="boolean"===e.dataType||("image"===e.dataType?e.currentValue&&""!==e.currentValue||e._data:e.currentValue&&""!==e.currentValue))?(this._requiredFieldsFilled[e.id]||(this._requiredFieldsFilled[e.id]=e,this._numRequiredFieldsFilled++),delete this._requiredFieldsNotFilled[e.id]):(this._requiredFieldsNotFilled[e.id]=e,this._requiredFieldsFilled[e.id]&&(delete this._requiredFieldsFilled[e.id],this._numRequiredFieldsFilled--)),t&&this.setRequiredDisplay(),this._showingErrorsForRequired&&this.setFieldRequiredDisplay(e,i)},setRequiredDisplay:function(){return this._requiredFields&&this._numRequiredFieldsFilled<this._numRequiredFields?(this.confirmBtn$.removeClass("ready"),!1):(this.confirmBtn$.addClass("ready"),!0)},recheckAllRequired:function(){return this._requiredFields&&t.each(this._requiredFields,function(e){this.checkRequired(e,!1)}.bind(this)),this.setRequiredDisplay()},fieldUpdated:function(e){this.setFieldChangedAnalytics(e),e.currentValue!=e.originalValue?this._modifiedFields[e.id]||(this._modifiedFields[e.id]=e,this._numModifiedFields++):this._modifiedFields[e.id]&&(this._numModifiedFields--,delete this._modifiedFields[e.id]),this._numModifiedFields?this.confirmBtn$.addClass("modified"):this.confirmBtn$.removeClass("modified"),this._requiredFields&&this.checkRequired(e,!0)},handleEditValueClick:function(e){var t=e.target.fieldObj;"string"===t.dataType?this.handleEditableValueClick(e):"image"===t.dataType&&this.forceImageClick(e)},handleEditableValueClick:function(e){var t=e.target.fieldObj;t.readOnly||(a.showPrompt("Edit Setting",t.label,{placeholderText:t.label,defaultText:t.currentValue,select:!0}).then(function(e){e&&e!==t.currentValue&&(t.currentValue=e,t.field$.text(e),this.fieldUpdated(t)),this.$el.removeClass("hide")}.bind(this)),this.$el.addClass("hide"))},sendAnalytic:function(e,t){(t=t||{}).context=this._mode,d.trackEvent(e,t,this._analyticsPageName)},setFieldChangedAnalytics:function(e){var t;e.analytic&&(e.analytic.valueId&&((t={})[e.analytic.valueId]=e.currentValue),this.sendAnalytic(e.analytic.id,t))},editProfile:function(e){if(e=e||{},this._options=e,this._confirmDefer=e&&e.defer||i.defer(),this._closeDefer=e.closeDefer,this._userProfile=e.userProfile,this._mode=e.mode||"edit","edit"===this._mode&&this.sendAnalytic("viewedUserProfile"),this.required=e.required,this._showingErrorsForRequired=!1,this._dontAllowCloseByKeyboard=e.dontAllowCloseByKeyboard,this._fieldIdsSubset=e.fieldIds,this.showOverlay(),this.avatarImage$=this.$el.find(".author-avatar-image"),this._options.canEditNonBooleans){var t=this._userProfile.getUserProfilePictureUrl(50);t&&(t="url("+t+")",this.avatarImage$.css("background-image",t))}return this._confirmDefer.promise},handleKeyup:function(t){if(!(this._dontAllowCloseByKeyboard||t&&t.isPropagationStopped()||this._ignoreCloseActions||a.isShowing()))if(t.keyCode===l.DOM_VK_ESCAPE)t.stopPropagation(),this.handleCloseBtn(t);else if(t.keyCode===l.DOM_VK_RETURN||t.keyCode===l.DOM_VK_ENTER){if(t.stopPropagation(),e(t.target).hasClass("feature-flags-filter-field"))return;this.handleConfirmBtn(t)}},handleImageClick:function(e){e.stopPropagation()},handleImageVClick:function(e){e.stopPropagation(),this.forceImageClick(e),e.preventDefault()},forceImageClick:function(e){var t=e.target.fieldObj;t.uiDisplayOnly||(t.input$=t.field$.find(".field-image-input"),t.input$.length&&(t.input$[0].fieldObj=t,t.input$[0].click()))},setFieldImageDisplay:function(e){e.currentValue&&e.image$.css("background-image","url("+e.currentValue+")")},handleImageChange:function(t){var i=t.target.fieldObj,n=t.target.files,r=e(t.target),o=r.clone();r.replaceWith(o),n[0]&&this._userProfile.uploadNamedImageAsset(i.compName,n[0]).then(function(){this._userProfile.getNamedImageAsset(i.compName,i.displaySize).then(function(e){i.currentValue=e,i._file=n[0],this.setFieldImageDisplay(i),this.fieldUpdated(i)}.bind(this))}.bind(this))}}))}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="spark-user-profile-view-bg needs-showing mrvl-overlay-bg">\n</div>\n<div class="spark-user-profile-view-shell needs-showing mrvl-overlay-shell" data-auto="upv-shell">\n\n    <h2 class="spark-user-profile-view-dialog-title dialog-title new" data-auto="upv-title">{{user-settings-title}}</h2>\n    <h2 class="spark-user-profile-view-dialog-title dialog-title tab-ff" data-auto="upv-title">Feature Flipper</h2>\n    <div class="spark-user-profile-view-content-shell mrvl-overlay-content-shell">\n        <div class="spark-user-profile-setup-message">{{user-settings-personalize}}</div>\n            <div class="spark-user-profile-setup-message-sub">{{user-settings-streamline}}</div>\n            <div class="spark-user-profile-main-content tab-0">\n                <div class="spark-user-profile-section account">\n                    <div class="spark-user-profile-section-title">{{user-settings-account}}</div>\n                <div class="spark-user-profile-container-name-and-avatar">\n                    <div class="spark-user-profile-field-holder name left">\n                        <div class="spark-user-profile-view-label">{{user-settings-name}}</div>\n                        <div class="spark-user-profile-field-container">\n                            <div class="spark-user-profile-view-value field-display-name" data-auto="upv-field-display-name"></div><button class="spark-user-profile-view-editable-value-button hide">{{user-settings-edit}}</button>\n                            </div>\n                    </div>\n                    <div class="spark-user-profile-field-holder avatar right">\n\n                        <div class="spark-user-profile-view-image-value field-avatar">\n                            <input type="file" class="author-avatar-input field-image-input field-avatar-input" accept="image/png,image/jpeg,.jpeg,.jpg,.png">\n                            <div class="field-image field-avatar-image"></div>\n                            <div class="field-image-hover-image"></div>\n                            <button class="spark-user-profile-view-editable-value-button"></button>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div class="spark-user-profile-field-holder">\n                    <div class="spark-user-profile-view-label">{{user-settings-adobe-id}}</div>\n                    <div class="spark-user-profile-view-value field-email" data-auto="upv-field-email"></div>\n                </div>\n                <div class="spark-user-profile-field-holder hide">\n                    <div class="spark-user-profile-view-label">{{user-settings-membership-status}}</div>\n                    <div class="spark-user-profile-view-value field-entitlement" data-auto="upv-field-entitlement">\n                        <div class="spark-user-profile-view-value-text entitlement free with-button">\n                            <span>{{user-settings-spark-free-account}}</span>\n                        </div>\n                        <div class="spark-user-profile-view-value-text entitlement premium-1">\n                            <span>{{user-settings-spark-premium-1}}</span>\n                        </div>\n                        <div class="spark-user-profile-view-value-text entitlement premium-2">\n                            <span>{{user-settings-spark-premium-2}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section opt-ins hide">\n                <div class="spark-user-profile-section-title">{{user-settings-options}}</div>\n                <div class="spark-user-profile-field-holder">\n                    <div class="spark-user-profile-view-label">{{user-settings-marketing-emails}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-sparketing"></div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section brand hide">\n                <div class="spark-user-profile-section-title">{{user-settings-brand}}</div>\n                <a href="#" class="spark-user-profile-reset-brand">{{user-settings-reset-brand}}</a>\n            </div>\n            <div class="spark-user-profile-section communication-preferences hide">\n                <div class="spark-user-profile-section-title">{{user-settings-communication-preferences}}</div>\n                <div class="spark-user-profile-field-holder flag-holder">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-newsletter}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-newsletter-description}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-spark-newsletter flag-toggle" data-auto="upv-toggle-sendgrid-newsletter"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n                <div class="spark-user-profile-field-holder flag-holder">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-tips-and-tricks}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-tips-and-tricks-description}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-tips-and-tricks flag-toggle" data-auto="upv-toggle-sendgrid-tips-and-tricks"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n                <div class="spark-user-profile-field-holder section-error-holder">\n                    <div class="spark-user-profile-view-error-text">{{user-settings-communication-error}}</div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section restrictions hide">\n                <div class="spark-user-profile-section-title">{{user-settings-restrictions}}</div>\n                <div class="spark-user-profile-field-holder flag-holder">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-default-to-not-featured}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-default-to-not-featured-description}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-share-default-to-unlisted flag-toggle" data-auto="upv-toggle-default-to-unlisted"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section image-picker hide">\n                <div class="spark-user-profile-section-title">{{user-settings-image-sources}}</div>\n                <div class="spark-user-profile-field-holder flag-holder hide">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-adobe-stock}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-adobe-stock-description}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-user-flag-image-source-stock flag-toggle" data-auto="upv-toggle-stock"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n                <div class="spark-user-profile-field-holder flag-holder hide">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-flickr}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">\n                        <div class="spark-user-profile-view-flag-inlinetext">{{user-settings-flickr-description}} <span class="spark-user-profile-view-flag-subtext-bold">{{user-settings-flickr-description-more}}</span></div>\n                    </div>\n                    <div class="spark-user-profile-view-editable-value-flag field-user-flag-image-source-dooplo-flickr flag-toggle" data-auto="upv-toggle-flickr"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n                <div class="spark-user-profile-field-holder flag-holder hide">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-unsplash}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-unsplash-info}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-user-flag-image-source-dooplo-unsplash flag-toggle" data-auto="upv-toggle-unsplash"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n                <div class="spark-user-profile-field-holder flag-holder hide">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-pixabay}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-pixabay-info}}</div>\n                    <div class="spark-user-profile-view-editable-value-flag field-user-flag-image-source-dooplo-pixabay flag-toggle" data-auto="upv-toggle-pixabay"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">{{user-settings-on}}</div><div class="toggle-values-off">{{user-settings-off}}</div></div><div class="toggle-values-image-mask"></div></div></div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section spark-user-locale hide">\n                <div class="spark-user-profile-section-title">{{user-settings-language-and-region}}</div>\n                <div class="spark-user-profile-field-holder flag-holder">\n                    <div class="spark-user-profile-view-flag-title-label">{{user-settings-locale}}</div>\n                    <div class="spark-user-profile-view-flag-subtext">{{user-settings-language-and-region-description}}</div>\n                </div>\n                <div class="spark-user-profile-view-editable-value-select language-and-region">\n                </div>\n                <div class="spark-user-profile-field-holder section-error-holder">\n                    <div class="spark-user-profile-view-error-text">{{user-settings-locale-error}}</div>\n                </div>\n            </div>\n            <div class="spark-user-profile-section about-me hide">\n                <div class="spark-user-profile-section-title">{{user-settings-about-me}}</div>\n                <div class="spark-user-profile-field-holder">\n                    <div class="spark-user-profile-view-label">{{user-settings-intended-use}}</div>\n                    <div class="spark-user-profile-view-editable-value-select">\n                        <div class="spark-user-profile-dropdown">\n                            <select class="field-category" placeholder="Pick a category"></select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="spark-user-profile-main-content tab-ff">\n            <div class="spark-user-profile-section feature-flipper">\n                <div class="user-flags hide"></div>\n            </div>\n        </div>\n        <div class="mrvl-dlg-btn-acts">\n            <button class="cancel-btn mrvl-btn"></button>\n            <button class="confirm-btn mrvl-btn"></button>\n        </div>\n    </div>\n</div>\n<button class="spark-user-profile-view-apply-changes needs-showing sp-cta-button-primary disabled" data-auto="upv-apply-changes-button">{{user-settings-save}}</button>\n<button class="spark-user-profile-view-close-btn x-close-btn needs-showing" data-auto="upv-close-button">X</button>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(5),i(11),i(15),i(4),i(6),i(7),i(12),i(17),i(224),i(225),i(226)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f){"use strict";var g=new o({color:"tan",name:"user-profile"}),m=["default-env","variantid"],v=["global."];return n.View.extend({el:".user-flags",events:{"click .analytics-to-console":"handleAnalyticsDump","click .clear-unauthenticated-feature-flags":"handleClearUnauthenticatedFlags","click .clear-authenticated-feature-flags":"handleClearAuthenticatedFlags","click .spark-user-profile-field-holder":"handleHolderFlagClick","keyup .feature-flags-filter-field":"handleFilterFieldChange"},initialize:function(){this.$el.removeClass("hide"),this._handleFilterFieldChange=t.debounce(this._handleFilterFieldChange.bind(this),500)},setParentInfo:function(e){this.setElement(e.$el),this.setSaveButtonEnableCallback=e.setSaveButtonEnableCallback},handleAnalyticsDump:function(){var e=s.getAuditLog(!1);e?(g.debug("-------------analytics activity-----------------"),g.debug(e),g.debug("----------------end activity--------------------")):g.debug("----------------no activity--------------------")},handleClearAuthenticatedFlags:function(){d.showConfirm("Really?","Are you sure you want to reset all the Authenticated feature flags?").then(function(t){t&&e.ajax({type:"GET",url:"/clear-ff/"+r.getProfile().userId,headers:{"Content-Type":"application/json;charset=UTF-8"},success:function(e){document.location.reload()},error:function(e){g.error('Error processing clear flags "'+e.status+'"',e)}})}.bind(this))},handleClearUnauthenticatedFlags:function(){d.showConfirm("Really?","Are you sure you want to reset all the Unauthenticated feature flags?").then(function(e){e&&(c.clearUnauthenticatedFeatureFlags(),t.defer(function(){document.location.reload()}))}.bind(this))},drawFlagField:function(e,t){t?e.addClass("selected"):e.removeClass("selected")},getFlagObjFromFlagElem:function(e){var t=e.data("ff"),i=e.hasClass("authenticated");return{all:i?this._flagsInfo.authenticated[t]:this._flagsInfo.unauthenticated[t],custom:i?this._flagsInfo.authenticatedCustom[t]:this._flagsInfo.unauthenticatedCustom[t]}},handleFlagToggle:function(t,i){if(0===(i=i||e(t.currentTarget)).closest(".no-toggle").length){var n=this.getFlagObjFromFlagElem(i),r=!i.hasClass("selected"),o=i.parent(".spark-user-profile-field-holder"),a=n.all,s=n.custom;if(this.drawFlagField(i,r),a.enabled=r,a.modified=a.enabled!==a.initial,a.modified?(this.numMods++,o.addClass("modified")):(this.numMods--,o.removeClass("modified")),this.setSaveButtonEnableCallback(this.numMods>0),a.unknownDefault||r===a.default?o.removeClass("known-not-default"):o.addClass("known-not-default"),s){var l,c,d=a.isAuth?".authenticated-flags":".unauthenticated-flags",u=this.$el.find(d);if(s.enabled=a.enabled,s.modified=a.modified,l=o.closest(".is-custom").length?".is-all":".is-custom",(c=u.find(l).find(".field-"+a.id)).length){this.drawFlagField(c,r);var h=c.parent(".spark-user-profile-field-holder");s.modified?h.addClass("modified"):h.removeClass("modified"),s.unknownDefault||s.enabled===s.default?h.removeClass("known-not-default"):h.addClass("known-not-default")}}}},getChanges:function(){var e={},i={},n=0,r=0;return t.each(this._flagsInfo.authenticated,function(t){t.modified&&(e[t.id]=t.enabled,n++)}),t.each(this._flagsInfo.unauthenticated,function(e){e.modified&&(i[e.id]=e.enabled,r++)}),{numAuthenticated:n,authenticated:e,numUnauthenticated:r,unauthenticated:i,total:n+r}},_showNonBooleanModal:function(t){var i=e(t.currentTarget).find(".spark-profile-field-feature-flag-non-boolean"),n=this.getFlagObjFromFlagElem(i).all;d.showAlert(n.id,n.nonBooleanValue).done()},_showEnvDefaults:function(i){var n=e(i.currentTarget).find(".spark-user-profile-view-editable-value-feature-flag"),r=this.getFlagObjFromFlagElem(n).all,o=[],a={envs:o,flagName:r.id};if(this.environmentsDefaults){var s=r.isAuth?"authenticated":"unauthenticated",l=this.environmentsDefaults.current[s][r.id];if(t.isUndefined(l))o.push({env:"All",displayVal:"None Defined"});else{var c=!1;t.each(this.environmentsDefaults.available,function(e,i){var n=e[s][r.id];t.isUndefined(n)&&g.debug("no mataching setting:"+n),o.push({env:i,displayVal:n?"on":"off",isCurrent:e.isCurrent}),n!==l&&(c=!0)}),c||(o=[{env:"All",displayVal:l?"on":"off"}])}a.isCurrentOnly=this.environmentsDefaults.isCurrentOnly,a.currentName=this.environmentsDefaults.current.name}else a.defaultsUnavailable=!0;var d=e(document.body).find(".user-profile-view"),h=d.find(".user-flags-environments-flags-overlay"),p=u.to_html(f,a);h.length||(h=e('<div class="user-flags-environments-flags-overlay"></div>'),d.append(h)),h.html(p),h.removeClass("hide");var m=function(t){e(t.target).hasClass("user-flags-environments-flags-overlay")?h.hasClass("hide")||h.addClass("hide"):h.one("click",m)};h.one("click",m)},handleHolderFlagClick:function(t){var i=e(t.target);if(t.stopPropagation(),!i.hasClass("spark-user-profile-field-holder"))if(i.hasClass("spark-profile-field-default-val"))this._showEnvDefaults(t);else if(i.hasClass("spark-profile-field-feature-flag-non-boolean"))this._showNonBooleanModal(t);else{var n=e(t.currentTarget);i.hasClass("group-flag-holder")||this.handleFlagToggle(t,n.find(".spark-user-profile-view-editable-value-feature-flag"))}},handleFilterFieldChange:function(e){this._handleFilterFieldChange(e)},_handleFilterFieldChange:function(t){this.filterFlags(e(t.currentTarget).val())},_filterByString:function(e,t){if(-1!==e.idLc.indexOf(this))return!0},_filterByArrayOfStrings:function(e,i){return t.find(this,function(t){return-1!==e.idLc.indexOf(t)})},_filterByArrayOfStrings_AND:function(e,i){return!t.find(this,function(t){return-1===e.idLc.indexOf(t)})},filterFlags:function(i){var n,r,o,a;this._unfilteredTemplateVariables.unauthenticatedOverrideHadError;if(""===(i=i.toLowerCase().trim()))n=this._unfilteredTemplateVariables.authenticatedGroups,r=this._unfilteredTemplateVariables.unauthenticatedGroups;else{var s=this._filterByString;-1!==i.indexOf(",")?(i=t.filter(e.map(i.split(","),e.trim),function(e){return""!==e}),s=this._filterByArrayOfStrings):-1!==i.indexOf("+")&&(i=t.filter(e.map(i.split("+"),e.trim),function(e){return""!==e}),s=this._filterByArrayOfStrings_AND);var l=t.filter(this._flagsInfo.authenticated,s.bind(i)),c=t.filter(this._flagsInfo.unauthenticated,s.bind(i)),d=t.filter(this._flagsInfo.authenticatedCustom,s.bind(i)),h=t.filter(this._flagsInfo.unauthenticatedCustom,s.bind(i));n=this.getParsedGroups(!0,d,l),r=this.getParsedGroups(!1,h,c)}o=u.to_html(p,{groups:n}),a=u.to_html(p,{groups:r}),this.$el.find(".authenticated-flags").empty().append(o),this.$el.find(".unauthenticated-flags").empty().append(a)},getParsedGroups:function(e,t,i){var n,r=[],o=e?"Authenticated ":"Unauthenticated ",a=!!this.environmentsDefaults;return t&&t.length&&(n={id:o+"Account",flags:t,multi:!0,groupType:"is-custom",showDefaults:a},r.push(n)),i&&i.length&&(n={id:o+"All",flags:i,multi:!0,groupType:"is-all",showDefaults:a},r.push(n)),r},getParsedNameGroups:function(e){var i={},n=[];return t.each(e,function(e){var t=e.id.split("-")[0],r=i[t];r||(r={id:t,flags:[]},i[t]=r,n.push(r)),r.flags.push(e),r.flags.length>1&&(r.multi=!0)}),t.each(n,function(e){if(e.multi){for(var t=e.flags[0].id.split("-"),i=t.length,n=1;n<e.flags.length;n++){var r=e.flags[n].id.split("-");i=Math.min(i,r.length);for(var o=1;o<i;o++)if(t[o]!==r[o]){i=o;break}if(1===i)break}i>1&&(e.id=t.slice(0,i).join("-"))}}),n},canShowFeature:function(e){if(-1!==e.indexOf("experiment"))return!1;if(-1!==e.indexOf("experienceid"))return!1;if(-1!==m.indexOf(e))return!1;if("__sequence"===e)return!1;if(v){var i=e.split("-");if(t.find(v,function(e){return 0===i[0].indexOf(e)}))return!1}return!0},_getSetupFlag:function(e){var i,n=!t.isBoolean(e.value),r={id:e.feature,idLc:e.feature.toLowerCase(),nonBoolean:n,initial:e.value,isAuth:!e.unauthenticated};(r.nonBoolean?t.isObject(e.value)?r.nonBooleanValue=JSON.stringify(e.value):r.nonBooleanValue=e.value.toString():r.enabled=e.value,this.environmentsDefaults&&this.environmentsDefaults.current)?(i=e.unauthenticated?this.environmentsDefaults.current.unauthenticated[e.feature]:this.environmentsDefaults.current.authenticated[e.feature],t.isUndefined(i)?r.unknownDefault=!0:(r.default=i,r.knownNotDefault=e.value!==i)):r.unknownDefault=!0;return r.unknownDefault?r.defaultDisplay="?":r.nonBoolean?r.defaultDisplay="nb":r.defaultDisplay=!r.default?"off":"on",r},_readyForFlipping:function(){return r.isValid().then(function(){return c.featuresLoaded().then(function(){return c.hasFeature("feature-flipper-ui")?c.unauthenticatedFeaturesLoaded().then(function(){return c.loadEnvDefaults().then(function(e){this.environmentsDefaults=e}.bind(this),function(e){return this.environmentsDefaults=null,404===e.status?void 0:i.reject()}.bind(this))}.bind(this),function(e){return r.login(),i.reject()}):i.reject()}.bind(this),function(e){return r.login(),i.reject()}.bind(this))}.bind(this),function(e){return r.login(),i.reject()})},render:function(){return this._readyForFlipping().then(function(){var e,i,n,r=[],o=[],a=[],d=[],p={authenticated:{},unauthenticated:{},authenticatedCustom:{},unauthenticatedCustom:{}},f=c.getActuallySetFeatures();this.numMods=0,t.each(t.sortBy(t.keys(f)),function(e){this.canShowFeature(e)&&(n=this._getSetupFlag({feature:e,value:f[e]}),a.push(n),p.authenticatedCustom[n.id]=n)}.bind(this));try{e=c.getActuallySetUnauthenticatedFeatures()}catch(e){i=e.message}e&&t.each(t.sortBy(t.keys(e)),function(t){this.canShowFeature(t)&&(n=this._getSetupFlag({feature:t,value:e[t],unauthenticated:!0}),d.push(n),p.unauthenticatedCustom[n.id]=n)}.bind(this));var g=t.clone(l.authenticatedFeatures);t.each(p.authenticatedCustom,function(e,i){t.isUndefined(g[i])&&(g[i]=f[i])}),t.each(t.sortBy(t.keys(g)),function(e){this.canShowFeature(e)&&(n=this._getSetupFlag({feature:e,value:c.getFeature(e)}),r.push(n),p.authenticated[n.id]=n)}.bind(this));var m=l.unauthenticatedFeatures;e&&(m=t.clone(m),t.each(p.unauthenticatedCustom,function(i,n){t.isUndefined(m[n])&&(m[n]=e[n])})),t.each(t.sortBy(t.keys(m)),function(e,t){this.canShowFeature(e)&&(n=this._getSetupFlag({feature:e,value:c.hasUnauthenticatedFeature(e),unauthenticated:!0}),o.push(n),p.unauthenticated[n.id]=n)}.bind(this)),this._unfilteredTemplateVariables={authenticatedGroups:this.getParsedGroups(!0,a,r),unauthenticatedGroups:this.getParsedGroups(!1,d,o),unauthenticatedReadError:i};var v=u.to_html(h,this._unfilteredTemplateVariables);this.$el.html(v),this.$el.removeClass("hide"),s.getAuditMode()&&this.$el.find(".analytics-to-console").removeClass("hide"),this._flagsInfo=p,t.delay(function(){this.$el.find(".feature-flags-filter-field").focus()}.bind(this),0)}.bind(this)).done(),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="user-flags-view">\n    <div class="feature-flipper" data-auto="feature-flipper">\n        <input type="text" class="feature-flags-filter-field" placeholder="Filter: commas for or, plusses for and"></input>\n\n        <div class="spark-user-profile-section-title">Authenticated Feature Flags</div>\n        <a href="#" class="clear-feature-flags clear-authenticated-feature-flags" data-auto="clear-authenticated-feature-flags">Reset all to environmental defaults</a>\n        <ul class="authenticated-flags">\n            \x3c!-- These are dynamically populated from features.conf.js,\n                 so add your flags there, and don\'t touch this. --\x3e\n            {{#authenticatedGroups}}\n            {{#multi}}\n            <li class="spark-user-profile-field-holder group-flag-holder{{#groupType}} {{.}}{{/groupType}}">\n            <div class="flag-group-header">\n                <div class="flag-group-label">{{id}}</div>\n                <div class="flag-group-flag">Flag</div>\n                {{#showDefaults}}<div class="flag-group-show-default">Dflt</div>{{/showDefaults}}\n                <div class="flag-group-modified">Mod</div>\n                <div class="flag-group-value">Value</div>\n            </div>\n            <ul>\n            {{/multi}}\n            {{#flags}}\n            <li class="spark-user-profile-field-holder flag-holder{{#knownNotDefault}} known-not-default{{/knownNotDefault}}{{#nonBoolean}} non-boolean{{/nonBoolean}}">\n                <div class="spark-user-profile-view-flag-title-label">{{id}}</div>\n                {{#description}}<div class="spark-user-profile-view-flag-subtext">{{.}}</div>{{/description}}\n                <div class="spark-profile-field-default-val">{{defaultDisplay}}</div>\n                <div class="spark-profile-field-modified"></div>\n                {{^nonBoolean}}\n                <div class="spark-user-profile-view-editable-value-feature-flag authenticated field-{{id}} flag-toggle{{#enabled}} selected{{/enabled}}" data-ff="{{id}}" data-auto="upv-toggle-{{id}}"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">On</div><div class="toggle-values-off">Off</div></div><div class="toggle-values-image-mask"></div></div></div>\n                {{/nonBoolean}}\n                {{#nonBoolean}}\n                <div class="spark-profile-field-feature-flag-non-boolean authenticated" data-ff="{{id}}" title="{{nonBooleanValue}}">NB</div>\n                {{/nonBoolean}}\n            </li>\n            {{/flags}}\n            {{#multi}}\n            </ul>\n            </li>\n            {{/multi}}\n            {{/authenticatedGroups}}\n        </ul>\n\n        <div class="spark-user-profile-section-title">Unauthenticated Feature Flags</div>\n        <div class="unauthenticated-note">Note: Currently, overriding unauthenticated flags is only supported for client-side cheking.</div>\n        {{#unauthenticatedReadError}}\n        <div class="unauthenticated-read-error">{{.}}</div>\n        {{/unauthenticatedReadError}}\n        <a href="#" class="clear-feature-flags clear-unauthenticated-feature-flags" data-auto="clear-unauthenticated-feature-flags">Reset all to environmental defaults</a>\n        <ul class="unauthenticated-flags">\n            {{#unauthenticatedGroups}}\n            {{#multi}}\n            <li class="spark-user-profile-field-holder group-flag-holder">\n            <div class="flag-group-header">\n                <div class="flag-group-label">{{id}}</div>\n                <div class="flag-group-flag">Flag</div>\n                {{#showDefaults}}<div class="flag-group-show-default">Dflt</div>{{/showDefaults}}\n                <div class="flag-group-modified">Mod</div>\n                <div class="flag-group-value">Value</div>\n            </div>\n            <ul>\n            {{/multi}}\n            {{#flags}}\n            <li class="spark-user-profile-field-holder flag-holder{{#knownNotDefault}} known-not-default{{/knownNotDefault}}{{#nonBoolean}} non-boolean{{/nonBoolean}}">\n                <div class="spark-user-profile-view-flag-title-label">{{id}}</div>\n                {{#description}}<div class="spark-user-profile-view-flag-subtext">{{.}}</div>{{/description}}\n                <div class="spark-profile-field-default-val">{{defaultDisplay}}</div>\n                <div class="spark-profile-field-modified"></div>\n                {{^nonBoolean}}\n                <div class="spark-user-profile-view-editable-value-feature-flag field-{{id}} flag-toggle{{#enabled}} selected{{/enabled}}" data-ff="{{id}}" data-auto="upv-toggle-{{id}}"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">On</div><div class="toggle-values-off">Off</div></div><div class="toggle-values-image-mask"></div></div></div>\n                {{/nonBoolean}}\n                {{#nonBoolean}}\n                <div class="spark-profile-field-feature-flag-non-boolean" data-ff="{{id}}" title="{{nonBooleanValue}}">NB</div>\n                {{/nonBoolean}}\n            </li>\n            {{/flags}}\n            {{#multi}}\n            </ul>\n            </li>\n            {{/multi}}\n            {{/unauthenticatedGroups}}\n        </ul>\n    </div>\n\n    <a href="#" class="analytics-to-console hide">Analytics to Console</a>\n</div>\n'},function(e,t){e.exports='{{#groups}}\n{{#multi}}\n<li class="spark-user-profile-field-holder group-flag-holder{{#groupType}} {{.}}{{/groupType}}">\n<div class="flag-group-label">{{id}}</div>\n<ul>\n{{/multi}}\n{{#flags}}\n<li class="spark-user-profile-field-holder flag-holder{{#modified}} modified{{/modified}}{{#knownNotDefault}} known-not-default{{/knownNotDefault}}{{#nonBoolean}} non-boolean{{/nonBoolean}}">\n    <div class="spark-user-profile-view-flag-title-label">{{id}}</div>\n    {{#description}}<div class="spark-user-profile-view-flag-subtext">{{.}}</div>{{/description}}\n    <div class="spark-profile-field-default-val">{{defaultDisplay}}</div>\n    <div class="spark-profile-field-modified"></div>\n    {{^nonBoolean}}\n    <div class="spark-user-profile-view-editable-value-feature-flag {{#isAuth}} authenticated{{/isAuth}} field-{{id}} flag-toggle{{#enabled}} selected{{/enabled}}" data-ff="{{id}}" data-auto="upv-toggle-{{id}}"><div class="toggle-handle"><div class="dot"></div></div><div class="toggle-mask"><div class="toggle-values"><div class="toggle-values-on">On</div><div class="toggle-values-off">Off</div></div><div class="toggle-values-image-mask"></div></div></div>\n    {{/nonBoolean}}\n    {{#nonBoolean}}\n    <div class="spark-profile-field-feature-flag-non-boolean{{#isAuth}} authenticated{{/isAuth}}" data-ff="{{id}}" title="{{nonBooleanValue}}">NB</div>\n    {{/nonBoolean}}\n</li>\n{{/flags}}\n{{#multi}}\n</ul>\n</li>\n{{/multi}}\n{{/groups}}\n'},function(e,t){e.exports='<div class="user-flags-environments-flags-holder">\n<div class="flag-label">{{flagName}}</div>\n<ul class="environments-flags">\n{{#envs}}\n<li class="flag-holder">\n    <div class="spark-user-profile-view-env-label">{{env}}{{#isCurrent}} (current){{/isCurrent}}</div>\n    <div class="spark-profile-field-env-val">{{displayVal}}</div>\n</li>\n{{/envs}}\n</ul>\n{{#isCurrentOnly}}<div class="user-flags-environments-single-env">Defaults only available for {{currentName}}.</div>{{/isCurrentOnly}}\n{{#defaultsUnavailable}}<div class="user-flags-environments-none-env">Defaults are unavailable for this environment. </div>{{/defaultsUnavailable}}\n</div>\n'},function(e,t,i){var n=i(228);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(51);(e.exports=i(26)(!1)).push([e.i,'.user-profile-view .mrvl-overlay-bg{z-index:105;position:fixed;left:0;right:0;top:0;bottom:0}.user-profile-view .mrvl-overlay-content-shell{padding:30px 30px 25px}.user-profile-view .flag-toggle{width:62px;height:28px;cursor:pointer;display:inline-block;position:relative}.user-profile-view .flag-toggle.selected .toggle-values{left:0}.user-profile-view .flag-toggle.selected .toggle-handle{left:33px}.user-profile-view .flag-toggle:not(.selected) .toggle-handle{left:-3px}.user-profile-view .flag-toggle .toggle-handle,.user-profile-view .flag-toggle .toggle-values{transition-property:left;transition:left .19s linear;transition-duration:.19s;transition-timing-function:linear;transition-delay:0s}.user-profile-view .flag-toggle .toggle-values{width:116px;height:24px;position:absolute;z-index:0;left:-58px}.user-profile-view .flag-toggle .toggle-values .toggle-values-off,.user-profile-view .flag-toggle .toggle-values .toggle-values-on{width:58px;line-height:24px;text-transform:uppercase;display:inline-block;font-size:11px;font-weight:700}.user-profile-view .flag-toggle .toggle-values .toggle-values-off.toggle-values-on,.user-profile-view .flag-toggle .toggle-values .toggle-values-on.toggle-values-on{background-color:#35414c;text-align:left;color:#fff;padding-left:10px}.user-profile-view .flag-toggle .toggle-values .toggle-values-off.toggle-values-off,.user-profile-view .flag-toggle .toggle-values .toggle-values-on.toggle-values-off{background-color:#f2f4f5;text-align:right;color:#81919b;padding-right:10px}.user-profile-view .flag-toggle .toggle-mask{position:absolute;overflow:hidden;width:58px;height:24px;z-index:1;top:2px}.user-profile-view .flag-toggle .toggle-mask .toggle-values-image-mask{position:absolute;top:0;left:0;width:58px;height:24px;z-index:1;background-image:url(/images/icon-pill-mask.svg);background-size:cover}.user-profile-view .flag-toggle .toggle-handle{height:28px;width:28px;border-radius:14px;background-color:#dce0e3;position:absolute;z-index:2}.user-profile-view .flag-toggle .toggle-handle .dot{background-color:#81919b;width:6px;height:6px;border-radius:3px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.spark-user-profile-view-bg{background-color:hsla(0,0%,100%,0);transition:background-color .5s ease-in}.spark-user-profile-view-bg.showing{background-color:hsla(0,0%,100%,.75);transition:background-color 0s}.spark-user-profile-view-shell{z-index:106;height:100%;width:100%;border-radius:0;position:fixed;background-color:#fff;top:150%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);transition:top .5s ease-in;overflow-y:scroll}.spark-user-profile-view-shell.showing{top:50%}.spark-user-profile-view-shell .dialog-title{font-size:2em;font-weight:700;background-color:#f2f4f5;text-align:left;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#35414c;margin:0;padding:20px 25px;border-top-left-radius:10px;border-top-right-radius:10px}.spark-user-profile-view-shell .spark-user-profile-view-dialog-title{text-align:center;font-size:24px;line-height:100px;background:none;background-size:384px 384px;border-radius:0;font-size:3.08em;font-weight:700}.spark-user-profile-view-shell .spark-user-profile-view-dialog-title h2{font-weight:700}.spark-user-profile-view-shell .spark-user-profile-view-dialog-title.tab-ff{display:none}.spark-user-profile-view-shell .spark-user-profile-section{margin-bottom:45px}.spark-user-profile-view-shell .spark-user-profile-section.show-section-error .spark-user-profile-field-holder.section-error-holder{display:inherit}.spark-user-profile-view-shell .spark-user-profile-section.show-section-error .spark-user-profile-field-holder:not(.section-error-holder){display:none}.spark-user-profile-view-shell .spark-user-profile-section-title{border-bottom:1px solid #eee;font-family:brandon-grotesque,adobe-clean,sans-serif;font-weight:700;font-size:21px;color:#35414c;padding-bottom:12px;margin-bottom:24px}.spark-user-profile-view-shell .spark-user-profile-main-content{width:770px;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.spark-user-profile-view-shell.edit .mrvl-dlg-btn-acts,.spark-user-profile-view-shell .spark-user-profile-main-content.tab-ff{display:none}.spark-user-profile-view-shell.edit .mrvl-dlg-btn-acts .confirm-btn:after{content:"OK"}.spark-user-profile-view-shell.edit .mrvl-dlg-btn-acts .confirm-btn.modified:after{content:"Save"}.spark-user-profile-view-shell.edit .mrvl-dlg-btn-acts .cancel-btn:after{content:"Cancel"}.spark-user-profile-view-shell.edit .spark-user-profile-setup-message,.spark-user-profile-view-shell.edit .spark-user-profile-setup-message-sub{display:none}.spark-user-profile-view-shell.setup{text-align:center;width:100%;height:100%;border-radius:0}.spark-user-profile-view-shell.setup h2{display:none}.spark-user-profile-view-shell.setup .spark-user-profile-main-content{display:block;width:50%;background-color:#fff;border-radius:6px;display:inline-block;text-align:initial;padding:4.5em 3em 1em}.spark-user-profile-view-shell.setup .spark-user-profile-setup-message{font-family:brandon-grotesque,adobe-clean,sans-serif;font-weight:700;font-size:3em;color:#fff;display:block;text-align:center;margin-bottom:20px}.spark-user-profile-view-shell.setup .spark-user-profile-setup-message-sub{font-weight:400;font-size:1.5em;color:#fff;display:block;text-align:center;margin-bottom:60px}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts{margin-top:48px;position:static;bottom:auto;text-align:center}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts .confirm-btn{background-color:#e8ebed;color:#35414c}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts .confirm-btn:after{content:"Save and continue";opacity:.4}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts .confirm-btn.ready:after{content:"Save and continue";opacity:1}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts .cancel-btn{display:none}.spark-user-profile-view-shell.setup .mrvl-dlg-btn-acts .cancel-btn:after{content:"I\'ll change this later"}.spark-user-profile-view-shell .spark-user-profile-container-name-and-avatar .spark-user-profile-field-holder.name{max-width:70%;margin-bottom:0}.spark-user-profile-view-shell .spark-user-profile-container-name-and-avatar .spark-user-profile-field-holder.avatar{margin-bottom:0;z-index:1}.spark-user-profile-view-shell .spark-user-profile-field-holder{font-size:1.2em;position:relative;margin-bottom:2.5em}.spark-user-profile-view-shell .spark-user-profile-field-holder.display-only{margin-bottom:0}.spark-user-profile-view-shell .spark-user-profile-field-holder.left{display:inline-block}.spark-user-profile-view-shell .spark-user-profile-field-holder.right{display:inline-block;float:right}.spark-user-profile-view-shell .spark-user-profile-field-holder.flag-holder{width:576px}.spark-user-profile-view-shell .spark-user-profile-field-holder.modified .spark-profile-field-modified{opacity:1}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-error-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-inlinetext,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext-bold,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-label{font-weight:400;cursor:default;color:#82919b;display:inline-block;font-size:14px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-inlinetext{display:inherit}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext-bold{display:inline;font-weight:700}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-label{width:150px;margin-bottom:20px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-error-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-inlinetext,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext-bold{width:400px;line-height:19px;margin-bottom:0}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-error-text a,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-inlinetext a,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext-bold a,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext a{color:#35414c;text-decoration:none;font-weight:500}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-error-text a:hover,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-inlinetext a:hover,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext-bold a:hover,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-subtext a:hover{opacity:.8}.spark-user-profile-view-shell .spark-user-profile-field-holder.section-error-holder{display:none}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-title-label{color:#35414c;display:block;font-weight:700;margin-bottom:15px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-field-container{display:inline-block}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-button{display:inline-block;margin-left:10px;line-height:32px;background-color:#fff;font-weight:400;color:#82919b;cursor:pointer}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-button:focus{outline:none}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value span{font-weight:500;cursor:pointer;color:#35414c;display:inline-block}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value{font-size:2.2em;padding-top:2px;height:2.2em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:90%}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text .spark-user-profile-view-value-text,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-value,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value .spark-user-profile-view-value-text{cursor:default;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-bottom:2px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-value span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value .spark-user-profile-view-value-text span,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-value span{cursor:default}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-select{z-index:2000;height:40px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown{min-width:172px;position:relative;width:172px;height:44px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select{width:100%;color:#35414c;background-color:#e8ebed;padding:5px 35px 5px 23px;font-size:16px;border-radius:22px;height:100%;-moz-appearance:none;appearance:none;-webkit-appearance:none;outline:none;background:#f2f4f5 url(/images/icon-down-caret.svg) 90% 50% no-repeat;background-size:11px auto;border:1px solid #dce0e3;cursor:pointer;font-style:normal;font-weight:400}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select option:checked{color:#35414c}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select::-ms-expand{display:none}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-editable-value-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-feature-flag,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-editable-value-flag{margin-left:44px;display:inline-block;position:absolute;right:0}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-flag-label,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-flag-label{max-width:50%;display:inline-block;padding-right:10px}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value input,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value input{display:none}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image-hover-image{background-size:cover;background-position:50%;background-repeat:no-repeat;cursor:pointer;width:100%;height:100%;position:absolute;top:0;left:0}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image.field-image-hover-image{opacity:0;background-image:url(/images/icon-avatar-overlay.svg);transition:opacity .4s;z-index:2}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .field-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image-hover-image.disabled,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .field-image.disabled{opacity:.5}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value:hover .field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value:hover .field-image-hover-image{border-color:#82919b}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value:hover .field-image-hover-image.field-image-hover-image{display:block;opacity:1;z-index:3;transition:opacity .4s}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value .spark-user-profile-view-editable-value-button{margin:0 auto;display:block}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value.field-avatar,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value.field-avatar{position:relative;display:inline-block;border:1px solid #ccc;width:50px;height:50px;border-radius:50%}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value.field-avatar .field-avatar-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value.field-avatar .field-avatar-image{color:#fff;text-align:center;border-radius:50%}.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-feature-flag.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-flag.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value-select.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-editable-value.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-flag-label.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-image-value.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value-text.spark-user-profile-view-image-value.display-only .field-image,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value.display-only,.spark-user-profile-view-shell .spark-user-profile-field-holder .spark-user-profile-view-value.spark-user-profile-view-image-value.display-only .field-image{cursor:default}.spark-user-profile-view-shell .spark-user-profile-field-holder .field-entitlement .entitlement{display:none}.spark-user-profile-view-shell .spark-user-profile-field-holder .field-entitlement.free .entitlement.free,.spark-user-profile-view-shell .spark-user-profile-field-holder .field-entitlement.premium-1 .entitlement.premium-1,.spark-user-profile-view-shell .spark-user-profile-field-holder .field-entitlement.premium-2 .entitlement.premium-2{display:block}.spark-user-profile-view-shell .spark-user-profile-field-holder.required .spark-user-profile-view-editable-value-select .spark-user-profile-dropdown select{border:1px solid #e62015;color:#e62015;background-color:#fff}.spark-user-profile-view-shell .spark-profile-field-modified{position:absolute;height:32px;width:32px;top:4px;right:80px;background-size:contain;background-repeat:no-repeat;background-image:url('+n(i(229))+");cursor:pointer;opacity:0;transition:opacity .2s}.spark-user-profile-view-shell .user-flags-view{display:inline-block;text-align:left}.spark-user-profile-view-shell .user-flags-view .spark-user-profile-section-title{margin:8px 0}.spark-user-profile-view-shell .user-flags-view .feature-flipper h2{text-align:center;font-size:1.4em;padding-bottom:0;margin:inherit}.spark-user-profile-view-shell .user-flags-view .feature-flipper .feature-flags-filter-field{width:300px;height:36px;border:1px solid #35414c;border-radius:4px;margin-bottom:10px;padding-left:10px}.spark-user-profile-view-shell .user-flags-view .feature-flipper .unauthenticated-read-error{color:red;font-weight:700}.spark-user-profile-view-shell .user-flags-view .feature-flipper .unauthenticated-note{font-size:.9em}.spark-user-profile-view-shell .user-flags-view .feature-flipper li{margin-bottom:0;height:40px;cursor:pointer;border:1px solid #82919b}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-view-flag-title-label{display:inline-block;max-width:400px;margin-bottom:inherit;margin-left:20px;padding:10px 0 0;font-weight:600;cursor:pointer;opacity:.8}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-view-flag-title-label:hover{opacity:1}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-field-holder{font-size:1em;cursor:default}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-field-holder.non-boolean .spark-user-profile-view-flag-title-label{cursor:default}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-field-holder.non-boolean .spark-user-profile-view-flag-title-label:hover{opacity:.8}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-profile-field-default-val,.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-profile-field-feature-flag-non-boolean{position:absolute;right:130px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin-bottom:inherit;padding:0;width:32px;color:#82919b;display:block;font-weight:400;margin-bottom:15px;text-transform:uppercase;text-align:center;cursor:pointer}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-profile-field-default-val.spark-profile-field-feature-flag-non-boolean,.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-profile-field-feature-flag-non-boolean.spark-profile-field-feature-flag-non-boolean{width:58px;right:10px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.known-not-default .spark-profile-field-default-val{color:#35414c}.spark-user-profile-view-shell .user-flags-view .feature-flipper li .spark-user-profile-view-editable-value-feature-flag{display:inline-block;top:6px;right:10px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder{height:inherit;border:1px solid #35414c;border-radius:4px;margin-bottom:5px;margin-top:5px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder li{border-left:none;border-right:none;border-bottom:none}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header{width:576px;height:54px;cursor:default}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-label{font-weight:700;padding-left:8px;padding-top:8px;margin-bottom:8px;max-width:400px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-flag,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-modified,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-show-default,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-value{position:absolute;height:32px;top:32px;text-transform:uppercase}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-flag.flag-group-flag,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-modified.flag-group-flag,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-show-default.flag-group-flag,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-value.flag-group-flag{left:20px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-flag.flag-group-show-default,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-modified.flag-group-show-default,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-show-default.flag-group-show-default,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-value.flag-group-show-default{right:130px;width:32px;text-align:center}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-flag.flag-group-modified,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-modified.flag-group-modified,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-show-default.flag-group-modified,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-value.flag-group-modified{right:80px;width:32px}.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-flag.flag-group-value,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-modified.flag-group-value,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-show-default.flag-group-value,.spark-user-profile-view-shell .user-flags-view .feature-flipper li.group-flag-holder .flag-group-header .flag-group-value.flag-group-value{right:10px;width:58px;text-align:center}.spark-user-profile-view-shell .user-flags-view .feature-flipper .authenticated-flags{padding-bottom:10px}.spark-user-profile-view-shell .user-flags-view a{color:#333;padding:10px;font-size:1.2em;display:block;text-decoration:none;text-align:right}.user-profile-view .spark-user-locale .spark-user-profile-field-holder{margin-bottom:.5em}.user-profile-view .spark-user-locale .dropdown-view-element,.user-profile-view .spark-user-locale .dropdown-view-element .ddv-dropdown-bg{width:14rem}.user-profile-view .spark-user-profile-view-apply-changes,.user-profile-view .x-close-btn{position:fixed;z-index:106;opacity:0;transition:opacity .2s}.user-profile-view .spark-user-profile-view-apply-changes.showing,.user-profile-view .x-close-btn.showing{transition-delay:.5s}.user-profile-view .spark-user-profile-view-apply-changes.showing:not(.disabled),.user-profile-view .x-close-btn.showing:not(.disabled){opacity:1}.user-profile-view .spark-user-profile-view-apply-changes.showing.disabled,.user-profile-view .x-close-btn.showing.disabled{opacity:.5}.user-profile-view .spark-user-profile-view-apply-changes{display:none;right:60px;top:18px}.user-profile-view .x-close-btn{right:25px;top:25px;background-image:url("+n(i(230))+");background-color:transparent;background-repeat:no-repeat;background-size:contain;background-position:50%;width:16px;height:16px;border:none;outline:none;cursor:pointer;color:transparent}.user-profile-view .x-close-btn:hover{background-image:url("+n(i(231))+")}.user-profile-view.setup .x-close-btn,.user-profile-view .user-flags-environments-flags-overlay{display:none}.user-profile-view.tab-ff .spark-user-profile-view-apply-changes{display:inherit}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-view-content-shell{padding-top:0}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-main-content:not(.tab-ff){display:none}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-main-content.tab-ff{display:inherit}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-view-dialog-title{display:none}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-view-dialog-title.tab-ff{display:inherit;padding:0 25px}.user-profile-view.tab-ff .spark-user-profile-view-shell .spark-user-profile-section.feature-flipper{text-align:center}.user-profile-view.tab-ff .user-flags-environments-flags-overlay{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:106;background-color:rgba(0,0,0,.3)}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder{position:absolute;top:50%;left:50%;width:260px;padding:16px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fff;border-radius:16px;border:1px solid #35414c;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder .flag-label{font-size:1.2em;color:#35414c;font-weight:700;margin-bottom:1em;line-height:1.25em;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;text-align:center}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder .environments-flags{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder .environments-flags .flag-holder{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:0;width:100%;padding:0 30px}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder .environments-flags .flag-holder .spark-user-profile-view-env-label{color:#35414c;font-weight:700;margin-bottom:8px;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.user-profile-view.tab-ff .user-flags-environments-flags-overlay .user-flags-environments-flags-holder .environments-flags .flag-holder .spark-profile-field-env-val{text-transform:uppercase;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}",""])},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiB3aWR0aD0iMTg2IiBoZWlnaHQ9IjE2NiIgdmlld0JveD0iMCAwIDE4NiAxNjYiPjxkZWZzPjxzdHlsZT4uY2xzLTEsLmNscy0ye2ZpbGw6IzgyOTE5YjtzdHJva2U6IzgyOTE5YjtzdHJva2Utd2lkdGg6M3B4fS5jbHMtMntmaWxsLXJ1bGU6ZXZlbm9kZH0uY2xzLTN7c3Ryb2tlOiNmY2NlMDA7c3Ryb2tlLXdpZHRoOjNweDtmaWxsOiM4MjkxOWJ9PC9zdHlsZT48L2RlZnM+PGNpcmNsZSBpZD0iZW1ibGVtIiBjeD0iOTIuNSIgY3k9Ijk3LjUiIHI9IjMzLjUiIGNsYXNzPSJjbHMtMyIvPjxwYXRoIGlkPSJob29kIiBkPSJNMzIuMzEzIDYxLjVoMTIwLjk5OWMzLjg2NiAwIDQgMy4xMzQgNCA3cy0uMTM0IDctNCA3SDMyLjMxM2MtMy44NjYgMC00LTMuMTM0LTQtN3MuMTM0LTcgNC03eiIgY2xhc3M9ImNscy0yIi8+PHBhdGggaWQ9ImxlZnQtbWlycm9yIiBkPSJNMy4zMDMgMzcuMTE3bDUuOTczLS41NzJhMi4wMDEgMi4wMDEgMCAwIDEgMi4xODIgMS44bDEuNTI1IDE1LjkyN2MuMTA2IDEuMS0uNyAyLjA3Ny0xLjggMi4xODJsLTUuOTcyLjU3MmMtMS4xLjEwNi0yLjA3Ny0uNy0yLjE4Mi0xLjhMMS41MDMgMzkuMjk5YTIuMDAxIDIuMDAxIDAgMCAxIDEuOC0yLjE4MnoiIGNsYXNzPSJjbHMtMiIvPjxwYXRoIGlkPSJyaWdodC1taXJyb3IiIGQ9Ik0xNzcuMjkgMzYuNTMxbDUuOTY4LjYxOWEyIDIgMCAwIDEgMS43ODMgMi4xOTZsLTEuNjUxIDE1LjkxNWEyIDIgMCAwIDEtMi4xOTYgMS43ODNsLTUuOTY4LS42MmEyIDIgMCAwIDEtMS43ODMtMi4xOTVsMS42NTItMTUuOTE1YTIgMiAwIDAgMSAyLjE5NS0xLjc4M3oiIGNsYXNzPSJjbHMtMiIvPjxwYXRoIGlkPSJ3aW5kc2hpZWxkLWNvbWJpbmVkIiBkPSJNMTY2LjMxMiA1My41SDIxLjMxM2MtMS4xMDUgMC02LjQ0LTIuNzUzLTctNmw2LTM0YzMuMjg1LTcuMzkgMjYuNzUyLTExLjcxNCA2My45OTktMTJoMTkuMDAxYzUyLjY3NSAxLjI4IDU4LjU3MSA3LjE4MSA2Mi45OTkgMTNsNSAzNGMtLjQyOCAyLjUzMy0zLjg5NSA1LTUgNXptLTEzNy45OTkgOTZjOC42NjEuMDE0IDguMDgzLTEuNDkyIDggNi0uMDY4IDYuMDc1LTEuOTI1IDExLTggMTEtNi4wNzYgMC04LjkzNC00LjkyNS05LTExLS4wOS04LjE1OC0xLjMyMy02LjAxNyA5LTZ6bS0zLTQ1YzAtNi4wNzUgNC45MjQtMTEgMTEtMTEgNi4wNzUgMCAxMC45OTkgNC45MjUgMTAuOTk5IDExcy00LjkyNCAxMS0xMC45OTkgMTFjLTYuMDc2IDAtMTEtNC45MjUtMTEtMTF6bTEyNC45OTktMTFjNi4wNzYgMCAxMSA0LjkyNSAxMSAxMXMtNC45MjQgMTEtMTEgMTFjLTYuMDc1IDAtMTEtNC45MjUtMTEtMTFzNC45MjUtMTEgMTEtMTF6bTkgNTZjOC42NjIuMDE0IDguMDg0LTEuNDkyIDggNi0uMDY3IDYuMDc1LTEuOTI0IDExLTggMTEtNi4wNzUgMC04LjkzMy00LjkyNS05LTExLS4wODktOC4xNTgtMS4zMjItNi4wMTcgOS02eiIgY2xhc3M9ImNscy0yIi8+PHBhdGggaWQ9ImFpci12ZW50IiBjbGFzcz0iY2xzLTEiIGQ9Ik03NSAxNDVoMzZ2NEg3NXoiLz48cGF0aCBpZD0iYnVtcGVyIiBkPSJNMTguMzEzIDEzMy41aDE0OS45OTljMS4xMDUgMCAzIDIuODk1IDMgNHY1YzAgMS4xMDUtMS44OTUgMy0zIDNoLTUxLjA4N2MtMS4zNzggMC0zLjUxMy02LTQuOTEzLTZINzMuMzEzYy0xLjk2NCAwLTEuNjY2IDYtMy41OTIgNkgxOC4zMTNjLTEuMTA1IDAtNC0xLjg5NS00LTN2LTZjMC0xLjEwNSAyLjg5NS0zIDQtM3oiIGNsYXNzPSJjbHMtMiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHN0eWxlPi5zdDB7ZmlsbDojODI5MTlifTwvc3R5bGU+PHRpdGxlPmNsb3NlPC90aXRsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNS44IDBMMCA1LjhsMi45IDIuOSA3LjMgNy40LTcuMyA3LjNMMCAyNi4xIDUuOCAzMmwyLjktMi45IDcuNC03LjQgNy4zIDcuNCAyLjggMi45IDUuOS01LjktMi45LTIuOC03LjQtNy4zIDcuNC03LjRMMzIgNS44IDI2LjEgMGwtMi44IDIuOS03LjMgNy4zLTcuMy03LjNMNS44IDB6Ii8+PC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHN0eWxlPi5zdDB7ZmlsbDojMzU0MTRjfTwvc3R5bGU+PHRpdGxlPmNsb3NlPC90aXRsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNS44IDBMMCA1LjhsMi45IDIuOSA3LjMgNy40LTcuMyA3LjNMMCAyNi4xIDUuOCAzMmwyLjktMi45IDcuNC03LjQgNy4zIDcuNCAyLjggMi45IDUuOS01LjktMi45LTIuOC03LjQtNy4zIDcuNC03LjRMMzIgNS44IDI2LjEgMGwtMi44IDIuOS03LjMgNy4zLTcuMy03LjNMNS44IDB6Ii8+PC9zdmc+Cg=="},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(56),i(40),i(219),i(11)],void 0===(r=function(e,t,i,n,r,o,a,s){var l=new s({color:"#33BEFF",name:"FacebookAPI"});return new(i.Model.extend({init:function(e){a.init(e)},setAnalyticsInfo:function(e){a.setAnalyticsInfo(e)},getCoverImage:function(e){var t=n.defer();return window.FB||t.reject(new Error("FB javascript not loaded on page")),a.getAccessToken(e).then(function(e){window.FB.api("/me",{fields:"cover"},function(e){if(!e||e.error)marvel.logger.error("Cannot retrieve Facebook cover image ",e),t.reject(new Error("No data received from Facebook when fetching cover image.",e));else if(e.cover&&e.cover.id){var i=e.cover.id;window.FB.api("/"+i,{fields:"images"},function(e){if(!e||e.error)t.resolve(null);else if(e.images&&e.images.length){var i=e.images[0];t.resolve(i)}else t.resolve(null)}.bind(this))}else t.resolve(null)}.bind(this))}.bind(this),function(e){t.reject(e)}).done(),t.promise},uploadPhoto:function(t,i,r){var s=n.defer();return a.getAccessToken(t).then(function(n){o.convertUrlToBlob(i).then(function(i){var o=new FormData;o.append("access_token",n),o.append("source",i),t.hideFromFeed?o.append("no_story",!0):o.append("no_story",!1),r&&o.append("caption",r),e.ajax({url:"https://graph.facebook.com/me/photos",type:"POST",data:o,processData:!1,contentType:!1,cache:!1,success:function(e,t,i){e&&e.id?s.resolve(e.id):s.reject(new Error("No data returned from Facebook when uploading photo. Got status "+i.status))},error:function(e,t,i){s.reject({returnVal:e.responseText,status:t,httpStatus:e.status})}})}.bind(this),function(e){s.reject(new Error("Could not convert image into a blob to be uploaded to Facebook",e))}.bind(this)).done()}.bind(this)).done(),s.promise},uploadPhotoUserFeed:function(t,i,r){var o=n.defer();return a.getAccessToken(t).then(function(t){var n=new FormData;n.append("access_token",t),n.append("object_attachment",i),r&&n.append("message",r),e.ajax({url:"https://graph.facebook.com/me/feed",type:"POST",data:n,processData:!1,contentType:!1,cache:!1,success:function(e,t,i){o.resolve(e&&e.id)},error:function(e,t,i){o.reject({returnVal:e.responseText,status:t,httpStatus:e.status})}})}.bind(this)).done(),o.promise},uploadPhotoPage:function(i,r,s,l){var c=n.defer();return a.getAccessToken(i).then(function(){this.getAccounts(i).then(function(i){var n=!1;t.each(i,function(t){if(t.id==l)return n=!0,o.convertUrlToBlob(r).then(function(i){var n=new FormData;n.append("access_token",t.access_token),n.append("source",i),n.append("caption",s),e.ajax({url:"https://graph.facebook.com/"+t.id+"/photos",type:"POST",data:n,processData:!1,contentType:!1,cache:!1,success:function(e,t,i){e&&e.id?c.resolve(e.id):c.reject(new Error("No data returned from Facebook when uploading photo to Page. Got status "+i.status))},error:function(e,t,i){alert("error"+JSON.stringify(i)),c.reject({returnVal:e.responseText,status:t,httpStatus:e.status})}})}.bind(this),function(e){c.reject(new Error("Could not convert image into a blob to be uploaded to Facebook",e))}.bind(this)).done(),!0}.bind(this)),n||c.reject(new Error("Could not find Facebook account to post to."))}.bind(this))}.bind(this),function(e){alert("error"+JSON.stringify(e))}).done(),c.promise},getProfileImage:function(){var e=n.defer();return a.getAccessToken().then(function(t){window.FB.api("/me",{fields:"picture",width:100},function(t){t&&t.data&&t.data.url?e.resolve(t.data.url):(l.error("no data (profile image) returned from facebook",t),e.reject(new Error("No data (profile image) returned from Facebook",t)))})}.bind(this),function(t){e.reject(t)}).done(),e.promise},getMe:function(e){var t=n.defer();return a.getAccessToken(e).then(function(e){window.FB.api("/me",{fields:"first_name, name, id"},function(e){e?t.resolve(e):t.reject(new Error("fb_auth: No data return about user",e))})}.bind(this),function(e){t.reject(e)}).done(),t.promise},getProfileImg:function(e){var t=n.defer();return a.getAccessToken(e).then(function(e){if(this._succesfulTokenImage){if(this._succesfulTokenImage.token===e)return void t.resolve(this._succesfulTokenImage.data);this._succesfulTokenImage=null}window.FB.api("/me",{fields:"picture"},function(i){i&&i.picture&&i.picture.data?(this._succesfulTokenImage={data:i.picture.data,token:e},t.resolve(this._succesfulTokenImage.data)):t.reject(new Error("fb_auth: No data return about user",i))}.bind(this))}.bind(this),function(e){t.reject(e)}).done(),t.promise},getAccounts:function(e){var t=n.defer();return a.getAccessToken(e).then(function(e){window.FB.api("/me/accounts",{fields:"id, name, access_token, can_post, picture, perms, category"},function(e){e&&e.data?t.resolve(e.data):t.reject(new Error("No data when retrieving accounts returned from Facebook",e))})}.bind(this),function(e){t.reject(e)}).done(),t.promise},getDataById:function(e){var t=n.defer();return a.getAccessToken().then(function(i){window.FB.api("/"+e,{},function(e){e?t.resolve(e):t.reject(new Error("No data when retrieving account information returned from Facebook",e))})}.bind(this),function(e){t.reject(e)}).done(),t.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(43);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){e.exports='<div class="um-menu-icon{{#loading}} loading{{/loading}}" style="background-image:url({{userThumb}})"></div>\n<div class="um-overlay"></div>\n<div class="um-dropdown">\n    <div class="um-user-details">\n        <div class="um-user-item">\n            <a href="{{adobeAccountManagementLink}}/profile" data-auto="um-manage-account-profile-lnk" class="um-thumb" style="background-image:url({{userThumb}})" target="_blank"></a>\n            <div class="user-item-fields">\n                <div class="um-name" data-auto="um-name">{{userDisplayName}}</div>\n                <div class="um-email" data-auto="um-email">{{userEmail}}</div>\n                <a href="{{adobeAccountManagementLink}}" target="_blank" class="um-manage-account-lnk" data-auto="um-manage-account-lnk">{{user-menu-manage-adobe-account-link}}</a>\n            </div>\n        </div>\n    </div>\n    <div class="um-main-area" data-auto="um-main-area">\n        {{#hasPremium}}\n        <div>\n        <h4>{{user-menu-spark}}</h4>\n        {{/hasPremium}}\n        {{#hasPremium}}\n        <span class="um-profile-premium-badge" data-auto="um-profile-premium-badge">{{user-menu-premium-badge}}</span>\n        </div>\n        {{/hasPremium}}\n\n        <a href="https://adobespark.zendesk.com/hc/{{zendesk-locale}}/categories/202688167-Adobe-Spark" class="um-support um-link" target="_blank" data-context="user-menu" data-item="support" data-auto="um-link-support">{{user-menu-support-link}}</a>\n\n        <a href="#" class="um-profile-settings um-link" data-auto="um-link-profile-settings" data-item="settings">{{user-menu-profile-settings-link}}</a>\n\n        {{^hasPremium}}\n        <a href="/pricing" class="um-link um-profile-upgrade" data-item="upgrade" data-aa-name="profile-upgrade" data-auto="um-profile-upgrade">{{user-menu-upgrade-link}}</a>\n        {{/hasPremium}}\n\n        {{#featureFlipper}}<a href="#" class="um-feature-flipper um-link" data-auto="um-link-feature-flipper" data-item="feature-flipper">{{user-menu-feature-flipper-link}}</a>{{/featureFlipper}}\n    </div>\n    <div class="um-sign-out-area">\n        <a href="#" class="um-sign-out um-link" data-context="user-menu" data-auto="um-link-sign-out" data-item="sign-out">{{user-menu-sign-out-link}}</a>\n    </div>\n</div>\n'},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(6),i(47)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(i.Model.extend({initialize:function(){this.deferredInit=n.defer(),o.isLoadedAndConsented().then(function(){this.onPrivacyConsentAccepted()}.bind(this)).done(),this.deferredInit.promise.then(this._init.bind(this))},_init:function(){var e;window.fbq||(e=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},window.fbq=e,window._fbq||(window._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],e("init",r.analytics.facebookPixelId),this._loadLibrary())},_loadLibrary:function(){if(window.location.hash&&window.location.hash.match(/^\#?from_ims/))this._hashChangeHandler||(this._hashChangeHandler=this._loadLibrary.bind(this),window.addEventListener("hashchange",this._hashChangeHandler));else{var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbevents.js",e("head").append(t),this._hashChangeHandler&&window.removeEventListener("hashchange",this._hashChangeHandler)}},trackEvent:function(e,t){window.fbq&&window.fbq("track",e,t)},onPrivacyConsentAccepted:function(){this.deferredInit.resolve()}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(13),i(5),i(6),i(7),i(70),i(592),i(24),i(99),i(252),i(214),i(11)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g){"use strict";var m,v,b=new g({color:"coral",name:"OrganizeController"});return(m=new(v=n.Model.extend({fixedCollections:null,dynamicCollections:null,myProjects:null,initialize:function(){t.bindAll(this,t.functionsIn(this)),this._docRefCollection=new n.Collection,l.featuresLoaded().then(function(){this._initProjectFilters()}.bind(this))},getDocRefs:function(){return this._deferDocRefs||(this._deferDocRefs=r.defer(),this._fetchDocRefs()),this._deferDocRefs.promise},_fingerprintModels:function(){return t.map(this._docRefCollection.models,function(e){return e.id}).join()},_sortDocRefs:function(){var e=this._fingerprintModels();this.projectFilters?this._docRefCollection.models=this.projectFilters.sortDocRefs(this._docRefCollection.models):this._docRefCollection.models=t.sortBy(this._docRefCollection.models,function(e){var t=e.get("modified");return-(t?new Date(t):new Date).getTime()}),e!==this._fingerprintModels()&&this._docRefCollection.trigger("reset",this._docRefCollection.models)},_includeAppProjects:function(e){return!(!e.isEnabled()||!e.isaProjectFormat())&&(!this.projectFilters||this.projectFilters.shouldShowAppProjects(e))},_handleDocPublishStates:function(e){t.each(e.runningJobs,function(e){var t=e.projectid,i=this._docRefCollection.get(t);i?i.resolve().then(function(t){t.set("publishProgress",e)}):console.log("Did not find project ref: "+t)}.bind(this)),t.each(e.downloadUrls,function(e){var t=e.projectId,i=this._docRefCollection.get(t);i?i.resolve().then(function(t){t.set("downloadUrl",e.href)}):console.log("Did not find project ref: "+t)}.bind(this))},_fetchDocRefs:function(){var e=[];if(!this.myProjects||this._finishedSyncingInitialMyProjects)t.each(u.apps,function(i){this._includeAppProjects(i)&&e.push(o.ensureSyncGroup(i.getSetting("syncGroup")).then(function(e){var n=e.getCompositeRefs(),r=n.length>0;t.each(n,function(e){this._docRefCollection.add(e)}.bind(this)),i.supportsAsyncPublish()&&i.getDocPublishStates&&r&&i.getDocPublishStates().then(this._handleDocPublishStates.bind(this)).catch(function(e){console.error("Error in updating publish states: ",e)});var o=function(t){var n,r,o;if(t.get?(n=t.get("id"),o=t.get("modified")):(n=t.name,o=t.modified),r=this._docRefCollection.findWhere({id:n})){var a=r.getResolvedDoc();a&&(o=a.getContentModifiedDate()),r.set("modified",o)}else r=e.createCompositeModelRef(n,o,{}),t.get&&r.resolveModel(t),this.projectFilters.shouldShowAppProjects(i)&&this._docRefCollection.add(r)}.bind(this);this._finishedSyncingInitialMyProjects&&(e.off("sync-add"),e.off("sync-remove"),e.off("sync-refreshed")),e.on("sync-add",function(e){e&&e.length&&(t.each(e,function(e){o(e)}.bind(this)),this._sortDocRefs())}.bind(this)),e.on("sync-remove",function(e){e&&e.length&&(t.each(e,function(e){var t=this._docRefCollection.findWhere({id:e});t&&this._docRefCollection.remove(t)}.bind(this)),this._docRefCollection.trigger("reset",!0))}.bind(this)),e.on("sync-refreshed",function(e){t.each(e,function(e){o(e)}.bind(this)),this._sortDocRefs()}.bind(this))}.bind(this)))}.bind(this)),r.allSettled(e).then(function(e){var i,n=!1;t.each(e,function(e){"rejected"===e.state&&(n||b.warn("Organizer failed to fetch doc refs",e),n=!0)}),n?(this._retryCounter=this._retryCounter||0,this._retryCounter++,i=2e3^this._retryCounter,this._retryCounter>10?window.marvel.events.trigger("service-borked"):window.marvel.events.trigger("service-error-retrying",{retries:this._retryCounter,delay:i}),t.delay(this._fetchDocRefs,i)):this.projectFilters&&this.projectFilters.filteringRequiresManifest()?(window.marvel.events.trigger("show-organizer-loading",{isLoading:!0}),this._resolveAllProjects().then(function(e){e&&(this._sortDocRefs(),this._deferDocRefs.resolve(this._docRefCollection))}.bind(this)).done()):(this._currentResolveAllProjectsPromise&&this._cancelResolveAllProjects(),this._sortDocRefs(),this._deferDocRefs.resolve(this._docRefCollection))}.bind(this));else if(!this._syncingInitialMyProjects){this._syncingInitialMyProjects=!0;var i=o.nextSync();o.syncNow(),i.then(function(){this._syncingInitialMyProjects=!1,this._finishedSyncingInitialMyProjects=!0,this._fetchDocRefs()}.bind(this))}},_cancelResolveAllProjects:function(){this._currentResolveAllProjectsPromise&&(this._currentResolveAllProjectsPromise=null)},_resolveAllProjects:function(){var e=r.defer(),i=[];return this._currentResolveAllProjectsPromise&&this._cancelResolveAllProjects(),this._currentResolveAllProjectsPromise=e.promise,t.each(this._docRefCollection.models,function(e){var t=e.resolve();i.push(t),t.then(function(e){return e}.bind(this),function(e){return l.hasFeature("organizer-can-show-bad-projects")?null:r.reject(e)}.bind(this))}.bind(this)),r.allSettled(i).then(function(t){var i=this._currentResolveAllProjectsPromise===e.promise;e.resolve(i)}.bind(this)),e.promise},_attachSyncGroupToList:function(e,i,n){e.getComposites().then(function(r){t.each(r,function(e){i.add(e)}),e.on("sync-add",function(e){e&&e.length&&(t.each(e,function(e){i.add(e)}),this._sortProjects(i))}.bind(this)),e.on("sync-remove",function(e){e&&e.length&&(t.each(e,function(e){var t=i.findWhere({id:e});t&&i.remove(t)}),i.trigger("reset",!0))}),e.on("sync-refreshed",function(e){e&&e.length||this._sortProjects(i)}.bind(this)),n.resolve(i)}.bind(this))},_fetchProjects:function(e){var t=r.defer();return o.ensureSyncGroup(e).then(function(e){this._attachSyncGroupToList(e,this.myProjects,t)}.bind(this),function(e){t.reject(e)}.bind(this)),t.promise},_sortProjects:function(e){e.models=t.sortBy(e.models,function(e){return-new Date(e.get("modified")).getTime()}),e.trigger("reset",e.models,{})},_searchForBrandedProject:function(){this._refQueueOutstanding<3&&this._refQueue.length>0&&(this._refQueueOutstanding++,this._refQueue.pop().resolve().then(function(e){this._refQueueOutstanding--,e.getMyApp().getAuthoringContextId(e)===this._searchContext.getId()?"pending"===this._brandedDefer.promise.inspect().state&&this._brandedDefer.resolve(e):this._searchForBrandedProject()}.bind(this),function(e){console.warn("Failed to resolve project while searching for brand"),this._refQueueOutstanding--,this._searchForBrandedProject()}.bind(this)).done(),this._searchForBrandedProject());0===this._refQueue.length&&0===this._refQueueOutstanding&&"pending"===this._brandedDefer.promise.inspect().state&&this._brandedDefer.resolve()},hasBrandedProjects:function(e){return this._searchContext=e,this.getDocRefs().then(function(e){return this._refQueue=[],this._refQueueOutstanding=0,this._brandedDefer=r.defer(),e.each(function(e){this._refQueue.push(e)}.bind(this)),this._searchForBrandedProject(),this._brandedDefer.promise}.bind(this))},getAllMyProjects:function(){return this._allProjectsDefer||this.getMyProjects(),this._allProjectsDefer.promise},_doGetProjects:function(){var e=[];t.each(u.apps,function(t){this._includeAppProjects(t)&&e.push(this._fetchProjects(t.getSetting("syncGroup")))}.bind(this)),this._registeredSaveHandler||(marvel.events.on("saved-composite-doc",function(e){this._sortProjects(this.myProjects)}.bind(this)),this._registeredSaveHandler=!0),r.allSettled(e).then(function(e){var i=!1;t.each(e,function(e){"rejected"===e.state&&(i||b.warn("Organizer failed to fetch projects",e),i=!0)}),i?(window.marvel.events.trigger("service-error-retrying"),t.delay(this._doGetProjects.bind(this),5e3)):(this._sortProjects(this.myProjects),this._allProjectsDefer.resolve(this.myProjects))}.bind(this))},getMyProjects:function(){return this._myProjectsDefer||(this._myProjectsDefer=r.defer(),this._allProjectsDefer=r.defer()),this.myProjects||(this.myProjects=new d,l.featuresLoaded().then(function(){this._initProjectFilters().then(function(){this._doGetProjects()}.bind(this))}.bind(this)),this._myProjectsDefer.resolve(this.myProjects)),this._myProjectsDefer.promise},deleteComposite:function(e,t){return b.info("deleteComposite",e),p.execute("deleteComposite",!1,function(t){h.getUtils().then(function(i){t.promises.push(i.unpublishCompositeDoc({mrvlDoc:e,isDelete:!0}).then(function(){return e.delete()}))})})},duplicateComposite:function(e){return p.execute("duplicateComposite",!1,function(t){t.promises.push(e.duplicate())}).then(function(e){var t=e[0].value,i=u.getAppForDoc(t);return(i.postDuplicate?i.postDuplicate(t):r()).then(function(){return this.itemActionDone(!0),t}.bind(this))}.bind(this)).catch(function(e){throw console.log(e),e})},saveAsTemplate:function(e){return marvel.events.trigger("organizer-working",{working:!0}),p.execute("saveCompositeAsTemplate",!1,function(t){t.promises.push(e.saveAsTemplate())}).then(function(t){var i=t[0].value,n=u.getAppForDoc(e);return(n.postDuplicate?n.postDuplicate(i):r()).then(function(){return marvel.events.trigger("organizer-working",{}),this.itemActionDone(!0),i}.bind(this))}.bind(this)).catch(function(e){throw marvel.events.trigger("organizer-working",{}),console.log(e),e})},createDuplicateFromCpModel:function(e){var t={eventNames:{add:"publisher-dupe-asset-added",resolved:"publisher-dupe-asset-resolved"}};marvel.events.trigger("organizer-working",{working:!0,msg:"Slate will start shortly.",progressBar:t}),p.execute("createDuplicateFromPub",!1,function(i){h.getUtils().then(function(n){var r=n.createDuplicateFromCpModel(e,t.eventNames);i.promises.push(r),r.then(function(e){var t=o.nextSync();o.syncNow(),t.then(function(){var t=u.getAppForDoc(e);t.getStorageImpl().setSaveThumbOnLoad(),marvel.navigate("design/"+t.typeName+"/"+e.get("id"),{trigger:!0}),marvel.events.trigger("organizer-working",{})})})}.bind(this))})},organizerWantsToRerender:function(e){return this.ignoreNextOverlayFocus?(this.ignoreNextOverlayFocus=!1,this.pausedOrganizerView=null,!0):this._currentlyFocusedItem?(this.pausedOrganizerView=e,!1):(this.pausedOrganizerView=null,!0)},organizerNavigating:function(e){this.organizerItemFocusOut(e)},organizerItemFocusIn:function(e){this._currentlyFocusedItem=e},organizerItemFocusOut:function(e){this._currentlyFocusedItem=null,this._deferredAfterPendingInteractions&&(this._deferredAfterPendingInteractions.resolve(),this._deferredAfterPendingInteractions=null)},_reenableUpdate:function(e){this._currentlyFocusedItem=null,this._deferredAfterPendingInteractions&&(this._deferredAfterPendingInteractions.resolve(),this._deferredAfterPendingInteractions=null),this.pausedOrganizerView&&(this.pausedOrganizerView._rerender(),this.pausedOrganizerView=null)},afterPendingInteractions:function(e){return!this._currentlyFocusedItem||e&&e!==this._currentlyFocusedItem?r.resolve():(this._deferredAfterPendingInteractions||(this._deferredAfterPendingInteractions=r.defer()),this._deferredAfterPendingInteractions.promise)},itemActionDone:function(e){this._reenableUpdate(!0),this.ignoreNextOverlayFocus=e},organizerOverlayFocus:function(e,t,i){this.ignoreNextOverlayFocus&&t||(this._updateDelayTimer&&(window.clearTimeout(this._updateDelayTimer),this._updateDelayTimer=null),t?(this._currentlyFocusedItem=e,this._updateDelayTimer=window.setTimeout(function(){this._reenableUpdate(!1),this._updateDelayTimer=null}.bind(this),15e3)):this._reenableUpdate(i))},exportProjects:function(i){var n={},o=(r.defer(),window.adobeIMS.getAccessToken()),a=s.key,l=function(t){var i=r.defer();return e.ajax({url:t,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+o),e.setRequestHeader("X-Api-Key",a)},success:function(e,n,r){if("success"!=n)return i.resolve({type:"ERROR",message:"Requested "+t+". Got back "+r.statusCode+": "+r.body,children:[]});i.resolve(e)},error:function(e){i.resolve({type:"ERROR",message:"Requested "+t+". Got back "+e.message,children:[]})}}),i.promise};return r.all(t.map(["slate","adobe-voice"],function(e){return l("https://"+s.ss+"/assets/"+e).then(function(i,n,o){return r.all(t.map(i.children,function(t){return l("https://"+s.ss+"/assets/"+e+"/"+t.name).then(function(i){t.files=i;for(var n,o,a=i.children,c=0,d=a.length;c<d;c++){var u=a[c];"manifest"==u.name?n=u:-1==u.type.search(/content\+json$/)&&-1==u.type.search(/pageSequence\+json$/)||(o=u)}var h=[];return n&&h.push(l("https://"+s.ss+"/assets/"+e+"/"+t.name+"/manifest").then(function(e){n.contents=e})),o&&h.push(l("https://"+s.ss+"/assets/"+e+"/"+t.name+"/"+o.name).then(function(e){o.contents=e})),r.all(h)}).then(function(){return t})}))}).then(function(t){n[e]=t}).catch(function(e){console.log(e)})})).then(function(){return n}).catch(function(e){console.log(e)})},_initProjectFilters:function(){return this._initProjectFiltersDefer||(this._initProjectFiltersDefer=r.defer(),marvel.events.on("project-filters-updated",this._projectFiltersUpdatedEvent.bind(this)),i.e("project-filters-controller").then(function(e){var t=i(960);this.projectFilters=new t({projectFilterId:this._getProjectFilterId()}),this._initProjectFiltersDefer.resolve(this.projectFilters)}.bind(this).bind(null,i)).catch(i.oe)),this._initProjectFiltersDefer.promise},_getProjectFilterId:function(){return"project"},getCurrentSingleFilteredApp:function(){if(this.projectFilters){var e=this.projectFilters.getAppTypesToShow();if(1===e.length)return u.getAppByType(e[0])}return null},areFiltersAlreadyReady:function(){return!!this.projectFilters},whenFiltersReady:function(){return this._initProjectFilters()},doProjectsNeedRefreshBeforeOrganizerLoad:function(e){return this.projectFilters&&this.projectFilters.doProjectsNeedRefreshBeforeOrganizerLoad(e)},_projectFiltersUpdatedEvent:function(e,t,i){e.projectFilterId===this._getProjectFilterId()&&this.refreshDocRefs().then(function(){e.refreshDefer&&e.refreshDefer.resolve()})},refreshProjectsForFiltering:function(){return this.projectFilters.refreshingProjects(),this.refreshDocRefs()},refreshDocRefs:function(){return this._deferDocRefs&&(this._deferDocRefs=null,this._docRefCollection=new n.Collection),this.getDocRefs()}}))).clsDEF=v,m}.apply(t,n))||(e.exports=r)},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(335),r=i(272),o=i(217),a=i(255),s=i(215),l=i(444),c=Object.getOwnPropertyDescriptor;t.f=i(91)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,i){var n=i(10),r=i(92),o=i(43);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],a={};a[e]=t(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(e,t,i){var n=i(243),r=i(334),o=i(126),a=i(71),s=i(703);e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,d=4==e,u=6==e,h=5==e||u,p=t||s;return function(t,s,f){for(var g,m,v=o(t),b=r(v),y=n(s,f,3),w=a(b.length),k=0,x=i?p(t,w):l?p(t,0):void 0;w>k;k++)if((h||k in b)&&(m=y(g=b[k],k,v),e))if(i)x[k]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:x.push(g)}else if(d)return!1;return u?-1:c||d?d:x}}},,function(e,t,i){var n=i(244);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";if(i(91)){var n=i(274),r=i(42),o=i(43),a=i(10),s=i(362),l=i(401),c=i(243),d=i(324),u=i(272),h=i(216),p=i(325),f=i(238),g=i(71),m=i(470),v=i(276),b=i(255),y=i(215),w=i(336),k=i(46),x=i(126),_=i(393),C=i(277),S=i(279),T=i(278).f,M=i(395),I=i(273),D=i(58),P=i(241),E=i(352),A=i(337),F=i(397),L=i(321),N=i(355),R=i(323),j=i(396),z=i(461),O=i(89),B=i(239),U=O.f,$=B.f,V=r.RangeError,H=r.TypeError,G=r.Uint8Array,K=Array.prototype,q=l.ArrayBuffer,W=l.DataView,Y=P(0),Q=P(2),X=P(3),Z=P(4),J=P(5),ee=P(6),te=E(!0),ie=E(!1),ne=F.values,re=F.keys,oe=F.entries,ae=K.lastIndexOf,se=K.reduce,le=K.reduceRight,ce=K.join,de=K.sort,ue=K.slice,he=K.toString,pe=K.toLocaleString,fe=D("iterator"),ge=D("toStringTag"),me=I("typed_constructor"),ve=I("def_constructor"),be=s.CONSTR,ye=s.TYPED,we=s.VIEW,ke=P(1,function(e,t){return Te(A(e,e[ve]),t)}),xe=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),_e=!!G&&!!G.prototype.set&&o(function(){new G(1).set({})}),Ce=function(e,t){var i=f(e);if(i<0||i%t)throw V("Wrong offset!");return i},Se=function(e){if(k(e)&&ye in e)return e;throw H(e+" is not a typed array!")},Te=function(e,t){if(!(k(e)&&me in e))throw H("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return Ie(A(e,e[ve]),t)},Ie=function(e,t){for(var i=0,n=t.length,r=Te(e,n);n>i;)r[i]=t[i++];return r},De=function(e,t,i){U(e,t,{get:function(){return this._d[i]}})},Pe=function(e){var t,i,n,r,o,a,s=x(e),l=arguments.length,d=l>1?arguments[1]:void 0,u=void 0!==d,h=M(s);if(void 0!=h&&!_(h)){for(a=h.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(u&&l>2&&(d=c(d,arguments[2],2)),t=0,i=g(s.length),r=Te(this,i);i>t;t++)r[t]=u?d(s[t],t):s[t];return r},Ee=function(){for(var e=0,t=arguments.length,i=Te(this,t);t>e;)i[e]=arguments[e++];return i},Ae=!!G&&o(function(){pe.call(new G(1))}),Fe=function(){return pe.apply(Ae?ue.call(Se(this)):Se(this),arguments)},Le={copyWithin:function(e,t){return z.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Se(this),arguments)},filter:function(e){return Me(this,Q(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return J(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return ke(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Se(this),arguments)},reduceRight:function(e){return le.apply(Se(this),arguments)},reverse:function(){for(var e,t=Se(this).length,i=Math.floor(t/2),n=0;n<i;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Se(this),e)},subarray:function(e,t){var i=Se(this),n=i.length,r=v(e,n);return new(A(i,i[ve]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===t?n:v(t,n))-r))}},Ne=function(e,t){return Me(this,ue.call(Se(this),e,t))},Re=function(e){Se(this);var t=Ce(arguments[1],1),i=this.length,n=x(e),r=g(n.length),o=0;if(r+t>i)throw V("Wrong length!");for(;o<r;)this[t+o]=n[o++]},je={entries:function(){return oe.call(Se(this))},keys:function(){return re.call(Se(this))},values:function(){return ne.call(Se(this))}},ze=function(e,t){return k(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Oe=function(e,t){return ze(e,t=b(t,!0))?u(2,e[t]):$(e,t)},Be=function(e,t,i){return!(ze(e,t=b(t,!0))&&k(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?U(e,t,i):(e[t]=i.value,e)};be||(B.f=Oe,O.f=Be),a(a.S+a.F*!be,"Object",{getOwnPropertyDescriptor:Oe,defineProperty:Be}),o(function(){he.call({})})&&(he=pe=function(){return ce.call(this)});var Ue=p({},Le);p(Ue,je),h(Ue,fe,je.values),p(Ue,{slice:Ne,set:Re,constructor:function(){},toString:he,toLocaleString:Fe}),De(Ue,"buffer","b"),De(Ue,"byteOffset","o"),De(Ue,"byteLength","l"),De(Ue,"length","e"),U(Ue,ge,{get:function(){return this[ye]}}),e.exports=function(e,t,i,l){var c=e+((l=!!l)?"Clamped":"")+"Array",u="get"+e,p="set"+e,f=r[c],v=f||{},b=f&&S(f),y=!f||!s.ABV,x={},_=f&&f.prototype,M=function(e,i){U(e,i,{get:function(){return function(e,i){var n=e._d;return n.v[u](i*t+n.o,xe)}(this,i)},set:function(e){return function(e,i,n){var r=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[p](i*t+r.o,n,xe)}(this,i,e)},enumerable:!0})};y?(f=i(function(e,i,n,r){d(e,f,c,"_d");var o,a,s,l,u=0,p=0;if(k(i)){if(!(i instanceof q||"ArrayBuffer"==(l=w(i))||"SharedArrayBuffer"==l))return ye in i?Ie(f,i):Pe.call(f,i);o=i,p=Ce(n,t);var v=i.byteLength;if(void 0===r){if(v%t)throw V("Wrong length!");if((a=v-p)<0)throw V("Wrong length!")}else if((a=g(r)*t)+p>v)throw V("Wrong length!");s=a/t}else s=m(i),o=new q(a=s*t);for(h(e,"_d",{b:o,o:p,l:a,e:s,v:new W(o)});u<s;)M(e,u++)}),_=f.prototype=C(Ue),h(_,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&N(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=i(function(e,i,n,r){var o;return d(e,f,c),k(i)?i instanceof q||"ArrayBuffer"==(o=w(i))||"SharedArrayBuffer"==o?void 0!==r?new v(i,Ce(n,t),r):void 0!==n?new v(i,Ce(n,t)):new v(i):ye in i?Ie(f,i):Pe.call(f,i):new v(m(i))}),Y(b!==Function.prototype?T(v).concat(T(b)):T(v),function(e){e in f||h(f,e,v[e])}),f.prototype=_,n||(_.constructor=f));var I=_[fe],D=!!I&&("values"==I.name||void 0==I.name),P=je.values;h(f,me,!0),h(_,ye,c),h(_,we,!0),h(_,ve,f),(l?new f(1)[ge]==c:ge in _)||U(_,ge,{get:function(){return c}}),x[c]=f,a(a.G+a.W+a.F*(f!=v),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){v.of.call(f,1)}),c,{from:Pe,of:Ee}),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",t),a(a.P,c,Le),R(c),a(a.P+a.F*_e,c,{set:Re}),a(a.P+a.F*!D,c,je),n||_.toString==he||(_.toString=he),a(a.P+a.F*o(function(){new f(1).slice()}),c,{slice:Ne}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),c,{toLocaleString:Fe}),L[c]=D?I:P,n||D||h(_,fe,P)}}else e.exports=function(){}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(5),i(12)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return i.Model.extend({initialize:function(){marvel.events.on("offline",function(){this.show()}.bind(this)),this._handleOffline=this._handleOffline.bind(this),this._handleOnline=this._handleOnline.bind(this),window.addEventListener("offline",this._handleOffline),window.addEventListener("online",this._handleOnline),r.featuresLoaded().then(function(){this.hide()}.bind(this))},handleButtonClick:function(){return!!navigator.onLine&&(e(".editor-wrapper.showing").length>0?document.location.reload():o.checkIsOffline().then(function(e){e||o.isValid().catch(function(e){return o.forceSignIn(),n.resolve()}.bind(this)).finally(function(){this.hide()}.bind(this))}.bind(this)),!0)},_handleOffline:function(){this.show()},_handleOnline:function(){},show:function(e){var i;this._showingConfirm||(i="still-offline"===e?"It looks like you are still offline.":"Refresh this page when your connection has been restored.",this._showingConfirm=!0,a.showAlert("You went offline",i,{okText:"Refresh",ignoreBackgroundClick:!0,hideCloseButton:!0}).then(function(e){this._showingConfirm=!1,e&&(this.handleButtonClick()||this.show("still-offline"))}.bind(this)),"still-offline"===e&&t.delay(function(){this._showingConfirm&&(this._showingConfirm=!1,this.show())}.bind(this),3e3))},hide:function(){this._showingConfirm&&(a.hide(),this._showingConfirm=!1)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r,o;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";e.exports?e.exports=s(i(82),i(83),i(84)):(r=[i(82),i(83),i(84)],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o))}(0,function(e,t,i,n){"use strict";var r=n&&n.URI;function o(e,t){var i=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof o))return i?n?new o(e,t):new o(e):new o;if(void 0===e){if(i)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&i)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version="1.19.1";var a=o.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function d(e){return"Array"===c(e)}function u(e,t){var i,n,r={};if("RegExp"===c(t))r=null;else if(d(t))for(i=0,n=t.length;i<n;i++)r[t[i]]=!0;else r[t]=!0;for(i=0,n=e.length;i<n;i++){(r&&void 0!==r[e[i]]||!r&&t.test(e[i]))&&(e.splice(i,1),n--,i--)}return e}function h(e,t){var i,n;if(d(t)){for(i=0,n=t.length;i<n;i++)if(!h(e,t[i]))return!1;return!0}var r=c(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function p(e,t){if(!d(e)||!d(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function f(e){return e.replace(/^\/+|\/+$/g,"")}function g(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,g).replace(/\*/g,"%2A")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.hostProtocols=["http","https"],o.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return o.domAttributes[t]}},o.encode=m,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=m,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(e,t){var i=o.encode(e+"");return void 0===t&&(t=o.escapeQuerySpace),t?i.replace(/%20/g,"+"):i},o.decodeQuery=function(e,t){e+="",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,b={encode:"encode",decode:"decode"},y=function(e,t){return function(i){try{return o[t](i+"").replace(o.characters[e][t].expression,function(i){return o.characters[e][t].map[i]})}catch(e){return i}}};for(v in b)o[v+"PathSegment"]=y("pathname",b[v]),o[v+"UrnPathSegment"]=y("urnpath",b[v]);var w=function(e,t,i){return function(n){var r;r=i?function(e){return o[t](o[i](e))}:o[t];for(var a=(n+"").split(e),s=0,l=a.length;s<l;s++)a[s]=r(a[s]);return a.join(e)}};function k(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}}function x(e,t){return function(i,n){return void 0===i?this._parts[e]||"":(null!==i&&(i+="").charAt(0)===t&&(i=i.substring(1)),this._parts[e]=i,this.build(!n),this)}}o.decodePath=w("/","decodePathSegment"),o.decodeUrnPath=w(":","decodeUrnPathSegment"),o.recodePath=w("/","encodePathSegment","decode"),o.recodeUrnPath=w(":","encodeUrnPathSegment","decode"),o.encodeReserved=y("reserved","encode"),o.parse=function(e,t){var i;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(i=e.indexOf("#"))>-1&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),(i=e.indexOf("?"))>-1&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(i=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=o.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e="");var i,n,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,r)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),l=e.indexOf(":",a+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,r)||null,t.port=null):(n=e.substring(0,r).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(r)||"/"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var i,n=e.indexOf("/"),r=e.lastIndexOf("@",n>-1?n:e.length-1);return r>-1&&(-1===n||r<n)?(i=e.substring(0,r).split(":"),t.username=i[0]?o.decode(i[0]):null,i.shift(),t.password=i[0]?o.decode(i.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,r,a={},l=e.split("&"),c=l.length,d=0;d<c;d++)i=l[d].split("="),n=o.decodeQuery(i.shift(),t),r=i.length?o.decodeQuery(i.join("="),t):null,s.call(a,n)?("string"!=typeof a[n]&&null!==a[n]||(a[n]=[a[n]]),a[n].push(r)):a[n]=r;return a},o.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=o.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},o.buildHost=function(e){var t="";return e.hostname?(o.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t="";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=":"+o.encode(e.password)),t&&(t+="@"),t},o.buildQuery=function(e,t,i){var n,r,a,l,c="";for(r in e)if(s.call(e,r)&&r)if(d(e[r]))for(n={},a=0,l=e[r].length;a<l;a++)void 0!==e[r][a]&&void 0===n[e[r][a]+""]&&(c+="&"+o.buildQueryParameter(r,e[r][a],i),!0!==t&&(n[e[r][a]+""]=!0));else void 0!==e[r]&&(c+="&"+o.buildQueryParameter(r,e[r],i));return c.substring(1)},o.buildQueryParameter=function(e,t,i){return o.encodeQuery(e,i)+(null!==t?"="+o.encodeQuery(t,i):"")},o.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)s.call(t,n)&&o.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=i);"string"==typeof e[t]&&(e[t]=[e[t]]),d(i)||(i=[i]),e[t]=(e[t]||[]).concat(i)}},o.setQuery=function(e,t,i){if("object"==typeof t)for(var n in t)s.call(t,n)&&o.setQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===i?null:i}},o.removeQuery=function(e,t,i){var n,r,a;if(d(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("RegExp"===c(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)s.call(t,a)&&o.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===c(i)?!d(e[t])&&i.test(e[t])?e[t]=void 0:e[t]=u(e[t],i):e[t]!==String(i)||d(i)&&1!==i.length?d(e[t])&&(e[t]=u(e[t],i)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,i,n){switch(c(t)){case"String":break;case"RegExp":for(var r in e)if(s.call(e,r)&&t.test(r)&&(void 0===i||o.hasQuery(e,r,i)))return!0;return!1;case"Object":for(var a in t)if(s.call(t,a)&&!o.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(i)){case"Undefined":return t in e;case"Boolean":return i===Boolean(d(e[t])?e[t].length:e[t]);case"Function":return!!i(e[t],t,e);case"Array":return!!d(e[t])&&(n?h:p)(e[t],i);case"RegExp":return d(e[t])?!!n&&h(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return d(e[t])?!!n&&h(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var e=[],t=[],i=0,n=0;n<arguments.length;n++){var r=new o(arguments[n]);e.push(r);for(var a=r.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&i++}if(!t.length||!i)return new o("");var l=new o("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},o.commonPath=function(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},o.withinString=function(e,t,i){i||(i={});var n=i.start||o.findUri.start,r=i.end||o.findUri.end,a=i.trim||o.findUri.trim,s=i.parens||o.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var c=n.exec(e);if(!c)break;var d=c.index;if(i.ignoreHtml){var u=e.slice(Math.max(d-3,0),d);if(u&&l.test(u))continue}for(var h=d+e.slice(d).search(r),p=e.slice(d,h),f=-1;;){var g=s.exec(p);if(!g)break;var m=g.index+g[0].length;f=Math.max(f,m)}if(!((p=f>-1?p.slice(0,f)+p.slice(f).replace(a,""):p.replace(a,"")).length<=c[0].length||i.ignore&&i.ignore.test(p))){var v=t(p,d,h=d+p.length,e);void 0!==v?(v=String(v),e=e.slice(0,d)+v+e.slice(h),n.lastIndex=d+v.length):n.lastIndex=h}}return n.lastIndex=0,e},o.ensureValidHostname=function(t,i){var n=!!t,r=!1;if(!!i&&(r=h(o.hostProtocols,i)),r&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+i);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=r),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new o(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=k("protocol"),a.username=k("username"),a.password=k("password"),a.hostname=k("hostname"),a.port=k("port"),a.query=x("query","?"),a.fragment=x("fragment","#"),a.search=function(e,t){var i=this.query(e,t);return"string"==typeof i&&i.length?"?"+i:i},a.hash=function(e,t){var i=this.fragment(e,t);return"string"==typeof i&&i.length?"#"+i:i},a.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(i):i}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):"":this._parts.path=e?o.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=o._parts();var n=e instanceof o,r="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[o.getDomAttribute(e)]||"",r=!1);if(!n&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!n&&!r)throw new TypeError("invalid input");var a=n?e._parts:e;for(i in a)"query"!==i&&s.call(this._parts,i)&&(this._parts[i]=a[i]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,n=!1,r=!1,a=!1,s=!1,l=!1,c=!1,d=!this._parts.urn;switch(this._parts.hostname&&(d=!1,n=o.ip4_expression.test(this._parts.hostname),r=o.ip6_expression.test(this._parts.hostname),s=(a=!(t=n||r))&&i&&i.has(this._parts.hostname),l=a&&o.idn_expression.test(this._parts.hostname),c=a&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return d;case"absolute":return!d;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return r;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var _=a.protocol,C=a.port,S=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(o.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return _.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),C.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==o.parseHost(e,i))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=i.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return S.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var i=this.protocol();return this.authority()?(i?i+"://":"")+this.authority():""}var n=o(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):"";if("/"!==o.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):"";if("/"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var i=o.buildUserinfo(this._parts);return i?i.substring(0,i.length-1):i}return"@"!==e[e.length-1]&&(e+="@"),o.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=o.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var n=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,n),a=new RegExp("^"+l(r));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(n+1);return!0!==t&&i&&i.list[r.toLowerCase()]&&i.get(this._parts.hostname)||r}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?o.decodePath(n):n}var r=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,r),s=new RegExp("^"+l(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(i+1);return e?o.decodePathSegment(n):n}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var a=new RegExp(l(this.filename())+"$");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),r?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i,n,r=this.filename(),a=r.lastIndexOf(".");return-1===a?"":(i=r.substring(a+1),n=/^[a-z0-9%]+$/i.test(i)?i:"",e?o.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var s,c=this.suffix();if(c)s=e?new RegExp(l(c)+"$"):new RegExp(l("."+c)+"$");else{if(!e)return this;this._parts.path+="."+o.recodePath(e)}return s&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,i){var n=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),a=r.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(d(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(f(t[s])))}else(t||"string"==typeof t)&&(t=f(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=f(t):a.splice(e,1);return o&&a.unshift(""),this.path(a.join(n),i)},a.segmentCoded=function(e,t,i){var n,r,a;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(d(n=this.segment(e,t,i)))for(r=0,a=n.length;r<a;r++)n[r]=o.decode(n[r]);else n=void 0!==n?o.decode(n):void 0;return n}if(d(t))for(r=0,a=t.length;r<a;r++)t[r]=o.encode(t[r]);else t="string"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,i)};var T=a.query;return a.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=o.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t)},a.setQuery=function(e,t,i){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)s.call(e,r)&&(n[r]=e[r])}return this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.addQuery=function(e,t,i){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(n,e,void 0===t?null:t),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.removeQuery=function(e,t,i){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(n,e,t),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.hasQuery=function(e,t,i){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(n,e,t,i)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,i=this._parts.path;if(!i)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,r,a="";for("/"!==(i=o.recodePath(i)).charAt(0)&&(t=!0,i="/"+i),"/.."!==i.slice(-3)&&"/."!==i.slice(-2)||(i+="/"),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=i.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(n=i.search(/\/\.\.(\/|$)/));)0!==n?(-1===(r=i.substring(0,n).lastIndexOf("/"))&&(r=n),i=i.substring(0,r)+i.substring(n+3)):i=i.substring(3);return t&&this.is("relative")&&(i=a+i.substring(1)),this._parts.path=i,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.unicode=function(){var e=o.encode,t=o.decode;o.encode=m,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(i+=e.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(i+="/"),i+=t.path(!0),t._parts.query){for(var n="",r=0,a=t._parts.query.split("&"),s=a.length;r<s;r++){var l=(a[r]||"").split("=");n+="&"+o.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+o.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=o.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,i,n,r=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof o||(e=new o(e)),r._parts.protocol)return r;if(r._parts.protocol=e._parts.protocol,this._parts.hostname)return r;for(i=0;n=a[i];i++)r._parts[n]=e._parts[n];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},a.relativeTo=function(e){var t,i,n,r,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new o(e).normalize(),t=s._parts,i=e._parts,r=s.path(),a=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==i.hostname||t.port!==i.port)return s.build();if(t.hostname=null,t.port=null,r===a)return t.path="",s.build();if(!(n=o.commonPath(r,a)))return s.build();var l=i.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(n.length)||"./",s.build()},a.equals=function(e){var t,i,n,r,a,l=this.clone(),c=new o(e),u={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(n=l.query(),r=c.query(),l.query(""),c.query(""),l.toString()!==c.toString())return!1;if(n.length!==r.length)return!1;for(a in t=o.parseQuery(n,this._parts.escapeQuerySpace),i=o.parseQuery(r,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(d(t[a])){if(!p(t[a],i[a]))return!1}else if(t[a]!==i[a])return!1;u[a]=!0}for(a in i)if(s.call(i,a)&&!u[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o})},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213)],void 0===(r=function(e,t,i,n){"use strict";function r(e){this.items=[]}return t.extend(r.prototype,{getMetaData:function(e){return[]},setImageFilter:function(e){this._imageFilter=e},getImage:function(e){return null},haveMoreMetaData:function(){return!1},newItem:function(){return null},canSetFilter:function(){return!1},fusePath:function(e){var t,i=e[0];for(t=1;t<e.length;t++)i=i.replace(/\/$/,"")+"/"+e[t].replace(/^\//,"");return i}}),r.fusePath=r.prototype.fusePath,r}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(5),i(12)],void 0===(r=function(e,t,i,n,r){"use strict";var o=[];function a(e){for(var t=o.length-1;t>=0;t--)o[t]===e&&o.splice(t,1)}return new(t.Model.extend({_execute:function(t){o.push(t),t.promises=[],t.fnExe(t),i.allSettled(t.promises).then(function(i){var o=[];e.each(i,function(e){"fulfilled"!==e.state&&o.push(e.reason)}),0===o.length?(marvel.logger.debug("transaction success: "+t.name),a(t),t.deferred&&t.deferred.resolve(i)):(a(t),t.deferred&&t.deferred.reject(o),n.checkIsOffline().then(function(i){i||!t.fnErr||"function"!=typeof t.fnErr?t.retry?(t.count=t.count||1,i?marvel.logger.warn("TBD: retry after coming back online"):(marvel.logger.warn("Transaction: retrying "+t.name+" ("+t.count+") after a failure."),e.delay(function(){t.count<t.retry?(t.count++,this._execute(t)):(marvel.logger.warn("Transaction "+t.name+" failed after "+t.retry+" retries. Informing user",o),r.showAlert("Oops!","Something is wrong ["+t.name+" failed].  Upon dismissing this message your browser will refresh.").then(function(){window.location.reload()}))}.bind(this),500*Math.pow(2,t.count)))):i?marvel.logger.warn("Transaction failure not shown "+t.name):(marvel.logger.warn("Transaction "+t.name+" failed, informing user",o),r.showAlert("Oops!","Something is wrong ["+t.name+" failed].  Upon dismissing this message your browser will refresh.").then(function(){window.location.reload()})):t.fnErr(o)}.bind(this)))}.bind(this))},inProgress:function(){return o.length>0},execute:function(e,t,n,r){marvel.logger.debug("Transaction.execute("+e+")");var o={fnExe:n,fnErr:r,name:e,retry:t,deferred:i.defer()};return this._execute(o),o.deferred.promise}}))}.apply(t,n))||(e.exports=r)},,,function(e,t,i){var n=i(46);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n=i(273)("meta"),r=i(46),o=i(215),a=i(89).f,s=0,l=Object.isExtensible||function(){return!0},c=!i(43)(function(){return l(Object.preventExtensions({}))}),d=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return c&&u.NEED&&l(e)&&!o(e,n)&&d(e),e}}},function(e,t,i){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),t.blob=0===r.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!i(474).Readable}catch(e){t.nodestream=!1}}).call(this,i(20).Buffer)},function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(e[n]=i[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,i,n,r){for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5),i(98),i(7),i(4),i(6),i(34),i(15),i(12),i(8),i(102),i(234)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f){"use strict";return i.View.extend({events:{"click .um-menu-icon":"handleMenuIconClick","click .um-user-details":"handleMenuIconClick","click .um-link":"handleLinkClick","click .um-overlay":"handleOverlayClick"},initialize:function(e){this.globalNav=e.globalNav,t.bindAll(this,t.functionsIn(this))},_hideMenu:function(){this.$el.removeClass("dropdown-showing"),e(document).off("keyup.usermenu",this.handleKeyUp),this.dropdown$.one("transitionend",function(){this.dropdown$.addClass("hide"),this.$el.find(".um-overlay").removeClass("dropdown-opened")}.bind(this))},_showMenu:function(){this.dropdown$.removeClass("hide"),t.delay(function(){this.$el.addClass("dropdown-showing"),this.$el.find(".um-overlay").addClass("dropdown-opened"),e(document).on("keyup.usermenu",this.handleKeyUp)}.bind(this),0)},isShowing:function(){return this.$el.hasClass("dropdown-showing")},handleMenuIconClick:function(e){this.isShowing()?this._hideMenu():this._showMenu()},handleOverlayClick:function(e){this._hideMenu()},handleKeyUp:function(e){e.keyCode===d.DOM_VK_ESCAPE&&this._hideMenu()},_rerender:function(){return o.userProfileLoaded().then(function(){var e={loading:!1,userEmail:o.getProfile().profile.email,userDisplayName:o.getProfile().getUserDisplayName({preferFirst:!0}),userThumb:o.getProfile().getUserProfilePictureUrl(50),featureFlipper:a.hasFeature("feature-flipper-ui"),hasPremium:a.hasFeature("entitle-brand-kit"),adobeAccountManagementLink:p.getLocalizedURL(l.adobeAccountManagementLink,h.getLocale())};this.$el.html(h.mustacheRender(f,e))}.bind(this))},trackClickEvent:function(e,t){var i=e.data("item");t=t||"profile:clicked"+i,s.trackEvent(t,{},"user:menu")},handleLinkClick:function(t){var i,n=e(t.target),r=n.data("item"),o=!0,s=!0;"support"===r?marvel.events.trigger("get-support",t):"feature-flipper"===r?(s=!1,a.hasFeature("feature-flipper-ui")&&this.editUserSettings({isFeatureFlipperRequest:!0})):"settings"===r?this.editUserSettings():"sign-out"===r?(this.trackClickEvent(n),s=!1,this.logout()):"upgrade"===r?(i="profile:clickedUpgrade",c.handleShowUpgrade("user-menu")):o=!1,s&&this.trackClickEvent(n,i),o&&t.preventDefault(),this._hideMenu()},editUserSettings:function(e){e=t.assign({mode:"edit"},e||{}),o.editSettings(e).then(function(e){e&&(this._rerender(),e.featureFlipperChanges&&(u.showWaitView(h.getString("user-menu-relaunching-message")),document.location.reload()))}.bind(this)),this._hideMenu()},logout:function(){window.Intercom&&window.Intercom("shutdown"),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),document.location.pathname&&0===document.location.pathname.indexOf(h.getLocalizedSparkPath("/sp/"))?r.logout(document.location.origin):r.logout(document.location.origin+document.location.pathname)},render:function(){return this.$el.addClass("loading"),this.$el.html(h.mustacheRender(f,{loading:!0})),this.chooserList$=this.$el.find(".um-user-details"),this.dropdown$=this.$el.find(".um-dropdown").addClass("hide"),this._rerender().then(function(){this.$el.removeClass("loading"),this.$el.removeClass("hide")}.bind(this)),e(".nav-cta-actions").addClass("has-user-menu"),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n=i(177),r=i(35),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),n.request.call(this,e,t)},o.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},function(e,t,i){"use strict";e.exports=i(186)},,function(e,t,i){"use strict";var n=i(33).nextTick,r=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var o=i(25);o.inherits=i(14);var a=i(437),s=i(372);o.inherits(u,a);for(var l=r(s.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=s.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},function(e,t,i){e.exports=function(){"use strict";return[{locale:"en",pluralRuleFunction:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e,o=r&&i[0].slice(-1),a=r&&i[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&n?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}},{locale:"en-001",parentLocale:"en",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo",other:"in {0} mo"},past:{one:"{0} mo ago",other:"{0} mo ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yrs"},past:{one:"{0} yr ago",other:"{0} yrs ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"h",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hrs"},past:{one:"{0} hr ago",other:"{0} hrs ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins"},past:{one:"{0} min. ago",other:"{0} mins ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs"},past:{one:"{0} sec. ago",other:"{0} secs ago"}}}}},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yrs."},past:{one:"{0} yr. ago",other:"{0} yrs. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mos."},past:{one:"{0} mo. ago",other:"{0} mos. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hrs."},past:{one:"{0} hr. ago",other:"{0} hrs. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins."},past:{one:"{0} min. ago",other:"{0} mins. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs."},past:{one:"{0} sec. ago",other:"{0} secs. ago"}}}}},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr",1:"next yr","-1":"last yr"},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mth",relative:{0:"this mth",1:"next mth","-1":"last mth"},relativeTime:{future:{one:"in {0} mth",other:"in {0} mth"},past:{one:"{0} mth ago",other:"{0} mth ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]}()},function(e,t,i){e.exports=function(){"use strict";return[{locale:"de",pluralRuleFunction:function(e,t){var i=!String(e).split(".")[1];return t?"other":1==e&&i?"one":"other"},fields:{year:{displayName:"Jahr",relative:{0:"dieses Jahr",1:"nächstes Jahr","-1":"letztes Jahr"},relativeTime:{future:{one:"in {0} Jahr",other:"in {0} Jahren"},past:{one:"vor {0} Jahr",other:"vor {0} Jahren"}}},"year-short":{displayName:"Jahr",relative:{0:"dieses Jahr",1:"nächstes Jahr","-1":"letztes Jahr"},relativeTime:{future:{one:"in {0} Jahr",other:"in {0} Jahren"},past:{one:"vor {0} Jahr",other:"vor {0} Jahren"}}},month:{displayName:"Monat",relative:{0:"diesen Monat",1:"nächsten Monat","-1":"letzten Monat"},relativeTime:{future:{one:"in {0} Monat",other:"in {0} Monaten"},past:{one:"vor {0} Monat",other:"vor {0} Monaten"}}},"month-short":{displayName:"Monat",relative:{0:"diesen Monat",1:"nächsten Monat","-1":"letzten Monat"},relativeTime:{future:{one:"in {0} Monat",other:"in {0} Monaten"},past:{one:"vor {0} Monat",other:"vor {0} Monaten"}}},day:{displayName:"Tag",relative:{0:"heute",1:"morgen",2:"übermorgen","-2":"vorgestern","-1":"gestern"},relativeTime:{future:{one:"in {0} Tag",other:"in {0} Tagen"},past:{one:"vor {0} Tag",other:"vor {0} Tagen"}}},"day-short":{displayName:"Tag",relative:{0:"heute",1:"morgen",2:"übermorgen","-2":"vorgestern","-1":"gestern"},relativeTime:{future:{one:"in {0} Tag",other:"in {0} Tagen"},past:{one:"vor {0} Tag",other:"vor {0} Tagen"}}},hour:{displayName:"Stunde",relative:{0:"in dieser Stunde"},relativeTime:{future:{one:"in {0} Stunde",other:"in {0} Stunden"},past:{one:"vor {0} Stunde",other:"vor {0} Stunden"}}},"hour-short":{displayName:"Std.",relative:{0:"in dieser Stunde"},relativeTime:{future:{one:"in {0} Std.",other:"in {0} Std."},past:{one:"vor {0} Std.",other:"vor {0} Std."}}},minute:{displayName:"Minute",relative:{0:"in dieser Minute"},relativeTime:{future:{one:"in {0} Minute",other:"in {0} Minuten"},past:{one:"vor {0} Minute",other:"vor {0} Minuten"}}},"minute-short":{displayName:"Min.",relative:{0:"in dieser Minute"},relativeTime:{future:{one:"in {0} Min.",other:"in {0} Min."},past:{one:"vor {0} Min.",other:"vor {0} Min."}}},second:{displayName:"Sekunde",relative:{0:"jetzt"},relativeTime:{future:{one:"in {0} Sekunde",other:"in {0} Sekunden"},past:{one:"vor {0} Sekunde",other:"vor {0} Sekunden"}}},"second-short":{displayName:"Sek.",relative:{0:"jetzt"},relativeTime:{future:{one:"in {0} Sek.",other:"in {0} Sek."},past:{one:"vor {0} Sek.",other:"vor {0} Sek."}}}}},{locale:"de-AT",parentLocale:"de"},{locale:"de-BE",parentLocale:"de"},{locale:"de-CH",parentLocale:"de"},{locale:"de-IT",parentLocale:"de"},{locale:"de-LI",parentLocale:"de"},{locale:"de-LU",parentLocale:"de"}]}()},function(e,t,i){e.exports=function(){"use strict";return[{locale:"fr",pluralRuleFunction:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}},"year-short":{displayName:"an",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} a",other:"dans {0} a"},past:{one:"il y a {0} a",other:"il y a {0} a"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},"month-short":{displayName:"m.",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} m.",other:"dans {0} m."},past:{one:"il y a {0} m.",other:"il y a {0} m."}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},"day-short":{displayName:"j",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} j",other:"dans {0} j"},past:{one:"il y a {0} j",other:"il y a {0} j"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},"hour-short":{displayName:"h",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} h",other:"dans {0} h"},past:{one:"il y a {0} h",other:"il y a {0} h"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},"minute-short":{displayName:"min",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} min",other:"dans {0} min"},past:{one:"il y a {0} min",other:"il y a {0} min"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}},"second-short":{displayName:"s",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} s",other:"dans {0} s"},past:{one:"il y a {0} s",other:"il y a {0} s"}}}}},{locale:"fr-BE",parentLocale:"fr"},{locale:"fr-BF",parentLocale:"fr"},{locale:"fr-BI",parentLocale:"fr"},{locale:"fr-BJ",parentLocale:"fr"},{locale:"fr-BL",parentLocale:"fr"},{locale:"fr-CA",parentLocale:"fr",fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"Dans {0} an",other:"Dans {0} ans"},past:{one:"Il y a {0} an",other:"Il y a {0} ans"}}},"year-short":{displayName:"a",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} a",other:"dans {0} a"},past:{one:"il y a {0} a",other:"il y a {0} a"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},"month-short":{displayName:"m.",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} m.",other:"dans {0} m."},past:{one:"il y a {0} m.",other:"il y a {0} m."}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},"day-short":{displayName:"j",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} j",other:"dans {0} j"},past:{one:"il y a {0} j",other:"il y a {0} j"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},"hour-short":{displayName:"h",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} h",other:"dans {0} h"},past:{one:"il y a {0} h",other:"il y a {0} h"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},"minute-short":{displayName:"min",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} min",other:"dans {0} min"},past:{one:"il y a {0} min",other:"il y a {0} min"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}},"second-short":{displayName:"s",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} s",other:"dans {0} s"},past:{one:"il y a {0} s",other:"il y a {0} s"}}}}},{locale:"fr-CD",parentLocale:"fr"},{locale:"fr-CF",parentLocale:"fr"},{locale:"fr-CG",parentLocale:"fr"},{locale:"fr-CH",parentLocale:"fr"},{locale:"fr-CI",parentLocale:"fr"},{locale:"fr-CM",parentLocale:"fr"},{locale:"fr-DJ",parentLocale:"fr"},{locale:"fr-DZ",parentLocale:"fr"},{locale:"fr-GA",parentLocale:"fr"},{locale:"fr-GF",parentLocale:"fr"},{locale:"fr-GN",parentLocale:"fr"},{locale:"fr-GP",parentLocale:"fr"},{locale:"fr-GQ",parentLocale:"fr"},{locale:"fr-HT",parentLocale:"fr",fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}},"year-short":{displayName:"an",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} a",other:"dans {0} a"},past:{one:"il y a {0} a",other:"il y a {0} a"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},"month-short":{displayName:"m.",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} m.",other:"dans {0} m."},past:{one:"il y a {0} m.",other:"il y a {0} m."}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},"day-short":{displayName:"jr.",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} j",other:"dans {0} j"},past:{one:"il y a {0} j",other:"il y a {0} j"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},"hour-short":{displayName:"hr",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} h",other:"dans {0} h"},past:{one:"il y a {0} h",other:"il y a {0} h"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},"minute-short":{displayName:"min.",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} min",other:"dans {0} min"},past:{one:"il y a {0} min",other:"il y a {0} min"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}},"second-short":{displayName:"s",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} s",other:"dans {0} s"},past:{one:"il y a {0} s",other:"il y a {0} s"}}}}},{locale:"fr-KM",parentLocale:"fr"},{locale:"fr-LU",parentLocale:"fr"},{locale:"fr-MA",parentLocale:"fr"},{locale:"fr-MC",parentLocale:"fr"},{locale:"fr-MF",parentLocale:"fr"},{locale:"fr-MG",parentLocale:"fr"},{locale:"fr-ML",parentLocale:"fr"},{locale:"fr-MQ",parentLocale:"fr"},{locale:"fr-MR",parentLocale:"fr"},{locale:"fr-MU",parentLocale:"fr"},{locale:"fr-NC",parentLocale:"fr"},{locale:"fr-NE",parentLocale:"fr"},{locale:"fr-PF",parentLocale:"fr"},{locale:"fr-PM",parentLocale:"fr"},{locale:"fr-RE",parentLocale:"fr"},{locale:"fr-RW",parentLocale:"fr"},{locale:"fr-SC",parentLocale:"fr"},{locale:"fr-SN",parentLocale:"fr"},{locale:"fr-SY",parentLocale:"fr"},{locale:"fr-TD",parentLocale:"fr"},{locale:"fr-TG",parentLocale:"fr"},{locale:"fr-TN",parentLocale:"fr"},{locale:"fr-VU",parentLocale:"fr"},{locale:"fr-WF",parentLocale:"fr"},{locale:"fr-YT",parentLocale:"fr"}]}()},function(e,t,i){e.exports=function(){"use strict";return[{locale:"es",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} s",other:"dentro de {0} s"},past:{one:"hace {0} s",other:"hace {0} s"}}}}},{locale:"es-419",parentLocale:"es"},{locale:"es-AR",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} días",other:"dentro de {0} días"},past:{one:"hace {0} días",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"seg.",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} seg.",other:"dentro de {0} seg."},past:{one:"hace {0} seg.",other:"hace {0} seg."}}}}},{locale:"es-BO",parentLocale:"es-419"},{locale:"es-BR",parentLocale:"es-419"},{locale:"es-BZ",parentLocale:"es-419"},{locale:"es-CL",parentLocale:"es-419"},{locale:"es-CO",parentLocale:"es-419"},{locale:"es-CR",parentLocale:"es-419"},{locale:"es-CU",parentLocale:"es-419"},{locale:"es-DO",parentLocale:"es-419",fields:{year:{displayName:"Año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"Mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"Día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"Minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"Segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} s",other:"dentro de {0} s"},past:{one:"hace {0} s",other:"hace {0} s"}}}}},{locale:"es-EA",parentLocale:"es"},{locale:"es-EC",parentLocale:"es-419"},{locale:"es-GQ",parentLocale:"es"},{locale:"es-GT",parentLocale:"es-419"},{locale:"es-HN",parentLocale:"es-419"},{locale:"es-IC",parentLocale:"es"},{locale:"es-MX",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el año próximo","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"en {0} a",other:"en {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el mes próximo","-1":"el mes pasado"},relativeTime:{future:{one:"en {0} mes",other:"en {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"en {0} m",other:"en {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"en {0} día",other:"en {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"en {0} h",other:"en {0} n"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"en {0} min",other:"en {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"ahora"},relativeTime:{future:{one:"en {0} s",other:"en {0} s"},past:{one:"hace {0} s",other:"hace {0} s"}}}}},{locale:"es-NI",parentLocale:"es-419"},{locale:"es-PA",parentLocale:"es-419"},{locale:"es-PE",parentLocale:"es-419"},{locale:"es-PH",parentLocale:"es"},{locale:"es-PR",parentLocale:"es-419"},{locale:"es-PY",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"seg.",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} seg.",other:"dentro de {0} seg."},past:{one:"hace {0} seg.",other:"hace {0} seg."}}}}},{locale:"es-SV",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} s",other:"dentro de {0} s"},past:{one:"hace {0} s",other:"hace {0} s"}}}}},{locale:"es-US",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el año próximo","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},"year-short":{displayName:"a",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} a",other:"dentro de {0} a"},past:{one:"hace {0} a",other:"hace {0} a"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el mes próximo","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},"month-short":{displayName:"m",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} m",other:"dentro de {0} m"},past:{one:"hace {0} m",other:"hace {0} m"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},"day-short":{displayName:"d",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"hace {0} h",other:"hace {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"hace {0} min",other:"hace {0} min"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} s",other:"dentro de {0} s"},past:{one:"hace {0} s",other:"hace {0} s"}}}}},{locale:"es-UY",parentLocale:"es-419"},{locale:"es-VE",parentLocale:"es-419"}]}()},function(e,t,i){e.exports=function(){"use strict";return[{locale:"it",pluralRuleFunction:function(e,t){var i=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&i?"one":"other"},fields:{year:{displayName:"anno",relative:{0:"quest’anno",1:"anno prossimo","-1":"anno scorso"},relativeTime:{future:{one:"tra {0} anno",other:"tra {0} anni"},past:{one:"{0} anno fa",other:"{0} anni fa"}}},"year-short":{displayName:"anno",relative:{0:"quest’anno",1:"anno prossimo","-1":"anno scorso"},relativeTime:{future:{one:"tra {0} anno",other:"tra {0} anni"},past:{one:"{0} anno fa",other:"{0} anni fa"}}},month:{displayName:"mese",relative:{0:"questo mese",1:"mese prossimo","-1":"mese scorso"},relativeTime:{future:{one:"tra {0} mese",other:"tra {0} mesi"},past:{one:"{0} mese fa",other:"{0} mesi fa"}}},"month-short":{displayName:"mese",relative:{0:"questo mese",1:"mese prossimo","-1":"mese scorso"},relativeTime:{future:{one:"tra {0} mese",other:"tra {0} mesi"},past:{one:"{0} mese fa",other:"{0} mesi fa"}}},day:{displayName:"giorno",relative:{0:"oggi",1:"domani",2:"dopodomani","-2":"l’altro ieri","-1":"ieri"},relativeTime:{future:{one:"tra {0} giorno",other:"tra {0} giorni"},past:{one:"{0} giorno fa",other:"{0} giorni fa"}}},"day-short":{displayName:"g",relative:{0:"oggi",1:"domani",2:"dopodomani","-2":"l’altro ieri","-1":"ieri"},relativeTime:{future:{one:"tra {0} g",other:"tra {0} gg"},past:{one:"{0} g fa",other:"{0} gg fa"}}},hour:{displayName:"ora",relative:{0:"quest’ora"},relativeTime:{future:{one:"tra {0} ora",other:"tra {0} ore"},past:{one:"{0} ora fa",other:"{0} ore fa"}}},"hour-short":{displayName:"h.",relative:{0:"quest’ora"},relativeTime:{future:{one:"tra {0} h",other:"tra {0} h"},past:{one:"{0} h fa",other:"{0} h fa"}}},minute:{displayName:"minuto",relative:{0:"questo minuto"},relativeTime:{future:{one:"tra {0} minuto",other:"tra {0} minuti"},past:{one:"{0} minuto fa",other:"{0} minuti fa"}}},"minute-short":{displayName:"min",relative:{0:"questo minuto"},relativeTime:{future:{one:"tra {0} min",other:"tra {0} min"},past:{one:"{0} min fa",other:"{0} min fa"}}},second:{displayName:"secondo",relative:{0:"ora"},relativeTime:{future:{one:"tra {0} secondo",other:"tra {0} secondi"},past:{one:"{0} secondo fa",other:"{0} secondi fa"}}},"second-short":{displayName:"s",relative:{0:"ora"},relativeTime:{future:{one:"tra {0} s",other:"tra {0} sec."},past:{one:"{0} s fa",other:"{0} sec. fa"}}}}},{locale:"it-CH",parentLocale:"it"},{locale:"it-SM",parentLocale:"it"},{locale:"it-VA",parentLocale:"it"}]}()},function(e,t,i){e.exports=function(){"use strict";return[{locale:"pt",pluralRuleFunction:function(e,t){var i=String(e).split(".")[0];return t?"other":0==i||1==i?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"em {0} ano",other:"em {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},"year-short":{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"em {0} ano",other:"em {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"em {0} mês",other:"em {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},"month-short":{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"em {0} mês",other:"em {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"em {0} dia",other:"em {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},"day-short":{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"em {0} dia",other:"em {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"em {0} hora",other:"em {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"em {0} h",other:"em {0} h"},past:{one:"há {0} h",other:"há {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"em {0} minuto",other:"em {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},"minute-short":{displayName:"min.",relative:{0:"este minuto"},relativeTime:{future:{one:"em {0} min.",other:"em {0} min."},past:{one:"há {0} min.",other:"há {0} min."}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"em {0} segundo",other:"em {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}},"second-short":{displayName:"seg.",relative:{0:"agora"},relativeTime:{future:{one:"em {0} seg.",other:"em {0} seg."},past:{one:"há {0} seg.",other:"há {0} seg."}}}}},{locale:"pt-AO",parentLocale:"pt-PT"},{locale:"pt-PT",parentLocale:"pt",pluralRuleFunction:function(e,t){var i=!String(e).split(".")[1];return t?"other":1==e&&i?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"dentro de {0} ano",other:"dentro de {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},"year-short":{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"dentro de {0} ano",other:"dentro de {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"dentro de {0} mês",other:"dentro de {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},"month-short":{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"dentro de {0} mês",other:"dentro de {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"dentro de {0} dia",other:"dentro de {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},"day-short":{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"dentro de {0} dia",other:"dentro de {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},"hour-short":{displayName:"h",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} h",other:"dentro de {0} h"},past:{one:"há {0} h",other:"há {0} h"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},"minute-short":{displayName:"min",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} min",other:"dentro de {0} min"},past:{one:"há {0} min",other:"há {0} min"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}},"second-short":{displayName:"s",relative:{0:"agora"},relativeTime:{future:{one:"dentro de {0} s",other:"dentro de {0} s"},past:{one:"há {0} s",other:"há {0} s"}}}}},{locale:"pt-CH",parentLocale:"pt-PT"},{locale:"pt-CV",parentLocale:"pt-PT"},{locale:"pt-GQ",parentLocale:"pt-PT"},{locale:"pt-GW",parentLocale:"pt-PT"},{locale:"pt-LU",parentLocale:"pt-PT"},{locale:"pt-MO",parentLocale:"pt-PT"},{locale:"pt-MZ",parentLocale:"pt-PT"},{locale:"pt-ST",parentLocale:"pt-PT"},{locale:"pt-TL",parentLocale:"pt-PT"}]}()},function(e,t,i){"use strict";(t=e.exports=i(146).default).default=t},function(e,t,i){var n,r;n=[i(28),i(3),i(29),i(121),i(16),i(117),i(69),i(8),i(115)],void 0===(r=function(e,t,n,r,o,a,s,l,c){"use strict";var d={};return new(n.extend({typeName:"page",getConfig:function(){return{syncGroup:"slate",scope:"slate",community:window.marvel.settings.lucac,newDocName:"My Page",doctype:"application/vnd.adobe.luca.document+dcx",legacyName:"Slate",displayName:"Page",templateSyncGroup:"slate-template",templateDCXType:"application/vnd.adobe.luca.sptemplate+dcx"}},checkDocCompatibility:function(e,i){var n=e.getDCXRoot().getValue("slate#modelVersion")||"",o=r.getEditorModelVersion(),a=r.compareVersionNumbers(n,o),s=marvel.features.hasFeature("slate-enable-model-update-confirmation"),u=r.compareVersionNumbers(o,r.productionModelVersion)>0,h=marvel.features.hasFeature("slate-debug-locale");return c.init(l.getLocale()).then(function(){return"opening"===i&&a<0&&s&&(u||h)?d[e.id]||window.confirm(c.getString("project.compatibility.confirm.update"))?void(d[e.id||""]=!0):t.reject({code:"USER_CANCELED"}):a>0?t.reject({code:"NOT_COMPATIBLE",usermsg:c.getString("project.compatibility.requires.newer.version")}):t.resolve()})},lazyLoad:function(e){Promise.all([i.e(0),i.e(2),i.e(1),i.e(6),i.e("slate-web")]).then(function(t){var n=i(315),r=i(299);this.setStorageImpl(r),this.setAppViewImplCls(n),this.setPublishImpl(r),e.resolve()}.bind(this).bind(null,i)).catch(i.oe)},getDocContentETag:function(e){return e.getComponentEtag("/luca.json")},resolveConflict:function(e,t){return this.load().then(function(){return this.getStorageImpl().resolveConflict(e,t),!0}.bind(this))},resetDocPublishData:function(i,n){var r=[this.setCPAssetId(i,null)];t.allSettled(r).then(function(t){var i=[];e.each(t,function(e){"fulfilled"!==e.state&&i.push(e.reason)}),0===i.length?n.resolve():n.reject(i)})},isDocPublished:function(e){return!!this.getCPAssetId(e)},supportsDownload:function(){return!1},getProjectName:function(e,t){return"social"==t?this.getStorageImpl().getLastSharedTitle(e):e.get("name")||this.getSetting("newDocName")},setProjectName:function(e,t){return e.saveChanges(function(e){e.setValue("name",t)})},usesContentModifiedEtags:function(){return!1},hasContentBeenUpdatedSincePublish:function(e,t){var i=n.prototype.hasContentBeenUpdatedSincePublish.apply(this,arguments),r=e.getDCXRoot().getValue("slate#data"),o=!1;return r&&(o=r.headerDisabled!==r.lastPublishedHeaderDisabled),i||o},getThemeController:function(e){var n=t.defer();return Promise.all([i.e(0),i.e(1),i.e(6),i.e(10)]).then(function(t){var r=i(300);r.authContext=e,n.resolve(r)}.bind(this).bind(null,i)).catch(i.oe),n.promise},getThemeEditorView:function(){var e=t.defer();return Promise.all([i.e(0),i.e(2),i.e("vendors~brand-kit-controller~brand-kit-editor~m-storage~slate-app-ac-theme-editor"),i.e(1),i.e("slate-app-ac-theme-editor")]).then(function(t){var n=i(316);e.resolve(n)}.bind(null,i)).catch(i.oe),e.promise},stripBranding:function(e,t){return n.prototype.stripBranding.apply(this,arguments).then(function(){var i=e.getDCXRoot(),n=i.getValue("slate#data");if(n&&(n.headerDisabled=void 0,i.setValue("slate#data",n)),!t)return e.saveChanges(function(){})})},getDocumentAsync:function(e){return e.getComponent("/luca.json").then(function(e){return e?JSON.parse(e):null})},getFontsUsed:function(e){return this.getDocumentAsync(e).then(function(t){return this.getFontsUsedFromSlateTheme(t.theme,e)}.bind(this))},getFontsUsedFromSlateTheme:function(i,n){var r=[],l={};return t.all([function(e){return o.getController().then(function(t){return t.getActiveContext(e)})}(n),s.SparkFonts.getFontRegistry()]).spread(function(t,n){var o=new s(n),c=o.getBodySetByCssNameLookup(),d=a.getThemeTextNodes(i);function u(e,t){t&&!l[t]&&(l[t]=!0,r.push({source:e,lookupKey:t}))}function h(t,i,n){if(i){var r=c[t];if(r)return void e.each(r.faces,function(e){u("spark-provided",e.lookupKey)})}u("spark-provided",n)}return e.each(d,function(e){var i=e.node,n=s.componentsThatUseBodyFonts[e.component];if(t&&i.assetId){var r=t.getFontById(i.assetId);if(!r)return;var a=r.cssName(),l=r.lookupKey();r.isCustomFont()?function(e,i,n){if(i){var r=t.getCustomBodyFontSet(e.subgroupName());if(r)return void r.forEach(function(e){u(e.source(),e.lookupKey())})}u(e.source(),n)}(r,n,l):r.isSparkFont()&&h(a,n,l)}else{var c=o.getFontFromThemeNode(i);c&&h(i.fontFamily,n,c.lookupKey)}}),r})},getLicenseableResources:function(t,i){i=i||{};return this.getDocumentAsync(t).then(function(t){if(!t)return[];var n=[];return e.each(t.pages,function(t){e.each(t.sections,function(t){n=n.concat(e.filter(t.content_items,function(t){var n=e.get(t,"image.license.type",""),r="royalty_free_standard"===n||"royalty_free_extended"===n,o="royalty_free"===n,a=r||o;switch(i.licensed){case!0:return r;case!1:return o;default:return a}}))})}),n=e.map(n,function(e){return e.image.license})})}}))}.apply(t,n))||(e.exports=r)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=!1},function(e,t,i){var n=i(446),r=i(379);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(238),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},function(e,t,i){var n=i(44),r=i(447),o=i(379),a=i(378)("IE_PROTO"),s=function(){},l=function(){var e,t=i(376)("iframe"),n=o.length;for(t.style.display="none",i(381).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(s.prototype=n(e),i=new s,s.prototype=null,i[a]=e):i=l(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(446),r=i(379).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(215),r=i(126),o=i(378)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){var n=i(46);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){var n;void 0===(n=function(){"use strict";function e(e){return"[Throws: "+(e?e.message:"?")+"]"}return function(t,i){var n=Object.assign({},{depth:4},i),r=[];return function t(i){if(null===i||"object"!=typeof i)return i;if(-1!==r.indexOf(i))return"[Circular]";if(r.length>=n.depth)return"[Object]";if(r.push(i),"function"==typeof i.toJSON)try{var o=t(i.toJSON());return r.pop(),o}catch(t){return e(t)}if(Array.isArray(i)){var a=i.map(t);return r.pop(),a}var s=Object.keys(i).reduce(function(n,r){return n[r]=t(function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))try{return t[i]}catch(t){return e(t)}return t[i]}(i,r)),n},{});return r.pop(),s}(t)}}.apply(t,[]))||(e.exports=n)},function(e,t,i){var n,r;n=[i(0),i(2),i(1)],void 0===(r=function(e,t,i){"use strict";return new(i.Model.extend({analyticIsValid:function(e,t){var i;if(this.analyticsSchema.actions[e]){i="true";for(var n=this.analyticsSchema.actions[e],r=this.analyticsSchema.persistentMetadata,o=n.concat(r),a=0;a<o.length;a++){var s=o[a];switch(s){case"platformName":"web"!==t[s]&&(i="false",window.marvel.logger.debug('"platformName" should be "web"'));break;case"sendTimestamp":var l=Date.now(),c=t[s];(c<l-1e3||c>l)&&(i="false",window.marvel.logger.debug("Timestamp is "+c+", though this is erroneous given that the current time is "+l));break;case"projectId":var d=t[s];"string"==typeof d&&d.length||(i="false",window.marvel.logger.debug('"projectId" is either an empty string or not a string'));break;default:var u=this.analyticsSchema.metadataValues[s];u||window.marvel.logger.debug("Analytics Validator schema is malformed for ["+e+"]'s ["+s+"]"),u&&u.indexOf(t[s])<0&&(i="false",window.marvel.logger.debug('The analytics metadata key "'+s+'" must contain one of the following values: ["'+u.join('" , "')+'"]'))}}}else i="unknown";return i},analyticsSchema:{actions:{"authentication:loginScreenDisplayed":["userType"],"authentication:loginSucceeded":["isNewToSpark","loginMethod"],"brandKit:setupCompleted":["brandKitCompleteness","brandKitId","isUpdated"],endPurchaseFlow:["reason"],"project:editorDisplayed":["isNewProject","projectId"],"project:createClicked":[],"project:exportCompleted":["exportMethod","exportedWithBranding","isReExport","projectId"]},persistentMetadata:["deviceName","platformName","sendTimestamp","sparkFormat"],metadataValues:{brandKitCompleteness:["true","false"],brandKitId:["BRAND_KIT_ID"],deviceName:["ANDROID_DEVICE_NAME","iPad","iPhone","iPod","web"],exportedWithBranding:["true","false"],exportMethod:["ANDROID_EXPORT_METHOD","copyEmbedToClipboard","copyLinkToClipboard","download","email","facebook","twitter","sms"],isNewToSpark:["true","false"],isNewProject:["true","false"],isUpdated:["true","false"],isReExport:["true","false"],loginMethod:["adobeID","directEmail","facebookID","googleID","sharedKeychain","adobeID:edu"],platformName:["android","ios","web"],projectId:["PROJECT_ID"],reason:["success","failure","cancel"],sendTimestamp:["UNIX_MILLISECOND_TIMESTAMP"],sparkFormat:["page","post","video","site","webNoFormat"],userType:["knownNotAuth","unknown"]}}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";i.r(t);var n=i(21),r=i(61),o=i(113),a=i(114),s=new(function(){function e(){n(this,e),this._sendQueue=[],this._isFlushing=!1}return r(e,[{key:"push",value:function(e){a(e)?o(e.sendHandler)?(this._sendQueue.push(e),this._attemptFlush()):this._logError("Must pass in analytic.sendHandler so analytic can be sent"):this._logError("Must pass in plain analytic object.")}},{key:"_attemptFlush",value:function(){this._isFlushing||(this._isFlushing=!0,this._flush())}},{key:"_flush",value:function(){if(this._sendQueue.length<=0)this._isFlushing=!1;else{var e=this._sendQueue.shift();try{e.sendHandler(e.analyticName,e.eventData,e.pageName,this._getWrappedDoneHandler(e))}catch(t){this._logError("Exception thrown from within analytic sendHandler"+" during queue flush attempt for analytic: ".concat(JSON.stringify(e))+" Error: ".concat(JSON.stringify(t))),this._flush()}}}},{key:"_getWrappedDoneHandler",value:function(e){var t=this;return function(){try{e.doneHandler&&e.doneHandler()}catch(i){t._logError("analytic.doneHandler threw exception: ".concat(JSON.stringify(i))+" with analytic: ".concat(JSON.stringify(e)))}finally{t._flush()}}}},{key:"_logError",value:function(e){window.marvel.logger.error("".concat("AnalyticsSendQueueLog: ").concat(e))}}]),e}());t.default=s},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(6),i(47)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(i.Model.extend({initialize:function(){this.deferredInit=n.defer(),o.isLoadedAndConsented().then(function(){this.onPrivacyConsentAccepted()}.bind(this)).done()},trackFirstLaunch:function(){this.deferredInit.promise.then(function(){var e=1e13*(Math.random()+""),t=document.createElement("iframe");t.src="https://1295336.fls.doubleclick.net/activityi;src=1295336;type=adobe994;cat=proje0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+e+"?",t.width="0",t.height="0",t.frameBorder="0",t.style.position="absolute",t.style.top="0",t.style.left="-500px",document.body.appendChild(t)})},onPrivacyConsentAccepted:function(){this.deferredInit.resolve()}}))}.apply(t,n))||(e.exports=r)},function(e,t){e.exports=localeStrings},,function(e,t,i){var n,r;n=[i(0),i(28),i(1),i(3),i(29),i(13)],void 0===(r=function(e,t,n,r,o,a){"use strict";return new(o.extend({typeName:"page-template",getConfig:function(){return{syncGroup:"slate-template",scope:"slate-template",newDocName:"Blank Template (unused)",doctype:"application/vnd.adobe.luca.sptemplate+dcx",displayName:"Page Template",templateSyncGroup:"slate",templateDCXType:"application/vnd.adobe.luca.document+dcx"}},isaProjectFormat:function(){return!1},supportsCollaboration:function(){return!0},lazyLoad:function(e){Promise.resolve().then(function(t){var n=new(i(45));this.setStorageImpl(n),e.resolve()}.bind(this).bind(null,i)).catch(i.oe)},usesContentModifiedEtags:function(){return!1}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(65),i(1),i(3),i(29),i(13)],void 0===(r=function(e,t,n,r,o,a){"use strict";return new(o.extend({typeName:"adobe-voice-template",getConfig:function(){return{syncGroup:"adobe-voice-template",scope:"voice-template",newDocName:"Blank Template (unused)",doctype:"application/vnd.adobe.ginger.sptemplate+dcx",displayName:"Page Template",templateSyncGroup:"adobe-voice",templateDCXType:"application/vnd.adobe.ginger.document+dcx"}},isaProjectFormat:function(){return!1},supportsCollaboration:function(){return!0},lazyLoad:function(e){Promise.resolve().then(function(t){var n=new(i(45));this.setStorageImpl(n),e.resolve()}.bind(this).bind(null,i)).catch(i.oe)},usesContentModifiedEtags:function(){return!1}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(29),i(13)],void 0===(r=function(e,t,n,r,o,a){"use strict";return new(o.extend({typeName:"authoring-context",getProjectName:function(e,t){return e.get("name")||this.getSetting("newDocName")},getConfig:function(){return{syncGroup:"adobe-spark-authoring-contexts",scope:"authoring-context",newDocName:"My Authoring Context",doctype:"application/vnd.adobe.authoringcontext.document+dcx",displayName:"Authoring Context"}},isaProjectFormat:function(){return!1},lazyLoad:function(e){i.e("authoring-context").then(function(t){var n=i(301);this.setStorageImpl(n),e.resolve()}.bind(this).bind(null,i)).catch(i.oe)},usesContentModifiedEtags:function(){return!1},resolveConflict:function(e,t,n,r){return i.e("brand-kit-conflict-resolver").then(function(o){var s=i(318);s.muiStorage=a,s.resolveConflict(e,t,n,r)}.bind(null,i)).catch(i.oe),!0}}))}.apply(t,n))||(e.exports=r)},,,,,function(e,t,i){"use strict";i.r(t);var n=i(21),r=i(38),o=i(30),a=i(39),s=i(52),l=function(e){function t(e){var i;return n(this,t),(i=r(this,o(t).call(this,e))).name=i.constructor.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),i.constructor),i}return a(t,e),t}(i(88)(Error)),c=function(e){function t(e,i){var a;return n(this,t),(a=r(this,o(t).call(this,e))).userMessage=i&&i.userMessage,a}return a(t,l),t}();t.default=c},,,function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1)],void 0===(r=function(e,t,i,n){"use strict";return n.Model.extend({PROPERTIES_TO_CHECK:null,SERVICE_NAME:null,WAIT_TIME:9e4,init:function(){return t.bindAll(this,t.functionsIn(this)),this.initializeDefered?this.initializeDefered.promise:(this.initializeDefered=i.defer(),this._loadLibrary(),this._whenAvailable(this.SERVICE_NAME,this.PROPERTIES_TO_CHECK).then(function(){this.initializeDefered.resolve()}.bind(this),function(){this.initializeDefered.reject()}.bind(this)),this.initializeDefered.promise)},_loadLibrary:function(){return!1},_whenAvailable:function(e,n){var r=this.WAIT_TIME,o=i.defer(),a=function(e,i){var n=!1;return t.each(i,function(t,i){typeof window[e][i]===t&&(n=!0)}),n},s=function(){var t=Date.now()+r;if(!window[e]||n&&!a(e,n))var i=window.setInterval(function(){!window[e]||n&&!a(e,n)?Date.now()>=t&&(window.marvel.logger.warn(e+" is not available globally"),clearInterval(i),o.reject()):(clearInterval(i),o.resolve())},2);else o.resolve()};return"complete"!==document.readyState?window.attachEvent?window.attachEvent("onload",s):window.addEventListener("load",s,!1):s(),o.promise}})}.apply(t,n))||(e.exports=r)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(89).f,r=i(215),o=i(58)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,i){var n=i(58)("unscopables"),r=Array.prototype;void 0==r[n]&&i(216)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,i){"use strict";var n=i(42),r=i(89),o=i(91),a=i(58)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(125);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},function(e,t,i){"use strict";for(var n=i(59),r=i(257),o=i(363),a=i(218),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}t.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,i,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t}(e)},t.utf8decode=function(e){return r.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,o,a=e.length,l=new Array(2*a);for(i=0,t=0;t<a;)if((r=e[t++])<128)l[i++]=r;else if((o=s[r])>4)l[i++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<a;)r=r<<6|63&e[t++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(e=n.transformTo(r.uint8array?"uint8array":"array",e))},n.inherits(c,a),c.prototype.processChunk=function(e){var i=n.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=i;(i=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),i.set(o,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var a=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}(i),l=i;a!==i.length&&(r.uint8array?(l=i.subarray(0,a),this.leftOver=i.subarray(a,i.length)):(l=i.slice(0,a),this.leftOver=i.slice(a,i.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,n.inherits(d,a),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t,i){var n;void 0===(n=function(){"use strict";function e(e,t){var a=e[0],s=e[1],l=e[2],c=e[3];s=o(s=o(s=o(s=o(s=r(s=r(s=r(s=r(s=n(s=n(s=n(s=n(s=i(s=i(s=i(s=i(s,l=i(l,c=i(c,a=i(a,s,l,c,t[0],7,-680876936),s,l,t[1],12,-389564586),a,s,t[2],17,606105819),c,a,t[3],22,-1044525330),l=i(l,c=i(c,a=i(a,s,l,c,t[4],7,-176418897),s,l,t[5],12,1200080426),a,s,t[6],17,-1473231341),c,a,t[7],22,-45705983),l=i(l,c=i(c,a=i(a,s,l,c,t[8],7,1770035416),s,l,t[9],12,-1958414417),a,s,t[10],17,-42063),c,a,t[11],22,-1990404162),l=i(l,c=i(c,a=i(a,s,l,c,t[12],7,1804603682),s,l,t[13],12,-40341101),a,s,t[14],17,-1502002290),c,a,t[15],22,1236535329),l=n(l,c=n(c,a=n(a,s,l,c,t[1],5,-165796510),s,l,t[6],9,-1069501632),a,s,t[11],14,643717713),c,a,t[0],20,-373897302),l=n(l,c=n(c,a=n(a,s,l,c,t[5],5,-701558691),s,l,t[10],9,38016083),a,s,t[15],14,-660478335),c,a,t[4],20,-405537848),l=n(l,c=n(c,a=n(a,s,l,c,t[9],5,568446438),s,l,t[14],9,-1019803690),a,s,t[3],14,-187363961),c,a,t[8],20,1163531501),l=n(l,c=n(c,a=n(a,s,l,c,t[13],5,-1444681467),s,l,t[2],9,-51403784),a,s,t[7],14,1735328473),c,a,t[12],20,-1926607734),l=r(l,c=r(c,a=r(a,s,l,c,t[5],4,-378558),s,l,t[8],11,-2022574463),a,s,t[11],16,1839030562),c,a,t[14],23,-35309556),l=r(l,c=r(c,a=r(a,s,l,c,t[1],4,-1530992060),s,l,t[4],11,1272893353),a,s,t[7],16,-155497632),c,a,t[10],23,-1094730640),l=r(l,c=r(c,a=r(a,s,l,c,t[13],4,681279174),s,l,t[0],11,-358537222),a,s,t[3],16,-722521979),c,a,t[6],23,76029189),l=r(l,c=r(c,a=r(a,s,l,c,t[9],4,-640364487),s,l,t[12],11,-421815835),a,s,t[15],16,530742520),c,a,t[2],23,-995338651),l=o(l,c=o(c,a=o(a,s,l,c,t[0],6,-198630844),s,l,t[7],10,1126891415),a,s,t[14],15,-1416354905),c,a,t[5],21,-57434055),l=o(l,c=o(c,a=o(a,s,l,c,t[12],6,1700485571),s,l,t[3],10,-1894986606),a,s,t[10],15,-1051523),c,a,t[1],21,-2054922799),l=o(l,c=o(c,a=o(a,s,l,c,t[8],6,1873313359),s,l,t[15],10,-30611744),a,s,t[6],15,-1560198380),c,a,t[13],21,1309151649),l=o(l,c=o(c,a=o(a,s,l,c,t[4],6,-145523070),s,l,t[11],10,-1120210379),a,s,t[2],15,718787259),c,a,t[9],21,-343485551),e[0]=d(a,e[0]),e[1]=d(s,e[1]),e[2]=d(l,e[2]),e[3]=d(c,e[3])}function t(e,t,i,n,r,o){return t=d(d(t,e),d(n,o)),d(t<<r|t>>>32-r,i)}function i(e,i,n,r,o,a,s){return t(i&n|~i&r,e,i,o,a,s)}function n(e,i,n,r,o,a,s){return t(i&r|n&~r,e,i,o,a,s)}function r(e,i,n,r,o,a,s){return t(i^n^r,e,i,o,a,s)}function o(e,i,n,r,o,a,s){return t(n^(i|~r),e,i,o,a,s)}function a(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}var s="0123456789abcdef".split("");function l(e){for(var t="",i=0;i<4;i++)t+=s[e>>8*i+4&15]+s[e>>8*i&15];return t}function c(t){return function(e){for(var t=0;t<e.length;t++)e[t]=l(e[t]);return e.join("")}(function(t){var i,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)e(r,a(t.substring(i-64,i)));t=t.substring(i-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)o[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(e(r,o),i=0;i<16;i++)o[i]=0;return o[14]=8*n,e(r,o),r}(t))}var d=function(e,t){return e+t&4294967295};return"5d41402abc4b2a76b9719d911017c592"!=c("hello")&&(d=function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}),c}.apply(t,[]))||(e.exports=n)},function(e,t){e.exports='<div class="glb-nav-overlay" data-auto="glb-nav-overlay"></div>\n<div class="glb-nav glb-nav-vertical glb-nav-left glb-nav-desktop" data-auto="glb-nav">\n    <div class="glb-nav-top">\n        <div class="glb-nav-logo-wrapper clearfix">\n            <a href = "#" class="glb-nav-close-btn" data-auto="glb-nav-close-btn"></a>\n            <a href="/{{localePathPrefix}}" tabindex="-1"><p class="glb-nav-logo" data-auto="glb-nav-logo">{{mobile-menu-title}}</p></a>\n        </div>\n        <button class="glb-nav-my-projects glb-nav-link glb-nav-link-projects" data-dest="projects" data-auto="glb-nav-link-projects">{{mobile-menu-my-projects}}</button>\n        <hr class="glb-nav-line" />\n        <div class="glb-nav-links">\n            <a href="/{{localePathPrefix}}gallery/" class="glb-nav-link glb-nav-link-gallery" data-auto="glb-nav-link-gallery">{{mobile-menu-inspiration-gallery}}</a>\n            <a href="/blog/" class="glb-nav-link glb-nav-link-blog" data-auto="glb-nav-link-blog">{{mobile-menu-blog}}</a>\n            <a href="https://adobespark.uservoice.com" class="glb-nav-link glb-nav-link-user-voice suggest-feature-link hide-if-user-menu" target="_blank" data-context="globalnav" data-auto="glb-nav-link-user-voice">{{mobile-menu-suggest-a-feature}}</a>\n        </div>\n        <hr class="glb-nav-line" />\n        <div class="glb-nav-links">\n            <a href="/{{localePathPrefix}}features" class="glb-nav-link glb-nav-link-features" data-auto="glb-nav-link-features">{{mobile-menu-spark-features}}</a>\n            <a href="/{{localePathPrefix}}about#landing-mobile-apps" class="glb-nav-link glb-nav-link-mobile-apps" data-auto="glb-nav-link-mobile-apps">{{mobile-menu-mobile-apps}}</a>\n            <a href="https://adobespark.zendesk.com/hc/en-us/categories/202688167-Adobe-Spark" class="glb-support-link glb-nav-link glb-nav-link-support" data-auto="glb-nav-link-support" target="_blank">{{mobile-menu-support}}</a>\n        </div>\n    </div>\n\n    <div class="glb-nav-social-icons"><h3 class="drop-by-text">{{mobile-menu-social}}</h3><a href="https://www.facebook.com/adobespark" data-auto="glb-nav-social-facebook" data-context="global-nav" data-type="facebook" class="social-button glb-nav-social-icon glb-nav-fb" target="_blank"></a><a href="https://twitter.com/AdobeSpark" data-auto="glb-nav-social-twitter" data-context="global-nav" data-type="twitter" class="social-button glb-nav-social-icon glb-nav-tw" target="_blank"></a><a href="https://www.instagram.com/AdobeSpark" data-auto="glb-nav-social-instagram" data-context="global-nav" data-type="instagram" class="social-button glb-nav-social-icon glb-nav-in" target="_blank"></a></div>\n</div>\n'},function(e,t){e.exports='<div class="glb-nav-overlay" data-auto="glb-nav-overlay"></div>\n<div class="glb-nav glb-nav-vertical glb-nav-left glb-nav-mobile" data-auto="glb-nav">\n    <div class="glb-nav-top">\n        <div class="glb-nav-logo-wrapper clearfix">\n            <a href="#" class="glb-nav-close-btn" data-auto="glb-nav-close-btn"></a>\n            <a href="/{{localePathPrefix}}about"><p class="glb-nav-logo">{{mobile-menu-title}}</p></a>\n        </div>\n        <div class="glb-nav-apps non-android">\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-post-mobile">{{mobile-menu-spark-post}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="https://c00.adobe.com/v3/9c5f8efbfd205eb5ababce6d862135839de6e5ed55a3d0034475b7bee0ff552c/start?a_i_id=1051937863&a_dd=i&ctxa.referrer.campaign.name=Spark+Home+Page&ctxa.referrer.campaign.trackingcode=votknbon&ctxa.referrer.campaign.source=Spark+Home+Page&ctxa.referrer.campaign.medium=Banner" data-context="glb-nav-mobile"  class="download-app-store-link glb-nav-app-view" data-app="theo">{{{mobile-menu-view-app}}}</a>\n                </div>\n            </div>\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-page-mobile">{{mobile-menu-spark-page}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="https://c00.adobe.com/v3/2c18a4dd7ed9e6bff783299fe0861806c9f14220edc8b0d08d613ccb7b9cae6c/start?a_i_id=968433730&a_dd=i&ctxa.referrer.campaign.name=Spark+Home+Page&ctxa.referrer.campaign.trackingcode=kpv6s5k2&ctxa.referrer.campaign.source=Spark+Home+Page&ctxa.referrer.campaign.medium=Banner" data-context="glb-nav-mobile" class="download-app-store-link glb-nav-app-view" data-app="page">{{{mobile-menu-view-app}}}</a>\n                </div>\n            </div>\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-video-mobile">{{mobile-menu-spark-video}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="https://c00.adobe.com/v3/0b7e67fa41f6b592f2d606c22f107ce856db905f9d8ff39637f4a156e11890bf/start?a_i_id=852555131&a_dd=i&ctxa.referrer.campaign.name=Spark+Home+Page&ctxa.referrer.campaign.trackingcode=j0qyxypf&ctxa.referrer.campaign.source=Spark+Home+Page&ctxa.referrer.campaign.medium=Banner" data-context="glb-nav-mobile" class="download-app-store-link glb-nav-app-view" data-app="video">{{{mobile-menu-view-app}}}</a>\n                </div>\n            </div>\n        </div>\n        <div class="glb-nav-apps android-only">\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-post-mobile">{{mobile-menu-spark-post}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="https://play.google.com/store/apps/details?id=com.adobe.spark.post&referrer=utm_source%3DSpark%2520Hamburger%2520Button%2520Android%2520Link%26utm_campaign%3DAndroid%2520Launch" data-context="glb-nav-mobile"  class="download-google-play-link glb-nav-app-view" data-app="theo">{{{mobile-menu-view-app}}}</a>\n                </div>\n            </div>\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-page-mobile">{{mobile-menu-spark-page}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="/about" data-context="glb-nav-mobile" class="download-google-play-about-link glb-nav-app-view" data-app="page">{{mobile-menu-learn-more}}&nbsp;&#8250;</a>\n                </div>\n            </div>\n            <div class="glb-nav-app-view-shell">\n                <div class="glb-nav-app glb-nav-app-video-mobile">{{mobile-menu-spark-video}}</div>\n                <div class="glb-nav-app-view-link-shell">\n                    <a href="/about" data-context="glb-nav-mobile" class="download-google-play-about-link glb-nav-app-view" data-app="video">{{mobile-menu-learn-more}}&nbsp;&#8250;</a>\n                </div>\n            </div>\n        </div>\n\n        <div class="glb-nav-links">\n            <a href="/{{localePathPrefix}}features" data-auto="glb-nav-link-features">{{mobile-menu-features}}</a>\n            <a href="/{{localePathPrefix}}pricing/" class="mrvl-mrkt-nav-link mrkt-nav-pricing" data-aa-name="pricing" data-auto="site-nav-pricing-simple">{{mobile-menu-pricing}}</a>\n            <a href="/{{localePathPrefix}}gallery" class="glb-nav-link glb-nav-link-gallery" data-auto="glb-nav-link-gallery">{{mobile-menu-inspiration-gallery-short}}</a>\n            <a href="/blog" class="glb-nav-link glb-nav-link-blog" data-auto="glb-nav-link-blog">{{mobile-menu-blog}}</a>\n            <div class="glb-nav-drop-learn-more">\n                <div data-accordion-target="glb-nav-learn-more-links" class="glb-nav-link glb-nav-link-learn-more glb-nav-link-accordion" data-auto="glb-nav-link-learn-more">{{mobile-menu-learn-more}}</div>\n                <div class="glb-nav-learn-more-links glb-nav-accordion-panel">\n                    <a href="/{{localePathPrefix}}make/spark-for-business/" data-auto="glb-nav-link-spark-for-business">{{mobile-menu-spark-for-business}}</a>\n                    <a href="/{{localePathPrefix}}edu/" data-auto="glb-nav-link-spark-in-the-classroom">{{mobile-menu-spark-for-education}}</a>\n                    <a href="https://adobespark.zendesk.com/hc/en-us/categories/202688167-Adobe-Spark" target="_blank" data-auto="glb-nav-link-app-support">{{mobile-menu-support}}</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="glb-nav-social-icons"><h3 class="drop-by-text">{{mobile-menu-social}}</h3><a href="https://www.facebook.com/AdobeSpark" data-auto="glb-nav-social-facebook" data-context="global-nav" data-type="facebook" class="social-button glb-nav-social-icon glb-nav-fb" target="_blank"></a><a href="https://twitter.com/AdobeSpark" data-auto="glb-nav-social-twitter" data-context="global-nav" data-type="twitter" class="social-button glb-nav-social-icon glb-nav-tw" target="_blank"></a><a href="https://www.instagram.com/AdobeSpark" data-auto="glb-nav-social-instagram" data-context="global-nav" data-type="instagram" class="social-button glb-nav-social-icon glb-nav-in" target="_blank"></a></div>\n</div>\n'},,,,,function(e,t,i){var n=i(245);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(245),r=i(58)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?i:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){var n=i(44),r=i(244),o=i(58)("species");e.exports=function(e,t){var i,a=n(e).constructor;return void 0===a||void 0==(i=n(a)[o])?t:r(i)}},function(e,t,i){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:i(792),e.exports={Promise:n}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17)],void 0===(r=function(e,t,i,n){"use strict";var r;return r=i.View.extend({className:"messaging-strip-content-block",bodyClassName:"",tagName:"li",aspectRatio:1,render:function(){this.bodyClassName&&this.$el.addClass(this.bodyClassName),this._renderBlock(),this.model.get("isFullWidth")?this.width="100%":this.width=this.aspectRatio*r.stripHeight,this.$el.css("width",this.width)},_renderBlock:function(){this.$el.css({backgroundColor:"#fff",border:"1px solid green",color:"#000",textAlign:"center"}),this.$el.html("<h1>This area intentionally left blank.</h1>")}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5)],void 0===(r=function(e,t,i,n,r){"use strict";return new(i.Model.extend({getUserUniqueId:function(e){var t=n.defer();return r.ajax({type:"PUT",url:"/encryptUserData",headers:{"Content-Type":"application/json;charset=UTF-8"},data:JSON.stringify({service:e}),success:function(e,i,n){t.resolve(e.unique_id)}.bind(this),error:function(e,i,n){t.reject({returnVal:e.responseText,status:i,httpStatus:e.status})}}),t.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(1)],void 0===(r=function(e,t){return t.Model.extend({initialize:function(){this.elements=[]},getElements:function(){return this.elements},topenqueue:function(e){this.elements.unshift(e)},enqueue:function(e){this.elements.push(e)},_localStorageRetrieval:function(t){var i=[];if(window.localStorage)try{var n=window.localStorage.getItem(t);n&&((i=JSON.parse(n))&&!e.isEmpty(i)&&e.isArray(i)||(i=[]))}catch(e){}return i},localStorageStoreTop:function(e,t){if(window.localStorage)try{var i=this._localStorageRetrieval(e);i.unshift(t),window.localStorage.setItem(e,JSON.stringify(i))}catch(e){}},localStorageStore:function(e,t){if(window.localStorage)try{var i=this._localStorageRetrieval(e);i.push(t),window.localStorage.setItem(e,JSON.stringify(i))}catch(e){}},localStorageRemove:function(t,i){if(window.localStorage)try{var n=window.localStorage.getItem(t),r=[];n&&(r=(r=JSON.parse(n))&&!e.isEmpty(r)&&e.isArray(r)?e.filter(r,function(e){return e.id==i.id}):[]),window.localStorage.setItem(t,JSON.stringify(r))}catch(e){}},localStorageToQueue:function(t){if(window.localStorage)try{var i=this._localStorageRetrieval(t);if(e.isEmpty(i))return!1;e.each(i,function(e){this.enqueue(e)}.bind(this))}catch(e){}},dequeue:function(t){var i;if(0===this.elements.length)return null;if(e.isUndefined(t))i=this.elements[0],this.elements.shift();else{if(!this.elements[t])return null;i=this.elements[t];var n=e.filter(this.elements,function(e,i){return i!==t});this.elements=n}return i},getLength:function(){return this.elements.length},isEmpty:function(){return 0===this.getLength()},peek:function(){return 0===this.elements.length?null:this.elements[0]}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(6),i(1)],void 0===(r=function(e,t,i,n,r){"use strict";return new(r.Model.extend({getUserSegmentsForSeoPage:function(t){var n=i.defer();return e.ajax({type:"POST",url:"/seo-page/segments",data:JSON.stringify({seoPage:t}),headers:{"Content-Type":"application/json;charset=UTF-8"},success:function(e){n.resolve(e)}.bind(this),error:function(e,t,i){n.reject(e)}.bind(this)}),n.promise}}))}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n;void 0===(n=function(){return{}}.apply(t,[]))||(e.exports=n)},function(e,t,i){var n=i(3),r=i(421),o=i(564),a="‘’“\"”`.:,;'",s={postScriptName:"",family:"",weight:"",category:"",label:"",filename:"",uppercaseChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZÅÀÁÃÄÂßÆŒÇÐØÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝÑ1234567890‘’“\"”`'",lowercaseChars:"abcdefghijklmnopqrstuvwxyz @<>-+=.:,~;àáâäæãåçèéêëÿûüùúîïíìôöòóœøõñð!#$%^&*(){}[]?/_",capTest:"X",meanTest:"x",ascentTest:"b d l",descentTest:"p g",ascentDescentTest:"Q g b d q",tailTest:"Q",meanAccentTest:"àá",capAccentTest:"ÀÁ",spaceWidthRatio:0,xWidthRatio:0,capAccentRatio:0,capRatio:0,meanAccentRatio:0,meanRatio:0,meanWidthRatio:0,ascentRatio:0,baselineOffsetRatio:0,iosBaselineOffsetModifier:0,tailRatio:0,descentRatio:0,italicAngle:0,capAccentChars:"",capChars:"",ascentChars:"",meanAccentChars:"",meanChars:" ",baseChars:"",tailChars:"",descentChars:"",displaySample:"Ag",popularity:5,formality:5,blackness:5,drama:5,width:5,allCapsAllowed:!0,displayAllowed:!0,bodyAllowed:!1,smallCaps:!1,serif:!1,slab:!1,handdrawn:!1,calligraphic:!1,decorative:!1,modern:!1,square:!1,geometric:!1,italic:!1,style:"",deprecated:!1,isPublic:!0},l=!0;function c(e,t,i,n){return e.slice(0,t)+(n||"")+e.slice(t+i)}function d(e,t,i,r){var a=n.defer();if(e||((e=document.createElement("canvas")).width=t,e.height=i),document.fonts&&"function"==typeof document.fonts.load)try{document.fonts.load(r).then(function(){o.delay(function(){a.resolve(e)},10)})}catch(t){console.warn("Failed to load font with ",t),o.delay(function(){a.resolve(e)},10)}else o.delay(function(){a.resolve(e)},10);return a.promise}function u(e){for(var t=e.getContext("2d"),i=t.measureText(" ").width,n=t.measureText("x").width,r=e.width,o=e.height,a=t.getImageData(0,0,r,o).data,s=!1,l=!1,c=o,d=0;!l&&c;)for(c--,d=0;d<r;d++)if(a[c*r*4+4*d+3]){l=c;break}for(;c;)for(c--,d=0;d<r;d++)if(a[c*r*4+4*d+3]){s=c;break}return{top:s,bottom:l,spaceWidth:i,xWidth:n}}var h={};e.exports={fontCanvas:d,generateMetrics:function(e,t,i,n){n=n||{};var r,l,d,h,p,f,g,m,v=s.uppercaseChars+s.lowercaseChars,b=o.extend({},s,n),y=100,w=250,k=200,x=400,_=800,C=0,S=0,T=0,M=0,I=0,D=0,P=0,E={},A=E.lowercaseChars||"",F=E.uppercaseChars||"",L=e(_,x),N=L.getContext("2d");function R(e,t){N.clearRect(0,0,_,x);var r=L.getContext("2d");r.fillStyle="#000000",r.textAlign="left";var o=w;return t?(r.textBaseline=t,"middle"===t&&(o=x/2)):r.textBaseline="alphabetic",r.font=(n.style||"normal")+" "+(n.weight||400)+" "+k+'px "'+i+'",serif',r.fillText(e,y,o),u(L)}for(m in A){var j=A[m],z=b.uppercaseChars.indexOf(j);z>=0&&(b.uppercaseChars=c(b.uppercaseChars,z,1),b.lowercaseChars+=j)}for(m in F){var O=F[m],B=b.lowercaseChars.indexOf(O);B>=0&&(b.lowercaseChars=c(b.lowercaseChars,B,1),b.uppercaseChars+=O)}E.uppercaseChars=b.uppercaseChars,E.lowercaseChars=b.lowercaseChars;var U=R((b=o.merge(b,E)).capTest),$=R(b.meanTest),V=R(b.ascentTest),H=R(b.descentTest),G=R(b.ascentDescentTest,"middle"),K=R(b.tailTest),q=R(b.meanAccentTest),W=R(b.capAccentTest);if(r=x/2-G.top,l=G.bottom-x/2,d=(G.bottom-G.top)/k,p=Math.round(U.spaceWidth/k*1e3)/1e3,f=Math.round($.xWidth/k*1e3)/1e3,C=($.bottom-V.top)/k,S=($.bottom-q.top)/k,T=($.bottom-W.top)/k,D=(H.bottom-$.bottom)/k,P=(K.bottom-$.bottom)/k,M=($.bottom-U.top)/k,I=($.bottom-$.top)/k,h=$.spaceWidth/k,g=(w-$.bottom)/k,o.isNumber(E.baselineOffsetRatio)){var Y=E.baselineOffsetRatio*k,Q=w-Y;C=(Q-V.top)/k,S=(Q-q.top)/k,T=(Q-W.top)/k,D=(H.bottom-Q)/k,P=(K.bottom-Q)/k,M=(Q-U.top)/k,I=(Q-$.top)/k}var X=o.isNumber(E.aboveDivider)?E.aboveDivider:r,Z=o.isNumber(E.belowDivider)?E.belowDivider:l,J=o.isNumber(E.ascentDescentRatio)?E.ascentDescentRatio:d,ee=o.isNumber(E.meanWidthRatio)?E.meanWidthRatio:h,te=o.isNumber(E.spaceWidthRatio)?E.spaceWidthRatio:p,ie=o.isNumber(E.xWidthRatio)?E.xWidthRatio:f,ne=o.isNumber(E.ascentRatio)?E.ascentRatio:C,re=o.isNumber(E.meanAccentRatio)?E.meanAccentRatio:S,oe=o.isNumber(E.capAccentRatio)?E.capAccentRatio:T,ae=o.isNumber(E.descentRatio)?E.descentRatio:D,se=o.isNumber(E.tailRatio)?E.tailRatio:P,le=o.isNumber(E.capRatio)?E.capRatio:M,ce=o.isNumber(E.meanRatio)?E.meanRatio:I,de=o.isNumber(E.baselineOffsetRatio)?E.baselineOffsetRatio:g,ue=w-de*k,he=ue-ne*k,pe=ue-re*k,fe=ue-oe*k,ge=ue+ae*k,me=ue+se*k,ve=ue-le*k,be=ue-ce*k;for(m in b.aboveDivider=X,b.belowDivider=Z,b.ascentDescentRatio=J,b.meanWidthRatio=ee,b.spaceWidthRatio=te,b.xWidthRatio=ie,b.ascentRatio=ne,b.meanAccentRatio=re,b.capAccentRatio=oe,b.descentRatio=ae,b.tailRatio=se,b.capRatio=le,b.capRatio=le,b.meanRatio=ce,b.baselineOffsetRatio=de,Math.abs(me-ue),v){var ye=v[m],we=b.uppercaseChars.indexOf(ye)>=0,ke=R(ye),xe=Math.abs(ke.top-ve),_e=Math.abs(ke.top-fe),Ce=Math.abs(ke.top-pe),Se=Math.abs(ke.top-be),Te=Math.abs(ke.top-he),Me=Math.abs(Math.max(0,ke.bottom-ue)),Ie=Math.abs(ke.bottom-me),De=Math.abs(ke.bottom-ge),Pe=we?"capChars":"meanChars",Ee="baseChars";if(!(a.indexOf(ye)>=0)){var Ae=Se,Fe=Me;Ce<1.2*Ae&&(Ae=Ce,Pe="meanAccentChars"),xe<1.2*Ae&&(Ae=xe,Pe="capChars"),Te<1.2*Ae&&(Ae=Te,Pe="ascentChars"),_e<1.2*Ae&&(Ae=_e,Pe="capAccentChars"),Ie<1.2*Fe&&(Fe=Ie,Ee="tailChars"),De<1.2*Fe&&(Fe=De,Ee="descentChars"),E.meanChars&&E.meanChars.indexOf(ye)>=0&&(Pe="meanChars"),E.baseChars&&E.baseChars.indexOf(ye)>=0&&(Ee="baseChars"),E.capChars&&E.capChars.indexOf(ye)>=0&&(Pe="capChars"),E.meanAccentChars&&E.meanAccentChars.indexOf(ye)>=0&&(Pe="meanAccentChars"),E.ascentChars&&E.ascentChars.indexOf(ye)>=0&&(Pe="ascentChars"),E.capAccentChars&&E.capAccentChars.indexOf(ye)>=0&&(Pe="capAccentChars"),E.tailChars&&E.tailChars.indexOf(ye)>=0&&(Ee="tailChars"),E.descentChars&&E.descentChars.indexOf(ye)>=0&&(Ee="descentChars")}b[Pe]+=ye,b[Ee]+=ye}return b.label=o.trim(t),b.postScriptName=o.trim(n.postScriptName||t),b.family=o.trim(t),delete b.capTest,delete b.meanTest,delete b.ascentTest,delete b.descentTest,delete b.tailTest,delete b.meanAccentTest,delete b.capAccentTest,b},generateMetricsAsync:function(e,t,i,r){var l=t+i.style+i.weight+r;if(h[l])return h[l];var p=n.defer();h[l]=p.promise,i=i||{};var f,g,m,v=s.uppercaseChars+s.lowercaseChars,b=o.extend({},s,i),y=100,w=250,k=400,x=800,_=0,C=0,S=0,T=0,M=0,I=0,D=0,P=0,E=0,A=0,F=0,L=0,N=0,R=0,j={},z=j.lowercaseChars||"",O=j.uppercaseChars||"",B=(i.style||"normal")+" "+(i.weight||400)+' 200px "'+t+'",serif',U=d(null,x,k,B).then(function(e){return m=(g=e).getContext("2d")});function $(e,t){m.clearRect(0,0,x,k);var i=g.getContext("2d");i.fillStyle="#000000",i.textAlign="left";var n=w;return t?(i.textBaseline=t,"middle"===t&&(n=k/2)):i.textBaseline="alphabetic",i.font=B,i.fillText(e,y,n),u(g)}function V(e){var t=[],i=[],r=n.resolve();return o.each(e,function(e,a){var s=n.defer();i[a]=s,t[a]=s.promise,r=r.then(function(){return function(e,t,i){return o.delay(function(){var n=$(t,i);e.resolve(n)},10),e.promise}(s,e[0],e[1])})}),t}for(f in z){var H=z[f],G=b.uppercaseChars.indexOf(H);G>=0&&(b.uppercaseChars=c(b.uppercaseChars,G,1),b.lowercaseChars+=H)}for(f in O){var K=O[f],q=b.lowercaseChars.indexOf(K);q>=0&&(b.lowercaseChars=c(b.lowercaseChars,q,1),b.uppercaseChars+=K)}return j.uppercaseChars=b.uppercaseChars,j.lowercaseChars=b.lowercaseChars,b=o.merge(b,j),r?(U.then(function(){n.spread(V([[e],[b.capTest],[b.meanTest],[b.ascentDescentTest,"middle"]]),function(t,n,r,o){b.nameHeight=t.bottom-t.top,b.ascentDescentRatio=(o.bottom-o.top)/200,b.capRatio=(r.bottom-n.top)/200,b.label=e,b.postScriptName=i.postScriptName||e,b.family=e,delete b.capTest,delete b.meanTest,delete b.ascentTest,delete b.descentTest,delete b.tailTest,delete b.meanAccentTest,delete b.capAccentTest,window._uncanvasFactory&&(window._uncanvasFactory.remove(),window._uncanvasFactory=null),p.resolve(b)}).catch(function(e){console.warn("Metrics simple calc failed",e),p.resolve(null)}).done()}),p.promise):(U.then(function(){n.spread(V([[e],[b.capTest],[b.meanTest],[b.ascentTest],[b.descentTest],[b.ascentDescentTest,"middle"],[b.tailTest],[b.meanAccentTest],[b.capAccentTest]]),function(t,n,r,s,l,c,d,u,h){if(b.nameHeight=t.bottom-t.top,_=k/2-c.top,C=c.bottom-k/2,S=(c.bottom-c.top)/200,M=Math.round(n.spaceWidth/200*1e3)/1e3,I=Math.round(r.xWidth/200*1e3)/1e3,D=(r.bottom-s.top)/200,P=(r.bottom-u.top)/200,E=(r.bottom-h.top)/200,L=(l.bottom-r.bottom)/200,N=(d.bottom-r.bottom)/200,A=(r.bottom-n.top)/200,F=(r.bottom-r.top)/200,T=r.spaceWidth/200,R=(w-r.bottom)/200,o.isNumber(j.baselineOffsetRatio)){var g=200*j.baselineOffsetRatio,m=w-g;D=(m-s.top)/200,P=(m-u.top)/200,E=(m-h.top)/200,L=(l.bottom-m)/200,N=(d.bottom-m)/200,A=(m-n.top)/200,F=(m-r.top)/200}var y=o.isNumber(j.aboveDivider)?j.aboveDivider:_,x=o.isNumber(j.belowDivider)?j.belowDivider:C,z=o.isNumber(j.ascentDescentRatio)?j.ascentDescentRatio:S,O=o.isNumber(j.meanWidthRatio)?j.meanWidthRatio:T,B=o.isNumber(j.spaceWidthRatio)?j.spaceWidthRatio:M,U=o.isNumber(j.xWidthRatio)?j.xWidthRatio:I,V=o.isNumber(j.ascentRatio)?j.ascentRatio:D,H=o.isNumber(j.meanAccentRatio)?j.meanAccentRatio:P,G=o.isNumber(j.capAccentRatio)?j.capAccentRatio:E,K=o.isNumber(j.descentRatio)?j.descentRatio:L,q=o.isNumber(j.tailRatio)?j.tailRatio:N,W=o.isNumber(j.capRatio)?j.capRatio:A,Y=o.isNumber(j.meanRatio)?j.meanRatio:F,Q=o.isNumber(j.baselineOffsetRatio)?j.baselineOffsetRatio:R,X=w-200*Q,Z=X-200*V,J=X-200*H,ee=X-200*G,te=X+200*K,ie=X+200*q,ne=X-200*W,re=X-200*Y;for(f in b.aboveDivider=y,b.belowDivider=x,b.ascentDescentRatio=z,b.meanWidthRatio=O,b.spaceWidthRatio=B,b.xWidthRatio=U,b.ascentRatio=V,b.meanAccentRatio=H,b.capAccentRatio=G,b.descentRatio=K,b.tailRatio=q,b.capRatio=W,b.capRatio=W,b.meanRatio=Y,b.baselineOffsetRatio=Q,Math.abs(ie-X),v){var oe=v[f],ae=b.uppercaseChars.indexOf(oe)>=0,se=$(oe),le=Math.abs(se.top-ne),ce=Math.abs(se.top-ee),de=Math.abs(se.top-J),ue=Math.abs(se.top-re),he=Math.abs(se.top-Z),pe=Math.abs(Math.max(0,se.bottom-X)),fe=Math.abs(se.bottom-ie),ge=Math.abs(se.bottom-te),me=ae?"capChars":"meanChars",ve="baseChars";if(!(a.indexOf(oe)>=0)){var be=ue,ye=pe;de<1.2*be&&(be=de,me="meanAccentChars"),le<1.2*be&&(be=le,me="capChars"),he<1.2*be&&(be=he,me="ascentChars"),ce<1.2*be&&(be=ce,me="capAccentChars"),fe<1.2*ye&&(ye=fe,ve="tailChars"),ge<1.2*ye&&(ye=ge,ve="descentChars"),j.meanChars&&j.meanChars.indexOf(oe)>=0&&(me="meanChars"),j.baseChars&&j.baseChars.indexOf(oe)>=0&&(ve="baseChars"),j.capChars&&j.capChars.indexOf(oe)>=0&&(me="capChars"),j.meanAccentChars&&j.meanAccentChars.indexOf(oe)>=0&&(me="meanAccentChars"),j.ascentChars&&j.ascentChars.indexOf(oe)>=0&&(me="ascentChars"),j.capAccentChars&&j.capAccentChars.indexOf(oe)>=0&&(me="capAccentChars"),j.tailChars&&j.tailChars.indexOf(oe)>=0&&(ve="tailChars"),j.descentChars&&j.descentChars.indexOf(oe)>=0&&(ve="descentChars")}b[me]+=oe,b[ve]+=oe}b.label=e,b.postScriptName=i.postScriptName||e,b.family=e,delete b.capTest,delete b.meanTest,delete b.ascentTest,delete b.descentTest,delete b.tailTest,delete b.meanAccentTest,delete b.capAccentTest,p.resolve(b)}).catch(function(e){console.warn("Metrics calc failed",e),p.reject(e)}).done()}),p.promise)},extractFontInfo:function(e){var t,i=n.defer(),a=new FileReader;return e.size>10485760?i.resolve({error:!0,FILE_TOO_BIG:!0}):(a.onload=function(){try{t=this.result;var n,a,s={};try{var c=(a=r.parse(t)).tables,d=c.name||{},u=c.os2||{},h=c.hhea||{},p=c.post||{};if(s.fullName=d.fullName&&d.fullName.en,s.fullName=(s.fullName||"").replace(/[^A-z\-\s\_0-9]/g,""),s.familyName=d.fontFamily&&d.fontFamily.en,s.familyName=(s.familyName||"").replace(/[^A-z\-\s\_0-9]/g,""),s.subfamilyName=d.fontSubfamily&&d.fontSubfamily.en,s.subfamilyName=(s.subfamilyName||"").replace(/[^A-z\-\s\_0-9]/g,""),s.preferredFamilyName=d.preferredFamily&&d.preferredFamily.en,s.preferredSubfamilyName=d.preferredSubfamily&&d.preferredSubfamily.en,s.postScriptName=d.postScriptName&&(d.postScriptName.en||d.postScriptName["win-en"]||d.postScriptName["mac-en"]||d.postScriptName["uni-en"]),s.windowsPostScriptName=d.postScriptName&&d.postScriptName["win-en"],s.macPostScriptName=d.postScriptName&&d.postScriptName["mac-en"],s.unicodePostScriptName=d.postScriptName&&d.postScriptName["uni-en"],s._licenseInfo={copyright:d.copyright&&d.copyright.en,designer:d.designer&&d.designer.en,designerURL:d.designerURL&&d.designerURL.en,license:d.license&&d.license.en,licenseURL:d.licenseURL&&d.licenseURL.en,manufacturerURL:d.manufacturerURL&&d.manufacturerURL.en,trademark:d.trademark&&d.trademark.en,licenseFlag:u.fsType+""},s.familyName||(s.fullName?s.familyName=s.fullName:s.fullName=s.familyName=e.name.replace(/\.[^/.]+$/,"")),l){var f=o.find(["BoldItalic","RegularItalic","Bold","Italic","Regular","Normal"],function(e){return(s.preferredFamilyName||s.familyName||"").toLowerCase().endsWith(e.toLowerCase())});f&&(s.familyName=s.familyName.substring(0,s.familyName.length-f.length).trim(),s.familyName.endsWith("-")&&(s.familyName=s.familyName.substring(0,s.familyName.length-1)),s.preferredFamilyName&&(s.preferredFamilyName=s.familyName),s.subfamilyName=f,s.preferredSubfamilyName&&(s.preferredSubfamilyName=s.subfamilyName),"Bold"!==f&&"BoldItalic"!==f||(n=700))}s.weight=u.usWeightClass||function(e){e.indexOf("Italic")>=0&&(e=e.substring(0,e.indexOf("Italic")));var t={100:"100","100-thin":"100",ultra:"100",ultralight:"100","ultra-light":"100",200:"200","200-x-light":"200",two:"200",extralight:"200","extra-light":"200",thin:"200",hair:"200",300:"300","300-light":"300",three:"300",light:"300",400:"400","400-regular":"400",regular:"400",four:"400","":"400",normal:"400",book:"400",500:"500","500-medium":"500",medium:"500",five:"500",600:"600","600-semibold":"600",six:"600",semibold:"600","semi-bold":"600",demi:"600",700:"700","700-bold":"700",seven:"700",bold:"700",800:"800","800-black":"800",eight:"800",extrabold:"800","extra-bold":"800",heavy:"800",900:"900","900-x-black":"900",nine:"900",black:"900",1000:"1000",extrablack:"1000","extra-black":"1000"};return t[(e=(e=e.trim()).replace(/\s+/g,"-")).toLowerCase()]||console.warn("----\x3e fontWeight failed to resolve ["+e+"]"),t[e.toLowerCase()]||400}(s.preferredSubfamilyName||s.subfamilyName),s.fsType=u.fsType,l&&n&&400===s.weight&&(s.weight=n);var g=0==p.italicAngle?"normal":"italic",m=function(e){return e.indexOf("Italic")>=0?"italic":e.indexOf("Oblique")>=0?"oblique":""}(s.preferredSubfamilyName||s.subfamilyName);"normal"==g&&"italic"==m&&(g="italic"),s.style=g,o.extend(s,{numGlyphs:a.glyphs.length,xHeight:u.sxHeight||u.xHeight||0,capHeight:u.sCapHeight||u.capHeight||h.ascender,italicAngle:p.italicAngle,underlineThickness:p.underlineThickness,underlinePosition:p.underlinePosition,lineGap:h.lineGap,ascent:h.ascender,descent:h.descender}),i.resolve(s)}catch(e){console.warn("Failed to parse font file",e),i.resolve({error:!0,FILE_PARSE_ERROR:!0})}}catch(e){console.warn("Failed to parse font file",e),i.resolve({error:!0,FILE_PARSE_ERROR:!0})}},a.onerror=function(e){console.warn("Failed to parse font file with error",e),i.resolve({error:!0,FILE_PARSE_ERROR:!0})},a.readAsArrayBuffer(e)),i.promise}}},function(e,t,i){var n,r;n=[i(0),i(2),i(1)],void 0===(r=function(e,t,i){"use strict";function n(e){this._init(e)}return e.extend(n.prototype,{_init:function(t,i){this._userCallback=i,this.$ele=e(t),this.$rootPicker=this.$ele.parents(".photo-picker"),this.items=[]},show:function(){this.$ele.addClass("showing")},getItem:function(e){return this.items[e]},_clear:function(){this.$ele.find(".column").empty(),this.items=[]},_handleScroll:function(e){this.requestOutstanding||this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet())},_handleResize:function(e){this._handleScroll(e)},_handleThumbClick:function(e){},_handleLoadedThumbnail:function(e){},handleChangingToEditor:function(e){},handleChangingFromEditor:function(e){},hasMore:function(){return this.page<this.pages},_scrolledFarEnough:function(){var t=this.$ele.find(".results"),i=t.find(".column"),n=t[0].scrollTop,r=2*t.height()+n,o=!1;return i.each(function(){if(r>e(this).height())return o=!0,!1}),o},_addThumbnail:function(t,i,n,r,o,a){var s,l,c=i.find(".left"),d=i.find(".right"),u=this,h=this.requestId,p=e("<img class='thumbnail' data-auto='image-picker-thumbnail-img' />"),f=e("<div class='thumbnail-wrapper' data-auto='image-picker-thumbnail-wrapper' />"),g=n.getThumbHoverLabel&&n.getThumbHoverLabel();if(l=o?c.height()<=d.height()?c:d:c,r&&r.width&&r.height&&(f.append(p),l.append(f),p.css("height",p.width()*r.height/r.width),s=!0),g){var m=e("<div class='thumb-hover-label' data-auto='thumb-hover-label'>"+g+"</div>");f.append(m),m.on("click",u._handleThumbClick.bind(u)),m.data("item",n),f.addClass("has-hover-label")}return this.loader.add(t,{callback:function(e,t,i){u.requestId&&h!==u.requestId||(p.on("load",function(){window.setTimeout(function(){f.addClass("showing")},0)}),s||(o&&(l=c.height()<=d.height()?c:d),f.append(p),l.append(f)),a&&(p[0].crossOrigin="anonymous"),p[0].src=e,p.on("click",u._handleThumbClick.bind(u)),p.data("item",n),u._handleLoadedThumbnail(p,f))}}),f},canGoBack:function(){return!1},goBack:function(){},showMoreToCome:function(){this.$rootPicker.find(".more-to-come").addClass("showing")},hideMoreToCome:function(){this.$rootPicker.find(".more-to-come").removeClass("showing")}}),n}.apply(t,n))||(e.exports=r)},,,function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(13),i(373),i(4),i(236),i(24),i(7),i(6),i(5),i(16)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h){"use strict";var p,f=r.logger,g=0;return p=t.Model.extend({defaults:{name:"",type:"private-collection",id:null,syncGroupName:"",components:null,compositeObj:null,publishProgress:null},_commitQueue:null,_commitInProgress:!1,_saveQueue:null,_isBeingCreated:!1,initialize:function(i){this._commitQueue=[],this._saveQueue=[],this._initDefer=n.defer(),this.iGUID=g++;var r=new t.Collection([],{model:o});this.set("components",r),this._doSaveChanges=this._doSaveChanges.bind(this),this._saveChangesDebounce=e.debounce(this._doSaveChanges,500)},linkSparkAsset:function(e){this._linkedSparkAsset=e},setName:function(e){this.getDCXComposite().current.name=e,this.set("name",e)},getEtag:function(){return this.getDCXComposite().current.manifestEtag},getDocData:function(e){var t=this.getDCXRoot(),i="";return t&&(i=t.getValue(e)),i},setCollaboration:function(e){this._collaboration=e},getCollaboration:function(){return this._collaboration||this.get("collaboration")||this.changed&&this.changed.collaboration||this.attributes&&this.attributes.collaboration},belongsToUser:function(){return"INCOMING"!==this.getCollaboration()},acquireNestedMap:function(e,t){return this._acquireNestedMap(e,t)},acquireNestedMapSync:function(e,t){return this._acquireNestedMap(e,!0,!0,t)},_acquireNestedMap:function(t,i,r,o){var a,s,l=this.getChildWithMap(t,o),c=!1;return l||(t=t.split("."),s="",e.each(t,function(e,t){s&&(s+="."),"{new}"!==e?(s+=e,(l=this.getChildWithMap(s,o))||(c=!0,l=this.addChildPath(void 0,e,a))):(c=!0,l=this.addChildPath(void 0,void 0,a),s+=l.getValue("path")),a=l}.bind(this)),!c||i)?r?l:n.resolve(l):this.saveChanges(function(){}).then(function(){return n.resolve(l)})},acquireNestedChildren:function(e,t){return this.acquireNestedMap(e,t).then(function(e){return this.getChildrenOf(e)}.bind(this))},acquireNestedChildrenSync:function(e,t){if("all-fonts"===e&&!c.hasFeature("enable-custom-fonts"))return console.warn("Illegal custom fonts API call w/o feature flag",(new Error).stack),[];var i=this.acquireNestedMapSync(e,t);return this.getChildrenOf(i,t)},getChildWithMap:function(t,i){for(var n,r,o,a,s,l,c,d=i||this.getDCXComposite().current,u=d.getChildrenOf(),h=d.getComponentsOf(),p=function(e){if(e.getValue(l)==c)return r=e,a||(u=d.getChildrenOf(e),h=d.getComponentsOf(e)),!1},f=function(e){if(e.path==o)return r=e,a||(u=d.getChildrenOf(e),h=d.getComponentsOf(e)),!1},g=0,m=(t=t.split(".")).length;g<m;g++){if(o=t[g],s=/^\[([^\]\=]*)\=([^\]\=]*)\]$/.exec(o),-1!=o.search(/^\!/)?(a=!0,o=o.replace(/^\!/,"")):a=!1,!u)return;if(n=r,s?(l=s[1],c=s[2],e.find(a?h:u,p)):e.find(a?h:u,f),void 0!==r&&void 0!==n&&n==r)return}return r},getChildrenOf:function(e,t){return(t||this.getDCXComposite().current).getChildrenOf(e)},addChild:function(e,t){return this.getDCXComposite().current.addChild(e,void 0,-1,t)},addChildPath:function(e,t,i){var n=this.getDCXComposite().current.addChild(e,void 0,-1,i);return n.path=t||n.id,n},removeChild:function(e){return this.getDCXComposite().current.removeChild(e)},isNew:function(){return!this.getDCXComposite().current.manifestEtag},getDCXComposite:function(){return this.get("compositeObj")},getDCXRoot:function(){var e=this.get("compositeObj");return e?e.current.rootNode:null},setAndSaveDataToRoot:function(e,t){this.saveChanges(function(i){i.setValue(e,t)})},getDataFromRoot:function(e){return this.getDCXRoot().getValue(e)},addComponent:function(e){e.composite=this.getDCXComposite();var t=this.get("components"),i=new o(e);return t.add(i),i},removeComponent:function(e){this.get("components").remove(e);var t=this.getDCXComposite().current,i=t.getComponentWithAbsolutePath("/"+e.get("path"));return t.removeComponent(i),e},getComponentWithAbsolutePath:function(e){return this.get("components").find(function(t){return t.get("path")==e.replace(/^\//,"")})},getComponent:function(e){return r.getComponent(e,this.getDCXComposite())},getComponentHref:function(e,t,i){return r.getComponentHref(e,this.getDCXComposite(),t,i)},getFirstChildNode:function(){return this.getDCXComposite().current.getChildrenOf()[0]},findComponent:function(e,t){for(var i=this.getDCXComposite().current.getComponentsOf(e),n=0,r=i.length;n<r;n++){var o=i[n],a=!0;for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];if(o[s]!=l){a=!1;break}}if(a)return o}},setProjectName:function(e){this.getMyApp().setProjectName(this,e)},getProjectName:function(e){return this.getMyApp().getProjectName(this,e)},preloadImageRendition:function(e){var t,i,r=n.defer(),o=this.getImageRendition(e);return o&&(t=o.url),t?((i=new Image).onload=function(){r.resolve(t)},i.onerror=function(){r.reject(new Error("Image rendition "+t+" came back with 404"))},i.src=t):r.resolve(),r.promise},getImageRendition:function(e){var t,i=this.getDCXComposite().current,n=this.getDCXRoot(),r=n.getValue("slate#coverpath");e=e||400;var o,a="center",s="center";if(n.type.match("luca")&&r){t=i.getComponentWithAbsolutePath("/"+r),a=n.getValue("slate#coverx"),s=n.getValue("slate#covery");var l=n.getValue("slate#data");o=l&&l.themeName&&"vintage"==l.themeName.toLowerCase()?"grayscale(1)":void 0}else t=this.getImageRenditionComponent();if(t){var c={};return e&&(c={size:e}),{url:this.getComponentHref("/"+t.path,!0,c),position:a+" "+s,filter:o}}},getImageRenditionComponent:function(){if("function"==typeof this.getMyApp().getPreviewComponent)return this.getMyApp().getPreviewComponent(this);var t=this.getDCXComposite().current;return e.find(t.getComponentsOf(),function(e){return e&&e.type.match(/^image/)&&"rendition"==e.relationship&&"shareImage"!=e.name&&"embed"!=e.name})},getInfoForComponents:function(t){var i,r=this.getMyPrimaryApp(),o=r.getAppTypeID(),a={},s=(e.isArray(t),{GooglePhotosImagePickerContext:"google",DropboxImagePickerContext:"dropbox",DooploImagePickerContext:"dooplo",FacebookImagePickerContext:"facebook",AdobestockImagePickerContext:"stock",CCImagePickerContext:"creativeCloud",LightroomImagePickerContext:"lightroom",UploadedImagePickerContext:"uploaded",undefined:"uploaded"}),l={Google:"google",Dropbox:"dropbox",Dooplo:"dooplo",Facebook:"facebook",AdobeStock:"stock",CreativeCloud:"creativeCloud",Lightroom:"lightroom",Uploaded:"uploaded",undefined:"uploaded"};return"slate"===o?this.getComponent("/luca.json").then(function(t){return r.load().then(function(){var o,l;if(o=r.getStorageImpl().getData("imagePickerContexts",this),l={},e.each(o,function(e){l[e.asset_id]=e}),t)try{i=JSON.parse(t)}catch(e){return n.reject(e)}return i&&i.pages&&i.pages.length&&e.each(i.pages[0].sections,function(t){e.each(t.content_items,function(e){if("img"===e.type){a[e.image.image_url.split("?")[0]]=e.image;var t=l[e.image.id];e.image.pickerContext=l[t],e.image.srcName=s[t?t.class_name:void 0]}})}),a}.bind(this))}.bind(this)).catch(function(e){return n.reject(e)}):"voice"==o?this.getComponent("/PageSequence.json").then(function(t){var i;try{i=JSON.parse(t)}catch(e){return n.reject(e)}var r=e.find(i,function(e){return"PageSequence"==e.className});return r&&r.data&&r.data.pages&&e.each(r.data.pages,function(t){var i;t&&t.data&&t.data.layout&&t.data.layout.data&&(i=t.data.layout.data.items),i&&e.each(i,function(e){if(e.data&&"Image"==e.data.contentType){var t,i=e.data.content,n=e.data.searchTerm;n&&(t=-1==n.search(/\//)?"Dooplo":n.replace(/^\s*/,"").replace(/\/.*$/,"")),a[i]={srcName:l[t]||"uploaded"}}})}),a}.bind(this)).catch(function(e){return n.reject(e)}):n.resolve()},_lazyLoadPublishUtils:function(){return this._videoPublishLazyLoadDefer||(this._videoPublishLazyLoadDefer=n.defer(),Promise.all([i.e(0),i.e(2),i.e(3),i.e(1),i.e("gic-voice-publishUtils")]).then(function(e){var t=i(585);this._videoPublishLazyLoadDefer.resolve(t)}.bind(this).bind(null,i)).catch(i.oe)),this._videoPublishLazyLoadDefer.promise},getImageComponents:function(t){var i=this.getMyPrimaryApp().getAppTypeID(),r=this.getDCXComposite().current;return t=t||{},"voice"!==i||t.publishUtils?this.getInfoForComponents("images").then(function(o){var a,s=[];if("slate"===i?a=e.find(r.getChildrenOf(),function(e){return"page"===e.name}):"voice"===i?a=e.find(r.getChildrenOf(),function(e){return"Media"===e.name}):"theo"===i&&(a=e.find(r.getChildrenOf(),function(e){return"application/vnd.adobe.theo.content+dcx"===e.type&&"/content"===e.absolutePath})),a){var l,c,d=r.getComponentsOf(a);if("slate"===i)e.each(d,function(e){(c=o[e.path])&&s.push({component:e,data:c})});else if("theo"===i)(l=a._data.children)&&l.length&&(l=l[0].children)&&(s=[],e.each(l,function(t){if("image"===t["theo#kind"]){var i=r.getComponentWithId(t.components[0].id);if(i){var n=t["theo#media-metadata"];"adobestock"===n.source&&((n=e.assign({},n)).license=e.assign({},n)),s.push({component:i,data:n})}}}));else if("voice"===i){var u={};l=a._data.children,s=[],e.each(l,function(t){var i;t.components&&e.each(t.components,function(e){if(e&&e.type.match(/^image/)&&(i=r.getComponentWithId(e.id))){var n=t["ginger#data"],o={component:i,data:n};s.push(o),u[i.id]=o}})});var h=[];return e.each(s,function(e){h.push(t.publishUtils.makeMetadataPromise(this.id,e.component.id))}.bind(this)),n.allSettled(h).then(function(t){var i=[];return e.each(t,function(t){if("fulfilled"==t.state){var n=t.value.contentID,r=u[n];if(r){var a=t.value,s=o[n];r.data=e.extend({},a,s)}}else i.push(t.reason)}),i&&window.marvel.logger.warn("errors fetching video metadatata in getImageComponents",i),s})}}return s}.bind(this)):this._lazyLoadPublishUtils().then(function(e){return t.publishUtils=e,this.getImageComponents(t)}.bind(this))},pushComponent:function(t){var i=this.getDCXComposite(),n=this.get("syncGroupName"),o=t.isUpdate,a=e.pick(t,["id","name","relationship","type","path","absolutePath","file","parent","copyFrom","cover"]);return this.ensureCompositeIsSaved(function(){return r.pushComponent(a,i,n,o)})},isMidCommit:function(){return!!this._commitInProgress},pull:function(){var e=n.defer(),t=this.getDCXComposite();return r.pullComposite(t).then(function(t){e.resolve(t)}),e.promise},_doSaveChanges:function(){var t,i=!1;if(!this._commitInProgress){marvel.events.trigger("sync-start",!0),this._commitInProgress=!0,t=this.get("syncGroupName"),this.setModifiedDate(new Date((new Date).getTime()+864e5)),this.isNew()?(i=!0,r.addDocToSyncGroup(this,t)):marvel.events.trigger("saved-composite-doc",this);var n,o,a=this.getDCXRoot(),s=this._commitQueue;this._commitQueue=[],e.each(s,function(e){e.override&&(o=!0),e.fnSet(a)}),this.set("name",this.getDCXComposite().current.name),n=this.getDCXComposite(),this.get("components");var l=this.getMyApp(),c=function(t){this._commitInProgress=!1,r.pullCompositeManifestOnly(n).then(function(i){t.branch=i,e.each(s,function(e){t&&"UPDATE_CONFLICT"==t.code&&l.resolveConflict?l.resolveConflict(t.branch,e.recoverData,e.commitDefer,this)||e.commitDefer.resolve():e.commitDefer.reject(t)}.bind(this))}.bind(this),function(){e.each(s,function(e){t&&"UPDATE_CONFLICT"==t.code&&l.resolveConflict?l.resolveConflict(t.branch,e.recoverData,e.commitDefer,this)||e.commitDefer.resolve():e.commitDefer.reject(t)}.bind(this))}.bind(this))};this.ensureCompositeIsSaved(function(){this.pushModifiedComponents().then(function(){this.getMyApp().usesContentModifiedEtags()&&this.setContentModifiedIfNeeded(),r.pushComposite(this.getDCXComposite(),t,o).then(function(){f.debug("[compositeDoc saved]"),i&&this.triggerProjectCreatedAnalytics(),marvel.events.trigger("saved-composite-doc",this),this._commitInProgress=!1,marvel.events.trigger("sync-stop",!0),e.each(s,function(e){e.commitDefer.resolve()}),this._commitQueue.length&&this._saveChangesDebounce()}.bind(this),c.bind(this))}.bind(this),c.bind(this))}.bind(this))}},triggerProjectCreatedAnalytics:function(e){(e=e||{}).contextData&&a.addContextData(e.contextData);var t=this.getMyApp(),i=this;if(t.isaProjectFormat()){var n=this.getMyApp().typeName;"theo"!==n&&"post"!==n||a.setProductName("theo"),a.setCurrentProjectId(this.get("id")),a.trackEvent("projectCreated",{contextData:["projectId","workflow","projectType","contextString","exampleId","remixableAssetId","createdFromId"]},e.env||this.getMyApp().typeName+":editor",function(){a.removeContextData(["type","contextString","exampleId","remixableAssetId","createdFromId"])}.bind(this)),s.trackEvent("AddToCart",{content_name:"Project Created"}),t.isBranded(this).then(function(n){n&&h.getCreatedAnalytics(i).then(function(i){a.trackEvent("createdBrandedProject",i,e.env||t.typeName+":editor")})})}},ensureCompositeIsSaved:function(t,i){if(this.isNew()&&!this._isBeingCreated)return this._isBeingCreated=!0,r.pushComposite(this.getDCXComposite(),this.get("syncGroupName")).then(function(){this._isBeingCreated=!1;var i=t(),n=this._saveQueue;return this._saveQueue=[],e.each(n,function(e){e.deferred.resolve(e.fn())}),i}.bind(this));if(this.isNew()&&this._isBeingCreated){var o=n.defer();return this._saveQueue.push({deferred:o,fn:t}),o.promise}return t()},pushModifiedComponents:function(){var e=this.getDCXComposite();return n.all(this.get("components").reduce(function(t,i){var n=i.get("path");return i.isModified()&&t.push(r.pushComponent({path:n,name:i.get("name"),relationship:i.get("relationship"),type:i.get("type"),file:i.getFile(),parent:i.get("parent")},e,this.get("syncGroupName"),e.current.getComponentWithAbsolutePath("/"+n)).then(function(){i.setUnmodified()}).catch(function(e){f.error("Failed to push modified components "+e,e)})),t}.bind(this),[]))},clearRootDataWithPrefix:function(t){var i=this.getDCXComposite().current._data;e.each(i,function(e,n){0===n.indexOf(t)&&delete i[n]})},clearUnneededDuplicationData:function(){this.getMyApp().clearDataForDocCreatedByDupe(this)},saveAsTemplate:function(){var e=this.getMyApp().getSetting("templateSyncGroup"),t=this.getMyApp().getSetting("templateDCXType");return this._duplicate(e,t)},duplicate:function(){var e=this.get("syncGroupName");return this._duplicate(e)},_duplicate:function(e,t){var i=n.defer(),o=r.newCompositeAsCopyOf(this.getDCXComposite(),t);if(o){o.href=r.dcxSession.getHrefForComposite(o,e);var a=new p({name:o.current.name,id:o.id,modified:!1,syncGroupName:e,compositeObj:o});r.addDocToSyncGroup(a,e),a.clearUnneededDuplicationData(),a.getMyApp().usesContentModifiedEtags()&&a.setContentModifiedIfNeeded(),r.pushComposite(o,e).then(function(){i.resolve(a),r.syncNow()},function(e){f.error("Duplicate failed while pushing composite : "+e,e),i.reject(e)}.bind(this))}else{var s="Failed to duplicate document";f.error(s),i.reject(s)}return i.promise},nextSave:function(){return this._nextSaveDefer||(this._nextSaveDefer=n.defer()),this._nextSaveDefer.promise},saveChanges:function(e,t,i){var r={override:t,commitDefer:this._nextSaveDefer||n.defer(),fnSet:e,recoverData:i};return this._nextSaveDefer=null,f.debug("[compositeDoc saving]"),this._commitQueue.push(r),this._saveChangesDebounce(),r.commitDefer.promise},_patchCurrent:function(e,t){var i=this.getDCXComposite().current._data;if(i[e]=t,arguments.length>2)for(var n=2;n<arguments.length;n+=2)i[arguments[n]]=arguments[n+1]},setDocRootVals:function(e,t){var i=arguments;this.saveChanges(function(e){for(var t=i.length,n=0;n<t;n+=2)e.setValue(i[n],i[n+1])})},getComponentEtag:function(e){var t=this.getDCXComposite().current.getComponentWithAbsolutePath(e);return t?t.etag:null},getAppRegistry:function(){return l},getMyApp:function(){return l.getAppForDoc(this)},getMyPrimaryApp:function(){var t=this.getMyApp(),i=t.getSetting("syncGroup");return e.endsWith(i,"-template")&&(t=l.getAppBySyncGroupName(t.getConfig().templateSyncGroup)),t},isTemplate:function(){var t=this.getMyApp().getSetting("syncGroup");return e.endsWith(t,"-template")},getMainContentEtag:function(){return this.getMyApp().getDocContentETag(this)},setContentModifiedIfNeeded:function(){var e=this.getMyApp().getDocContentETag(this)||"";e!=this.getContentModEtag()&&this._patchCurrent("cp#contentEtag",e,"cp#contentModified",this._getFutureModDate())},getContentModEtag:function(){return this.getDCXRoot().getValue("cp#contentEtag")},getContentModifiedDate:function(e){var t=this.get("modified");return e&&e.preferCpContentModified&&(t=this.getDCXRoot().getValue("cp#contentModified")||t),t?t.indexOf("Z")>-1?this._unZpadDate(t):new Date(t):new Date},_unZpadDate:function(e){var t=Date.parse(e);if(isNaN(t)){var i,n=e.split("T"),r=1*n[1].substring(0,2);return r>23?(e=n[0]+"T23"+n[1].substring(2),(i=new Date(e)).setUTCHours(i.getUTCHours()+(r-23)),i):new Date}return new Date(t)},_zpadDate:function(e,t){t&&(e=new Date(e)).setUTCHours(e.getUTCHours()+e.getTimezoneOffset()/60);var i=e.getHours();function n(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i}return e.getFullYear()+"-"+n(e.getMonth()+1,2)+"-"+n(e.getDate(),2)+"T"+n(i,2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getMilliseconds(),2)+"Z"},_getFutureModDate:function(){return this._zpadDate(new Date((new Date).getTime()+3e4),!0)},setModifiedDate:function(e){this.set("modified",this._zpadDate(e))},isPublished:function(){return this.getMyApp().isDocPublished(this)},delete:function(){return r.deleteCompositeDoc(this)},getStorageURL:function(){return this.getDCXComposite().href.replace("-creativesdk","")},getStoragePath:function(){var e=this.getStorageURL();return e.substring(e.indexOf("/assets/")+1)},getURN:function(){var e=n.defer();return u.ajax({type:"HEAD",url:this.getDCXComposite().href,headers:{"x-api-key":d.key},contentType:"application/json; charset=utf-8"}).then(function(t,i,n){e.resolve(n.getResponseHeader("x-resource-urn"))}.bind(this)).fail(function(t){e.reject(t)}.bind(this)),e.promise},getSharedCloudCollectionId:function(){return r.getSharedCloudCollectionId(this.getDCXComposite())},hasCloudDocChanged:function(){var e=n.defer(),t=this.getStoragePath();return u.ajax({type:"HEAD",url:"https://"+window.marvel.settings.ss+"/"+t+"/manifest",headers:{"x-api-key":window.marvel.settings.key}}).then(function(t,i,n){e.resolve(n.getResponseHeader("etag")!==this.getEtag())}.bind(this)).fail(function(t){e.reject(t)}),e.promise}})}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n=i(92),r=i(42),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(274)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){var n=i(217),r=i(71),o=i(276);e.exports=function(e){return function(t,i,a){var s,l=n(t),c=r(l.length),d=o(a,c);if(e&&i!=i){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(10),r=i(246),o=i(43),a=i(383),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(e,t,i){var r={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),l=r[e]=s?t(u):a[e];i&&(r[i]=l),n(n.P+n.F*s,"String",r)},u=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,t,i){var n=i(58)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},e(o)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(44);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){"use strict";var n=i(336),r=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var o=i.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,i){"use strict";i(463);var n=i(125),r=i(216),o=i(43),a=i(246),s=i(58),l=i(398),c=s("species"),d=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var h=s(e),p=!o(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),f=p?!o(function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[c]=function(){return i}),i[h](""),!t}):void 0;if(!p||!f||"replace"===e&&!d||"split"===e&&!u){var g=/./[h],m=i(a,h,""[e],function(e,t,i,n,r){return t.exec===l?p&&!r?{done:!0,value:g.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),v=m[0],b=m[1];n(String.prototype,e,v),r(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},function(e,t,i){var n=i(243),r=i(459),o=i(393),a=i(44),s=i(71),l=i(395),c={},d={};(t=e.exports=function(e,t,i,u,h){var p,f,g,m,v=h?function(){return e}:l(e),b=n(i,u,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>y;y++)if((m=t?b(a(f=e[y])[0],f[1]):b(e[y]))===c||m===d)return m}else for(g=v.call(e);!(f=g.next()).done;)if((m=r(g,b,f.value,t))===c||m===d)return m}).BREAK=c,t.RETURN=d},function(e,t,i){var n=i(42).navigator;e.exports=n&&n.userAgent||""},function(e,t,i){"use strict";var n=i(42),r=i(10),o=i(125),a=i(325),s=i(256),l=i(359),c=i(324),d=i(46),u=i(43),h=i(355),p=i(320),f=i(384);e.exports=function(e,t,i,g,m,v){var b=n[e],y=b,w=m?"set":"add",k=y&&y.prototype,x={},_=function(e){var t=k[e];o(k,e,"delete"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof y&&(v||k.forEach&&!u(function(){(new y).entries().next()}))){var C=new y,S=C[w](v?{}:-0,1)!=C,T=u(function(){C.has(1)}),M=h(function(e){new y(e)}),I=!v&&u(function(){for(var e=new y,t=5;t--;)e[w](t,t);return!e.has(-0)});M||((y=t(function(t,i){c(t,y,e);var n=f(new b,t,y);return void 0!=i&&l(i,m,n[w],n),n})).prototype=k,k.constructor=y),(T||I)&&(_("delete"),_("has"),m&&_("get")),(I||S)&&_(w),v&&k.clear&&delete k.clear}else y=g.getConstructor(t,e,m,w),a(y.prototype,i),s.NEED=!0;return p(y,e),x[e]=y,r(r.G+r.W+r.F*(y!=b),x),v||g.setStrong(y,e,m),y}},function(e,t,i){for(var n,r=i(42),o=i(216),a=i(273),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),d=c,u=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(n=r[h[u++]])?(o(n.prototype,s,!0),o(n.prototype,l,!0)):d=!1;e.exports={ABV:c,CONSTR:d,TYPED:s,VIEW:l}},function(e,t,i){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,i){return new t(e,i)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,i(20).Buffer)},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(36)],void 0===(r=function(e,t,n,r,o){"use strict";return new(n.Model.extend({npwExperimentContexts:{firstUse:{ids:["npwVisualBrowse*","npwVbFu*","npwSearchExperiment*"]},nonFirstUse:{ids:["npwVisualBrowse*","npwVbRu*","npwSearchExperiment*"]}},_recordExperiment:function(e){if(e.app)return r();var i=e.firstUse?"firstUse":"nonFirstUse",n=this.npwExperimentContexts[i];if(n.defer)return n.defer.promise;if(n.defer=r.defer(),n.ids.length){var a=[];t.each(n.ids,function(e){a.push(o.run(e))}.bind(this)),r.allSettled(a).then(function(e){t.each(e,function(e,t){"fulfilled"!==e.state&&window.marvel.logger.error("Error loading NPW experiment: "+n.ids[t],e.reason)}),n.defer.resolve()})}else n.defer.resolve();return n.defer.promise},getNpwClass:function(e){return this._recordExperiment(e).then(function(){return this._getVisualBrowseDefer||(this._getVisualBrowseDefer=r.defer(),Promise.all([i.e("npw-visual-browse-view~share-view"),i.e("npw-visual-browse-view")]).then(function(e){var t=i(608);this._getVisualBrowseDefer.resolve(t)}.bind(this).bind(null,i)).catch(i.oe)),this._getVisualBrowseDefer.promise}.bind(this))}}))}.apply(t,n))||(e.exports=r)},,function(e,t){},function(e,t,i){var n,r;n=[i(0),i(344),i(519),i(523)],void 0===(r=function(e,t,i,n){var r=function(t){n.call();this.options=t=e.extend({},this.defaultOptions,t),this._queue=[],this._needsSort=!1,this._isRunning=!1,this._loaderContexts=[];for(var i=0;i<t.numAsyncRequestsAllowed;i++)this._loaderContexts[i]=this._createLoaderContext()};return r.nextRequestId=1,i.inherit(r,n),e.extend(r.prototype,{defaultOptions:{createNewImageOnReset:!0,timeoutInterval:0,numAsyncRequestsAllowed:1,crossOrigin:!1},_createLoaderContext:function(){var e=this,t={entry:null,loader:new Image,loadFunc:function(){e._handleLoad(t)},loadErrorFunc:function(){e._handleError(t)},timeoutFunc:function(){e._handleTimeout(t)},timeoutTimerId:0};return this.options.crossOrigin&&(t.loader.crossOrigin=this.options.crossOrigin),t},add:function(t,n){if(t){for(var o=i.ensureArray(t),a=0;a<o.length;a++){var s=e.extend({reqId:r.nextRequestId++,src:o[a],width:0,height:0,priority:50,callback:null,data:null},n);this._queue.push(s),this._needsSort=!0,this.trigger("wp-image-loader-add",s)}this._isRunning&&this._loadNext()}},start:function(){this._isRunning||(this._isRunning=!0,this.trigger("wp-image-loader-start"),this._loadNext())},stop:function(){if(this._isRunning){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];n.entry&&(this._queue.unshift(n.entry),this._needsSort=!0),this._resetLoaderContext(n)}this._isRunning=!1,this.trigger("wp-image-loader-stop")}},getQueueCount:function(){return this._queue.length+this._getPendingRequestCount()},clearQueue:function(){var e=this._isRunning;this.stop(),this._queue.length=0,e&&this.start()},_loadNext:function(){if(this._isRunning){var e=this._getAvailableLoaderContext();if(e){var t=this._queue;if(t.length){this._needsSort&&(t=this._queue=t.sort(function(e,t){var i=e.priority-t.priority;return i||e.reqId-t.reqId}),this._needsSort=!1);var i=t.shift();e.entry=i,this.options.timeoutInterval>0&&(e.timeoutTimerId=setTimeout(e.timeoutFunc,this.options.timeoutInterval));var n=e.loader;n.onload=e.loadFunc,n.onerror=e.loadErrorFunc,n.src=i.src,t.length&&this._loadNext()}else 0===this.getQueueCount()&&this.trigger("wp-image-loader-empty")}}},_getPendingRequestCount:function(){for(var e=this._loaderContexts,t=e.length,i=0,n=0;n<t;n++){e[n].entry&&++i}return i},_getAvailableLoaderContext:function(){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];if(!n.entry)return n}return null},_resetLoaderContext:function(e){var t=e.loader;t.onload=null,t.onerror=null,t.src=""==t.src?" ":"",this.options.createNewImageOnReset&&(e.loader=new Image,this.options.crossOrigin&&(e.loader.crossOrigin=this.options.crossOrigin)),e.entry=null,e.timeoutTimerId&&(clearTimeout(e.timeoutTimerId),e.timeoutTimerId=0)},_handleLoad:function(e){var t=e.loader;entry=e.entry,entry.width=t.width,entry.height=t.height,this._resetLoaderContext(e),entry.callback&&entry.callback(entry.src,entry.width,entry.height,entry.data),this.trigger("wp-image-loader-load-success",entry),this._loadNext()},_handleError:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-load-error",t),this._loadNext()},_handleTimeout:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-timeout",t),this._loadNext()}}),t.ImageLoader=r,r}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(48)],void 0===(r=function(e,t,i,n,r){"use strict";return n.Model.extend({setFontDataFromSparkFontDefn:function(e,t,i){this._fontData=this._fontData||{},this._fontData.source="spark-provided",e.subgroup||console.warn("unexpected fontDefn structure",e),this._fontData.lookupKey=e.face.lookupKey,this._fontData.faceName=e.face.name,this._fontData.subgroupName=e.subgroup.name,this._fontData.tkPreviewId=e.subgroup.typekitPreviewId,this._fontData.tkVariation=e.face.typekitKey,this._fontData.tkSubgroupKitId=e.subgroup.typekitSubgroupKitId,this._fontData.cssName=e.subgroup.cssName,this._fontData.weight=e.face.metrics.weight,this._fontData.style=e.face.metrics.style,this._fontData.noRendition=!!i,t&&(this._fontData.metrics=e.face.metrics),this._name=e.subgroup.name+" "+e.face.name},setFontDataFromTypekitSyncInfo:function(e){this._fontData=this._fontData||{},this._fontData.source="tk-synced",this._fontData.lookupKey="tk-"+e.id,this._fontData.subgroupName=e.family.name,this._fontData.tkPreviewId=e.family.web_id,this._fontData.tkVariation=[e.font.web.fvd],this._fontData.tkVariationId=e.id;var t=e.family.css_font_stack.split(",")[0].replace(/['"]/g,"").replace(/^\s*/,"").replace(/\s*$/,"");this._fontData.cssName=t,this._fontData.weight=e.font.web.weight,this._fontData.style=e.style,this._name=e.name},isDefn:function(){return!0},source:function(){return this.getValueProp("source")},isCustomFont:function(){return"user-uploaded"==this.source()},isSparkFont:function(){return"spark-provided"==this.source()},getValueProp:function(e,t){return this._fontData&&this._fontData[e]?this._fontData[e]:t||""},friendlyName:function(e){var t=this._name||"Undefined";return e?-1!=t.search(/^clarendon/i)||-1!=t.search(/^raleway/i)?t.split(" ")[0]:-1!=t.search(/local brewery four/i)?t.split(" ").slice(0,3).join(" "):t.split(" ").slice(0,2).join(" "):t},subgroupName:function(){return this.getValueProp("subgroupName")},faceName:function(){return this.getValueProp("faceName")},lookupKey:function(){return this.getValueProp("lookupKey")},uiKey:function(){return this.lookupKey()},getMetricsAsync:function(){return this.isCustomFont()?i.resolve(this.getMetrics()):this.getMetricsFromRegistry()},getMetrics:function(){return this.getValueProp("metrics")},getMetricsFromRegistry:function(){return r.getFontRegistry().then(function(e){return e.facesByKey[this.lookupKey()].face.metrics}.bind(this))},tkPreviewId:function(){return this.getValueProp("tkPreviewId")},tkVariation:function(){return this.getValueProp("tkVariation")},tkVariationId:function(){return this.getValueProp("tkVariationId")},tkSubgroupKitId:function(){return this.getValueProp("tkSubgroupKitId")},cssName:function(){return this.getValueProp("cssName")},cssNameForPreview:function(){return this.cssName()},fontStyle:function(){return this.getValueProp("style","normal")},fontWeight:function(){return this.getValueProp("weight","400")},fontStyleFromTkVariation:function(){return{n:"normal",i:"italic"}[this.tkVariation().split("")[0]]},fontWeightFromTkVariation:function(){var e=this.tkVariation().split(""),t=parseInt(e[1]);return t<1&&(t=1),t>9&&(t=9),100*t},$cssRendition:function(e,i,n,o){var a;if(this.isSparkFont()?this.getValueProp("noRendition")||(a=n?"/spark-fonts/renditions/families/"+this.lookupKey()+".png":o?"/spark-fonts/renditions/"+this.lookupKey()+".png":"/spark-fonts/renditions/face/"+this.lookupKey()+".png"):this.isCustomFont()&&r.ENABLE_UPLOADED_FONTS_RENDITIONS&&(a=this.getRenditionHref(null,n,o)),a){var s=!1,l=!1,c=new Image;t.delay(function(){l||e.addClass("font-loading")},50),c.onload=function(){s||(l=!0,e.css({"background-image":"url('"+a+"')"}),e.removeClass("font-loading"))},c.onerror=function(){s=!0,i(),e.removeClass("font-loading")}.bind(this),t.delay(function(){l||(s=!0,i(),e.removeClass("font-loading"))}.bind(this),2e3),c.src=a}else i()},$css:function(e){e.css({"font-family":this.cssNameForPreview(),"font-style":this.fontStyle(),"font-weight":this.fontWeight()})}})}.apply(t,n))||(e.exports=r)},function(e,t,i){(t=e.exports=i(437)).Stream=t,t.Readable=t,t.Writable=i(372),t.Duplex=i(263),t.Transform=i(440),t.PassThrough=i(587)},function(e,t,i){"use strict";(function(t,n,r){var o=i(33).nextTick;function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o;b.WritableState=v;var c=i(25);c.inherits=i(14);var d={deprecate:i(111)},u=i(438),h=i(32).Buffer,p=r.Uint8Array||function(){};var f,g=i(439);function m(){}function v(e,t){s=s||i(263),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(o(r,n),o(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(r(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,i,n,t,r);else{var a=x(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||k(e,i),n?l(w,e,i,a,r):w(e,i,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||i(263),!(f.call(b,this)||this instanceof s))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,i,n,r,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function w(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function k(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,r=new Array(n),o=t.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;)r[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;r.allBuffers=l,y(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,d=i.encoding,u=i.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var i=x(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(b,u),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):f=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,i){var n=this._writableState,r=!1,a=!n.objectMode&&function(e){return h.isBuffer(e)||e instanceof p}(e);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(i=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=m),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o(t,i)}(this,i):(a||function(e,t,i,n){var r=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(n,a),r=!1),r}(this,n,e,i))&&(n.pendingcb++,r=function(e,t,i,n,r,o){if(!i){var a=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,i));return t}(t,n,r);n!==a&&(i=!0,r="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,r,o);return l}(this,n,a,e,t,i)),r},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,i){t.ending=!0,C(e,t),i&&(t.finished?o(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(18),i(67).setImmediate,i(9))},function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(13)],void 0===(r=function(e,t,i,n){"use strict";return t.Model.extend({defaults:{name:"",relationship:"",type:"",path:"",contents:"",composite:null,file:null,parent:null,modified:0},getFile:function(){var e=this.get("file");return e||(this.get("type").match("image")?void 0:new Blob([this.get("contents")],{type:"text/plain"}))},getActualComponent:function(){return this.get("composite").current.getComponentWithAbsolutePath("/"+this.get("path"))},isModified:function(){return this.get("modified")>0},setModified:function(){var e=this.get("modified");this.set("modified",e+1)},setUnmodified:function(){var e=this.get("modified");this.set("modified",e-1)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return v});var n=i(375),r=i.n(n),o=i(21),a=i.n(o),s=i(61),l=i.n(s),c=i(3),d=i.n(c),u=i(6),h=i.n(u),p=i(5),f=i.n(p),g=i(4),m=i.n(g),v=function(){function e(){a()(this,e)}return l()(e,[{key:"_handleClose",value:function(e){var t=this;window.marvel.logger.traceflow("collaboration:invitations","_handleClose: ".concat(JSON.stringify(e))),this._cleanupDOM(),this.getCollaboration(this.resourcePath).then(function(e){t._sendInviteAnalytics(t.collabBefore,e),window.marvel.logger.traceflow("collaboration:invitations","collabAfter: ".concat(JSON.stringify(e)))}),this.defer.resolve(e||[])}},{key:"_cleanupDOM",value:function(){if(this&&this.targetElement){this.targetElement.classList&&this.targetElement.classList.add("hide");var e=this.targetElement.children&&this.targetElement.children[0];e&&(this.ReactDOM.unmountComponentAtNode(e),this.targetElement.removeChild(e))}}},{key:"_parseCollaborationResponse",value:function(e){return[].concat(r()(e.collaborators.map(function(e){return e.email})),r()(e.invitations.map(function(e){return e.recipientEmail})))}},{key:"_sendInviteAnalytics",value:function(e,t){var i=this._parseCollaborationResponse(e),n=this._parseCollaborationResponse(t),r=i.reduce(function(e,t){return n.indexOf(t)<0?e:e+1},0),o=n.length>0?i.length-r:i.length-r-1,a=i.length>0?n.length-r:n.length-r-1;o>0&&(window.marvel.logger.traceflow("collaboration:invitations","sending inviteRemoved analytics for ".concat(o," users")),m.a.trackEvent("collab:inviteRemoved",{contextualData1:o,contextualData12:"project"})),a>0&&(window.marvel.logger.traceflow("collaboration:invitations","sending inviteSent analytics for ".concat(a," users")),m.a.trackEvent("collab:inviteSent",{contextualData1:a,contextualData12:"project"}))}},{key:"_handleInviteSubmit",value:function(e){this.possiblePromiseResolution=this._getCollaboratorsFromInviteResults(e),window.marvel.logger.traceflow("collaboration:invitations","_handleInviteSubmit: ".concat(JSON.stringify(e)))}},{key:"_handleDialogChange",value:function(e){var t=this;window.marvel.logger.traceflow("collaboration:invitations","_handleDialogChange: ".concat(JSON.stringify(e))),e&&e.event&&("inviteFulfilled"===e.event?setTimeout(function(){return t._handleClose(t.possiblePromiseResolution)},1500):"inviteRejected"===e.event&&setTimeout(function(){return t._handleClose([])},1500))}},{key:"_getCollaboratorsFromInviteResults",value:function(e){return e&&e.recipients?e.recipients.reduce(function(e,t){return 201===t.statusCode&&e.push(t.recipientEmail),e},[]):[]}},{key:"_handlePermissionRevoked",value:function(e){window.marvel.logger.traceflow("collaboration:invitations","_handlePermissionRevoked: ".concat(JSON.stringify(e)))}},{key:"_handleCountUpdate",value:function(e){window.marvel.logger.traceflow("collaboration:invitations","_handleCountUpdate: ".concat(JSON.stringify(e)))}},{key:"getCollaboration",value:function(e){var t=d.a.defer();return f.a.ajax({type:"GET",url:"https://"+h.a.collab+"/collaboration/"+window.encodeURIComponent(e),headers:{"x-api-key":h.a.key}}).then(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise}},{key:"_invitesSend",value:function(e){window.marvel.logger.traceflow("collaboration:invitations","_invitesSend: ".concat(JSON.stringify(e)))}},{key:"_invitesGrantAccessRequest",value:function(e){window.marvel.logger.traceflow("collaboration:invitations","_invitesGrantAccessRequest: ".concat(JSON.stringify(e)))}},{key:"_invitesDeleteCollaborators",value:function(e){window.marvel.logger.traceflow("collaboration:invitations","_invitesDeleteCollaborators: ".concat(JSON.stringify(e)))}},{key:"handleCollabUI",value:function(e,t,n){var r=this;return this.defer=d.a.defer(),this.resourcePath=t.getStoragePath(),Promise.all([Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("ccx-share-sheet")]).then(i.t.bind(null,972,7)),Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("react")]).then(i.t.bind(null,953,7)),Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("react")]).then(i.t.bind(null,954,7)),t.getURN(),this.getCollaboration(this.resourcePath)]).then(function(i){var o=i[0].ShareSheetProvider,a=i[0].ShareSheetDialog,s=i[1];r.ReactDOM=i[2];var l=i[3];r.collabBefore=i[4];var c=(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))+"/sp/accept-invite/"+window.encodeURIComponent(l),d=window.adobeIMS.getUserProfile();window.marvel.logger.traceflow("collaboration:invitations","collabBefore: ".concat(JSON.stringify(r.collabBefore)));var u={assetData:{id:t.assetId||t.get&&t.get("id")||"",name:t.name||t.get&&t.get("name")||"",mimeType:t.type||t.get&&t.get("type")||"",resourceId:t.getStorageURL(),resourceViewUrl:c},imsData:{token:n,id:d.userId,email:d.email,isVerified:"true"===d.emailVerified},idpClientId:h.a.key,invitationServiceApiKey:h.a.key,peopleGraphApiKey:h.a.key,environment:h.a.ccxShareSheetEnvironment,locale:"en-US",onClose:r._handleClose.bind(r),onDialogChange:r._handleDialogChange.bind(r),onPermissionRevoked:r._handlePermissionRevoked.bind(r),onCollaboratorCountUpdate:r._handleCountUpdate.bind(r),invitesSend:r._invitesSend.bind(r),invitesGrantAccessRequest:r._invitesGrantAccessRequest.bind(r),invitesDeleteCollaborators:r._invitesDeleteCollaborators.bind(r),openedDialog:"invite",theme:"light",title:e},p={inviteDialogData:{allowRemoveAll:!0,defaultUserRole:"editor",emailNotification:{acceptance:{editor:"cc_collab_spark_share"}},inviteCreateUseMounts:!0,inviteCreateAcceptanceRequired:!0},native:!1,showCloseButton:!0,showHeader:!0,tabletMode:!1,peopleGraphActive:!0,onClose:r._handleClose.bind(r),invitesSend:r._invitesSend.bind(r),invitesGrantAccessRequest:r._invitesGrantAccessRequest.bind(r),invitesDeleteCollaborators:r._invitesDeleteCollaborators.bind(r),onInviteSubmit:r._handleInviteSubmit.bind(r)};r.targetElement=document.getElementsByClassName("ccx-share-sheet-overlay")[0];var f=document.createElement("div");f.id="ccx-share-sheet-div",r.targetElement.appendChild(f),r.targetElement.classList.remove("hide"),r.ReactDOM.render(s.createElement("div",{className:"mrvl-overlay-overlay-bg"},s.createElement("div",{className:"ccx-share-sheet-container"},s.createElement(o,u,s.createElement(a,p)))),f)}).catch(function(e){window.marvel.logger.error("Exception bringing up ccx-share-sheet: ".concat(e)),r._cleanupDOM(),r.defer.reject("failed to initialize or display ccx-share-sheet: ".concat(e))}),this.defer.promise}}]),e}()},function(e,t,i){var n=i(833),r=i(834),o=i(835);e.exports=function(e){return n(e)||r(e)||o()}},function(e,t,i){var n=i(46),r=i(42).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){t.f=i(58)},function(e,t,i){var n=i(351)("keys"),r=i(273);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(245);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(42).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(46),r=i(44),o=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(243)(Function.call,i(239).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return o(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,i){var n=i(46),r=i(382).set;e.exports=function(e,t,i){var o,a=t.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(e,o),e}},function(e,t,i){"use strict";var n=i(238),r=i(246);e.exports=function(e){var t=String(r(this)),i="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:i},function(e,t,i){var n=i(238),r=i(246);e.exports=function(e){return function(t,i){var o,a,s=String(r(t)),l=n(i),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(274),r=i(10),o=i(125),a=i(216),s=i(321),l=i(458),c=i(320),d=i(279),u=i(58)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,i,f,g,m,v){l(i,t,f);var b,y,w,k=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},x=t+" Iterator",_="values"==g,C=!1,S=e.prototype,T=S[u]||S["@@iterator"]||g&&S[g],M=T||k(g),I=g?_?k("entries"):M:void 0,D="Array"==t&&S.entries||T;if(D&&(w=d(D.call(new e)))!==Object.prototype&&w.next&&(c(w,x,!0),n||"function"==typeof w[u]||a(w,u,p)),_&&T&&"values"!==T.name&&(C=!0,M=function(){return T.call(this)}),n&&!v||!h&&!C&&S[u]||a(S,u,M),s[t]=M,s[x]=p,g)if(b={values:_?M:k("values"),keys:m?M:k("keys"),entries:I},v)for(y in b)y in S||o(S,y,b[y]);else r(r.P+r.F*(h||C),t,b);return b}},function(e,t,i){var n=i(391),r=i(246);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},function(e,t,i){var n=i(46),r=i(245),o=i(58)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,i){var n=i(58)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,i){var n=i(321),r=i(58)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[r]===e)}},function(e,t,i){"use strict";var n=i(89),r=i(272);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(336),r=i(58)("iterator"),o=i(321);e.exports=i(92).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[n(e)]}},function(e,t,i){"use strict";var n=i(126),r=i(276),o=i(71);e.exports=function(e){for(var t=n(this),i=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);c>s;)t[s++]=e;return t}},function(e,t,i){"use strict";var n=i(322),r=i(462),o=i(321),a=i(217);e.exports=i(389)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,i){"use strict";var n=i(356),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=void 0!==/()??/.exec("")[1];(s||l)&&(a=function(e){var t,i,a,c,d=this;return l&&(i=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),s&&(t=d.lastIndex),a=r.call(d,e),s&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),l&&a&&a.length>1&&o.call(a[0],i,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)}),a}),e.exports=a},function(e,t,i){"use strict";var n=i(388)(!0);e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},function(e,t,i){var n,r,o,a=i(243),s=i(452),l=i(381),c=i(376),d=i(42),u=d.process,h=d.setImmediate,p=d.clearImmediate,f=d.MessageChannel,g=d.Dispatch,m=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},p=function(e){delete v[e]},"process"==i(245)(u)?n=function(e){u.nextTick(a(b,e,1))}:g&&g.now?n=function(e){g.now(a(b,e,1))}:f?(o=(r=new f).port2,r.port1.onmessage=y,n=a(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,i){"use strict";var n=i(42),r=i(91),o=i(274),a=i(362),s=i(216),l=i(325),c=i(43),d=i(324),u=i(238),h=i(71),p=i(470),f=i(278).f,g=i(89).f,m=i(396),v=i(320),b="prototype",y="Wrong index!",w=n.ArrayBuffer,k=n.DataView,x=n.Math,_=n.RangeError,C=n.Infinity,S=w,T=x.abs,M=x.pow,I=x.floor,D=x.log,P=x.LN2,E=r?"_b":"buffer",A=r?"_l":"byteLength",F=r?"_o":"byteOffset";function L(e,t,i){var n,r,o,a=new Array(i),s=8*i-t-1,l=(1<<s)-1,c=l>>1,d=23===t?M(2,-24)-M(2,-77):0,u=0,h=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===C?(r=e!=e?1:0,n=l):(n=I(D(e)/P),e*(o=M(2,-n))<1&&(n--,o*=2),(e+=n+c>=1?d/o:d*M(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(r=0,n=l):n+c>=1?(r=(e*o-1)*M(2,t),n+=c):(r=e*M(2,c-1)*M(2,t),n=0));t>=8;a[u++]=255&r,r/=256,t-=8);for(n=n<<t|r,s+=t;s>0;a[u++]=255&n,n/=256,s-=8);return a[--u]|=128*h,a}function N(e,t,i){var n,r=8*i-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=i-1,c=e[l--],d=127&c;for(c>>=7;s>0;d=256*d+e[l],l--,s-=8);for(n=d&(1<<-s)-1,d>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===d)d=1-a;else{if(d===o)return n?NaN:c?-C:C;n+=M(2,t),d-=a}return(c?-1:1)*n*M(2,d-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function j(e){return[255&e]}function z(e){return[255&e,e>>8&255]}function O(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function B(e){return L(e,52,8)}function U(e){return L(e,23,4)}function $(e,t,i){g(e[b],t,{get:function(){return this[i]}})}function V(e,t,i,n){var r=p(+i);if(r+t>e[A])throw _(y);var o=e[E]._b,a=r+e[F],s=o.slice(a,a+t);return n?s:s.reverse()}function H(e,t,i,n,r,o){var a=p(+i);if(a+t>e[A])throw _(y);for(var s=e[E]._b,l=a+e[F],c=n(+r),d=0;d<t;d++)s[l+d]=c[o?d:t-d-1]}if(a.ABV){if(!c(function(){w(1)})||!c(function(){new w(-1)})||c(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var G,K=(w=function(e){return d(this,w),new S(p(e))})[b]=S[b],q=f(S),W=0;q.length>W;)(G=q[W++])in w||s(w,G,S[G]);o||(K.constructor=w)}var Y=new k(new w(2)),Q=k[b].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||l(k[b],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else w=function(e){d(this,w,"ArrayBuffer");var t=p(e);this._b=m.call(new Array(t),0),this[A]=t},k=function(e,t,i){d(this,k,"DataView"),d(e,w,"DataView");var n=e[A],r=u(t);if(r<0||r>n)throw _("Wrong offset!");if(r+(i=void 0===i?n-r:h(i))>n)throw _("Wrong length!");this[E]=e,this[F]=r,this[A]=i},r&&($(w,"byteLength","_l"),$(k,"buffer","_b"),$(k,"byteLength","_l"),$(k,"byteOffset","_o")),l(k[b],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(V(this,4,e,arguments[1]))},getUint32:function(e){return R(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return N(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return N(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,j,t)},setUint8:function(e,t){H(this,1,e,j,t)},setInt16:function(e,t){H(this,2,e,z,t,arguments[2])},setUint16:function(e,t){H(this,2,e,z,t,arguments[2])},setInt32:function(e,t){H(this,4,e,O,t,arguments[2])},setUint32:function(e,t){H(this,4,e,O,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,U,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,B,t,arguments[2])}});v(w,"ArrayBuffer"),v(k,"DataView"),s(k[b],a.VIEW,!0),t.ArrayBuffer=w,t.DataView=k},function(e,t,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=i(777),n.prototype.loadAsync=i(810),n.support=i(257),n.defaults=i(481),n.version="3.1.5",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=i(338),e.exports=n},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(478)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(338),r=i(482),o=i(483),a=i(484);o=i(483);function s(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,i){"use strict";var n=i(59);var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(64),i(103),i(7),i(16),i(820),i(339),i(498),i(828),i(830),i(499),i(36)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p){"use strict";return new(t.Model.extend({getMessagingStripView:function(){return this._messagingStripView||(this._messagingStripView=new s),this._messagingStripView},attachView:function(t){var i,n=this.getMessagingStripView(),r=n.model.get("views");if(t instanceof c)if(t.model.get("views")){r.length&&(this._messagingStripView=new s,r=this._messagingStripView.model.get("views"));var o=t.model.get("views");e.each(o,function(e){r.push(new c({model:e}))})}else r.unshift(t);else t instanceof l?r.push(t):t instanceof h?((i=n.model.get("takeover"))&&i.remove(),n.model.set("takeoverView",t)):marvel.logger.error("Ignoring attempt to attach unknown view to messaging strip!",t);n.isRendered&&n.render()},populateMessagingStripFromCategory:function(e){var n=r.getCategory(e);i.resolve(n).then(function(e){e.examples.forEach(function(e,i){r.getExample(e).then(function(e){var i=new t.Model(e);"blog"===i.get("type")?this.attachView(new u({model:i})):this.attachView(new d({model:i}))}.bind(this))}.bind(this))}.bind(this))}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(5),i(7),i(70),i(96),i(374),i(4),i(13),i(237),i(99),i(836),i(15),i(12),i(500),i(24),i(16),i(34),i(53),i(838),i(100),i(839),i(841)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T){"use strict";var M={slate:"My Page",theo:"My Post",voice:"My Video",pmref:"My Thang"};return r.View.extend({tagName:"article",className:"mrvl-organizer-doc-item",events:{"click .mrvl-item-more-button":"handleOpenTray","click .mrvl-item-action-overlay":"handleActionOverlayClick","click .mrvl-item-hide-tray-button":"handleDismissTray","click .mrvl-item-rename-btn":"handleRenameClick","click .mrvl-item-duplicate-btn":"handleDuplicateClick","click .mrvl-item-save-as-template-btn":"handleSaveAsTemplateClick","click .mrvl-item-collaborate-btn":"handleCollaborateClick","click .mrvl-item-download-btn":"handleDownloadClick","click .mrvl-item-unpublish-btn":"handleUnpublishClick","click .mrvl-item-trash-btn":"handleDeleteClick","click .mrvl-item-leave-collab-btn":"handleDeleteClick","click .mrvl-item-render-btn":"handleRenderClick","click .mrvl-item-cancel":"handleDeleteCancel","click .mrvl-item-open-btn":"handleOpenClick","mouseenter .mrvl-item-title":"handleEnterTitle","mouseleave .mrvl-item-title":"handleLeaveTitle","click .mrvl-item-title":"handleShowTitleEdit","click .mrvl-item-title-edit":"handleTitleEditClick","focus .mrvl-item-title-edit":"handleTitleEditFocus","change mrvl-item-title-edit":"handleTitleEditChange","blur .mrvl-item-title-edit":"handleTitleEditBlur","keyup .mrvl-item-title-edit":"handleTitleEditKeypress","mouseleave .mrvl-item-action-overlay":"handleDismissTray","mouseenter .mrvl-item-thumb":"handleOverlayShown","click .mrvl-item-download-composite-btn":"handleDownloadComposite","keydown .mrvl-item-thumb":"handleItemKeyDown"},initialize:function(e){this._gotoUpgrade=this._gotoUpgrade.bind(this),this.listenTo(this.model,"destroy",this.remove),this.$el.addClass("born"),this.render(e.renderCallback)},handleDismissTray:function(){return this.model.isPublished()||this.$el.addClass("open-by-default"),this.hideTray(),p.organizerOverlayFocus(this,!1,!1),!1},isReadyForInteraction:function(){return!this.$el.hasClass("loading")},userCheckingReady:function(e){return!!this.isReadyForInteraction()||(e.preventDefault(),e.stopPropagation(),s.hasFeature("organizer-card-warn")&&(this._cardWarningStartTime=new Date,v.showCancelableWaitView(o.getString("organizer-legacy-card-loading-warn-title"),o.getString("organizer-legacy-card-loading-warn-message")).then(function(){delete this._cardWarningStartTime}.bind(this))),!1)},_getItemProps:function(e){var i={type:this.model.getMyApp().getAppTypeID(),projectId:this.model.get("id"),uiTimeStamp:Date.now()};return e&&t.extend(i,e),i},handleOpenTray:function(e){return this.userCheckingReady(e)&&(this.isCollaboration?(this.$deleteBtn.addClass("hide"),this.$leaveCollabBtn.removeClass("hide")):(this.$deleteBtn.removeClass("hide"),this.$leaveCollabBtn.addClass("hide")),u.trackEvent("organizer:clickedItemContextualMenu",this._getItemProps(),"organizer:projects"),this.$el.removeClass("open-by-default"),this.$tray.removeClass("hide"),this.$trayDismiss.removeClass("hide"),this.$actionButtons.addClass("hide")),!1},handleOpenTabClick:function(){return window.open(o.getLocalizedSparkPath("/sp/design/"+this.model.getMyApp().typeName+"/"+this.model.get("id"),this.model.get("id"))),!1},handleOverlayShown:function(){return this.isReadyForInteraction()&&p.organizerOverlayFocus(this,!0,!1),!1},handleActionOverlayClick:function(){if(this.$tray.hasClass("hide")){if(this.$el.hasClass("open-by-default"))return this.handleOpenClick()}else this.handleDismissTray();return!1},_doOpenDoc:function(e){var t=e.getMyApp();x.checkAppBrowserSupport(t).then(function(i){if(i)return t.checkDocCompatibility(e,"opening").then(function(){return u.setCurrentProjectId(e.get("id")),u.trackEvent("organizer:openedProject",{type:t.getAppTypeID(),contextData:["projectId"]},"organizer:projects"),c.getDocEditingSession(e).entitlementPromise.then(function(i){return i?(marvel.navigate("design/"+t.typeName+"/"+e.id,{trigger:!0}),marvel.events.trigger("verify-email")):window.marvel.events.trigger("branded-project-open-attempted",{doc:e}),i}.bind(this),function(e){throw window.marvel.logger.error("Failed to check entitlement, notifying user",e),window.marvel.events.trigger("service-borked"),e})}.bind(this),function(e){if("USER_CANCELED"!==e.code)throw v.showAlert(o.getString("organizer-error-failed-opening-title"),e.usermsg||o.getString("organizer-error-failed-opening-message")).done(),e});window.marvel.logger.warn("[ProjectOpen]: failed to open project because browser not supported")}.bind(this)).catch(function(e){window.marvel.logger.error("[ProjectOpen]: caught open exception",{err:e,ctx:"OrganizerItemView._doOpenDoc"})}.bind(this)).done()},handleOpenClick:function(e){return this._handleOpenClick(e)},_handleOpenClick:function(e){if(!this.$el.hasClass("unopenable"))return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)?document.location.href="https://itunes.apple.com/us/app/adobe-slate-make-your-words/id968433730?mt=8&uo=6&at=&ct=":this.userCheckingReady(e)&&(p.organizerOverlayFocus(this,!1,!0),this._doOpenDoc(this.model)),!1;this.model.belongsToUser()?this.model.getMyApp().supportsDirectDownload()?v.showConfirm(o.getString("organizer-item-prompt-make-unbranded-copy"),o.getString("organizer-item-message-make-unbranded-copy"),{cancelText:o.getString("organizer-verb-cancel"),okText:o.getString("organizer-item-verb-continue")}).then(function(e){e&&(v.showWaitView(o.getString("organizer-title-creating-unbranded-copy"),o.getString("organizer-message-open-shortly")),p.duplicateComposite(this.model).then(function(e){return e.getMyApp().stripBranding(e).then(function(){v.hide(),this._doOpenDoc(e)}.bind(this))}.bind(this)).done())}.bind(this)):v.showConfirm(o.getString("organizer-unbranded-remove-branding-title"),o.getString("organizer-unbranded-remove-branding-message"),{cancelText:o.getString("organizer-verb-cancel"),okText:o.getString("organizer-item-verb-continue")}).then(function(e){if(e){var t=this.model.getMyApp();v.showWaitView(o.getString("organizer-unbranded-remove-branding-status-title"),o.getString("organizer-unbranded-remove-branding-status")),t.stripBranding(this.model).then(function(){v.hide(),this._doOpenDoc(this.model)}.bind(this)).done()}}.bind(this)):window.marvel.events.trigger("branded-project-open-attempted",{doc:this.model,captive:!0})},supportsAsyncPublish:function(){return this.model.getMyApp().supportsAsyncPublish()},handleShareClick:function(e){if(!this.model.IS_BAD_REF){if(this.isCollaboration&&!this.model.isPublished())v.showAlert(o.getString("collab-owner-only-publish-dialog-title"),o.getString("collab-owner-only-publish-dialog-text")).done(),u.trackEvent("coediting:publishBlockedViewed",{},"organizer:projects");else{var t=this.model.getMyApp();x.checkAppBrowserSupport(t).then(function(e){var t;e&&(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)?document.location.href="https://itunes.apple.com/us/app/adobe-slate-make-your-words/id968433730?mt=8&uo=6&at=&ct=":("notdirty"===this._lastCalculatedPubState||this.isCollaboration||(t="share"),this.supportsAsyncPublish()?this._handleAsyncShareClick(t):marvel.events.trigger("organizer-share-workflow",this.model,t)))}.bind(this))}return!1}"#"===this.$publishStatus.attr("href")&&e.preventDefault()},_loadAsyncPublishController:function(){return this._asyncPublishWrapper||(this._asyncPublishWrapper=new g),this._asyncPublishWrapper.getAsyncPublishController({organizerItemView:this})},_handleAsyncShareClick:function(e){this._loadAsyncPublishController().then(function(t){t.handleOrganizerItemAsyncShareClick(e)}.bind(this))},prettyDate:function(e){function t(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i}return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" "+t(e.getHours(),2)+":"+t(e.getMinutes(),2)+":"+t(e.getSeconds(),2)},handleEnterTitle:function(e){this.titleHoverDelayId&&(window.clearTimeout(this.titleHoverDelayId),this.titleHoverDelayId=null),this.titleHoverDelayId=window.setTimeout(function(){this.$title.addClass("mrvl-item-title-ready-to-edit")}.bind(this),125)},handleLeaveTitle:function(e){this.titleHoverDelayId&&(window.clearTimeout(this.titleHoverDelayId),this.titleHoverDelayId=null),this.$title.removeClass("mrvl-item-title-ready-to-edit")},handleShowTitleEdit:function(e){var t=this.model,i=t.getMyApp().getAppTypeID(),n=t.get("id");u.trackEvent("organizer:renameClicked",{type:i,projectId:n},"organizer:projects"),this.$titleInput.addClass("mrvl-item-title-edit-active"),this.$titleInput.focus()},handleTitleEditFocus:function(e){this.$titleInput.select()},handleTitleEditrChange:function(e){var t=this.$titleInput.val()||"";this.$title.text(t),this.$titleInput.width(this.$title.width())},handleTitleEditBlur:function(e){this.$titleInput.removeClass("mrvl-item-title-edit-active"),this._titleEditRename()},handleTitleEditKeypress:function(e){e.keyCode===m.DOM_VK_ENTER||e.keyCode===m.DOM_VK_RETURN?this.$titleInput.blur():e.keyCode===m.DOM_VK_ESCAPE&&(this._resetTitleInput(),this.$titleInput.blur())},_titleEditRename:function(){var e=this.model,t=e.getMyApp().getAppTypeID(),i=e.get("id"),n=this.$titleInput.val();this._rename(n)?u.trackEvent("projectRenamed",{type:t,projectId:i},"organizer:projects"):this._resetTitleInput()},_resetTitleInput:function(){var e=this.$title.text();this.$titleInput.val(e)},setTitleDisplay:function(e,t){this.$title.text(e),this.$titleInput.val(e)},_setThumbnailStyles:function(e,t,i,n,r){var o=this.$el.find(".mrvl-item-thumb"),a=this.$el.find(".mrvl-item-thumb-img"),s=this.$el.find(".mrvl-item-thumb-mini-img"),l=!1,c="theo"===n||"theo-template"===n||"voice"===n;/Trident/.test(navigator.userAgent)&&(l=!0),o.addClass("thumb"),a.removeClass("no-thumb"),l&&c||a.css("background-image","url("+e+")"),c?(o.addClass("mini-me"),s.css("background-image","url("+e+")"),l?a.removeClass("blurry"):a.addClass("blurry")):(o.removeClass("mini-me"),i?l||(a.css("filter",i),a.css("-webkit-filter",i)):l||(a.css("filter",""),a.css("-webkit-filter",""))),a.addClass(n),t&&a.css("background-position",t)},_loadThumbnail:function(e){e.preloadImageRendition().then(function(){var t=e.getImageRendition();if(t){var i=t.url;if(i&&(i!==this._cachedThumbnailHref||t.position!==this._cachedThumbnailPos||t.filter!==this._cachedThumbnailFilter)&&(this._setThumbnailStyles(i,t.position,t.filter,e.getMyApp().getAppTypeID()),window.localStorage))try{window.localStorage.setItem("_m_cache_thumb_"+e.get("id"),i),window.localStorage.setItem("_m_cache_thumbpos_"+e.get("id"),t.position||"50% 50%"),window.localStorage.setItem("_m_cache_thumbfilter_"+e.get("id"),t.filter||"none")}catch(e){}}else this.$el.find(".mrvl-item-thumb-img").addClass("no-thumb")}.bind(this))},_updateBadRefPubInfo:function(e){var t=e.cachedPubInfo;t.pubModel&&(this.$publishStatus.attr("href",t.url),this.$publishStatus.attr("target","_blank"),this.$publishStatus.text(t.pubModel.alias)),this.$el.removeClass("loading")},renderRefresh:function(){if(this._rendered){var e,i,r=this.model;if(r.IS_REF){if(e=window.localStorage.getItem("_m_cache_title_"+r.get("id"))||"",this._cachedThumbnailHref=window.localStorage.getItem("_m_cache_thumb_"+r.get("id")),this._cachedThumbnailPos=window.localStorage.getItem("_m_cache_thumbpos_"+r.get("id")),this._cachedThumbnailFilter=window.localStorage.getItem("_m_cache_thumbfilter_"+r.get("id")),this._cachedThumbnailHref&&this._setThumbnailStyles(this._cachedThumbnailHref,this._cachedThumbnailPos,this._cachedThumbnailFilter,r.getMyApp().getAppTypeID()),r.IS_BAD_REF)if(this.$el.addClass("incomplete"),this.$el.find(".mrvl-item-loading").html("INCOMPLETE. CLICK TO DELETE").on("click",this.handleDeleteClick.bind(this)),e||(e=r.get("id")+":"+new Date(r.get("modified"))),i=!0,r.pubInfo)this._updateBadRefPubInfo(r);else{var o=n.defer();this.refreshPubInfo(o).then(function(e){f.getUtils().then(function(t){if(r.cachedPubInfo={pubModel:e},e){r.cachedPubInfo.alias=e.get("alias");var i=r.getMyApp().getCPCommunity(),n=t.cpLink(i,e.id,r.cachedPubInfo.alias);r.cachedPubInfo.url=n}this._updateBadRefPubInfo(r)}.bind(this))}.bind(this))}}else{if(e=r.getProjectName("card"),window.localStorage)try{window.localStorage.setItem("_m_cache_title_"+r.get("id"),e)}catch(e){}this._loadThumbnail(r),this.$el.removeClass("loading");var a=n.defer();this.refreshPubInfo(a).then(function(){if(this._cardWarningStartTime){var e=2e3-((new Date).getTime()-this._cardWarningStartTime);e<=0?(delete this._cardWarningStartTime,v.hide()):t.delay(function(){this._cardWarningStartTime&&(v.hide(),delete this._cardWarningStartTime)}.bind(this),e)}}.bind(this)).done()}this.setTitleDisplay(e,i)}},_gotoUpgrade:function(){k.handleShowUpgrade("organizer-unentitled-item")},render:function(t){return s.featuresLoaded().then(function(){var i=this.model,n=i.getMyApp(),r=i.getMyPrimaryApp(),a=i.get("id"),l=new Date(i.get("modified"));this.$el.html(o.mustacheRender(_)),this.$el.addClass("loading"),this.$title=this.$el.find(".mrvl-item-title"),this.$titleInput=this.$el.find(".mrvl-item-title-edit"),this.$anchorLink=this.$el.find(".mrvl-item-thumb"),this.$mod=this.$el.find(".mrvl-item-modified"),this.$type=this.$el.find(".mrvl-item-type"),this.$publishStatus=this.$el.find(".mrvl-item-publish-status"),this.$actionButtons=this.$el.find(".mrvl-item-action-btns"),this.views$=this.$el.find(".mrvl-item-views"),this.$statusLine=this.$el.find(".mrvl-item-status-line"),this.appreciates$=this.$el.find(".mrvl-item-appreciates"),this.$tray=this.$el.find(".mrvl-item-action-tray"),this.$trayButton=this.$el.find(".mrvl-item-more-button"),this.$trayDismiss=this.$el.find(".mrvl-item-hide-tray-button"),this.$unpublishBtn=this.$el.find(".mrvl-item-unpublish-btn"),this.$collaborateBtn=this.$el.find(".mrvl-item-collaborate-btn"),this.$deleteBtn=this.$el.find(".mrvl-item-trash-btn"),this.$leaveCollabBtn=this.$el.find(".mrvl-item-leave-collab-btn"),this.$supportBtn=this.$el.find(".mrvl-item-download-composite-btn"),this.isCollaboration="INCOMING"===this.model.getCollaboration(),w.getController().then(function(e){return r.isBranded(this.model)}.bind(this)).then(function(t){t&&this.$el.addClass("org-item-is-branded"),s.hasFeature("entitle-brand-kit")||t&&(this.$el.addClass("unopenable"),this.$el.find(".mrvl-item-thumb-img").css("filter",""),this.model.belongsToUser()?this.$el.find(".mrvl-item-duplicate-btn").addClass("hide"):this.$el.find(".mrvl-item-duplicate-btn").addClass("disabled"),this.$el.find(".mrvl-item-rename-btn").addClass("hide"),n.supportsDirectDownload()||this.$el.find(".mrvl-item-download-btn").addClass("hide"),this._upgradeBtn$=e('<div class="mrvl-item-unentitled-header">'+o.getString("brand-unentitled-action-upgrade")+"</div>"),this._upgradeBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._upgradeBtn$),!n.supportsDirectDownload()&&n.supportsDownload()&&(this._downloadDisabledBtn$=e('<div class="mrvl-item-download-disabled-btn">'+o.getString("organizer-item-verb-download")+"</div>"),this._downloadDisabledBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._downloadDisabledBtn$)),this._shareDisabledBtn$=e('<div class="mrvl-item-share-disabled-btn">'+o.getString("organizer-verb-share")+"</div>"),this._shareDisabledBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._shareDisabledBtn$),this.$publishStatus.addClass("hide"),this.$anchorLink.attr("href","#")),s.hasFeature("enable-download-composite")&&this.model.getMyApp().supportsDownloadComposite&&this.$el.find(".mrvl-item-download-composite-btn").remove("hide"),this._afterRender(t)}.bind(this)).done(),this.$el.attr("data-auto","mrvl-organizer-doc-item-"+a),this.$el.attr("data-modified",l.getTime()),this.$trayButton.attr("data-auto","mrvl-item-more-button-"+a),this.$el.find(".mrvl-item-duplicate-btn").attr("data-auto","mrvl-item-duplicate-btn-"+a),this.$el.find(".mrvl-item-download-btn").attr("data-auto","mrvl-item-download-btn-"+a),this.$el.find(".mrvl-item-rename-btn").attr("data-auto","mrvl-item-rename-btn-"+a),this.$el.find(".mrvl-item-render-btn").attr("data-auto","mrvl-item-render-btn-"+a),this.$collaborateBtn.attr("data-auto","mrvl-item-collaborate-btn-"+a),this.$deleteBtn.attr("data-auto","mrvl-item-trash-btn-"+a),this.$leaveCollabBtn.attr("data-auto","mrvl-item-leave-collab-btn-"+a),this.$el.find(".mrvl-item-open-btn").attr("data-auto","mrvl-item-open-btn-"+a),this.$el.find(".mrvl-item-action-overlay").attr("data-auto","mrvl-item-action-overlay-"+a),this.$type.attr("data-auto","mrvl-item-type-"+a),this.$title.attr("data-auto","mrvl-item-title-"+a),this.$titleInput.attr("data-auto","mrvl-item-title-edit-"+a),this.$publishStatus.attr("data-auto","mrvl-item-publish-status-"+a),this.views$.attr("data-auto","mrvl-item-views-"+a),this.appreciates$.attr("data-auto","mrvl-item-appreciates-"+a),this.$el.find(".mrvl-item-footer").attr("data-auto","mrvl-item-footer-"+a),s.hasFeature("enable-render-posts")&&"theo"===this.model.getMyApp().getAppTypeID()||this.$el.find(".mrvl-item-render-btn").addClass("hide"),this.$unpublishBtn.attr("data-auto","mrvl-item-unpublish-btn-"+a),s.hasFeature("enable-project-renaming")||this.$el.find(".mrvl-item-rename-btn").addClass("hide"),n.supportsDownload()||this.$el.find(".mrvl-item-download-btn").addClass("hide"),this.$el.addClass("open-by-default"),this.$publishStatus.removeClass("hide"),this.isCollaboration&&(this.$unpublishBtn.addClass("hide"),this.model.isPublished()||this.$publishStatus.addClass("dimmed")),this.$type.removeClass("hide"),this.$type.text(r.getDisplayName()),this.$type.addClass(r.getAppTypeID()),this.$publishStatus.on("click",this.handleShareClick.bind(this)),this.isCollaboration&&(this.$unpublishBtn.addClass("hide"),this.model.isPublished||this.$publishStatus.addClass("dimmed")),this.$publishStatus.addClass("hide"),n.supportsCollaboration()&&this.$collaborateBtn.removeClass("hide"),this.$el.find(".mrvl-item-action-overlay").addClass(n.getAppTypeID()),this.$anchorLink.attr("href",o.getLocalizedSparkPath("/sp/design/"+n.typeName+"/"+a)),this.$anchorLink.on("click",this.handleThumbClick.bind(this)),this._rendered=!0,this.renderRefresh(),"function"==typeof t&&t()}.bind(this)).done(),this},_afterRender:function(e){s.hasFeature("enable-spark-templates")&&this.model.getMyApp().getConfig().templateSyncGroup&&this.$tray.find(".mrvl-item-save-as-template-btn").removeClass("hide")},handleItemKeyDown:function(e){(marvel._dialogShowing||v.isShowing())&&e.preventDefault()},handleThumbClick:function(e){this.userCheckingReady(e)},_formatViewLike:function(e){var t=+(e||0);return t<1e3?""+t:t<1e4?(t/1e3).toFixed(1)+"k":t<1e6?Math.round(t/1e3)+"k":(t/1e6).toFixed(1)+"mm"},refreshPubInfo:function(e){var t=this.model;return t.isPublished()?h.syncMode===h.MODE_DISABLED?this._timer=window.setTimeout(function(){this.refreshPubInfo(e)}.bind(this),6e5):p.afterPendingInteractions(this).then(function(){f.getPubController().then(function(i){i.getAndCorrectPubModel(t).then(function(i){if(i){var n=this._formatViewLike(i.get("views")),r=this._formatViewLike(i.get("likes")),o=i.get("updated"),a=t.getMyApp();this.views$.addClass(a.getAppTypeID()),this.views$.text(n),this.appreciates$.text(r),this.updatePublishedState(!0,o,a.hasContentBeenUpdatedSincePublish(t,o)),this._timer=window.setTimeout(function(){this.refreshPubInfo(e)}.bind(this),6e5)}else this.updatePublishedState(!1);e&&e.resolve(i)}.bind(this),function(t){marvel.logger.warn("Failed to refresh publish info",t),this.updatePublishedState(!1),e&&e.resolve()}.bind(this)).done()}.bind(this))}.bind(this)):(this.updatePublishedState(!1),e&&e.resolve()),e?e.promise:null},hideTray:function(){this.$tray.addClass("hide"),this.$trayDismiss.addClass("hide"),this.$actionButtons.removeClass("hide")},_triggerDeleteAnalytics:function(){u.setCurrentProjectId(this.model.get("id")),this.isCollaboration?u.trackEvent("organizer:deletedShare",this._getItemProps(),"organizer:projects"):u.trackEvent("organizer:deletedProject",this._getItemProps({alsoUnpublished:this.model.isPublished(),contextData:["projectId"]}),"organizer:projects")},handleDeleteConfirm:function(e){this._triggerDeleteAnalytics();var i=n.defer();return this.$el.addClass("melting"),t.delay(function(){(this.isCollaboration?l.inviteeRemoveSharedComposite(this.model).then(function(){var e=h.nextSync(),t=this.model.isTemplate();return h.syncNow(),e.then(function(){window.marvel.events.trigger("organizer-refresh",{templates:t})}.bind(this))}.bind(this)):p.deleteComposite(this.model)).then(function(e){p.itemActionDone(!1),i.resolve()}.bind(this)).done()}.bind(this),350),i.promise},handleRenameClick:function(e){var t=this.model,i=t.getMyApp().getAppTypeID(),n=t.get("id");u.trackEvent("projectCardRename:Clicked",{type:i,projectId:n},"organizer:projects"),this.$titleInput.addClass("mrvl-item-title-edit-active"),this.$titleInput.focus()},_showRename:function(e){e=e||{};var i=this.model,r=e.defaultName||i.getProjectName("rename"),a=i.getMyApp().getAppTypeID(),s=M[a],l=(n.defer(),{defaultText:r,placeholderText:s,maxLen:256,select:!0});return t.assign(l,e.promptOptions||{}),v.showPrompt(l.title||o.getString("organizer-item-title-rename-project"),l.text||o.getString("organizer-item-prompt-rename-project"),l).then(function(t){return e.doNotApplyName?t:this._rename(t)}.bind(this))},_rename:function(e){return"string"==typeof(e="object"==typeof e?e.text:e)&&e!==this.model.getProjectName("rename")?(this.applyProjectName(e),e):null},applyProjectName:function(e){var t=this.model;if(0===e.length){var i=t.getMyApp().getAppTypeID();e=M[i]}if(t.setProjectName(e),window.localStorage)try{window.localStorage.setItem("_m_cache_title_"+t.get("id"),e)}catch(e){}this.setTitleDisplay(e)},handleCollaborateClick:function(e){return this._handleCollaborateClick(e)},_handleCollaborateClick:function(e){var t=o.getString("organizer-collaboration-invite-collaborators");return u.trackEvent("collab:invitePressed",{contextualData12:"inviteType:project"},"organizer:projects"),this._handleCollabUI(t,"organizer:projects").then(function(e){return!!e}.bind(this))},_handleCollabUI:function(e,t){var i=this.model;return a.getAccessToken().then(function(t){return(new d.default).handleCollabUI(e,i,t)}).then(function(e){return marvel.logger.traceflow("collaboration:invitations","_handleCollaborateClick sent invitations:",JSON.stringify(e)),i.getMyPrimaryApp().beforeCollaboration(i).then(function(){return l.silentlyInviteCollaboratorsToBrand(i,e)})}).catch(function(e){marvel.logger.warn("[Collab] Error attempting to invite collaborators",e),v.showAlert(o.getString("organizer-collaboration-error-title"),o.getString("organizer-collaboration-error-description"),{confirmText:o.getString("organizer-collaboration-error-confirm-text")})})},handleDownloadComposite:function(e){x.checkAppBrowserSupport(this.model.getMyApp()).then(function(e){e&&this.model.getMyApp().load().then(function(){this.model.getMyApp().getDocumentComponents?i.e(8).then(function(e){var t=i(402),n=i(607);this.model.getMyApp().getDocumentComponents(this.model).then(function(e){var i=new t;i.file("manifest",e.manifest);for(var r=i.folder("components"),o=0;o<e.images.length;o++)r.file(e.images[o].name,e.images[o].blob);i.generateAsync({type:"blob"}).then(function(e){n.saveAs(e,this.model.getProjectName("card").trim())}.bind(this))}.bind(this)).done()}.bind(this).bind(null,i)).catch(i.oe):this.handleDownloadClick()}.bind(this)).done()}.bind(this)).done()},handleDeleteClick:function(i){var r,a,s=n.defer(),l=this.model.getProjectName("card").trim();r=l?!this.isCollaboration&&this.model.isPublished()?o.formatMessage("organizer-delete-published-project",{projectName:t.escape(l)}):this.isCollaboration?o.formatMessage("organizer-leave-project",{projectName:t.escape(l)}):o.formatMessage("organizer-delete-project",{projectName:t.escape(l)}):!this.isCollaboration&&this.model.isPublished()?o.formatMessage("organizer-delete-unnamed-published-project",{formatName:this.model.getMyApp().getDisplayName()}):this.isCollaboration?o.formatMessage("organizer-leave-unnamed-project",{foramtName:this.model.getMyApp().getDisplayName()}):o.formatMessage("organizer-delete-unnamed-project",{foramtName:this.model.getMyApp().getDisplayName()}),a=e("<span>"+r+"</span>");var c=o.getString("organizer-title-delete-project"),d=o.getString("organizer-verb-delete");return this.isCollaboration&&(c=o.getString("organizer-title-leave-shared-project"),d=o.getString("organizer-verb-leave")),v.showConfirm(c,a,{closeDefer:s,cancelText:o.getString("organizer-verb-cancel"),okText:d}).then(function(e){e?(this.isCollaboration&&u.trackEvent("collab:leavePressed",{contextualData12:"inviteType:project"},"organizer:projects"),this.handleDeleteConfirm().then(function(){s.resolve()}.bind(this))):s.resolve()}.bind(this)),this.hideTray(),!1},handleRenderClick:function(e){return T.showRenderDialog(this.model),this.hideTray(),!1},updatePublishedState:function(e,t,i){this.supportsAsyncPublish()?this._loadAsyncPublishController().then(function(n){this._updatePublishedState(e,t,i),n.oivUpdatingPublishedState(e,i)}.bind(this)):this._updatePublishedState(e,t,i)},_updatePublishedState:function(e,t,i){this.model;e?(this.$publishStatus.removeClass("hide").addClass("share-published").text(o.getString("organizer-verb-share")),i?(this.$publishStatus.text(o.getString("organizer-verb-share-changes")),this.$publishStatus.attr("title",o.getString("organizer-prompt-share-changes"))):this.$publishStatus.attr("title",o.getString("organizer-prompt-share-again")),this.isCollaboration||this.$unpublishBtn.removeClass("hide"),this.$statusLine.removeClass("hide"),this.$el.removeClass("unpublished"),this._lastCalculatedPubState=i?"dirty":"notdirty"):(this.$publishStatus.removeClass("hide"),this.$publishStatus.text(o.getString("organizer-verb-share")),this.$publishStatus.attr("title",o.getString("organizer-item-share-status-tooltip")),this.$unpublishBtn.addClass("hide"),this.$el.addClass("unpublished"),this.$statusLine.addClass("hide"),this._lastCalculatedPubState="unpublished")},handleDownloadClick:function(){var i=this.model.getMyApp();x.checkAppBrowserSupport(i).then(function(n){n&&i.load().then(function(){var n=i.getPublishImpl();if(n.getDownloadUrl){this.downloadLink$||(this.downloadLink$=this.$el.find(".shf-download-link"),this.downloadLink$.length||(this.downloadLink$=e('<a class="shf-download-link">'),this.$el.append(this.downloadLink$)));var r=n.getDownloadFileName(this.model);v.showWaitView(o.getString("organizer-item-generating-download")),n.getDownloadUrl(this.model).then(function(e){e?(t.isFunction(e)?(this.downloadLink$.removeAttr("href"),this.downloadLink$.removeAttr("download"),e()):(this.downloadLink$.attr("href",e),this.downloadLink$.attr("download",r)),this._sendExportAnalytic("download"),u.trackEvent("Sharing Action",{type:i.getAppTypeID(),eventAction:"Downloaded",projectId:this.model.get("id")},"organizer:projects"),v.hide(),this.downloadLink$[0].click()):marvel.logger.warn("couldn't download url",this.model)}.bind(this))}else this.supportsAsyncPublish()?this._handleAsyncShareClick("download"):n.downloadFile&&window.marvel.navigate("/design-download/"+i.typeName+"/"+this.model.get("id"),{trigger:!0})}.bind(this))}.bind(this)).done()},_sendExportAnalytic:function(e){var i=!1;this.model.getDataFromRoot&&this.model.setAndSaveDataToRoot&&((i=this.model.getDataFromRoot("cp#isExported"))||this.model.setAndSaveDataToRoot("cp#isExported",!0));var r=this.model.getMyApp(),o="theo-web"===r.registeredName&&"function"==typeof r.getRemixParentMetadataForAnalytics?r.getRemixParentMetadataForAnalytics(this.model):n(!1);n.all([w.getExportAnalytics(this.model,this.workflow,e),r.getImageMetadataForAnalytics(this.model),o]).spread(function(e,n,r){t.extend(e,n),e.isReExport=i?"true":"false",e.exportedWithBranding&&u.trackEvent("exportedBrandedProject",e,this._shareEnvokeType),r&&(e.contextualData1="designIngredientId:"+(r.designIngredientId||"none"),e.contextualData2="designIngredientType:"+(r.designIngredientType||"none"),e.contextualData5="tagNames:"+r.tagNames,e.contextualData6="templateType:"+r.templateType,e.templateId=r.templateId||"none",e.contextualData10="includesPaidAdobeFonts:"+r.includesPaidAdobeFonts),u.trackEvent("project:exportCompleted",e,this._shareEnvokeType)}.bind(this)).done()},handleUnpublishClick:function(i){var r,a,s=n.defer(),l=this.model.getProjectName("card").trim();r=this.model.isPublished()?l?o.formatMessage("organizer-prompt-unpublish",{projectName:l}):o.formatMessage("organizer-prompt-unpublish-unnamed",{formatName:this.model.getMyApp().getDisplayName()}):l?o.formatMessage("organizer-prompt-unpublish-simple",{projectName:l}):o.formatMessage("organizer-prompt-unpublish-simple-unnamed",{formatName:this.model.getMyApp().getDisplayName()}),a=e("<span>"+r+"</span>"),v.showConfirm(o.getString("organizer-unpublish-confirm-title"),a,{closeDefer:s,cancelText:o.getString("organizer-verb-cancel"),okText:o.getString("organizer-verb-unpublish")}).then(function(e){e?(u.setCurrentProjectId(this.model.get("id")),u.trackEvent("organizer:unpublishedProject",{contextData:["projectId"]},"organizer:projects"),f.getUtils().then(function(e){e.unpublishCompositeDoc({mrvlDoc:this.model}).then(function(){this.updatePublishedState(!1),s.resolve()}.bind(this),function(e){s.resolve(),marvel.logger.error("error trying to unpublish project:"+this.model.get("id"),e),t.defer(function(){v.showAlert(o.getString("organizer-unpublish-error-title"),o.getString("organizer-unpublish-error-message")).done()})})}.bind(this))):s.resolve()}.bind(this)),this.hideTray()},_getNameForCopy:function(){var e=this.model.getProjectName("rename").trim();if(""===e){var i=this.model.getMyApp().getAppTypeID();e=M[i]}var n=e.toLowerCase();if(t.endsWith(n,"copy"))return e+" 2";if(/.*copy([ ]?)([0-9]+)$/.test(n)){var r=n.lastIndexOf("copy")+4,o=e.substring(0,r),a=e.substring(r),s=a.lastIndexOf(" ");return s>-1&&(o+=a.substring(0,s+1)),o+(1*a+1)}return e+" Copy"},_preflightDuplicateBranding:function(){return this.model.belongsToUser()?n.resolve(!0):this.model.getMyPrimaryApp().isBranded(this.model).then(function(e){return!e})},_handleBrandingBlockedDuplication:function(){return w.getController().then(function(e){return e.getActiveContext(this.model)}.bind(this)).then(function(e){return v.isShowing()&&v.hide(),u.trackEvent("collab:brandDuplicateBlocked",{},"organizer:projects"),v.showAlert(o.getString("organizer-item-cannot-duplicate-sbp-title"),o.formatMessage("organizer-item-cannot-duplicate-sbp-description",{brandName:e.getName()}),{okText:o.getString("organizer-item-cannot-duplicate-sbp-confirm-btn-label")})}.bind(this))},_preflightDuplicateStockImages:function(){return this.model.getMyPrimaryApp().batchCheckLicenses(this.model)},_handleStockBlockedDuplication:function(){return u.trackEvent("collab:stockDuplicateBlocked",{},"organizer:projects"),v.isShowing()&&v.hide(),v.showAlert(o.getString("organizer-item-cannot-duplicate-stock-title"),o.getString("organizer-item-cannot-duplicate-stock-message"),{okText:o.getString("organizer-verb-ok")})},_preflightDuplicate:function(){return v.showWaitView(),n.all([this._preflightDuplicateBranding(),this._preflightDuplicateStockImages()]).then(function(e){return e[0]?e[1]?n.resolve(!0):this._handleStockBlockedDuplication().then(function(){return!1}):this._handleBrandingBlockedDuplication().then(function(){return!1})}.bind(this)).finally(function(){v.isShowing()&&v.hide()})},handleDuplicateClick:function(e){return this._preflightDuplicate().then(function(e){if(e){u.setCurrentProjectId(this.model.get("id")),u.trackEvent("organizer:duplicatedProject",{contextData:["projectId"]},"organizer:projects"),this.hideTray();var t={doNotApplyName:!0,defaultName:this._getNameForCopy(),promptOptions:{title:o.getString("organizer-duplicate-name-project-title"),text:o.getString("organizer-duplicate-name-project-prompt")}};this._showRename(t).then(function(e){null!==e&&(marvel.events.trigger("organizer-working",{working:!0}),p.duplicateComposite(this.model).then(function(t){var i=this.mainView.getDocItemView(t);marvel.events.trigger("organizer-working",{}),i?(i.applyProjectName(e),i.refreshPubInfo()):marvel.logger.warn("newCard not found in handleDuplicateClick",t)}.bind(this),function(e){marvel.events.trigger("organizer-working",{}),marvel.logger.error("error duplicating composite",{err:e,mrvlDoc:this.model})}).done())}.bind(this)).done()}return!1}.bind(this)).catch(function(e){marvel.logger.error("error duplicating composite",{err:e,mrvlDoc:this.model})}.bind(this))},handleSaveAsTemplateClick:function(e){return u.setCurrentProjectId(this.model.get("id")),u.trackEvent("organizer:savedAsTemplate",{contextData:["projectId"]},"organizer:projects"),this.hideTray(),p.saveAsTemplate(this.model).then(function(){window.marvel.navigate("/templates",{trigger:!0})}.bind(this)),!1},_stopListening:function(){this._timer&&(window.clearTimeout(this._timer),this._timer=null)},remove:function(){this._stopListening(),r.View.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(860)],void 0===(r=function(e,t,i,n,r){"use strict";var o=i.View.extend({cachename:"popupMessage",showMulti:!1,positionBottom:!1,events:{"click .popup-message-primary-button":"handlePrimaryButton","click .popup-message-close-x":"handleCloseButton","click .popup-message-secondary-button":"handleSecondaryButton"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.on("close",this.handleCloseButton,this),e&&(this.showMulti=!!e.showMulti,this.positionBottom=!!e.positionBottom)},handlePrimaryButton:function(e){this.model.get("action")&&this.model.get("action")("primary"),this.remove()},handleSecondaryButton:function(e){this.model.get("action")&&this.model.get("action")("secondary"),this.remove()},handleCloseButton:function(e){this.model.get("action")&&this.model.get("action")(),this.remove()},render:function(){var i=e(n.to_html(r.toString(),this.model.toJSON()));this.positionBottom?this.$el.addClass("popup-message-bottom"):this.positionBottom&&this.$el.removeClass("popup-message-bottom"),this.showMulti?(this.$el.addClass("popup-message-multi"),this.$el.append(i)):(this.$el.removeClass("popup-message-multi"),this.$el.html(i)),this.model.get("autoDecay")&&(t.delay(function(){i.addClass("popup-message-born")},200),t.delay(this.decay,3500,i))},remove:function(){this.$el.empty()},decay:function(e){e.addClass("popup-message-decay"),t.delay(function(){e.remove()},1e3)}});return o.pattern="popup",o}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='  <div class="collab-invites-recieved-modal-contents">\n    <div class="modal-main">\n        {{! Change the delimiter so that this can be processed twice by mustache; first pass adds new double-mustache tags }}\n        {{! Tags that need to be substituted on the first pass should be delimited with <% %> }}\n        {{=<% %>=}}\n      \t{{#multipleInvites}}\n        <div class="collab-invite-multiple">\n          <div class="collab-header">\n            <h3 class="collab-invite-multiple-title">You have received {{inviteCount}} items.</h3>\n            <h4 class="collab-accept-reject-label">Reject/Accept</h4>\n          </div>\n          <div class="collab-list-container">\n            <ul class="collab-item-list" id="collabList">\n              {{#invites}}\n                <li id={{invitationId}}>\n                <div class="collab-li-contents">\n                  <div class="collab-type">{{collabType}}</div>\n                  <div class="collab-col-2">\n                    <div class="collab-title">{{collabFormat}} - {{resourceName}}</div>\n                    <div class="collab-subtitle">From: {{senderName}}</div>\n                   </div>\n                  <label class="switch"><input type="checkbox" class="collab-accept-reject-checkbox" checked> <span class="slider round"></span> </label>\n                  </div>\n                </li>\n              {{/invites}}\n            </ul>\n          </div>\n        </div>\n      {{/multipleInvites}}\n      {{^multipleInvites}}\n        {{#invites}}\n        <div class="collab-invite-single">\n          <h3 class="collab-invite-single-title"><%perFormatStrings.headerSingle%></h3>\n          <p class="collab-invite-single-body"><%perFormatStrings.bodySingle%></p>\n        </div>\n\t      {{/invites}}\n        {{/multipleInvites}}\n\n      <div class="modal-ctas">\n      \t{{#multipleInvites}}\n          <button class="accept-invites sp-cta-button-primary" id="acceptButton" data-analytics="accept-invites">Accept all</button>\n          <button class="reject-invites sp-cta-button-secondary" id="rejectAll" data-analytics="reject-invites">Reject all</button>\n        {{/multipleInvites}}\n        {{^multipleInvites}}\n          <button class="accept-invites sp-cta-button-primary" id="acceptButton" data-analytics="accept-invites">Accept</button>\n          <button class="reject-invites sp-cta-button-secondary" id="rejectAll" data-analytics="reject-invites">Reject</button>\n        {{/multipleInvites}}\n      </div>\n    </div>\n  </div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(23),i(11),i(17),i(919),i(8)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d){"use strict";new s({color:"blue",name:"ModalView"});var u=a.extend({cachename:"messagingModal",el:".messaging-modal-wrapper",events:{"click .dismiss-btn":"handleDismissClick","click .btn-cancel":"handleDismissClick","click .messaging-modal-shell-dismiss-button":"handleDismissClick","click .shell-content button":"handleButtonClick","click a":"handleLinkClick","click .messaging-modal-shell":"handleClickInside",click:"handleClickOutside"},initialize:function(){t.bindAll(this,t.functionsIn(this))},handleClickInside:function(e){if(this.model.get("hideOnClickOutside"))return!1},handleClickOutside:function(e){this.model.get("hideOnClickOutside")&&this.hide()},_trackClickEvent:function(e){var t=this.model.get("contextString")||this.modalViewName;o.trackEvent(e,{contextString:t},"messagingModal:"+this.modalViewName)},handleButtonClick:function(t){var i=e(t.target).data("data-analytics")||"",n=this.model.get("clickHandler");this._trackClickEvent("messagingModalClicked:"+i),n&&n(e(t.target),this),this.model.get("hideOnButtonClick")&&this.hide()},handleLinkClick:function(t){var i=e(t.target).data("data-analytics")||"",n=this.model.get("linkClickHandler");this._trackClickEvent("messagingModalLinkClicked:"+i),n&&n(e(t.target),this),this.model.get("hideOnLinkClick")&&this.hide()},render:function(){clearTimeout(this._autoShowTimeout),this.modalViewName=this.model.get("name")||"unnamed-modal";var e=this.model.get("partials")||{},n=this.model.get("cssClassName"),r=this.model.get("cssSubclassName"),o=this.model.get("manualShowCallback");if(t.each(e,function(t,n){switch(t){case"onboardingPaidFirstVisit":e[n]=i(920);break;case"merchUpgradeModal":e[n]=i(921);break;case"merchUpgradeCustomFonts":e[n]=i(922);break;case"fontsProvideUserFonts":e[n]=i(923);break;case"merchUpgradeBrandedProject":e[n]=i(924);break;case"onboardingBrandSetupComplete":e[n]=i(925);break;case"onboardingBrandify":e[n]=i(926);break;case"collabInvitesRecieved":e[n]=i(411);break;case"lightroomEditorOnboarding":e[n]=i(927);break;case"premiumTemplateUpgrade":e[n]=i(928);break;case"premiumTemplateRemixUpgrade":e[n]=i(929);break;case"errorMessage":e[n]=i(930);break;case"seoInterceptVideoMaker":e[n]=i(931)}}),this.$el.html(d.mustacheRender(c,this.model.toJSON(),e)),n&&this.$el.addClass(n),this.shell$=this.$el.find(".messaging-modal-shell"),r&&this.shell$.addClass(r),o)o(this);else if(!this.model.get("autoShowDisabled")){var a=this.model.get("autoShowDelay");a>0?this._autoShowTimeout=setTimeout(this._show.bind(this),a):this._show()}},showAfterManualShowCallback:function(){this._show()},handleDismissClick:function(){this._trackClickEvent("modalDismissed"),this.hide();var e=this.model.get("closeBtnCallback");e&&e(this)},show:function(){this.render(),this.model.get("autoShow")||this.model.get("autoShowDelay")||this._show()},_autoShowTimeout:null,_show:function(){this.showing=!0,this.$el.addClass("transitioned-out"),this.$el.removeClass("hide"),t.delay(function(){var t=e("body");this.$el.removeClass("transitioned-out"),t.hasClass("no-scroll")||(this._bodyForNoScroll$=t,this._bodyForNoScroll$.addClass("no-scroll"))}.bind(this),1);var i=this.model.get("analyticsEvent");if(i){var n=this.model.get("analyticsTrigger"),r=this.model.get("analyticsDataExtend"),a=this.model.get("analyticsPageName")||void 0,s={trigger:n};r&&t.extend(s,r),o.trackEvent(i,s,a)}},handleShellHideTransitionEnd:function(){this.$el.addClass("hide")},hide:function(){this.showing=!1,clearTimeout(this._autoShowTimeout),this.shell$.one("transitionend."+this.modalViewName,this.handleShellHideTransitionEnd),this.$el.addClass("transitioned-out"),this._bodyForNoScroll$&&(this._bodyForNoScroll$.removeClass("no-scroll"),this._bodyForNoScroll$=null)}});return u.pattern="modal",u}.apply(t,n))||(e.exports=r)},,,,,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(567)],void 0===(r=function(e,t,i,n,r){"use strict";var o,a=["#FFFFFF","#D9D9D9","#B3B3B3","#808080","#4D4D4D","#262626","#000000","#B1DFE8","#85EBFF","#33DDFF","#00AFD1","#0087A2","#075767","#3E636A","#C3DCEB","#99D8FF","#1FA9FF","#0079C6","#0065A3","#06446C","#3A5364","#CCD2ED","#B6C2F5","#667CE0","#2044E0","#152FA3","#0B1D6F","#3B4364","#DEC6E8","#D396ED","#B651E1","#8C20BA","#5D147C","#410F57","#4F365A","#EAC6D9","#FCC5E2","#F977BC","#EA1889","#9C0757","#610536","#624153","#E8C8C1","#FFCAC2","#FF8370","#F22B0C","#A31600","#520B00","#58332D","#E6D1BA","#FFD5AD","#FFAB5C","#FF7D00","#AF5500","#522700","#523D2A","#E8D9BE","#FFE2AD","#FFC65C","#FFA500","#A56E06","#613F00","#5C4C30","#EDE4BE","#FFF0AD","#FFE570","#FFCF00","#B89600","#665300","#5A5439","#EAEAC1","#FFFEAD","#FFFD70","#F4EF21","#B8B500","#7A7800","#6E6D3E","#DAE8C1","#D7F7A1","#AFFF26","#88ED24","#67B31B","#416F14","#556942","#C0EACE","#A2F2BD","#82F5A8","#25D55F","#179942","#0D6129","#3E6049","#F2F2F2","#E6E6E6","#BFBFBF","#999999","#595959","#404040","#1A1A1A"],s=[{hex:"#EFDECD",name:"Almond",rgb:"(239, 222, 205)"},{hex:"#CD9575",name:"Antique Brass",rgb:"(205, 149, 117)"},{hex:"#FDD9B5",name:"Apricot",rgb:"(253, 217, 181)"},{hex:"#78DBE2",name:"Aquamarine",rgb:"(120, 219, 226)"},{hex:"#87A96B",name:"Asparagus",rgb:"(135, 169, 107)"},{hex:"#FFA474",name:"Atomic Tangerine",rgb:"(255, 164, 116)"},{hex:"#FAE7B5",name:"Banana Mania",rgb:"(250, 231, 181)"},{hex:"#9F8170",name:"Beaver",rgb:"(159, 129, 112)"},{hex:"#FD7C6E",name:"Bittersweet",rgb:"(253, 124, 110)"},{hex:"#000000",name:"Black",rgb:"(0,0,0)"},{hex:"#ACE5EE",name:"Blizzard Blue",rgb:"(172, 229, 238)"},{hex:"#1F75FE",name:"Blue",rgb:"(31, 117, 254)"},{hex:"#A2A2D0",name:"Blue Bell",rgb:"(162, 162, 208)"},{hex:"#6699CC",name:"Blue Gray",rgb:"(102, 153, 204)"},{hex:"#0D98BA",name:"Blue Green",rgb:"(13, 152, 186)"},{hex:"#7366BD",name:"Blue Violet",rgb:"(115, 102, 189)"},{hex:"#DE5D83",name:"Blush",rgb:"(222, 93, 131)"},{hex:"#CB4154",name:"Brick Red",rgb:"(203, 65, 84)"},{hex:"#B4674D",name:"Brown",rgb:"(180, 103, 77)"},{hex:"#FF7F49",name:"Burnt Orange",rgb:"(255, 127, 73)"},{hex:"#EA7E5D",name:"Burnt Sienna",rgb:"(234, 126, 93)"},{hex:"#B0B7C6",name:"Cadet Blue",rgb:"(176, 183, 198)"},{hex:"#FFFF99",name:"Canary",rgb:"(255, 255, 153)"},{hex:"#1CD3A2",name:"Caribbean Green",rgb:"(28, 211, 162)"},{hex:"#FFAACC",name:"Carnation Pink",rgb:"(255, 170, 204)"},{hex:"#DD4492",name:"Cerise",rgb:"(221, 68, 146)"},{hex:"#1DACD6",name:"Cerulean",rgb:"(29, 172, 214)"},{hex:"#BC5D58",name:"Chestnut",rgb:"(188, 93, 88)"},{hex:"#DD9475",name:"Copper",rgb:"(221, 148, 117)"},{hex:"#9ACEEB",name:"Cornflower",rgb:"(154, 206, 235)"},{hex:"#FFBCD9",name:"Cotton Candy",rgb:"(255, 188, 217)"},{hex:"#FDDB6D",name:"Dandelion",rgb:"(253, 219, 109)"},{hex:"#2B6CC4",name:"Denim",rgb:"(43, 108, 196)"},{hex:"#EFCDB8",name:"Desert Sand",rgb:"(239, 205, 184)"},{hex:"#6E5160",name:"Eggplant",rgb:"(110, 81, 96)"},{hex:"#CEFF1D",name:"Electric Lime",rgb:"(206, 255, 29)"},{hex:"#71BC78",name:"Fern",rgb:"(113, 188, 120)"},{hex:"#6DAE81",name:"Forest Green",rgb:"(109, 174, 129)"},{hex:"#C364C5",name:"Fuchsia",rgb:"(195, 100, 197)"},{hex:"#CC6666",name:"Fuzzy Wuzzy",rgb:"(204, 102, 102)"},{hex:"#E7C697",name:"Gold",rgb:"(231, 198, 151)"},{hex:"#FCD975",name:"Goldenrod",rgb:"(252, 217, 117)"},{hex:"#A8E4A0",name:"Granny Smith Apple",rgb:"(168, 228, 160)"},{hex:"#95918C",name:"Gray",rgb:"(149, 145, 140)"},{hex:"#1CAC78",name:"Green",rgb:"(28, 172, 120)"},{hex:"#1164B4",name:"Green Blue",rgb:"(17, 100, 180)"},{hex:"#F0E891",name:"Green Yellow",rgb:"(240, 232, 145)"},{hex:"#FF1DCE",name:"Hot Magenta",rgb:"(255, 29, 206)"},{hex:"#B2EC5D",name:"Inchworm",rgb:"(178, 236, 93)"},{hex:"#5D76CB",name:"Indigo",rgb:"(93, 118, 203)"},{hex:"#CA3767",name:"Jazzberry Jam",rgb:"(202, 55, 103)"},{hex:"#3BB08F",name:"Jungle Green",rgb:"(59, 176, 143)"},{hex:"#FEFE22",name:"Laser Lemon",rgb:"(254, 254, 34)"},{hex:"#FCB4D5",name:"Lavender",rgb:"(252, 180, 213)"},{hex:"#FFF44F",name:"Lemon Yellow",rgb:"(255, 244, 79)"},{hex:"#FFBD88",name:"Macaroni and Cheese",rgb:"(255, 189, 136)"},{hex:"#F664AF",name:"Magenta",rgb:"(246, 100, 175)"},{hex:"#AAF0D1",name:"Magic Mint",rgb:"(170, 240, 209)"},{hex:"#CD4A4C",name:"Mahogany",rgb:"(205, 74, 76)"},{hex:"#EDD19C",name:"Maize",rgb:"(237, 209, 156)"},{hex:"#979AAA",name:"Manatee",rgb:"(151, 154, 170)"},{hex:"#FF8243",name:"Mango Tango",rgb:"(255, 130, 67)"},{hex:"#C8385A",name:"Maroon",rgb:"(200, 56, 90)"},{hex:"#EF98AA",name:"Mauvelous",rgb:"(239, 152, 170)"},{hex:"#FDBCB4",name:"Melon",rgb:"(253, 188, 180)"},{hex:"#1A4876",name:"Midnight Blue",rgb:"(26, 72, 118)"},{hex:"#30BA8F",name:"Mountain Meadow",rgb:"(48, 186, 143)"},{hex:"#C54B8C",name:"Mulberry",rgb:"(197, 75, 140)"},{hex:"#1974D2",name:"Navy Blue",rgb:"(25, 116, 210)"},{hex:"#FFA343",name:"Neon Carrot",rgb:"(255, 163, 67)"},{hex:"#BAB86C",name:"Olive Green",rgb:"(186, 184, 108)"},{hex:"#FF7538",name:"Orange",rgb:"(255, 117, 56)"},{hex:"#FF2B2B",name:"Orange Red",rgb:"(255, 43, 43)"},{hex:"#F8D568",name:"Orange Yellow",rgb:"(248, 213, 104)"},{hex:"#E6A8D7",name:"Orchid",rgb:"(230, 168, 215)"},{hex:"#414A4C",name:"Outer Space",rgb:"(65, 74, 76)"},{hex:"#FF6E4A",name:"Outrageous Orange",rgb:"(255, 110, 74)"},{hex:"#1CA9C9",name:"Pacific Blue",rgb:"(28, 169, 201)"},{hex:"#FFCFAB",name:"Peach",rgb:"(255, 207, 171)"},{hex:"#C5D0E6",name:"Periwinkle",rgb:"(197, 208, 230)"},{hex:"#FDDDE6",name:"Piggy Pink",rgb:"(253, 221, 230)"},{hex:"#158078",name:"Pine Green",rgb:"(21, 128, 120)"},{hex:"#FC74FD",name:"Pink Flamingo",rgb:"(252, 116, 253)"},{hex:"#F78FA7",name:"Pink Sherbet",rgb:"(247, 143, 167)"},{hex:"#8E4585",name:"Plum",rgb:"(142, 69, 133)"},{hex:"#7442C8",name:"Purple Heart",rgb:"(116, 66, 200)"},{hex:"#9D81BA",name:"Purple Mountain's Majesty",rgb:"(157, 129, 186)"},{hex:"#FE4EDA",name:"Purple Pizzazz",rgb:"(254, 78, 218)"},{hex:"#FF496C",name:"Radical Red",rgb:"(255, 73, 108)"},{hex:"#D68A59",name:"Raw Sienna",rgb:"(214, 138, 89)"},{hex:"#714B23",name:"Raw Umber",rgb:"(113, 75, 35)"},{hex:"#FF48D0",name:"Razzle Dazzle Rose",rgb:"(255, 72, 208)"},{hex:"#E3256B",name:"Razzmatazz",rgb:"(227, 37, 107)"},{hex:"#EE204D",name:"Red",rgb:"(238,32 ,77 )"},{hex:"#FF5349",name:"Red Orange",rgb:"(255, 83, 73)"},{hex:"#C0448F",name:"Red Violet",rgb:"(192, 68, 143)"},{hex:"#1FCECB",name:"Robin's Egg Blue",rgb:"(31, 206, 203)"},{hex:"#7851A9",name:"Royal Purple",rgb:"(120, 81, 169)"},{hex:"#FF9BAA",name:"Salmon",rgb:"(255, 155, 170)"},{hex:"#FC2847",name:"Scarlet",rgb:"(252, 40, 71)"},{hex:"#76FF7A",name:"Screamin' Green",rgb:"(118, 255, 122)"},{hex:"#9FE2BF",name:"Sea Green",rgb:"(159, 226, 191)"},{hex:"#A5694F",name:"Sepia",rgb:"(165, 105, 79)"},{hex:"#8A795D",name:"Shadow",rgb:"(138, 121, 93)"},{hex:"#45CEA2",name:"Shamrock",rgb:"(69, 206, 162)"},{hex:"#FB7EFD",name:"Shocking Pink",rgb:"(251, 126, 253)"},{hex:"#CDC5C2",name:"Silver",rgb:"(205, 197, 194)"},{hex:"#80DAEB",name:"Sky Blue",rgb:"(128, 218, 235)"},{hex:"#ECEABE",name:"Spring Green",rgb:"(236, 234, 190)"},{hex:"#FFCF48",name:"Sunglow",rgb:"(255, 207, 72)"},{hex:"#FD5E53",name:"Sunset Orange",rgb:"(253, 94, 83)"},{hex:"#FAA76C",name:"Tan",rgb:"(250, 167, 108)"},{hex:"#18A7B5",name:"Teal Blue",rgb:"(24, 167, 181)"},{hex:"#EBC7DF",name:"Thistle",rgb:"(235, 199, 223)"},{hex:"#FC89AC",name:"Tickle Me Pink",rgb:"(252, 137, 172)"},{hex:"#DBD7D2",name:"Timberwolf",rgb:"(219, 215, 210)"},{hex:"#17806D",name:"Tropical Rain Forest",rgb:"(23, 128, 109)"},{hex:"#DEAA88",name:"Tumbleweed",rgb:"(222, 170, 136)"},{hex:"#77DDE7",name:"Turquoise Blue",rgb:"(119, 221, 231)"},{hex:"#FFFF66",name:"Unmellow Yellow",rgb:"(255, 255, 102)"},{hex:"#926EAE",name:"Violet (Purple)",rgb:"(146, 110, 174)"},{hex:"#324AB2",name:"Violet Blue",rgb:"(50, 74, 178)"},{hex:"#F75394",name:"Violet Red",rgb:"(247, 83, 148)"},{hex:"#FFA089",name:"Vivid Tangerine",rgb:"(255, 160, 137)"},{hex:"#8F509D",name:"Vivid Violet",rgb:"(143, 80, 157)"},{hex:"#FFFFFF",name:"White",rgb:"(255, 255, 255)"},{hex:"#A2ADD0",name:"Wild Blue Yonder",rgb:"(162, 173, 208)"},{hex:"#FF43A4",name:"Wild Strawberry",rgb:"(255, 67, 164)"},{hex:"#FC6C85",name:"Wild Watermelon",rgb:"(252, 108, 133)"},{hex:"#CDA4DE",name:"Wisteria",rgb:"(205, 164, 222)"},{hex:"#FCE883",name:"Yellow",rgb:"(252, 232, 131)"},{hex:"#C5E384",name:"Yellow Green",rgb:"(197, 227, 132)"},{hex:"#FFAE42",name:"Yellow Orange",rgb:"(255, 174, 66)"}];return o=new(i.Model.extend({componentToHex:function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},rgbStringToRgb:function(e){var t=/rgb\s?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})\)/.exec(e.toLowerCase()),i=null;return t&&!((i={r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3])}).r>255||i.r<0||i.g>255||i.g<0||i.b>255||i.b<0)?i:null},rgbToHex:function(e){return"#"+this.componentToHex(e.r)+this.componentToHex(e.g)+this.componentToHex(e.b)},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgbToHslArray:function(e){var t,i,n,r=e.r/255,o=e.g/255,a=e.b/255,s=Math.max(r,o,a),l=Math.min(r,o,a),c=(s+l)/2;if(s==l)t=i=0;else{switch(n=s-l,i=c>.5?n/(2-s-l):n/(s+l),s){case r:t=(o-a)/n+(o<a?6:0);break;case o:t=(a-r)/n+2;break;case a:t=(r-o)/n+4}t/=6}return new Array(360*t,100*i,100*c)},rgbToHsl:function(e){var t=this.rgbToHslArray(e),i={};return i.h=t[0]/360,i.s=t[1]/100,i.l=t[2]/100,i},hslToRgb:function(e,t,i){function n(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var r,o,a;if(0===t)r=o=a=i;else{var s=i<.5?i*(1+t):i+t-i*t,l=2*i-s;r=n(l,s,e+1/3),o=n(l,s,e),a=n(l,s,e-1/3)}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*a)}},getSaturation:function(e){return this.rgbToHsl(this.hexToRgb(e)).s},colorDistance:function(e,t){var i=0,n=[1,.5,.8];"string"==typeof e&&(e=this.hexToRgb(e)),"string"==typeof t&&(t=this.hexToRgb(t)),e=this.rgbToHslArray(e),t=this.rgbToHslArray(t);for(var r=0;r<e.length;r++)i+=(e[r]-t[r])*(e[r]-t[r])*n[r];return Math.abs(i)},basicColors:function(){return a},nameThatColor:function(e){var i,n;return t.each(s,function(t){var r=this.hexToRgb(t.hex),o=this.colorDistance(r,e);(!n||o<i)&&(i=o,n=t)}.bind(this)),n.name},rgbFromHexOrName:function(t){var i,n,r=t.trim().toLowerCase(),o=e("body").find(".color-utils-color-checker");o.length?o.removeClass("hide"):(o=e('<div class="color-utils-color-checker" style="position:absolute;left:-10000px;top:-10000px"></div>'),e("body").append(o));var a=o.css("backgroundColor","rgba(45,98,37,0.42)").css("backgroundColor"),s=o.css("backgroundColor",r).css("backgroundColor");return s===a?"#"!==r.charAt(0)?(s=o.css("backgroundColor","#"+r).css("backgroundColor"))!==a&&(n=!0):(s=o.css("backgroundColor",r.substring(1)).css("backgroundColor"))!==a&&(n=!0):n=!0,o.addClass("hide"),n&&(i=this.rgbStringToRgb(s)),i},colorsFromImage:function(e,i){return e.then(function(e){if(!e)return n.resolve([]);var o=n.defer(),a=new Image,s=new r;return a.onload=function(){var e=s.getPalette(a,i,1,this),n=[];t.each(e,function(e,t){n.push("#"+this.componentToHex(e[0])+this.componentToHex(e[1])+this.componentToHex(e[2]))}.bind(this)),o.resolve(n)}.bind(this),a.src=e,o.promise}.bind(this))},lighten:function(e,t){return(e=this.rgbToHsl(e)).l*=t,e.l=Math.max(0,Math.min(e.l,1)),this.hslToRgb(e.h,e.s,e.l)},maxContrast:function(e,i){var n,r=this.getLuminosity(e),o=0;return t.each(i,function(e){var t=this.getLuminosity(e),i=Math.abs(r-t);(!n||i>o)&&(n=e,o=i)}.bind(this)),n},getLuminosity:function(e){var t=this.getLinearFromSrgbComponent(e.r),i=this.getLinearFromSrgbComponent(e.g),n=this.getLinearFromSrgbComponent(e.b),r=Math.round(.2126*t+.7252*i+.0722*n);return Math.min(r,255)},isSameColor:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b},isBlack:function(e){return this.isSameColor(e,{r:0,g:0,b:0})},isWhite:function(e){return this.isSameColor(e,{r:255,g:255,b:255})},getLinearFromSrgbComponent:function(e){return 255*(e=(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))},_createTintsBetween:function(e,t,i){if(t<i&&t>=0&&i<e.length)for(var n=e[t],r=e[i],o=i-t,a=(r.r-n.r)/o,s=(r.g-n.g)/o,l=(r.b-n.b)/o,c=0,d=t+1;d<i;d++)++c,e[d]={r:Math.round(n.r+a*c),g:Math.round(n.g+s*c),b:Math.round(n.b+l*c)}},_generateTintEntries:function(e,t){return this._createTintsBetween(e,0,t),this._createTintsBetween(e,t,e.length-1),e},generateTintSpectrum:function(e,t){var i=(t=t||{}).numTints||7,n=i-1,r=this.getLuminosity(e),o=Math.floor(i/2),a=[];a[0]={r:0,g:0,b:0},a[n]={r:255,g:255,b:255};var s,l=Math.round(r/255*(i-1));if(t.centerBaseColor&&(l=Math.floor(i/2)),"number"==typeof t.tintIndex&&(l=t.tintIndex),t.allowBWOverride||(0!==l||this.isBlack(e)||(l=1),l!==n||this.isWhite(e)||--l),t.centerLightColors&&l>o&&1-r/255>.05&&(l=o),t.shiftLightColors&&l>o&&l<n)for(var c=n-l,d=n-1,u=255*("number"==typeof t.maxPercentage?t.maxPercentage:.8),h=255-r,p=r+h*(d-l)/c;(p<u||d===l)&&l!=o&&!((p=r+h*(d-(s=l-1))/(c=n-s))>u);)l=s;if(t.shiftDarkColors&&l<o&&l>0)for(var f=255*("number"==typeof t.minPercentage?t.minPercentage:.1),g=r-0,m=g*(1/l);(m>f||1===l)&&l!=o&&!((m=g*(1/(s=l+1)))<f);)l=s;return a[l]=e,this._generateTintEntries(a,l)},getColorIndex:function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];if(this.isSameColor(r,t))return n}return-1},deriveDarkestFromPrimary:function(e,t,i,n){var r=t.slice(0),o=this.getColorIndex(r,e);i/=100,n/=100;var a=Math.round(255*i),s=Math.max(e.r,e.g,e.b);if(0!==o&&s>a){if(1===o)s>Math.round(255*(i+n))&&(r[2]=r[1],o=2);if(o>1){var l=a/s;r[1]={r:Math.round(e.r*l),g:Math.round(e.g*l),b:Math.round(e.b*l),a:1},this._createTintsBetween(r,1,o),this._createTintsBetween(r,o,r.length-1)}}return r},calcShints:function(e){var t=this.generateTintSpectrum(e,{numTints:7,shiftLightColors:!0,shiftDarkColors:!0,minPercentage:.1,maxPercentage:.8});return this.deriveDarkestFromPrimary(e,t,10,5)}})),window.ColorUtils=o,o}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(15)],void 0===(r=function(e,t,i,n,r,o){"use strict";var a=i.Model.extend({defaults:{}});return r.extend({events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new a,t.extend(this,i.Events),this.update(e),this.model.on("change:location",this.positionDialog())},onHide:function(){this.cleanupForHide()},cleanupForHide:function(){this.$el.find(".x-close-btn").removeClass("hide"),this.$el.find(".buttons").removeClass("hide"),this._ignoreCloseActions=!1},unclosable:function(){this.$el.find(".x-close-btn").addClass("hide"),this.$el.find(".buttons").addClass("hide"),this._ignoreCloseActions=!0},update:function(e){e&&t.extend(this,e),this.location&&this.model.set({location:this.location},{silent:!0})},move:function(e){this.model.set({location:e},{silent:!0}),this.positionDialog()},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleCancel()},contentModified:function(){this.positionDialog(!0)},positionDialog:function(e){var t=this.$el.find(".mrvl-overlay-shell"),i=this.model.get("location");if(t.length>0&&i){var n=this.$el.hasClass("hide");n&&this.$el.removeClass("hide");var r,o,a,s,l,c,d,u=t.outerWidth(),h=t.outerHeight(),p=0,f=t.find(".pointer"),g=f.length&&f.outerWidth();f.length&&f.outerHeight();for(a=t.parent();!p&&a.length;){if("absolute"===(l=a.css("position"))||"relative"===l||"fixed"===l){p=a.width(),s=a.height();break}a=a.parent()}i.x>=p/2?(o=i.left-u/2-7,d=!0):(o=i.left+i.width+u/2+7,d=!1),r=i.y-.75*h,r=Math.max(5,Math.min(r,s-h-5)),t.css({top:r+"px",left:o+"px",position:"absolute"});var m=t.offset().top-a.offset().top;if(n&&this.$el.addClass("hide"),f&&(c=i.y-m-6,c=Math.max(4,Math.min(h-12,c)),f.css("top",c+"px"),d?f.css({right:.5*-g,left:"auto"}).addClass("on-right"):f.css({left:.5*-g,right:"auto"}).removeClass("on-right"),this.zoomInOut)){var v=(d?u+.5*g:.5*-g)+"px"+" "+(c+"px");t.css("transform-origin",v)}}},assignFieldsByClass:function(){if(this.fields)for(var e in this.fields)this.fields.hasOwnProperty(e)&&this.$el.find("."+e).text(this.fields[e])},render:function(){return this.$el&&this.$el.length&&(this.zoomInOut?(this.$el.addClass("zoomInOut"),this.transitionObjectSelector=".mrvl-overlay-shell"):(this.$el.removeClass("zoomInOut"),this.transitionObjectSelector=null),this.template?(this.$el.html(this.template.toString()),this.assignFieldsByClass(),this.location&&this.positionDialog()):this.$el.html("<p>This class needs to be extended or have an el and template defined to be useful</p>")),this.afterRenderCallback&&this.afterRenderCallback(this.$el),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0)],void 0===(r=function(e){var t,i="virtualMouseBindings",n="virtualTouchID",r="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),o="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],s=e.event.props.concat(a),l={},c=0,d=0,u=0,h=!1,p=[],f=!1,g=!1,m="addEventListener"in document,v=e(document),b=1,y=0;function w(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function k(t){for(var n,r,o={};t;){for(r in n=e.data(t,i))n[r]&&(o[r]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function x(){g=!0}function _(){g=!1}function C(){S(),c=setTimeout(function(){c=0,y=0,p.length=0,f=!1,x()},e.vmouse.resetTimerDuration)}function S(){c&&(clearTimeout(c),c=0)}function T(t,n,r){var a;return(r&&r[t]||!r&&function(t,n){for(var r;t;){if((r=e.data(t,i))&&(!n||r[n]))return t;t=t.parentNode}return null}(n.target,t))&&(a=function(t,i){var n,r,a,l,c,d,u,h,p,f=t.type;if((t=e.Event(t)).type=i,n=t.originalEvent,r=e.event.props,f.search(/^(mouse|click)/)>-1&&(r=s),n)for(u=r.length;u;)t[l=r[--u]]=n[l];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(f=(a=w(n)).touches,c=a.changedTouches,d=f&&f.length?f[0]:c&&c.length?c[0]:void 0))for(h=0,p=o.length;h<p;h++)t[l=o[h]]=d[l];return t}(n,t),e(n.target).trigger(a)),a}function M(t){var i=e.data(t.target,n);if(!(f||y&&y===i)){var r=T("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function I(t){var i,r,o=w(t).touches;if(o&&1===o.length&&(r=k(i=t.target)).hasVirtualBinding){y=b++,e.data(i,n,y),S(),_(),h=!1;var a=w(t).touches[0];d=a.pageX,u=a.pageY,T("vmouseover",t,r),T("vmousedown",t,r)}}function D(e){g||(h||T("vmousecancel",e,k(e.target)),h=!0,C())}function P(t){if(!g){var i=w(t).touches[0],n=h,r=e.vmouse.moveDistanceThreshold,o=k(t.target);(h=h||Math.abs(i.pageX-d)>r||Math.abs(i.pageY-u)>r)&&!n&&T("vmousecancel",t,o),T("vmousemove",t,o),C()}}function E(e){if(!g){x();var t,i=k(e.target);if(T("vmouseup",e,i),!h){var n=T("vclick",e,i);n&&n.isDefaultPrevented()&&(t=w(e).changedTouches[0],p.push({touchID:y,x:t.clientX,y:t.clientY}),f=!0)}T("vmouseout",e,i),h=!1,C()}}function A(t){var n,r=e.data(t,i);if(r)for(n in r)if(r[n])return!0;return!1}function F(){}e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};var L=!1;try{var N=Object.defineProperty({},"passive",{get:function(){L={passive:!1}}});window.addEventListener("test",N,N),window.removeEventListener("test",N,N)}catch(e){L=!1}function R(t){var n=t.substr(1);return{setup:function(r,o){A(this)||e.data(this,i,{}),e.data(this,i)[t]=!0,l[t]=(l[t]||0)+1,1===l[t]&&v.bind(n,M),e(this).bind(n,F),m&&(l.touchstart=(l.touchstart||0)+1,1===l.touchstart&&(document.addEventListener("touchstart",I,L),document.addEventListener("touchend",E,L),document.addEventListener("touchmove",P,L),v.bind("scroll",D)))},teardown:function(r,o){--l[t],l[t]||v.unbind(n,M),m&&(--l.touchstart,l.touchstart||(document.removeEventListener("touchstart",I,L),document.removeEventListener("touchend",E,L),document.removeEventListener("touchmove",P,L),v.unbind("scroll",D)));var a=e(this),s=e.data(this,i);s&&(s[t]=!1),a.unbind(n,F),A(this)||a.removeData(i)}}}for(var j=0;j<r.length;j++)e.event.special[r[j]]=R(r[j]);m&&document.addEventListener("click",function(i){var r,o,a,s,l,c=p.length,d=i.target;if(c)for(r=i.clientX,o=i.clientY,t=e.vmouse.clickDistanceThreshold,a=d;a;){for(s=0;s<c;s++)if(l=p[s],0,a===d&&Math.abs(l.x-r)<t&&Math.abs(l.y-o)<t||e.data(a,n)===l.touchID)return i.preventDefault(),void i.stopPropagation();a=a.parentNode}},!0)}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(48)],void 0===(r=function(e,t,n,r){"use strict";var o={};return{loadFont:function(e,a){var s,l,c,d;return s=t.isString(e)?e:(l=e).lookupKey(),o[s]?o[s]:(d=l?n.resolve(l):r.getFontRegistry().then(function(e){if(e.facesByKey[s]){var t=n.defer();return i.e("font-loader-face-defn").then(function(n){var r=new(i(370));r.setFontDataFromSparkFontDefn(e.facesByKey[s]),t.resolve(r)}.bind(null,i)).catch(i.oe),t.promise}var r="loadFont failed find face defn for "+s;return console.warn(r),n.reject(r)}),c=n.defer(),o[s]=c.promise,d.then(function(e){return"spark-provided"!==e.source()||r.USE_SPARKFONTS_PREVIEW_API&&e.tkPreviewId()?"tk-synced"===e.source()||"spark-provided"===e.source()?r.inject().then(function(){setTimeout(function(){c.resolve(e)},3e3);var t={id:e.tkPreviewId(),variations:e.tkVariation(),css_name:e.cssName(),name:e.friendlyName()};return window.TypekitPreview.load([t],{active:function(){c.resolve(e)},inactive:function(e,t){var i="error loading typekit preview font "+e+" and "+t;console.warn(i),c.reject(i)},fontinactive:function(e,t){var i="error-inactive loading typekit preview font "+e+" and "+t;console.warn(i),c.reject(i)}}),!0}):"user-uploaded"==e.source()?this._loadUploadedFont(e).then(function(){c.resolve(e)},function(e){c.reject(e)}):(console.warn("ATTEMPT TO LOAD FONT FACE WITH UNKNOW SOURCE "+e.source()),void c.reject("Unknown font source")):r.inject().then(function(){c.resolve(e)})}.bind(this)).done(),o[s])},_loadUploadedFont:function(i){var r,o="cls-"+i.cssName().replace(" ","-").replace(/\"/g,"")+"-"+i.fontWeight()+"-"+i.fontStyle(),a=document.head.querySelectorAll("style."+o)[0],s="font-css-"+o;if(!a&&(a=this._createStyleBlock(o),window.localStorage)){try{r=window.localStorage.getItem(s)}catch(e){}var l,c;return r?(a.innerHTML=r,l=n.defer(),(c=e("<div class='font-loading-measure'>AbcdeFghijklmnoPqrstuvWxyz</div>")).css({position:"fixed",visibility:"hidden",top:"-1000px",left:"-1000px","font-size":"30px","font-style":i.fontStyle(),"font-weight":i.fontWeight()}),e("body").append(c),i.$css(c),t.delay(function(){c.remove(),l.resolve()},500),l.promise):this._loadFontAjax(i).then(function(o){r=i.getCSSFontFace(!1,o),a.innerHTML=r;try{window.localStorage.setItem(s,r)}catch(e){}return l=n.defer(),(c=e("<div class='font-loading-measure'>AbcdeFghijklmnoPqrstuvWxyz</div>")).css({position:"fixed",visibility:"hidden",top:"-1000px",left:"-1000px","font-size":"30px","font-style":i.fontStyle(),"font-weight":i.fontWeight()}),e("body").append(c),i.$css(c),t.delay(function(){c.remove(),l.resolve()},500),l.promise},function(e){a.innerHTML=i.getCSSFontFace()})}return n.resolve()},_loadFontAjax:function(t){var i=n.defer(),r=t.getHref();return e.ajax({url:r,type:"GET",mimeType:"text/plain; charset=x-user-defined"}).done(function(e,t,n){var r="data:"+(n.getResponseHeader("content-type")||"application/x-font-opentype")+";base64,"+this._base64Encode(e);i.resolve(r)}.bind(this)).fail(function(e,t,n){console.warn("ERROR loading font file: ",n),i.reject(n)}),i.promise},_base64Encode:function(e){for(var t,i,n,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="",a=0,s=e.length;a<s;){if(t=255&e.charCodeAt(a++),a==s){o+=r.charAt(t>>2),o+=r.charAt((3&t)<<4),o+="==";break}if(i=e.charCodeAt(a++),a==s){o+=r.charAt(t>>2),o+=r.charAt((3&t)<<4|(240&i)>>4),o+=r.charAt((15&i)<<2),o+="=";break}n=e.charCodeAt(a++),o+=r.charAt(t>>2),o+=r.charAt((3&t)<<4|(240&i)>>4),o+=r.charAt((15&i)<<2|(192&n)>>6),o+=r.charAt(63&n)}return o},_createStyleBlock:function(e){var t=document.createElement("style");return t.type="text/css",t.className=e,document.getElementsByTagName("head")[0].appendChild(t),t}}}.apply(t,n))||(e.exports=r)},function(e,t,i){(function(e){!function(t){"use strict";
/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t=function(e){if(null==this)throw TypeError();var t=String(this),i=t.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||n>=i)){var r,o=t.charCodeAt(n);return o>=55296&&o<=56319&&i>n+1&&(r=t.charCodeAt(n+1))>=56320&&r<=57343?1024*(o-55296)+r-56320+65536:o}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var n=0,r=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var a=new o,s=new o,l=new Uint8Array(30),c=new Uint16Array(30),d=new Uint8Array(30),u=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new o,f=new Uint8Array(320);function g(e,t,i,n){var r,o;for(r=0;r<i;++r)e[r]=0;for(r=0;r<30-i;++r)e[r+i]=r/i|0;for(o=n,r=0;r<30;++r)t[r]=o,o+=1<<e[r]}var m=new Uint16Array(16);function v(e,t,i,n){var r,o;for(r=0;r<16;++r)e.table[r]=0;for(r=0;r<n;++r)e.table[t[i+r]]++;for(e.table[0]=0,o=0,r=0;r<16;++r)m[r]=o,o+=e.table[r];for(r=0;r<n;++r)t[i+r]&&(e.trans[m[t[i+r]]++]=r)}function b(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function y(e,t,i){if(!t)return i;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+i}function w(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=0,n=0,r=0,o=e.tag;do{n=2*n+(1&o),o>>>=1,++r,i+=t.table[r],n-=t.table[r]}while(n>=0);return e.tag=o,e.bitcount-=r,t.trans[i+n]}function k(e,t,i){var n,r,o,a,s,l;for(n=y(e,5,257),r=y(e,5,1),o=y(e,4,4),a=0;a<19;++a)f[a]=0;for(a=0;a<o;++a){var c=y(e,3,0);f[h[a]]=c}for(v(p,f,0,19),s=0;s<n+r;){var d=w(e,p);switch(d){case 16:var u=f[s-1];for(l=y(e,2,3);l;--l)f[s++]=u;break;case 17:for(l=y(e,3,3);l;--l)f[s++]=0;break;case 18:for(l=y(e,7,11);l;--l)f[s++]=0;break;default:f[s++]=d}}v(t,f,0,n),v(i,f,n,r)}function x(e,t,i){for(;;){var r,o,a,s,h=w(e,t);if(256===h)return n;if(h<256)e.dest[e.destLen++]=h;else for(r=y(e,l[h-=257],c[h]),o=w(e,i),a=e.destLen-y(e,d[o],u[o]),s=a;s<a+r;++s)e.dest[e.destLen++]=e.dest[s]}}function _(e){for(var t,i,o;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex],i=256*(i=e.source[e.sourceIndex+3])+e.source[e.sourceIndex+2],t!==(65535&~i))return r;for(e.sourceIndex+=4,o=t;o;--o)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,n}(function(e,t){var i;for(i=0;i<7;++i)e.table[i]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,i=0;i<24;++i)e.trans[i]=256+i;for(i=0;i<144;++i)e.trans[24+i]=i;for(i=0;i<8;++i)e.trans[168+i]=280+i;for(i=0;i<112;++i)e.trans[176+i]=144+i;for(i=0;i<5;++i)t.table[i]=0;for(t.table[5]=32,i=0;i<32;++i)t.trans[i]=i})(a,s),g(l,c,4,3),g(d,u,2,1),l[28]=0,c[28]=258;var C=function(e,t){var i,l,c=new function(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new o,this.dtree=new o}(e,t);do{switch(i=b(c),y(c,2,0)){case 0:l=_(c);break;case 1:l=x(c,a,s);break;case 2:k(c,c.ltree,c.dtree),l=x(c,c.ltree,c.dtree);break;default:l=r}if(l!==n)throw new Error("Data error")}while(!i);return c.destLen<c.dest.length?"function"==typeof c.dest.slice?c.dest.slice(0,c.destLen):c.dest.subarray(0,c.destLen):c.dest};function S(e,t,i,n,r){return Math.pow(1-r,3)*e+3*Math.pow(1-r,2)*r*t+3*(1-r)*Math.pow(r,2)*i+Math.pow(r,3)*n}function T(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function M(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function I(e){throw new Error(e)}function D(e,t){e||I(t)}T.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},T.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},T.prototype.addX=function(e){this.addPoint(e,null)},T.prototype.addY=function(e){this.addPoint(null,e)},T.prototype.addBezier=function(e,t,i,n,r,o,a,s){var l=[e,t],c=[i,n],d=[r,o],u=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var h=0;h<=1;h++){var p=6*l[h]-12*c[h]+6*d[h],f=-3*l[h]+9*c[h]-9*d[h]+3*u[h],g=3*c[h]-3*l[h];if(0!==f){var m=Math.pow(p,2)-4*g*f;if(!(m<0)){var v=(-p+Math.sqrt(m))/(2*f);0<v&&v<1&&(0===h&&this.addX(S(l[h],c[h],d[h],u[h],v)),1===h&&this.addY(S(l[h],c[h],d[h],u[h],v)));var b=(-p-Math.sqrt(m))/(2*f);0<b&&b<1&&(0===h&&this.addX(S(l[h],c[h],d[h],u[h],b)),1===h&&this.addY(S(l[h],c[h],d[h],u[h],b)))}}else{if(0===p)continue;var y=-g/p;0<y&&y<1&&(0===h&&this.addX(S(l[h],c[h],d[h],u[h],y)),1===h&&this.addY(S(l[h],c[h],d[h],u[h],y)))}}},T.prototype.addQuad=function(e,t,i,n,r,o){var a=e+2/3*(i-e),s=t+2/3*(n-t),l=a+1/3*(r-e),c=s+1/3*(o-t);this.addBezier(e,t,a,s,l,c,r,o)},M.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},M.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},M.prototype.curveTo=M.prototype.bezierCurveTo=function(e,t,i,n,r,o){this.commands.push({type:"C",x1:e,y1:t,x2:i,y2:n,x:r,y:o})},M.prototype.quadTo=M.prototype.quadraticCurveTo=function(e,t,i,n){this.commands.push({type:"Q",x1:e,y1:t,x:i,y:n})},M.prototype.close=M.prototype.closePath=function(){this.commands.push({type:"Z"})},M.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof T){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},M.prototype.getBoundingBox=function(){for(var e=new T,t=0,i=0,n=0,r=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=n=a.x,i=r=a.y;break;case"L":e.addPoint(a.x,a.y),n=a.x,r=a.y;break;case"Q":e.addQuad(n,r,a.x1,a.y1,a.x,a.y),n=a.x,r=a.y;break;case"C":e.addBezier(n,r,a.x1,a.y1,a.x2,a.y2,a.x,a.y),n=a.x,r=a.y;break;case"Z":n=t,r=i;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},M.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var i=this.commands[t];"M"===i.type?e.moveTo(i.x,i.y):"L"===i.type?e.lineTo(i.x,i.y):"C"===i.type?e.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?e.quadraticCurveTo(i.x1,i.y1,i.x,i.y):"Z"===i.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},M.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function i(){for(var e=arguments,i="",n=0;n<arguments.length;n+=1){var r=e[n];r>=0&&n>0&&(i+=" "),i+=t(r)}return i}e=void 0!==e?e:2;for(var n="",r=0;r<this.commands.length;r+=1){var o=this.commands[r];"M"===o.type?n+="M"+i(o.x,o.y):"L"===o.type?n+="L"+i(o.x,o.y):"C"===o.type?n+="C"+i(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?n+="Q"+i(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(n+="Z")}return n},M.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},M.prototype.toDOMElement=function(e){var t=this.toPathData(e),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i};var P={fail:I,argument:D,assert:D},E={},A={},F={};function L(e){return function(){return e}}A.BYTE=function(e){return P.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},F.BYTE=L(1),A.CHAR=function(e){return[e.charCodeAt(0)]},F.CHAR=L(1),A.CHARARRAY=function(e){for(var t=[],i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},F.CHARARRAY=function(e){return e.length},A.USHORT=function(e){return[e>>8&255,255&e]},F.USHORT=L(2),A.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},F.SHORT=L(2),A.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},F.UINT24=L(3),A.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},F.ULONG=L(4),A.LONG=function(e){return e>=2147483648&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},F.LONG=L(4),A.FIXED=A.ULONG,F.FIXED=F.ULONG,A.FWORD=A.SHORT,F.FWORD=F.SHORT,A.UFWORD=A.USHORT,F.UFWORD=F.USHORT,A.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},F.LONGDATETIME=L(8),A.TAG=function(e){return P.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},F.TAG=L(4),A.Card8=A.BYTE,F.Card8=F.BYTE,A.Card16=A.USHORT,F.Card16=F.USHORT,A.OffSize=A.BYTE,F.OffSize=F.BYTE,A.SID=A.USHORT,F.SID=F.USHORT,A.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?A.NUMBER16(e):A.NUMBER32(e)},F.NUMBER=function(e){return A.NUMBER(e).length},A.NUMBER16=function(e){return[28,e>>8&255,255&e]},F.NUMBER16=L(3),A.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},F.NUMBER32=L(5),A.REAL=function(e){var t=e.toString(),i=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(i){var n=parseFloat("1e"+((i[2]?+i[2]:0)+i[1].length));t=(Math.round(e*n)/n).toString()}for(var r="",o=0,a=t.length;o<a;o+=1){var s=t[o];r+="e"===s?"-"===t[++o]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var l=[30],c=0,d=(r+=1&r.length?"f":"ff").length;c<d;c+=2)l.push(parseInt(r.substr(c,2),16));return l},F.REAL=function(e){return A.REAL(e).length},A.NAME=A.CHARARRAY,F.NAME=F.CHARARRAY,A.STRING=A.CHARARRAY,F.STRING=F.CHARARRAY,E.UTF8=function(e,t,i){for(var n=[],r=i,o=0;o<r;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)},E.UTF16=function(e,t,i){for(var n=[],r=i/2,o=0;o<r;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)},A.UTF16=function(e){for(var t=[],i=0;i<e.length;i+=1){var n=e.charCodeAt(i);t[t.length]=n>>8&255,t[t.length]=255&n}return t},F.UTF16=function(e){return 2*e.length};var N={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};E.MACSTRING=function(e,t,i,n){var r=N[n];if(void 0!==r){for(var o="",a=0;a<i;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):r[127&s]}return o}};var R,j="function"==typeof WeakMap&&new WeakMap;function z(e){return e>=-128&&e<=127}function O(e,t,i){for(var n=0,r=e.length;t<r&&n<64&&0===e[t];)++t,++n;return i.push(128|n-1),t}function B(e,t,i){for(var n=0,r=e.length,o=t;o<r&&n<64;){var a=e[o];if(!z(a))break;if(0===a&&o+1<r&&0===e[o+1])break;++o,++n}i.push(n-1);for(var s=t;s<o;++s)i.push(e[s]+256&255);return o}function U(e,t,i){for(var n=0,r=e.length,o=t;o<r&&n<64;){var a=e[o];if(0===a)break;if(z(a)&&o+1<r&&z(e[o+1]))break;++o,++n}i.push(64|n-1);for(var s=t;s<o;++s){var l=e[s];i.push(l+65536>>8&255,l+256&255)}return o}A.MACSTRING=function(e,t){var i=function(e){if(!R)for(var t in R={},N)R[t]=new String(t);var i=R[e];if(void 0!==i){if(j){var n=j.get(i);if(void 0!==n)return n}var r=N[e];if(void 0!==r){for(var o={},a=0;a<r.length;a++)o[r.charCodeAt(a)]=a+128;return j&&j.set(i,o),o}}}(t);if(void 0!==i){for(var n=[],r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=128&&void 0===(o=i[o]))return;n[r]=o}return n}},F.MACSTRING=function(e,t){var i=A.MACSTRING(e,t);return void 0!==i?i.length:0},A.VARDELTAS=function(e){for(var t=0,i=[];t<e.length;){var n=e[t];t=0===n?O(e,t,i):n>=-128&&n<=127?B(e,t,i):U(e,t,i)}return i},A.INDEX=function(e){for(var t=1,i=[t],n=[],r=0;r<e.length;r+=1){var o=A.OBJECT(e[r]);Array.prototype.push.apply(n,o),t+=o.length,i.push(t)}if(0===n.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,A.BYTE,A.USHORT,A.UINT24,A.ULONG][s],c=0;c<i.length;c+=1){var d=l(i[c]);Array.prototype.push.apply(a,d)}return Array.prototype.concat(A.Card16(e.length),A.OffSize(s),a,n)},F.INDEX=function(e){return A.INDEX(e).length},A.DICT=function(e){for(var t=[],i=Object.keys(e),n=i.length,r=0;r<n;r+=1){var o=parseInt(i[r],0),a=e[o];t=(t=t.concat(A.OPERAND(a.value,a.type))).concat(A.OPERATOR(o))}return t},F.DICT=function(e){return A.DICT(e).length},A.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},A.OPERAND=function(e,t){var i=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)P.argument(e.length===t.length,"Not enough arguments given for type"+t),i=i.concat(A.OPERAND(e[n],t[n]));else if("SID"===t)i=i.concat(A.NUMBER(e));else if("offset"===t)i=i.concat(A.NUMBER32(e));else if("number"===t)i=i.concat(A.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);i=i.concat(A.REAL(e))}return i},A.OP=A.BYTE,F.OP=F.BYTE;var $="function"==typeof WeakMap&&new WeakMap;function V(e,t,i){for(var n=0;n<t.length;n+=1){var r=t[n];this[r.name]=r.value}if(this.tableName=e,this.fields=t,i)for(var o=Object.keys(i),a=0;a<o.length;a+=1){var s=o[a],l=i[s];void 0!==this[s]&&(this[s]=l)}}function H(e,t,i){void 0===i&&(i=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:i};for(var r=0;r<t.length;r++)n[r+1]={name:e+r,type:"USHORT",value:t[r]};return n}function G(e,t,i){var n=t.length,r=new Array(n+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)r[o+1]={name:e+o,type:"TABLE",value:i(t[o],o)};return r}function K(e,t,i){var n=t.length,r=[];r[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)r=r.concat(i(t[o],o));return r}function q(e){1===e.format?V.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(H("glyph",e.glyphs))):P.assert(!1,"Can't create coverage table format 2 yet.")}function W(e){V.call(this,"scriptListTable",K("scriptRecord",e,function(e,t){var i=e.script,n=i.defaultLangSys;return P.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new V("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new V("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(H("featureIndex",n.featureIndexes)))}].concat(K("langSys",i.langSysRecords,function(e,t){var i=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new V("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(H("featureIndex",i.featureIndexes)))}]})))}]}))}function Y(e){V.call(this,"featureListTable",K("featureRecord",e,function(e,t){var i=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new V("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(H("lookupListIndex",i.lookupListIndexes)))}]}))}function Q(e,t){V.call(this,"lookupListTable",G("lookup",e,function(e){var i=t[e.lookupType];return P.assert(!!i,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new V("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(G("subtable",e.subtables,i)))}))}A.CHARSTRING=function(e){if($){var t=$.get(e);if(void 0!==t)return t}for(var i=[],n=e.length,r=0;r<n;r+=1){var o=e[r];i=i.concat(A[o.type](o.value))}return $&&$.set(e,i),i},F.CHARSTRING=function(e){return A.CHARSTRING(e).length},A.OBJECT=function(e){var t=A[e.type];return P.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},F.OBJECT=function(e){var t=F[e.type];return P.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},A.TABLE=function(e){for(var t=[],i=e.fields.length,n=[],r=[],o=0;o<i;o+=1){var a=e.fields[o],s=A[a.type];P.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")");var l=e[a.name];void 0===l&&(l=a.value);var c=s(l);"TABLE"===a.type?(r.push(t.length),t=t.concat([0,0]),n.push(c)):t=t.concat(c)}for(var d=0;d<n.length;d+=1){var u=r[d],h=t.length;P.argument(h<65536,"Table "+e.tableName+" too big."),t[u]=h>>8,t[u+1]=255&h,t=t.concat(n[d])}return t},F.TABLE=function(e){for(var t=0,i=e.fields.length,n=0;n<i;n+=1){var r=e.fields[n],o=F[r.type];P.argument(void 0!==o,"No sizeOf function for field type "+r.type+" ("+r.name+")");var a=e[r.name];void 0===a&&(a=r.value),t+=o(a),"TABLE"===r.type&&(t+=2)}return t},A.RECORD=A.TABLE,F.RECORD=F.TABLE,A.LITERAL=function(e){return e},F.LITERAL=function(e){return e.length},V.prototype.encode=function(){return A.TABLE(this)},V.prototype.sizeOf=function(){return F.TABLE(this)},q.prototype=Object.create(V.prototype),q.prototype.constructor=q,W.prototype=Object.create(V.prototype),W.prototype.constructor=W,Y.prototype=Object.create(V.prototype),Y.prototype.constructor=Y,Q.prototype=Object.create(V.prototype),Q.prototype.constructor=Q;var X={Table:V,Record:V,Coverage:q,ScriptList:W,FeatureList:Y,LookupList:Q,ushortList:H,tableList:G,recordList:K};function Z(e,t){return e.getUint8(t)}function J(e,t){return e.getUint16(t,!1)}function ee(e,t){return e.getUint32(t,!1)}function te(e,t){var i=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return i+n/65535}var ie={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ne(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ne.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseCard8=ne.prototype.parseByte,ne.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseCard16=ne.prototype.parseUShort,ne.prototype.parseSID=ne.prototype.parseUShort,ne.prototype.parseOffset16=ne.prototype.parseUShort,ne.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ne.prototype.parseULong=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseOffset32=ne.prototype.parseULong,ne.prototype.parseFixed=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseString=function(e){var t=this.data,i=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var r=0;r<e;r++)n+=String.fromCharCode(t.getUint8(i+r));return n},ne.prototype.parseTag=function(){return this.parseString(4)},ne.prototype.parseLongDateTime=function(){var e=ee(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ne.prototype.parseVersion=function(e){var t=J(this.data,this.offset+this.relativeOffset),i=J(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+i/e/10},ne.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=ie[e]*t},ne.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),i=this.data,n=this.offset+this.relativeOffset,r=0;r<e;r++)t[r]=i.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},ne.prototype.parseOffset16List=ne.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),i=this.data,n=this.offset+this.relativeOffset,r=0;r<e;r++)t[r]=i.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseShortList=function(e){for(var t=new Array(e),i=this.data,n=this.offset+this.relativeOffset,r=0;r<e;r++)t[r]=i.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseByteList=function(e){for(var t=new Array(e),i=this.data,n=this.offset+this.relativeOffset,r=0;r<e;r++)t[r]=i.getUint8(n++);return this.relativeOffset+=e,t},ne.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var i=new Array(e),n=0;n<e;n++)i[n]=t.call(this);return i},ne.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var i=new Array(e),n=0;n<e;n++)i[n]=t.call(this);return i},ne.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var i=new Array(e),n=Object.keys(t),r=0;r<e;r++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}i[r]=o}return i},ne.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var i=new Array(e),n=Object.keys(t),r=0;r<e;r++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}i[r]=o}return i},ne.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),i={},n=0;n<t.length;n++){var r=t[n],o=e[r];i[r]=o.call(this)}return i},ne.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},ne.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),i=new Array(t),n=0;n<t;n++)i[n]=this.parseValueRecord(e);return i},ne.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),i=t.length,n=this.relativeOffset,r=new Array(i),o=0;o<i;o++){var a=t[o];if(0!==a)if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),c=0;c<s.length;c++)this.relativeOffset=a+s[c],l[c]=e.call(this);r[o]=l}else r[o]=this.parseUShortList();else r[o]=void 0}return this.relativeOffset=n,r},ne.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),i=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(i)};if(2===t){for(var n=new Array(i),r=0;r<i;r++)n[r]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},ne.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ne.uShort,end:ne.uShort,classId:ne.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ne.list=function(e,t){return function(){return this.parseList(e,t)}},ne.list32=function(e,t){return function(){return this.parseList32(e,t)}},ne.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ne.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ne.pointer=function(e){return function(){return this.parsePointer(e)}},ne.pointer32=function(e){return function(){return this.parsePointer32(e)}},ne.tag=ne.prototype.parseTag,ne.byte=ne.prototype.parseByte,ne.uShort=ne.offset16=ne.prototype.parseUShort,ne.uShortList=ne.prototype.parseUShortList,ne.uLong=ne.offset32=ne.prototype.parseULong,ne.uLongList=ne.prototype.parseULongList,ne.struct=ne.prototype.parseStruct,ne.coverage=ne.prototype.parseCoverage,ne.classDef=ne.prototype.parseClassDef;var re={reserved:ne.uShort,reqFeatureIndex:ne.uShort,featureIndexes:ne.uShortList};ne.prototype.parseScriptList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,script:ne.pointer({defaultLangSys:ne.pointer(re),langSysRecords:ne.recordList({tag:ne.tag,langSys:ne.pointer(re)})})}))||[]},ne.prototype.parseFeatureList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,feature:ne.pointer({featureParams:ne.offset16,lookupListIndexes:ne.uShortList})}))||[]},ne.prototype.parseLookupList=function(e){return this.parsePointer(ne.list(ne.pointer(function(){var t=this.parseUShort();P.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var i=this.parseUShort(),n=16&i;return{lookupType:t,lookupFlag:i,subtables:this.parseList(ne.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]},ne.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();P.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown.");var i=this.parseRecordList32({conditionSetOffset:ne.offset32,featureTableSubstitutionOffset:ne.offset32});return i})||[]};var oe={getByte:Z,getCard8:Z,getUShort:J,getCard16:J,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ee,getFixed:te,getTag:function(e,t){for(var i="",n=t;n<t+4;n+=1)i+=String.fromCharCode(e.getInt8(n));return i},getOffset:function(e,t,i){for(var n=0,r=0;r<i;r+=1)n<<=8,n+=e.getUint8(t+r);return n},getBytes:function(e,t,i){for(var n=[],r=t;r<i;r+=1)n.push(e.getUint8(r));return n},bytesToString:function(e){for(var t="",i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return t},Parser:ne};function ae(e,t,i){e.segments.push({end:t,start:t,delta:-(t-i),offset:0,glyphIndex:i})}var se={parse:function(e,t){var i={};i.version=oe.getUShort(e,t),P.argument(0===i.version,"cmap table version should be 0."),i.numTables=oe.getUShort(e,t+2);for(var n=-1,r=i.numTables-1;r>=0;r-=1){var o=oe.getUShort(e,t+4+8*r),a=oe.getUShort(e,t+4+8*r+2);if(3===o&&(0===a||1===a||10===a)){n=oe.getULong(e,t+4+8*r+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var s=new oe.Parser(e,t+n);if(i.format=s.parseUShort(),12===i.format)!function(e,t){var i;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=i=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<i;n+=1)for(var r=t.parseULong(),o=t.parseULong(),a=t.parseULong(),s=r;s<=o;s+=1)e.glyphIndexMap[s]=a,a++}(i,s);else{if(4!==i.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+i.format+").");!function(e,t,i,n,r){var o;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var a=new oe.Parser(i,n+r+14),s=new oe.Parser(i,n+r+16+2*o),l=new oe.Parser(i,n+r+16+4*o),c=new oe.Parser(i,n+r+16+6*o),d=n+r+16+8*o,u=0;u<o-1;u+=1)for(var h=void 0,p=a.parseUShort(),f=s.parseUShort(),g=l.parseShort(),m=c.parseUShort(),v=f;v<=p;v+=1)0!==m?(d=c.offset+c.relativeOffset-2,d+=m,d+=2*(v-f),0!==(h=oe.getUShort(i,d))&&(h=h+g&65535)):h=v+g&65535,e.glyphIndexMap[v]=h}(i,s,e,t,n)}return i},make:function(e){var t,i=!0;for(t=e.length-1;t>0;t-=1){var n=e.get(t);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),i=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:i?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:i?12:20}];i||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new X.Table("cmap",r);for(o.segments=[],t=0;t<e.length;t+=1){for(var a=e.get(t),s=0;s<a.unicodes.length;s+=1)ae(o,a.unicodes[s],t);o.segments=o.segments.sort(function(e,t){return e.start-t.start})}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(o);var l=o.segments.length,c=0,d=[],u=[],h=[],p=[],f=[],g=[];for(t=0;t<l;t+=1){var m=o.segments[t];m.end<=65535&&m.start<=65535?(d=d.concat({name:"end_"+t,type:"USHORT",value:m.end}),u=u.concat({name:"start_"+t,type:"USHORT",value:m.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:m.delta}),p=p.concat({name:"idRangeOffset_"+t,type:"USHORT",value:m.offset}),void 0!==m.glyphId&&(f=f.concat({name:"glyph_"+t,type:"USHORT",value:m.glyphId}))):c+=1,i||void 0===m.glyphIndex||(g=(g=(g=g.concat({name:"cmap12Start_"+t,type:"ULONG",value:m.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:m.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:m.glyphIndex}))}if(o.segCountX2=2*(l-c),o.searchRange=2*Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2))),o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(d),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(u),o.fields=o.fields.concat(h),o.fields=o.fields.concat(p),o.fields=o.fields.concat(f),o.cmap4Length=14+2*d.length+2+2*u.length+2*h.length+2*p.length+2*f.length,!i){var v=16+4*g.length;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),o.fields=o.fields.concat(g)}return o}},le=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ue=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){this.font=e}function pe(e){this.cmap=e}function fe(e,t){this.encoding=e,this.charset=t}function ge(e){switch(e.version){case 1:this.names=ue.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<ue.length?this.names[t]=ue[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-ue.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var i=0;i<e.numberOfGlyphs;i++)this.names[i]=ue[i+e.glyphNameIndex[i]];break;case 3:default:this.names=[]}}he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),i=this.font.glyphs;if(i)for(var n=0;n<i.length;n+=1)for(var r=i.get(n),o=0;o<r.unicodes.length;o+=1)if(r.unicodes[o]===t)return n;return null},pe.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},fe.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),i=this.encoding[t];return this.charset.indexOf(i)},ge.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ge.prototype.glyphIndexToName=function(e){return this.names[e]};var me={line:function(e,t,i,n,r){e.beginPath(),e.moveTo(t,i),e.lineTo(n,r),e.stroke()}};function ve(e){this.bindConstructorValues(e)}function be(e,t,i){Object.defineProperty(e,t,{get:function(){return e.path,e[i]},set:function(t){e[i]=t},enumerable:!0,configurable:!0})}function ye(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var i=0;i<t.length;i++)this.glyphs[i]=t[i];this.length=t&&t.length||0}ve.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",function(e,t){var i=t||new M;return{configurable:!0,get:function(){return"function"==typeof i&&(i=i()),i},set:function(e){i=e}}}(0,e.path))},ve.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ve.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ve.prototype.getPath=function(e,t,i,n,r){var o,a;e=void 0!==e?e:0,t=void 0!==t?t:0,i=void 0!==i?i:72,n||(n={});var s=n.xScale,l=n.yScale;if(n.hinting&&r&&r.hinting&&(a=this.path&&r.hinting.exec(this,i)),a)o=r.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),s=l=1;else{o=this.path.commands;var c=1/this.path.unitsPerEm*i;void 0===s&&(s=c),void 0===l&&(l=c)}for(var d=new M,u=0;u<o.length;u+=1){var h=o[u];"M"===h.type?d.moveTo(e+h.x*s,t+-h.y*l):"L"===h.type?d.lineTo(e+h.x*s,t+-h.y*l):"Q"===h.type?d.quadraticCurveTo(e+h.x1*s,t+-h.y1*l,e+h.x*s,t+-h.y*l):"C"===h.type?d.curveTo(e+h.x1*s,t+-h.y1*l,e+h.x2*s,t+-h.y2*l,e+h.x*s,t+-h.y*l):"Z"===h.type&&d.closePath()}return d},ve.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],i=0;i<this.points.length;i+=1){var n=this.points[i];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return P.argument(0===t.length,"There are still points left in the current contour."),e},ve.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],i=[],n=0;n<e.length;n+=1){var r=e[n];"Z"!==r.type&&(t.push(r.x),i.push(r.y)),"Q"!==r.type&&"C"!==r.type||(t.push(r.x1),i.push(r.y1)),"C"===r.type&&(t.push(r.x2),i.push(r.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,i),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},ve.prototype.draw=function(e,t,i,n,r){this.getPath(t,i,n,r).draw(e)},ve.prototype.drawPoints=function(e,t,i,n){function r(t,i,n,r){var o=2*Math.PI;e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(i+t[a].x*r,n+t[a].y*r),e.arc(i+t[a].x*r,n+t[a].y*r,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,i=void 0!==i?i:0,n=void 0!==n?n:24;for(var o=1/this.path.unitsPerEm*n,a=[],s=[],l=this.path,c=0;c<l.commands.length;c+=1){var d=l.commands[c];void 0!==d.x&&a.push({x:d.x,y:-d.y}),void 0!==d.x1&&s.push({x:d.x1,y:-d.y1}),void 0!==d.x2&&s.push({x:d.x2,y:-d.y2})}e.fillStyle="blue",r(a,t,i,o),e.fillStyle="red",r(s,t,i,o)},ve.prototype.drawMetrics=function(e,t,i,n){var r;t=void 0!==t?t:0,i=void 0!==i?i:0,n=void 0!==n?n:24,r=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",me.line(e,t,-1e4,t,1e4),me.line(e,-1e4,i,1e4,i);var o=this.xMin||0,a=this.yMin||0,s=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",me.line(e,t+o*r,-1e4,t+o*r,1e4),me.line(e,t+s*r,-1e4,t+s*r,1e4),me.line(e,-1e4,i+-a*r,1e4,i+-a*r),me.line(e,-1e4,i+-l*r,1e4,i+-l*r),e.strokeStyle="green",me.line(e,t+c*r,-1e4,t+c*r,1e4)},ye.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},ye.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var we={GlyphSet:ye,glyphLoader:function(e,t){return new ve({index:t,font:e})},ttfGlyphLoader:function(e,t,i,n,r,o){return function(){var a=new ve({index:t,font:e});return a.path=function(){i(a,n,r);var t=o(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},be(a,"xMin","_xMin"),be(a,"xMax","_xMax"),be(a,"yMin","_yMin"),be(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,i,n){return function(){var r=new ve({index:t,font:e});return r.path=function(){var t=i(e,r,n);return t.unitsPerEm=e.unitsPerEm,t},r}}};function ke(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i+=1)if(!ke(e[i],t[i]))return!1;return!0}return!1}function xe(e){return e.length<1240?107:e.length<33900?1131:32768}function _e(e,t,i){var n,r,o=[],a=[],s=oe.getCard16(e,t);if(0!==s){var l=oe.getByte(e,t+2);n=t+(s+1)*l+2;for(var c=t+3,d=0;d<s+1;d+=1)o.push(oe.getOffset(e,c,l)),c+=l;r=n+o[s]}else r=t+2;for(var u=0;u<o.length-1;u+=1){var h=oe.getBytes(e,n+o[u],n+o[u+1]);i&&(h=i(h)),a.push(h)}return{objects:a,startOffset:t,endOffset:r}}function Ce(e,t){var i,n,r,o;if(28===t)return i=e.parseByte(),n=e.parseByte(),i<<8|n;if(29===t)return i=e.parseByte(),n=e.parseByte(),r=e.parseByte(),o=e.parseByte(),i<<24|n<<16|r<<8|o;if(30===t)return function(e){for(var t="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.parseByte(),r=n>>4,o=15&n;if(15===r)break;if(t+=i[r],15===o)break;t+=i[o]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return i=e.parseByte(),256*(t-247)+i+108;if(t>=251&&t<=254)return i=e.parseByte(),256*-(t-251)-i-108;throw new Error("Invalid b0 "+t)}function Se(e,t,i){t=void 0!==t?t:0;var n=new oe.Parser(e,t),r=[],o=[];for(i=void 0!==i?i:e.length;n.relativeOffset<i;){var a=n.parseByte();a<=21?(12===a&&(a=1200+n.parseByte()),r.push([a,o]),o=[]):o.push(Ce(n,a))}return function(e){for(var t={},i=0;i<e.length;i+=1){var n=e[i][0],r=e[i][1],o=void 0;if(o=1===r.length?r[0]:r,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}(r)}function Te(e,t){return t=t<=390?le[t]:e[t-391]}function Me(e,t,i){for(var n,r={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(n=void 0!==e[a.op]?e[a.op][l]:void 0)&&(n=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(n=Te(i,n)),s[l]=n;r[a.name]=s}else void 0===(n=e[a.op])&&(n=void 0!==a.value?a.value:null),"SID"===a.type&&(n=Te(i,n)),r[a.name]=n}return r}var Ie=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],De=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Pe(e,t){var i=Se(e,0,e.byteLength);return Me(i,Ie,t)}function Ee(e,t,i,n){var r=Se(e,t,i);return Me(r,De,n)}function Ae(e,t,i,n){for(var r=[],o=0;o<i.length;o+=1){var a=new DataView(new Uint8Array(i[o]).buffer),s=Pe(a,n);s._subrs=[],s._subrsBias=0;var l=s.private[0],c=s.private[1];if(0!==l&&0!==c){var d=Ee(e,c+t,l,n);if(s._defaultWidthX=d.defaultWidthX,s._nominalWidthX=d.nominalWidthX,0!==d.subrs){var u=c+d.subrs,h=_e(e,u+t);s._subrs=h.objects,s._subrsBias=xe(s._subrs)}s._privateDict=d}r.push(s)}return r}function Fe(e,t,i){var n,r,o,a,s,l,c,d,u=new M,h=[],p=0,f=!1,g=!1,m=0,v=0;if(e.isCIDFont){var b=e.tables.cff.topDict._fdSelect[t.index],y=e.tables.cff.topDict._fdArray[b];s=y._subrs,l=y._subrsBias,c=y._defaultWidthX,d=y._nominalWidthX}else s=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,d=e.tables.cff.topDict._nominalWidthX;var w=c;function k(e,t){g&&u.closePath(),u.moveTo(e,t),g=!0}function x(){h.length%2!=0&&!f&&(w=h.shift()+d),p+=h.length>>1,h.length=0,f=!0}return function i(c){for(var b,y,_,C,S,T,M,I,D,P,E,A,F=0;F<c.length;){var L=c[F];switch(F+=1,L){case 1:case 3:x();break;case 4:h.length>1&&!f&&(w=h.shift()+d,f=!0),v+=h.pop(),k(m,v);break;case 5:for(;h.length>0;)m+=h.shift(),v+=h.shift(),u.lineTo(m,v);break;case 6:for(;h.length>0&&(m+=h.shift(),u.lineTo(m,v),0!==h.length);)v+=h.shift(),u.lineTo(m,v);break;case 7:for(;h.length>0&&(v+=h.shift(),u.lineTo(m,v),0!==h.length);)m+=h.shift(),u.lineTo(m,v);break;case 8:for(;h.length>0;)n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a+h.shift(),u.curveTo(n,r,o,a,m,v);break;case 10:S=h.pop()+l,(T=s[S])&&i(T);break;case 11:return;case 12:switch(L=c[F],F+=1,L){case 35:n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),M=o+h.shift(),I=a+h.shift(),D=M+h.shift(),P=I+h.shift(),E=D+h.shift(),A=P+h.shift(),m=E+h.shift(),v=A+h.shift(),h.shift(),u.curveTo(n,r,o,a,M,I),u.curveTo(D,P,E,A,m,v);break;case 34:n=m+h.shift(),r=v,o=n+h.shift(),a=r+h.shift(),M=o+h.shift(),I=a,D=M+h.shift(),P=a,E=D+h.shift(),A=v,m=E+h.shift(),u.curveTo(n,r,o,a,M,I),u.curveTo(D,P,E,A,m,v);break;case 36:n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),M=o+h.shift(),I=a,D=M+h.shift(),P=a,E=D+h.shift(),A=P+h.shift(),m=E+h.shift(),u.curveTo(n,r,o,a,M,I),u.curveTo(D,P,E,A,m,v);break;case 37:n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),M=o+h.shift(),I=a+h.shift(),D=M+h.shift(),P=I+h.shift(),E=D+h.shift(),A=P+h.shift(),Math.abs(E-m)>Math.abs(A-v)?m=E+h.shift():v=A+h.shift(),u.curveTo(n,r,o,a,M,I),u.curveTo(D,P,E,A,m,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+L),h.length=0}break;case 14:h.length>0&&!f&&(w=h.shift()+d,f=!0),g&&(u.closePath(),g=!1);break;case 18:x();break;case 19:case 20:x(),F+=p+7>>3;break;case 21:h.length>2&&!f&&(w=h.shift()+d,f=!0),v+=h.pop(),k(m+=h.pop(),v);break;case 22:h.length>1&&!f&&(w=h.shift()+d,f=!0),k(m+=h.pop(),v);break;case 23:x();break;case 24:for(;h.length>2;)n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a+h.shift(),u.curveTo(n,r,o,a,m,v);m+=h.shift(),v+=h.shift(),u.lineTo(m,v);break;case 25:for(;h.length>6;)m+=h.shift(),v+=h.shift(),u.lineTo(m,v);n=m+h.shift(),r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a+h.shift(),u.curveTo(n,r,o,a,m,v);break;case 26:for(h.length%2&&(m+=h.shift());h.length>0;)n=m,r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o,v=a+h.shift(),u.curveTo(n,r,o,a,m,v);break;case 27:for(h.length%2&&(v+=h.shift());h.length>0;)n=m+h.shift(),r=v,o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a,u.curveTo(n,r,o,a,m,v);break;case 28:b=c[F],y=c[F+1],h.push((b<<24|y<<16)>>16),F+=2;break;case 29:S=h.pop()+e.gsubrsBias,(T=e.gsubrs[S])&&i(T);break;case 30:for(;h.length>0&&(n=m,r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a+(1===h.length?h.shift():0),u.curveTo(n,r,o,a,m,v),0!==h.length);)n=m+h.shift(),r=v,o=n+h.shift(),a=r+h.shift(),v=a+h.shift(),m=o+(1===h.length?h.shift():0),u.curveTo(n,r,o,a,m,v);break;case 31:for(;h.length>0&&(n=m+h.shift(),r=v,o=n+h.shift(),a=r+h.shift(),v=a+h.shift(),m=o+(1===h.length?h.shift():0),u.curveTo(n,r,o,a,m,v),0!==h.length);)n=m,r=v+h.shift(),o=n+h.shift(),a=r+h.shift(),m=o+h.shift(),v=a+(1===h.length?h.shift():0),u.curveTo(n,r,o,a,m,v);break;default:L<32?console.log("Glyph "+t.index+": unknown operator "+L):L<247?h.push(L-139):L<251?(b=c[F],F+=1,h.push(256*(L-247)+b+108)):L<255?(b=c[F],F+=1,h.push(256*-(L-251)-b-108)):(b=c[F],y=c[F+1],_=c[F+2],C=c[F+3],F+=4,h.push((b<<24|y<<16|_<<8|C)/65536))}}}(i),t.advanceWidth=w,u}function Le(e,t){var i,n=le.indexOf(e);return n>=0&&(i=n),(n=t.indexOf(e))>=0?i=n+le.length:(i=le.length+t.length,t.push(e)),i}function Ne(e,t,i){for(var n={},r=0;r<e.length;r+=1){var o=e[r],a=t[o.name];void 0===a||ke(a,o.value)||("SID"===o.type&&(a=Le(a,i)),n[o.op]={name:o.name,type:o.type,value:a})}return n}function Re(e,t){var i=new X.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return i.dict=Ne(Ie,e,t),i}function je(e){var t=new X.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function ze(e){var t=[],i=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,r=0,o=0;o<i.commands.length;o+=1){var a=void 0,s=void 0,l=i.commands[o];if("Q"===l.type&&(l={type:"C",x:l.x,y:l.y,x1:1/3*n+2/3*l.x1,y1:1/3*r+2/3*l.y1,x2:1/3*l.x+2/3*l.x1,y2:1/3*l.y+2/3*l.y1}),"M"===l.type)a=Math.round(l.x-n),s=Math.round(l.y-r),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(l.x),r=Math.round(l.y);else if("L"===l.type)a=Math.round(l.x-n),s=Math.round(l.y-r),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(l.x),r=Math.round(l.y);else if("C"===l.type){var c=Math.round(l.x1-n),d=Math.round(l.y1-r),u=Math.round(l.x2-l.x1),h=Math.round(l.y2-l.y1);a=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:c}),t.push({name:"dy1",type:"NUMBER",value:d}),t.push({name:"dx2",type:"NUMBER",value:u}),t.push({name:"dy2",type:"NUMBER",value:h}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(l.x),r=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Oe={parse:function(e,t,i){i.tables.cff={};var n=function(e,t){var i={};return i.formatMajor=oe.getCard8(e,t),i.formatMinor=oe.getCard8(e,t+1),i.size=oe.getCard8(e,t+2),i.offsetSize=oe.getCard8(e,t+3),i.startOffset=t,i.endOffset=t+4,i}(e,t),r=_e(e,n.endOffset,oe.bytesToString),o=_e(e,r.endOffset),a=_e(e,o.endOffset,oe.bytesToString),s=_e(e,a.endOffset);i.gsubrs=s.objects,i.gsubrsBias=xe(i.gsubrs);var l=Ae(e,t,o.objects,a.objects);if(1!==l.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+l.length);var c=l[0];if(i.tables.cff.topDict=c,c._privateDict&&(i.defaultWidthX=c._privateDict.defaultWidthX,i.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(i.isCIDFont=!0),i.isCIDFont){var d=c.fdArray,u=c.fdSelect;if(0===d||0===u)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var h=_e(e,d+=t),p=Ae(e,t,h.objects,a.objects);c._fdArray=p,u+=t,c._fdSelect=function(e,t,i,n){var r,o=[],a=new oe.Parser(e,t),s=a.parseCard8();if(0===s)for(var l=0;l<i;l++){if((r=a.parseCard8())>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+n+")");o.push(r)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var c,d=a.parseCard16(),u=a.parseCard16();if(0!==u)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var h=0;h<d;h++){if(r=a.parseCard8(),c=a.parseCard16(),r>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+n+")");if(c>i)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+c);for(;u<c;u++)o.push(r);u=c}if(c!==i)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+c)}return o}(e,u,i.numGlyphs,p.length)}var f=t+c.private[1],g=Ee(e,f,c.private[0],a.objects);if(i.defaultWidthX=g.defaultWidthX,i.nominalWidthX=g.nominalWidthX,0!==g.subrs){var m=f+g.subrs,v=_e(e,m);i.subrs=v.objects,i.subrsBias=xe(i.subrs)}else i.subrs=[],i.subrsBias=0;var b=_e(e,t+c.charStrings);i.nGlyphs=b.objects.length;var y=function(e,t,i,n){var r,o,a=new oe.Parser(e,t);i-=1;var s=[".notdef"],l=a.parseCard8();if(0===l)for(var c=0;c<i;c+=1)r=a.parseSID(),s.push(Te(n,r));else if(1===l)for(;s.length<=i;){r=a.parseSID(),o=a.parseCard8();for(var d=0;d<=o;d+=1)s.push(Te(n,r)),r+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;s.length<=i;){r=a.parseSID(),o=a.parseCard16();for(var u=0;u<=o;u+=1)s.push(Te(n,r)),r+=1}}return s}(e,t+c.charset,i.nGlyphs,a.objects);0===c.encoding?i.cffEncoding=new fe(ce,y):1===c.encoding?i.cffEncoding=new fe(de,y):i.cffEncoding=function(e,t,i){var n,r={},o=new oe.Parser(e,t),a=o.parseCard8();if(0===a)for(var s=o.parseCard8(),l=0;l<s;l+=1)n=o.parseCard8(),r[n]=l;else{if(1!==a)throw new Error("Unknown encoding format "+a);var c=o.parseCard8();n=1;for(var d=0;d<c;d+=1)for(var u=o.parseCard8(),h=o.parseCard8(),p=u;p<=u+h;p+=1)r[p]=n,n+=1}return new fe(r,i)}(e,t+c.encoding,y),i.encoding=i.encoding||i.cffEncoding,i.glyphs=new we.GlyphSet(i);for(var w=0;w<i.nGlyphs;w+=1){var k=b.objects[w];i.glyphs.push(w,we.cffGlyphLoader(i,w,Fe,k))}},make:function(e,t){for(var i,n=new X.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],s=1;s<e.length;s+=1)i=e.get(s),a.push(i.name);var l=[];n.header=new X.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new X.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var i=0;i<e.length;i+=1)t.names.push({name:"name_"+i,type:"NAME",value:e[i]});return t}([t.postScriptName]);var c=Re(o,l);n.topDictIndex=je(c),n.globalSubrIndex=new X.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var i=new X.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var r=e[n],o=Le(r,t);i.fields.push({name:"glyph_"+n,type:"SID",value:o})}return i}(a,l),n.charStringsIndex=function(e){for(var t=new X.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),i=0;i<e.length;i+=1){var n=e.get(i),r=ze(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:r})}return t}(e),n.privateDict=function(e,t){var i=new X.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return i.dict=Ne(De,e,t),i}({},l),n.stringIndex=function(e){var t=new X.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var i=0;i<e.length;i+=1)t.strings.push({name:"string_"+i,type:"STRING",value:e[i]});return t}(l);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return o.charset=d,o.encoding=0,o.charStrings=o.charset+n.charsets.sizeOf(),o.private[1]=o.charStrings+n.charStringsIndex.sizeOf(),c=Re(o,l),n.topDictIndex=je(c),n}},Be={parse:function(e,t){var i={},n=new oe.Parser(e,t);return i.version=n.parseVersion(),i.fontRevision=Math.round(1e3*n.parseFixed())/1e3,i.checkSumAdjustment=n.parseULong(),i.magicNumber=n.parseULong(),P.argument(1594834165===i.magicNumber,"Font header has wrong magic number."),i.flags=n.parseUShort(),i.unitsPerEm=n.parseUShort(),i.created=n.parseLongDateTime(),i.modified=n.parseLongDateTime(),i.xMin=n.parseShort(),i.yMin=n.parseShort(),i.xMax=n.parseShort(),i.yMax=n.parseShort(),i.macStyle=n.parseUShort(),i.lowestRecPPEM=n.parseUShort(),i.fontDirectionHint=n.parseShort(),i.indexToLocFormat=n.parseShort(),i.glyphDataFormat=n.parseShort(),i},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,i=t;return e.createdTimestamp&&(i=e.createdTimestamp+2082844800),new X.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:i},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}},Ue={parse:function(e,t){var i={},n=new oe.Parser(e,t);return i.version=n.parseVersion(),i.ascender=n.parseShort(),i.descender=n.parseShort(),i.lineGap=n.parseShort(),i.advanceWidthMax=n.parseUShort(),i.minLeftSideBearing=n.parseShort(),i.minRightSideBearing=n.parseShort(),i.xMaxExtent=n.parseShort(),i.caretSlopeRise=n.parseShort(),i.caretSlopeRun=n.parseShort(),i.caretOffset=n.parseShort(),n.relativeOffset+=8,i.metricDataFormat=n.parseShort(),i.numberOfHMetrics=n.parseUShort(),i},make:function(e){return new X.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}},$e={parse:function(e,t,i,n,r){for(var o,a,s=new oe.Parser(e,t),l=0;l<n;l+=1){l<i&&(o=s.parseUShort(),a=s.parseShort());var c=r.get(l);c.advanceWidth=o,c.leftSideBearing=a}},make:function(e){for(var t=new X.Table("hmtx",[]),i=0;i<e.length;i+=1){var n=e.get(i),r=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:r}),t.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:o})}return t}},Ve={make:function(e){for(var t=new X.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),i="",n=12+4*e.length,r=0;r<e.length;++r){var o=i.indexOf(e[r]);o<0&&(o=i.length,i+=e[r]),t.fields.push({name:"offset "+r,type:"USHORT",value:n+o}),t.fields.push({name:"length "+r,type:"USHORT",value:e[r].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),t},parse:function(e,t){var i=new oe.Parser(e,t),n=i.parseULong();P.argument(1===n,"Unsupported ltag table version."),i.skip("uLong",1);for(var r=i.parseULong(),o=[],a=0;a<r;a++){for(var s="",l=t+i.parseUShort(),c=i.parseUShort(),d=l;d<l+c;++d)s+=String.fromCharCode(e.getInt8(d));o.push(s)}return o}},He={parse:function(e,t){var i={},n=new oe.Parser(e,t);return i.version=n.parseVersion(),i.numGlyphs=n.parseUShort(),1===i.version&&(i.maxPoints=n.parseUShort(),i.maxContours=n.parseUShort(),i.maxCompositePoints=n.parseUShort(),i.maxCompositeContours=n.parseUShort(),i.maxZones=n.parseUShort(),i.maxTwilightPoints=n.parseUShort(),i.maxStorage=n.parseUShort(),i.maxFunctionDefs=n.parseUShort(),i.maxInstructionDefs=n.parseUShort(),i.maxStackElements=n.parseUShort(),i.maxSizeOfInstructions=n.parseUShort(),i.maxComponentElements=n.parseUShort(),i.maxComponentDepth=n.parseUShort()),i},make:function(e){return new X.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Ge=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ke={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},qe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},We={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Ye(e,t,i){switch(e){case 0:if(65535===t)return"und";if(i)return i[t];break;case 1:return Ke[t];case 3:return We[t]}}var Qe="utf-16",Xe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ze={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Je(e,t,i){switch(e){case 0:return Qe;case 1:return Ze[i]||Xe[t];case 3:if(1===t||10===t)return Qe}}function et(e){var t={};for(var i in e)t[e[i]]=parseInt(i);return t}function tt(e,t,i,n,r,o){return new X.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:i},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:o}])}function it(e,t){var i=function(e,t){var i=e.length,n=t.length-i+1;e:for(var r=0;r<n;r++)for(;r<n;r++){for(var o=0;o<i;o++)if(t[r+o]!==e[o])continue e;return r}return-1}(e,t);if(i<0){i=t.length;for(var n=0,r=e.length;n<r;++n)t.push(e[n])}return i}var nt={parse:function(e,t,i){for(var n={},r=new oe.Parser(e,t),o=r.parseUShort(),a=r.parseUShort(),s=r.offset+r.parseUShort(),l=0;l<a;l++){var c=r.parseUShort(),d=r.parseUShort(),u=r.parseUShort(),h=r.parseUShort(),p=Ge[h]||h,f=r.parseUShort(),g=r.parseUShort(),m=Ye(c,u,i),v=Je(c,d,u);if(void 0!==v&&void 0!==m){var b=void 0;if(b=v===Qe?E.UTF16(e,s+g,f):E.MACSTRING(e,s+g,f,v)){var y=n[p];if(void 0===y&&(y=n[p]={}),y[m]=b,"postScriptName"===p){var w={0:"uni",1:"mac",3:"win"}[c]+"-"+m;y[w]=b}}}}return 1===o&&r.parseUShort(),n},make:function(e,t){var i,n=[],r={},o=et(Ge);for(var a in e){var s=o[a];if(void 0===s&&(s=a),i=parseInt(s),isNaN(i))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');r[i]=e[a],n.push(i)}for(var l=et(Ke),c=et(We),d=[],u=[],h=0;h<n.length;h++){i=n[h];var p=r[i];for(var f in p){var g=p[f],m=1,v=l[f],b=qe[v],y=Je(m,b,v),w=A.MACSTRING(g,y);void 0===w&&(m=0,(v=t.indexOf(f))<0&&(v=t.length,t.push(f)),b=4,w=A.UTF16(g));var k=it(w,u);d.push(tt(m,b,v,i,w.length,k));var x=c[f];if(void 0!==x){var _=A.UTF16(g),C=it(_,u);d.push(tt(3,1,x,i,_.length,C))}}}d.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var S=new X.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:d.length},{name:"stringOffset",type:"USHORT",value:6+12*d.length}]),T=0;T<d.length;T++)S.fields.push({name:"record_"+T,type:"RECORD",value:d[T]});return S.fields.push({name:"strings",type:"LITERAL",value:u}),S}},rt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],ot={parse:function(e,t){var i={},n=new oe.Parser(e,t);i.version=n.parseUShort(),i.xAvgCharWidth=n.parseShort(),i.usWeightClass=n.parseUShort(),i.usWidthClass=n.parseUShort(),i.fsType=n.parseUShort(),i.ySubscriptXSize=n.parseShort(),i.ySubscriptYSize=n.parseShort(),i.ySubscriptXOffset=n.parseShort(),i.ySubscriptYOffset=n.parseShort(),i.ySuperscriptXSize=n.parseShort(),i.ySuperscriptYSize=n.parseShort(),i.ySuperscriptXOffset=n.parseShort(),i.ySuperscriptYOffset=n.parseShort(),i.yStrikeoutSize=n.parseShort(),i.yStrikeoutPosition=n.parseShort(),i.sFamilyClass=n.parseShort(),i.panose=[];for(var r=0;r<10;r++)i.panose[r]=n.parseByte();return i.ulUnicodeRange1=n.parseULong(),i.ulUnicodeRange2=n.parseULong(),i.ulUnicodeRange3=n.parseULong(),i.ulUnicodeRange4=n.parseULong(),i.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),i.fsSelection=n.parseUShort(),i.usFirstCharIndex=n.parseUShort(),i.usLastCharIndex=n.parseUShort(),i.sTypoAscender=n.parseShort(),i.sTypoDescender=n.parseShort(),i.sTypoLineGap=n.parseShort(),i.usWinAscent=n.parseUShort(),i.usWinDescent=n.parseUShort(),i.version>=1&&(i.ulCodePageRange1=n.parseULong(),i.ulCodePageRange2=n.parseULong()),i.version>=2&&(i.sxHeight=n.parseShort(),i.sCapHeight=n.parseShort(),i.usDefaultChar=n.parseUShort(),i.usBreakChar=n.parseUShort(),i.usMaxContent=n.parseUShort()),i},make:function(e){return new X.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:rt,getUnicodeRange:function(e){for(var t=0;t<rt.length;t+=1){var i=rt[t];if(e>=i.begin&&e<i.end)return t}return-1}},at={parse:function(e,t){var i={},n=new oe.Parser(e,t);switch(i.version=n.parseVersion(),i.italicAngle=n.parseFixed(),i.underlinePosition=n.parseShort(),i.underlineThickness=n.parseShort(),i.isFixedPitch=n.parseULong(),i.minMemType42=n.parseULong(),i.maxMemType42=n.parseULong(),i.minMemType1=n.parseULong(),i.maxMemType1=n.parseULong(),i.version){case 1:i.names=ue.slice();break;case 2:i.numberOfGlyphs=n.parseUShort(),i.glyphNameIndex=new Array(i.numberOfGlyphs);for(var r=0;r<i.numberOfGlyphs;r++)i.glyphNameIndex[r]=n.parseUShort();i.names=[];for(var o=0;o<i.numberOfGlyphs;o++)if(i.glyphNameIndex[o]>=ue.length){var a=n.parseChar();i.names.push(n.parseString(a))}break;case 2.5:i.numberOfGlyphs=n.parseUShort(),i.offset=new Array(i.numberOfGlyphs);for(var s=0;s<i.numberOfGlyphs;s++)i.offset[s]=n.parseChar()}return i},make:function(){return new X.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},st=new Array(9);st[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),substitute:this.parseOffset16List()}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},st[2]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),sequences:this.parseListOfLists()}},st[3]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),alternateSets:this.parseListOfLists()}},st[4]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var lt={sequenceIndex:ne.uShort,lookupListIndex:ne.uShort};st[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),classDef:this.parsePointer(ne.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}})};if(3===t){var i=this.parseUShort(),n=this.parseUShort();return{substFormat:t,coverages:this.parseList(i,ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(n,lt)}}P.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},st[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}})}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),backtrackClassDef:this.parsePointer(ne.classDef),inputClassDef:this.parsePointer(ne.classDef),lookaheadClassDef:this.parsePointer(ne.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),inputCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(lt)}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},st[7]=function(){var e=this.parseUShort();P.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),i=new ne(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:st[t].call(i)}},st[8]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),substitutes:this.parseUShortList()}};var ct=new Array(9);ct[1]=function(e){return 1===e.substFormat?new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.ushortList("substitute",e.substitute)))},ct[3]=function(e){return P.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("altSet",e.alternateSets,function(e){return new X.Table("alternateSetTable",X.ushortList("alternate",e))})))},ct[4]=function(e){return P.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("ligSet",e.ligatureSets,function(e){return new X.Table("ligatureSetTable",X.tableList("ligature",e,function(e){return new X.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(X.ushortList("component",e.components,e.components.length+1)))}))})))};var dt={parse:function(e,t){var i=new ne(e,t=t||0),n=i.parseVersion(1);return P.argument(1===n||1.1===n,"Unsupported GSUB table version."),1===n?{version:n,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(st)}:{version:n,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(st),variations:i.parseFeatureVariationsList()}},make:function(e){return new X.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new X.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new X.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new X.LookupList(e.lookups,ct)}])}},ut={parse:function(e,t){var i=new oe.Parser(e,t),n=i.parseULong();P.argument(1===n,"Unsupported META table version."),i.parseULong(),i.parseULong();for(var r=i.parseULong(),o={},a=0;a<r;a++){var s=i.parseTag(),l=i.parseULong(),c=i.parseULong(),d=E.UTF8(e,t+l,c);o[s]=d}return o},make:function(e){var t=Object.keys(e).length,i="",n=16+12*t,r=new X.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var a=i.length;i+=e[o],r.fields.push({name:"tag "+o,type:"TAG",value:o}),r.fields.push({name:"offset "+o,type:"ULONG",value:n+a}),r.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),r}};function ht(e){return Math.log(e)/Math.log(2)|0}function pt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,i=0;i<e.length;i+=4)t+=(e[i]<<24)+(e[i+1]<<16)+(e[i+2]<<8)+e[i+3];return t%=Math.pow(2,32)}function ft(e,t,i,n){return new X.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==i?i:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function gt(e){var t=new X.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var i=Math.pow(2,ht(t.numTables));t.searchRange=16*i,t.entrySelector=ht(i),t.rangeShift=16*t.numTables-t.searchRange;for(var n=[],r=[],o=t.sizeOf()+ft().sizeOf()*t.numTables;o%4!=0;)o+=1,r.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a];P.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),c=ft(s.tableName,pt(s.encode()),o,l);for(n.push({name:c.tag+" Table Record",type:"RECORD",value:c}),r.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=l,P.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,r.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(r),t}function mt(e,t,i){for(var n=0;n<t.length;n+=1){var r=e.charToGlyphIndex(t[n]);if(r>0){var o=e.glyphs.get(r);return o.getMetrics()}}return i}var vt={make:gt,fontToTable:function(e){for(var t,i=[],n=[],r=[],o=[],a=[],s=[],l=[],c=0,d=0,u=0,h=0,p=0,f=0;f<e.glyphs.length;f+=1){var g=e.glyphs.get(f),m=0|g.unicode;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+f+"): advanceWidth is not a number.");(t>m||void 0===t)&&m>0&&(t=m),c<m&&(c=m);var v=ot.getUnicodeRange(m);if(v<32)d|=1<<v;else if(v<64)u|=1<<v-32;else if(v<96)h|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<v-96}if(".notdef"!==g.name){var b=g.getMetrics();i.push(b.xMin),n.push(b.yMin),r.push(b.xMax),o.push(b.yMax),s.push(b.leftSideBearing),l.push(b.rightSideBearing),a.push(g.advanceWidth)}}var y={xMin:Math.min.apply(null,i),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};y.ascender=e.ascender,y.descender=e.descender;var w=Be.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),k=Ue.make({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:e.glyphs.length}),x=He.make(e.glyphs.length),_=ot.make({xAvgCharWidth:Math.round(y.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:c,ulUnicodeRange1:d,ulUnicodeRange2:u,ulUnicodeRange3:h,ulUnicodeRange4:p,fsSelection:e.tables.os2.fsSelection,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:mt(e,"xyvw",{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:mt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",y).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),C=$e.make(e.glyphs),S=se.make(e.glyphs),T=e.getEnglishName("fontFamily"),M=e.getEnglishName("fontSubfamily"),I=T+" "+M,D=e.getEnglishName("postScriptName");D||(D=T.replace(/\s/g,"")+"-"+M);var P={};for(var E in e.names)P[E]=e.names[E];P.uniqueID||(P.uniqueID={en:e.getEnglishName("manufacturer")+":"+I}),P.postScriptName||(P.postScriptName={en:D}),P.preferredFamily||(P.preferredFamily=e.names.fontFamily),P.preferredSubfamily||(P.preferredSubfamily=e.names.fontSubfamily);var A=[],F=nt.make(P,A),L=A.length>0?Ve.make(A):void 0,N=at.make(),R=Oe.make(e.glyphs,{version:e.getEnglishName("version"),fullName:I,familyName:T,weightName:M,postScriptName:D,unitsPerEm:e.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),j=e.metas&&Object.keys(e.metas).length>0?ut.make(e.metas):void 0,z=[w,k,x,_,F,S,N,R,C];L&&z.push(L),e.tables.gsub&&z.push(dt.make(e.tables.gsub)),j&&z.push(j);for(var O=gt(z),B=pt(O.encode()),U=O.fields,$=!1,V=0;V<U.length;V+=1)if("head table"===U[V].name){U[V].value.checkSumAdjustment=2981146554-B,$=!0;break}if(!$)throw new Error("Could not find head table with checkSum to adjust.");return O},computeCheckSum:pt};function bt(e,t){for(var i=0,n=e.length-1;i<=n;){var r=i+n>>>1,o=e[r].tag;if(o===t)return r;o<t?i=r+1:n=r-1}return-i-1}function yt(e,t){for(var i=0,n=e.length-1;i<=n;){var r=i+n>>>1,o=e[r];if(o===t)return r;o<t?i=r+1:n=r-1}return-i-1}function wt(e,t){for(var i,n=0,r=e.length-1;n<=r;){var o=n+r>>>1,a=(i=e[o]).start;if(a===t)return i;a<t?n=o+1:r=o-1}if(n>0)return i=e[n-1],t>i.end?0:i}function kt(e,t){this.font=e,this.tableName=t}function xt(e){kt.call(this,e,"gpos")}function _t(e){kt.call(this,e,"gsub")}function Ct(e,t){var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}function St(e,t,i){for(var n=e.subtables,r=0;r<n.length;r++){var o=n[r];if(o.substFormat===t)return o}if(i)return n.push(i),i}function Tt(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n<e.length;++n)i[n]=e[n];return t}function Mt(e,t){if(!e)throw t}function It(e,t,i,n,r){var o;return(t&n)>0?(o=e.parseByte(),0==(t&r)&&(o=-o),o=i+o):o=(t&r)>0?i:i+e.parseShort(),o}function Dt(e,t,i){var n,r,o=new oe.Parser(t,i);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),e.numberOfContours>0){for(var a=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)a.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(o.parseByte());var c=a[a.length-1]+1;n=[];for(var d=0;d<c;d+=1)if(r=o.parseByte(),n.push(r),(8&r)>0)for(var u=o.parseByte(),h=0;h<u;h+=1)n.push(r),d+=1;if(P.argument(n.length===c,"Bad flags."),a.length>0){var p,f=[];if(c>0){for(var g=0;g<c;g+=1)r=n[g],(p={}).onCurve=!!(1&r),p.lastPointOfContour=a.indexOf(g)>=0,f.push(p);for(var m=0,v=0;v<c;v+=1)r=n[v],(p=f[v]).x=It(o,r,m,2,16),m=p.x;for(var b=0,y=0;y<c;y+=1)r=n[y],(p=f[y]).y=It(o,r,b,4,32),b=p.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){n=o.parseUShort();var k={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&n)>0?(2&n)>0?(k.dx=o.parseShort(),k.dy=o.parseShort()):k.matchedPoints=[o.parseUShort(),o.parseUShort()]:(2&n)>0?(k.dx=o.parseChar(),k.dy=o.parseChar()):k.matchedPoints=[o.parseByte(),o.parseByte()],(8&n)>0?k.xScale=k.yScale=o.parseF2Dot14():(64&n)>0?(k.xScale=o.parseF2Dot14(),k.yScale=o.parseF2Dot14()):(128&n)>0&&(k.xScale=o.parseF2Dot14(),k.scale01=o.parseF2Dot14(),k.scale10=o.parseF2Dot14(),k.yScale=o.parseF2Dot14()),e.components.push(k),w=!!(32&n)}if(256&n){e.instructionLength=o.parseUShort(),e.instructions=[];for(var x=0;x<e.instructionLength;x+=1)e.instructions.push(o.parseByte())}}}function Pt(e,t){for(var i=[],n=0;n<e.length;n+=1){var r=e[n],o={x:t.xScale*r.x+t.scale01*r.y+t.dx,y:t.scale10*r.x+t.yScale*r.y+t.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};i.push(o)}return i}function Et(e){var t=new M;if(!e)return t;for(var i=function(e){for(var t=[],i=[],n=0;n<e.length;n+=1){var r=e[n];i.push(r),r.lastPointOfContour&&(t.push(i),i=[])}return P.argument(0===i.length,"There are still points left in the current contour."),t}(e),n=0;n<i.length;++n){var r=i[n],o=null,a=r[r.length-1],s=r[0];if(a.onCurve)t.moveTo(a.x,a.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var l={x:.5*(a.x+s.x),y:.5*(a.y+s.y)};t.moveTo(l.x,l.y)}for(var c=0;c<r.length;++c)if(o=a,a=s,s=r[(c+1)%r.length],a.onCurve)t.lineTo(a.x,a.y);else{var d=s;o.onCurve||(a.x,o.x,a.y,o.y),s.onCurve||(d={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,d.x,d.y)}t.closePath()}return t}function At(e,t){if(t.isComposite)for(var i=0;i<t.components.length;i+=1){var n=t.components[i],r=e.get(n.glyphIndex);if(r.getPath(),r.points){var o=void 0;if(void 0===n.matchedPoints)o=Pt(r.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[n.matchedPoints[0]],s=r.points[n.matchedPoints[1]],l={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};s=Pt([s],l)[0],l.dx=a.x-s.x,l.dy=a.y-s.y,o=Pt(r.points,l)}t.points=t.points.concat(o)}}return Et(t.points)}kt.prototype={searchTag:bt,binSearch:yt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,i=0;i<e.scripts.length;i++){var n=e.scripts[i].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var i=this.getTable(t);if(i){e=e||"DFLT";var n=i.scripts,r=bt(i.scripts,e);if(r>=0)return n[r].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-r,0,o),o.script}}},getLangSysTable:function(e,t,i){var n=this.getScriptTable(e,i);if(n){if(!t||"dflt"===t||"DFLT"===t)return n.defaultLangSys;var r=bt(n.langSysRecords,t);if(r>=0)return n.langSysRecords[r].langSys;if(i){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-r,0,o),o.langSys}}},getFeatureTable:function(e,t,i,n){var r=this.getLangSysTable(e,t,n);if(r){for(var o,a=r.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<a.length;l++)if((o=s[a[l]]).tag===i)return o.feature;if(n){var c=s.length;return P.assert(0===c||i>=s[c-1].tag,"Features must be added in alphabetical order."),o={tag:i,feature:{params:0,lookupListIndexes:[]}},s.push(o),a.push(c),o.feature}}},getLookupTables:function(e,t,i,n,r){var o=this.getFeatureTable(e,t,i,r),a=[];if(o){for(var s,l=o.lookupListIndexes,c=this.font.tables[this.tableName].lookups,d=0;d<l.length;d++)(s=c[l[d]]).lookupType===n&&a.push(s);if(0===a.length&&r){s={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var u=c.length;return c.push(s),l.push(u),[s]}}return a},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var i=wt(e.ranges,t);return i?i.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var i=yt(e.glyphs,t);return i>=0?i:-1;case 2:var n=wt(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],i=e.ranges,n=0;n<i.length;n++)for(var r=i[n],o=r.start,a=r.end,s=o;s<=a;s++)t.push(s);return t}},xt.prototype=kt.prototype,xt.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},xt.prototype.getKerningValue=function(e,t,i){for(var n=0;n<e.length;n++)for(var r=e[n].subtables,o=0;o<r.length;o++){var a=r[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],c=0;c<l.length;c++){var d=l[c];if(d.secondGlyph===i)return d.value1&&d.value1.xAdvance||0}break;case 2:var u=this.getGlyphClass(a.classDef1,t),h=this.getGlyphClass(a.classDef2,i),p=a.classRecords[u][h];return p.value1&&p.value1.xAdvance||0}}return 0},xt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},_t.prototype=kt.prototype,_t.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},_t.prototype.getSingle=function(e,t,i){for(var n=[],r=this.getLookupTables(t,i,e,1),o=0;o<r.length;o++)for(var a=r[o].subtables,s=0;s<a.length;s++){var l=a[s],c=this.expandCoverage(l.coverage),d=void 0;if(1===l.substFormat){var u=l.deltaGlyphId;for(d=0;d<c.length;d++){var h=c[d];n.push({sub:h,by:h+u})}}else{var p=l.substitute;for(d=0;d<c.length;d++)n.push({sub:c[d],by:p[d]})}}return n},_t.prototype.getAlternates=function(e,t,i){for(var n=[],r=this.getLookupTables(t,i,e,3),o=0;o<r.length;o++)for(var a=r[o].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),d=l.alternateSets,u=0;u<c.length;u++)n.push({sub:c[u],by:d[u]});return n},_t.prototype.getLigatures=function(e,t,i){for(var n=[],r=this.getLookupTables(t,i,e,4),o=0;o<r.length;o++)for(var a=r[o].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),d=l.ligatureSets,u=0;u<c.length;u++)for(var h=c[u],p=d[u],f=0;f<p.length;f++){var g=p[f];n.push({sub:[h].concat(g.components),by:g.ligGlyph})}return n},_t.prototype.addSingle=function(e,t,i,n){var r=this.getLookupTables(i,n,e,1,!0)[0],o=St(r,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});P.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=t.sub,s=this.binSearch(o.coverage.glyphs,a);s<0&&(s=-1-s,o.coverage.glyphs.splice(s,0,a),o.substitute.splice(s,0,0)),o.substitute[s]=t.by},_t.prototype.addAlternate=function(e,t,i,n){var r=this.getLookupTables(i,n,e,3,!0)[0],o=St(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});P.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=t.sub,s=this.binSearch(o.coverage.glyphs,a);s<0&&(s=-1-s,o.coverage.glyphs.splice(s,0,a),o.alternateSets.splice(s,0,0)),o.alternateSets[s]=t.by},_t.prototype.addLigature=function(e,t,i,n){var r=this.getLookupTables(i,n,e,4,!0)[0],o=r.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},r.subtables[0]=o),P.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=t.sub[0],s=t.sub.slice(1),l={ligGlyph:t.by,components:s},c=this.binSearch(o.coverage.glyphs,a);if(c>=0){for(var d=o.ligatureSets[c],u=0;u<d.length;u++)if(Ct(d[u].components,s))return;d.push(l)}else c=-1-c,o.coverage.glyphs.splice(c,0,a),o.ligatureSets.splice(c,0,[l])},_t.prototype.getFeature=function(e,t,i){if(/ss\d\d/.test(e))return this.getSingle(e,t,i);switch(e){case"aalt":case"salt":return this.getSingle(e,t,i).concat(this.getAlternates(e,t,i));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,i)}},_t.prototype.add=function(e,t,i,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,i,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,i,n):this.addAlternate(e,t,i,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,i,n)}};var Ft,Lt,Nt,Rt,jt={getPath:Et,parse:function(e,t,i,n){for(var r=new we.GlyphSet(n),o=0;o<i.length-1;o+=1){var a=i[o],s=i[o+1];a!==s?r.push(o,we.ttfGlyphLoader(n,o,Dt,e,t+a,At)):r.push(o,we.glyphLoader(n,o))}return r}};function zt(e){this.font=e,this.getCommands=function(e){return jt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ot(e){return e}function Bt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Ut(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function $t(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Vt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Ht(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Gt=function(e){var t=this.srPeriod,i=this.srPhase,n=this.srThreshold,r=1;return e<0&&(e=-e,r=-1),e+=n-i,e=Math.trunc(e/t)*t,(e+=i)<0?i*r:e*r},Kt={x:1,y:0,axis:"x",distance:function(e,t,i,n){return(i?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,i,n){var r,o,a,s,l,c,d;if(!n||n===this)return r=e.xo-t.xo,o=e.xo-i.xo,l=t.x-t.xo,c=i.x-i.xo,a=Math.abs(r),s=Math.abs(o),0===(d=a+s)?void(e.x=e.xo+(l+c)/2):void(e.x=e.xo+(l*s+c*a)/d);r=n.distance(e,t,!0,!0),o=n.distance(e,i,!0,!0),l=n.distance(t,t,!1,!0),c=n.distance(i,i,!1,!0),a=Math.abs(r),s=Math.abs(o),0!==(d=a+s)?Kt.setRelative(e,e,(l*s+c*a)/d,n,!0):Kt.setRelative(e,e,(l+c)/2,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,i,n,r){if(n&&n!==this){var o=r?t.xo:t.x,a=r?t.yo:t.y,s=o+i*n.x,l=a+i*n.y;e.x=s+(e.y-l)/n.normalSlope}else e.x=(r?t.xo:t.x)+i},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},qt={x:0,y:1,axis:"y",distance:function(e,t,i,n){return(i?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,i,n){var r,o,a,s,l,c,d;if(!n||n===this)return r=e.yo-t.yo,o=e.yo-i.yo,l=t.y-t.yo,c=i.y-i.yo,a=Math.abs(r),s=Math.abs(o),0===(d=a+s)?void(e.y=e.yo+(l+c)/2):void(e.y=e.yo+(l*s+c*a)/d);r=n.distance(e,t,!0,!0),o=n.distance(e,i,!0,!0),l=n.distance(t,t,!1,!0),c=n.distance(i,i,!1,!0),a=Math.abs(r),s=Math.abs(o),0!==(d=a+s)?qt.setRelative(e,e,(l*s+c*a)/d,n,!0):qt.setRelative(e,e,(l+c)/2,n,!0)},normalSlope:0,setRelative:function(e,t,i,n,r){if(n&&n!==this){var o=r?t.xo:t.x,a=r?t.yo:t.y,s=o+i*n.x,l=a+i*n.y;e.y=l+n.normalSlope*(e.x-s)}else e.y=(r?t.yo:t.y)+i},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Wt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Yt(e,t){var i=Math.sqrt(e*e+t*t);return t/=i,1==(e/=i)&&0===t?Kt:0===e&&1===t?qt:new Wt(e,t)}function Qt(e,t,i,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=i,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Kt),Object.freeze(qt),Wt.prototype.distance=function(e,t,i,n){return this.x*Kt.distance(e,t,i,n)+this.y*qt.distance(e,t,i,n)},Wt.prototype.interpolate=function(e,t,i,n){var r,o,a,s,l,c,d;a=n.distance(e,t,!0,!0),s=n.distance(e,i,!0,!0),r=n.distance(t,t,!1,!0),o=n.distance(i,i,!1,!0),l=Math.abs(a),c=Math.abs(s),0!==(d=l+c)?this.setRelative(e,e,(r*c+o*l)/d,n,!0):this.setRelative(e,e,(r+o)/2,n,!0)},Wt.prototype.setRelative=function(e,t,i,n,r){n=n||this;var o=r?t.xo:t.x,a=r?t.yo:t.y,s=o+i*n.x,l=a+i*n.y,c=n.normalSlope,d=this.slope,u=e.x,h=e.y;e.x=(d*u-c*s+l-h)/(d-c),e.y=d*(e.x-u)+h},Wt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Qt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Qt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Xt=Object.freeze(new Qt(0,0)),Zt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Jt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Kt,this.round=Bt}}function ei(e){for(var t=e.tZone=new Array(e.gZone.length),i=0;i<t.length;i++)t[i]=new Qt(0,0)}function ti(e,t){var i,n=e.prog,r=e.ip,o=1;do{if(88===(i=n[++r]))o++;else if(89===i)o--;else if(64===i)r+=n[r+1]+1;else if(65===i)r+=2*n[r+1]+1;else if(i>=176&&i<=183)r+=i-176+1;else if(i>=184&&i<=191)r+=2*(i-184+1);else if(t&&1===o&&27===i)break}while(o>0);e.ip=r}function ii(e,i){t.DEBUG&&console.log(i.step,"SVTCA["+e.axis+"]"),i.fv=i.pv=i.dpv=e}function ni(e,i){t.DEBUG&&console.log(i.step,"SPVTCA["+e.axis+"]"),i.pv=i.dpv=e}function ri(e,i){t.DEBUG&&console.log(i.step,"SFVTCA["+e.axis+"]"),i.fv=e}function oi(e,i){var n,r,o=i.stack,a=o.pop(),s=o.pop(),l=i.z2[a],c=i.z1[s];t.DEBUG&&console.log("SPVTL["+e+"]",a,s),e?(n=l.y-c.y,r=c.x-l.x):(n=c.x-l.x,r=c.y-l.y),i.pv=i.dpv=Yt(n,r)}function ai(e,i){var n,r,o=i.stack,a=o.pop(),s=o.pop(),l=i.z2[a],c=i.z1[s];t.DEBUG&&console.log("SFVTL["+e+"]",a,s),e?(n=l.y-c.y,r=c.x-l.x):(n=c.x-l.x,r=c.y-l.y),i.fv=Yt(n,r)}function si(e){t.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function li(e,i){var n=i.stack.pop(),r=i.z0[n],o=i.fv,a=i.pv;t.DEBUG&&console.log(i.step,"MDAP["+e+"]",n);var s=a.distance(r,Xt);e&&(s=i.round(s)),o.setRelative(r,Xt,s,a),o.touch(r),i.rp0=i.rp1=n}function ci(e,i){var n,r,o,a=i.z2,s=a.length-2;t.DEBUG&&console.log(i.step,"IUP["+e.axis+"]");for(var l=0;l<s;l++)n=a[l],e.touched(n)||(r=n.prevTouched(e))!==n&&(o=n.nextTouched(e),r===o&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,o,e))}function di(e,i){for(var n=i.stack,r=e?i.rp1:i.rp2,o=(e?i.z0:i.z1)[r],a=i.fv,s=i.pv,l=i.loop,c=i.z2;l--;){var d=n.pop(),u=c[d],h=s.distance(o,o,!1,!0);a.setRelative(u,u,h,s),a.touch(u),t.DEBUG&&console.log(i.step,(i.loop>1?"loop "+(i.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",d)}i.loop=1}function ui(e,i){var n=i.stack,r=e?i.rp1:i.rp2,o=(e?i.z0:i.z1)[r],a=i.fv,s=i.pv,l=n.pop(),c=i.z2[i.contours[l]],d=c;t.DEBUG&&console.log(i.step,"SHC["+e+"]",l);var u=s.distance(o,o,!1,!0);do{d!==o&&a.setRelative(d,d,u,s),d=d.nextPointOnContour}while(d!==c)}function hi(e,i){var n,r,o=i.stack,a=e?i.rp1:i.rp2,s=(e?i.z0:i.z1)[a],l=i.fv,c=i.pv,d=o.pop();switch(t.DEBUG&&console.log(i.step,"SHZ["+e+"]",d),d){case 0:n=i.tZone;break;case 1:n=i.gZone;break;default:throw new Error("Invalid zone")}for(var u=c.distance(s,s,!1,!0),h=n.length-2,p=0;p<h;p++)r=n[p],l.setRelative(r,r,u,c)}function pi(e,i){var n=i.stack,r=n.pop()/64,o=n.pop(),a=i.z1[o],s=i.z0[i.rp0],l=i.fv,c=i.pv;l.setRelative(a,s,r,c),l.touch(a),t.DEBUG&&console.log(i.step,"MSIRP["+e+"]",r,o),i.rp1=i.rp0,i.rp2=o,e&&(i.rp0=o)}function fi(e,i){var n=i.stack,r=n.pop(),o=n.pop(),a=i.z0[o],s=i.fv,l=i.pv,c=i.cvt[r];t.DEBUG&&console.log(i.step,"MIAP["+e+"]",r,"(",c,")",o);var d=l.distance(a,Xt);e&&(Math.abs(d-c)<i.cvCutIn&&(d=c),d=i.round(d)),s.setRelative(a,Xt,d,l),0===i.zp0&&(a.xo=a.x,a.yo=a.y),s.touch(a),i.rp0=i.rp1=o}function gi(e,i){var n=i.stack,r=n.pop(),o=i.z2[r];t.DEBUG&&console.log(i.step,"GC["+e+"]",r),n.push(64*i.dpv.distance(o,Xt,e,!1))}function mi(e,i){var n=i.stack,r=n.pop(),o=n.pop(),a=i.z1[r],s=i.z0[o],l=i.dpv.distance(s,a,e,e);t.DEBUG&&console.log(i.step,"MD["+e+"]",r,o,"->",l),i.stack.push(Math.round(64*l))}function vi(e,i){var n=i.stack,r=n.pop(),o=i.fv,a=i.pv,s=i.ppem,l=i.deltaBase+16*(e-1),c=i.deltaShift,d=i.z0;t.DEBUG&&console.log(i.step,"DELTAP["+e+"]",r,n);for(var u=0;u<r;u++){var h=n.pop(),p=n.pop(),f=l+((240&p)>>4);if(f===s){var g=(15&p)-8;g>=0&&g++,t.DEBUG&&console.log(i.step,"DELTAPFIX",h,"by",g*c);var m=d[h];o.setRelative(m,m,g*c,a)}}}function bi(e,i){var n=i.stack,r=n.pop();t.DEBUG&&console.log(i.step,"ROUND[]"),n.push(64*i.round(r/64))}function yi(e,i){var n=i.stack,r=n.pop(),o=i.ppem,a=i.deltaBase+16*(e-1),s=i.deltaShift;t.DEBUG&&console.log(i.step,"DELTAC["+e+"]",r,n);for(var l=0;l<r;l++){var c=n.pop(),d=n.pop(),u=a+((240&d)>>4);if(u===o){var h=(15&d)-8;h>=0&&h++;var p=h*s;t.DEBUG&&console.log(i.step,"DELTACFIX",c,"by",p),i.cvt[c]+=p}}}function wi(e,i){var n,r,o=i.stack,a=o.pop(),s=o.pop(),l=i.z2[a],c=i.z1[s];t.DEBUG&&console.log(i.step,"SDPVTL["+e+"]",a,s),e?(n=l.y-c.y,r=c.x-l.x):(n=c.x-l.x,r=c.y-l.y),i.dpv=Yt(n,r)}function ki(e,i){var n=i.stack,r=i.prog,o=i.ip;t.DEBUG&&console.log(i.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)n.push(r[++o]);i.ip=o}function xi(e,i){var n=i.ip,r=i.prog,o=i.stack;t.DEBUG&&console.log(i.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var s=r[++n]<<8|r[++n];32768&s&&(s=-(1+(65535^s))),o.push(s)}i.ip=n}function _i(e,i,n,r,o,a){var s,l,c,d,u=a.stack,h=e&&u.pop(),p=u.pop(),f=a.rp0,g=a.z0[f],m=a.z1[p],v=a.minDis,b=a.fv,y=a.dpv;l=s=y.distance(m,g,!0,!0),c=l>=0?1:-1,l=Math.abs(l),e&&(d=a.cvt[h],r&&Math.abs(l-d)<a.cvCutIn&&(l=d)),n&&l<v&&(l=v),r&&(l=a.round(l)),b.setRelative(m,g,c*l,y),b.touch(m),t.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(i?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",e?h+"("+a.cvt[h]+","+d+")":"",p,"(d =",s,"->",c*l,")"),a.rp1=a.rp0,a.rp2=p,i&&(a.rp0=p)}zt.prototype.exec=function(e,i){if("number"!=typeof i)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==i){var o=this._fpgmState;if(!o){Jt.prototype=Zt,(o=this._fpgmState=new Jt("fpgm",n.tables.fpgm)).funcs=[],o.font=n,t.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{Lt(o)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}Jt.prototype=o,(r=this._prepState=new Jt("prep",n.tables.prep)).ppem=i;var a=n.tables.cvt;if(a)for(var s=r.cvt=new Array(a.length),l=i/n.unitsPerEm,c=0;c<a.length;c++)s[c]=a[c]*l;else r.cvt=[];t.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Lt(r)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return Nt(e,r)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Nt=function(e,i){var n,r,o,a=i.ppem/i.font.unitsPerEm,s=a,l=e.components;if(Jt.prototype=i,l){var c=i.font;r=[],n=[];for(var d=0;d<l.length;d++){var u=l[d],h=c.glyphs.get(u.glyphIndex);o=new Jt("glyf",h.instructions),t.DEBUG&&(console.log("---EXEC COMP "+d+"---"),o.step=-1),Rt(h,o,a,s);for(var p=Math.round(u.dx*a),f=Math.round(u.dy*s),g=o.gZone,m=o.contours,v=0;v<g.length;v++){var b=g[v];b.xTouched=b.yTouched=!1,b.xo=b.x=b.x+p,b.yo=b.y=b.y+f}var y=r.length;r.push.apply(r,g);for(var w=0;w<m.length;w++)n.push(m[w]+y)}e.instructions&&!o.inhibitGridFit&&((o=new Jt("glyf",e.instructions)).gZone=o.z0=o.z1=o.z2=r,o.contours=n,r.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*a),0)),t.DEBUG&&(console.log("---EXEC COMPOSITE---"),o.step=-1),Lt(o),r.length-=2)}else o=new Jt("glyf",e.instructions),t.DEBUG&&(console.log("---EXEC GLYPH---"),o.step=-1),Rt(e,o,a,s),r=o.gZone;return r},Rt=function(e,i,n,r){for(var o,a,s,l=e.points||[],c=l.length,d=i.gZone=i.z0=i.z1=i.z2=[],u=i.contours=[],h=0;h<c;h++)o=l[h],d[h]=new Qt(o.x*n,o.y*r,o.lastPointOfContour,o.onCurve);for(var p=0;p<c;p++)o=d[p],a||(a=o,u.push(p)),o.lastPointOfContour?(o.nextPointOnContour=a,a.prevPointOnContour=o,a=void 0):(s=d[p+1],o.nextPointOnContour=s,s.prevPointOnContour=o);if(!i.inhibitGridFit){if(t.DEBUG){console.log("PROCESSING GLYPH",i.stack);for(var f=0;f<c;f++)console.log(f,d[f].x,d[f].y)}if(d.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*n),0)),Lt(i),d.length-=2,t.DEBUG){console.log("FINISHED GLYPH",i.stack);for(var g=0;g<c;g++)console.log(g,d[g].x,d[g].y)}}},Lt=function(e){var i=e.prog;if(i){var n,r=i.length;for(e.ip=0;e.ip<r;e.ip++){if(t.DEBUG&&e.step++,!(n=Ft[i[e.ip]]))throw new Error("unknown instruction: 0x"+Number(i[e.ip]).toString(16));n(e)}}},Ft=[ii.bind(void 0,qt),ii.bind(void 0,Kt),ni.bind(void 0,qt),ni.bind(void 0,Kt),ri.bind(void 0,qt),ri.bind(void 0,Kt),oi.bind(void 0,0),oi.bind(void 0,1),ai.bind(void 0,0),ai.bind(void 0,1),function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Yt(r,n)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Yt(r,n)},function(e){var i=e.stack,n=e.pv;t.DEBUG&&console.log(e.step,"GPV[]"),i.push(16384*n.x),i.push(16384*n.y)},function(e){var i=e.stack,n=e.fv;t.DEBUG&&console.log(e.step,"GFV[]"),i.push(16384*n.x),i.push(16384*n.y)},function(e){e.fv=e.pv,t.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var i=e.stack,n=i.pop(),r=i.pop(),o=i.pop(),a=i.pop(),s=i.pop(),l=e.z0,c=e.z1,d=l[n],u=l[r],h=c[o],p=c[a],f=e.z2[s];t.DEBUG&&console.log("ISECT[], ",n,r,o,a,s);var g=d.x,m=d.y,v=u.x,b=u.y,y=h.x,w=h.y,k=p.x,x=p.y,_=(g-v)*(w-x)-(m-b)*(y-k),C=g*b-m*v,S=y*x-w*k;f.x=(C*(y-k)-S*(g-v))/_,f.y=(C*(w-x)-S*(m-b))/_},function(e){e.rp0=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP0[]",i),e.zp0=i,i){case 0:e.tZone||ei(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP1[]",i),e.zp1=i,i){case 0:e.tZone||ei(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP2[]",i),e.zp2=i,i){case 0:e.tZone||ei(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZPS[]",i),e.zp0=e.zp1=e.zp2=i,i){case 0:e.tZone||ei(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),t.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){t.DEBUG&&console.log(e.step,"RTG[]"),e.round=Bt},function(e){t.DEBUG&&console.log(e.step,"RTHG[]"),e.round=$t},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SMD[]",i),e.minDis=i/64},function(e){t.DEBUG&&console.log(e.step,"ELSE[]"),ti(e,!1)},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"JMPR[]",i),e.ip+=i-1},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCVTCI[]",i),e.cvCutIn=i/64},void 0,void 0,function(e){var i=e.stack;t.DEBUG&&console.log(e.step,"DUP[]"),i.push(i[i.length-1])},si,function(e){t.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"SWAP[]"),i.push(n),i.push(r)},function(e){var i=e.stack;t.DEBUG&&console.log(e.step,"DEPTH[]"),i.push(i.length)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"CINDEX[]",n),i.push(i[i.length-n])},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"MINDEX[]",n),i.push(i.splice(i.length-n,1)[0])},void 0,void 0,void 0,function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var o=e.ip,a=e.prog;e.prog=e.funcs[n];for(var s=0;s<r;s++)Lt(e),t.DEBUG&&console.log(++e.step,s+1<r?"next loopcall":"done loopcall",s);e.ip=o,e.prog=a},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"CALL[]",i);var n=e.ip,r=e.prog;e.prog=e.funcs[i],Lt(e),e.ip=n,e.prog=r,t.DEBUG&&console.log(++e.step,"returning from",i)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var i=e.stack,n=e.prog,r=e.ip,o=i.pop(),a=r;for(t.DEBUG&&console.log(e.step,"FDEF[]",o);45!==n[++r];);e.ip=r,e.funcs[o]=n.slice(a+1,r)},void 0,li.bind(void 0,0),li.bind(void 0,1),ci.bind(void 0,qt),ci.bind(void 0,Kt),di.bind(void 0,0),di.bind(void 0,1),ui.bind(void 0,0),ui.bind(void 0,1),hi.bind(void 0,0),hi.bind(void 0,1),function(e){for(var i=e.stack,n=e.loop,r=e.fv,o=i.pop()/64,a=e.z2;n--;){var s=i.pop(),l=a[s];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",s,o),r.setRelative(l,l,o),r.touch(l)}e.loop=1},function(e){for(var i=e.stack,n=e.rp1,r=e.rp2,o=e.loop,a=e.z0[n],s=e.z1[r],l=e.fv,c=e.dpv,d=e.z2;o--;){var u=i.pop(),h=d[u];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"IP[]",u,n,"<->",r),l.interpolate(h,a,s,c),l.touch(h)}e.loop=1},pi.bind(void 0,0),pi.bind(void 0,1),function(e){for(var i=e.stack,n=e.rp0,r=e.z0[n],o=e.loop,a=e.fv,s=e.pv,l=e.z1;o--;){var c=i.pop(),d=l[c];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"ALIGNRP[]",c),a.setRelative(d,r,0,s),a.touch(d)}e.loop=1},function(e){t.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Ut},fi.bind(void 0,0),fi.bind(void 0,1),function(e){var i=e.prog,n=e.ip,r=e.stack,o=i[++n];t.DEBUG&&console.log(e.step,"NPUSHB[]",o);for(var a=0;a<o;a++)r.push(i[++n]);e.ip=n},function(e){var i=e.ip,n=e.prog,r=e.stack,o=n[++i];t.DEBUG&&console.log(e.step,"NPUSHW[]",o);for(var a=0;a<o;a++){var s=n[++i]<<8|n[++i];32768&s&&(s=-(1+(65535^s))),r.push(s)}e.ip=i},function(e){var i=e.stack,n=e.store;n||(n=e.store=[]);var r=i.pop(),o=i.pop();t.DEBUG&&console.log(e.step,"WS",r,o),n[o]=r},function(e){var i=e.stack,n=e.store,r=i.pop();t.DEBUG&&console.log(e.step,"RS",r);var o=n&&n[r]||0;i.push(o)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"RCVT",n),i.push(64*e.cvt[n])},gi.bind(void 0,0),gi.bind(void 0,1),void 0,mi.bind(void 0,0),mi.bind(void 0,1),function(e){t.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){t.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"LT[]",n,r),i.push(r<n?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"LTEQ[]",n,r),i.push(r<=n?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"GT[]",n,r),i.push(r>n?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"GTEQ[]",n,r),i.push(r>=n?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"EQ[]",n,r),i.push(n===r?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"NEQ[]",n,r),i.push(n!==r?1:0)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"ODD[]",n),i.push(Math.trunc(n)%2?1:0)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"EVEN[]",n),i.push(Math.trunc(n)%2?0:1)},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"IF[]",i),i||(ti(e,!0),t.DEBUG&&console.log(e.step,"EIF[]"))},function(e){t.DEBUG&&console.log(e.step,"EIF[]")},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"AND[]",n,r),i.push(n&&r?1:0)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"OR[]",n,r),i.push(n||r?1:0)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"NOT[]",n),i.push(n?0:1)},vi.bind(void 0,1),function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SDB[]",i),e.deltaBase=i},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SDS[]",i),e.deltaShift=Math.pow(.5,i)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"ADD[]",n,r),i.push(r+n)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"SUB[]",n,r),i.push(r-n)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"DIV[]",n,r),i.push(64*r/n)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"MUL[]",n,r),i.push(r*n/64)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"ABS[]",n),i.push(Math.abs(n))},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"NEG[]",n),i.push(-n)},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"FLOOR[]",n),i.push(64*Math.floor(n/64))},function(e){var i=e.stack,n=i.pop();t.DEBUG&&console.log(e.step,"CEILING[]",n),i.push(64*Math.ceil(n/64))},bi.bind(void 0,0),bi.bind(void 0,1),bi.bind(void 0,2),bi.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},vi.bind(void 0,2),vi.bind(void 0,3),yi.bind(void 0,1),yi.bind(void 0,2),yi.bind(void 0,3),function(e){var i,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=Gt,192&n){case 0:i=.5;break;case 64:i=1;break;case 128:i=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=i,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*i;break;case 32:e.srPhase=.5*i;break;case 48:e.srPhase=.75*i;break;default:throw new Error("invalid SROUND value")}0==(n&=15)?e.srThreshold=0:e.srThreshold=(n/8-.5)*i},function(e){var i,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=Gt,192&n){case 0:i=Math.sqrt(2)/2;break;case 64:i=Math.sqrt(2);break;case 128:i=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=i,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*i;break;case 32:e.srPhase=.5*i;break;case 48:e.srPhase=.75*i;break;default:throw new Error("invalid S45ROUND value")}0==(n&=15)?e.srThreshold=0:e.srThreshold=(n/8-.5)*i},void 0,void 0,function(e){t.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Ot},void 0,function(e){t.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Vt},function(e){t.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Ht},si,si,void 0,void 0,void 0,void 0,void 0,function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANCTRL[]",i)},wi.bind(void 0,0),wi.bind(void 0,1),function(e){var i=e.stack,n=i.pop(),r=0;t.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),i.push(r)},void 0,function(e){var i=e.stack,n=i.pop(),r=i.pop(),o=i.pop();t.DEBUG&&console.log(e.step,"ROLL[]"),i.push(r),i.push(n),i.push(o)},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"MAX[]",n,r),i.push(Math.max(r,n))},function(e){var i=e.stack,n=i.pop(),r=i.pop();t.DEBUG&&console.log(e.step,"MIN[]",n,r),i.push(Math.min(r,n))},function(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANTYPE[]",i)},function(e){var i=e.stack.pop(),n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"INSTCTRL[]",i,n),i){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ki.bind(void 0,1),ki.bind(void 0,2),ki.bind(void 0,3),ki.bind(void 0,4),ki.bind(void 0,5),ki.bind(void 0,6),ki.bind(void 0,7),ki.bind(void 0,8),xi.bind(void 0,1),xi.bind(void 0,2),xi.bind(void 0,3),xi.bind(void 0,4),xi.bind(void 0,5),xi.bind(void 0,6),xi.bind(void 0,7),xi.bind(void 0,8),_i.bind(void 0,0,0,0,0,0),_i.bind(void 0,0,0,0,0,1),_i.bind(void 0,0,0,0,0,2),_i.bind(void 0,0,0,0,0,3),_i.bind(void 0,0,0,0,1,0),_i.bind(void 0,0,0,0,1,1),_i.bind(void 0,0,0,0,1,2),_i.bind(void 0,0,0,0,1,3),_i.bind(void 0,0,0,1,0,0),_i.bind(void 0,0,0,1,0,1),_i.bind(void 0,0,0,1,0,2),_i.bind(void 0,0,0,1,0,3),_i.bind(void 0,0,0,1,1,0),_i.bind(void 0,0,0,1,1,1),_i.bind(void 0,0,0,1,1,2),_i.bind(void 0,0,0,1,1,3),_i.bind(void 0,0,1,0,0,0),_i.bind(void 0,0,1,0,0,1),_i.bind(void 0,0,1,0,0,2),_i.bind(void 0,0,1,0,0,3),_i.bind(void 0,0,1,0,1,0),_i.bind(void 0,0,1,0,1,1),_i.bind(void 0,0,1,0,1,2),_i.bind(void 0,0,1,0,1,3),_i.bind(void 0,0,1,1,0,0),_i.bind(void 0,0,1,1,0,1),_i.bind(void 0,0,1,1,0,2),_i.bind(void 0,0,1,1,0,3),_i.bind(void 0,0,1,1,1,0),_i.bind(void 0,0,1,1,1,1),_i.bind(void 0,0,1,1,1,2),_i.bind(void 0,0,1,1,1,3),_i.bind(void 0,1,0,0,0,0),_i.bind(void 0,1,0,0,0,1),_i.bind(void 0,1,0,0,0,2),_i.bind(void 0,1,0,0,0,3),_i.bind(void 0,1,0,0,1,0),_i.bind(void 0,1,0,0,1,1),_i.bind(void 0,1,0,0,1,2),_i.bind(void 0,1,0,0,1,3),_i.bind(void 0,1,0,1,0,0),_i.bind(void 0,1,0,1,0,1),_i.bind(void 0,1,0,1,0,2),_i.bind(void 0,1,0,1,0,3),_i.bind(void 0,1,0,1,1,0),_i.bind(void 0,1,0,1,1,1),_i.bind(void 0,1,0,1,1,2),_i.bind(void 0,1,0,1,1,3),_i.bind(void 0,1,1,0,0,0),_i.bind(void 0,1,1,0,0,1),_i.bind(void 0,1,1,0,0,2),_i.bind(void 0,1,1,0,0,3),_i.bind(void 0,1,1,0,1,0),_i.bind(void 0,1,1,0,1,1),_i.bind(void 0,1,1,0,1,2),_i.bind(void 0,1,1,0,1,3),_i.bind(void 0,1,1,1,0,0),_i.bind(void 0,1,1,1,0,1),_i.bind(void 0,1,1,1,0,2),_i.bind(void 0,1,1,1,0,3),_i.bind(void 0,1,1,1,1,0),_i.bind(void 0,1,1,1,1,1),_i.bind(void 0,1,1,1,1,2),_i.bind(void 0,1,1,1,1,3)];var Ci=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Si(e){(e=e||{}).empty||(Mt(e.familyName,"When creating a new Font object, familyName is required."),Mt(e.styleName,"When creating a new Font object, styleName is required."),Mt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Mt(e.ascender,"When creating a new Font object, ascender is required."),Mt(e.descender,"When creating a new Font object, descender is required."),Mt(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new we.GlyphSet(this,e.glyphs||[]),this.encoding=new he(this),this.position=new xt(this),this.substitution=new _t(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new zt(this):void 0}})}function Ti(e,t){var i=JSON.stringify(e),n=256;for(var r in t){var o=parseInt(r);if(o&&!(o<256)){if(JSON.stringify(t[r])===i)return o;n<=o&&(n=o+1)}}return t[n]=e,n}function Mi(e,t,i){var n=Ti(t.name,i);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:n}]}function Ii(e,t,i){var n={},r=new oe.Parser(e,t);return n.tag=r.parseTag(),n.minValue=r.parseFixed(),n.defaultValue=r.parseFixed(),n.maxValue=r.parseFixed(),r.skip("uShort",1),n.name=i[r.parseUShort()]||{},n}function Di(e,t,i,n){for(var r=Ti(t.name,n),o=[{name:"nameID_"+e,type:"USHORT",value:r},{name:"flags_"+e,type:"USHORT",value:0}],a=0;a<i.length;++a){var s=i[a].tag;o.push({name:"axis_"+e+" "+s,type:"FIXED",value:t.coordinates[s]<<16})}return o}function Pi(e,t,i,n){var r={},o=new oe.Parser(e,t);r.name=n[o.parseUShort()]||{},o.skip("uShort",1),r.coordinates={};for(var a=0;a<i.length;++a)r.coordinates[i[a].tag]=o.parseFixed();return r}Si.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Si.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Si.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),i=this.glyphs.get(t);return i||(i=this.glyphs.get(0)),i},Si.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var i=Ci(e),n=[],r=0;r<i.length;r+=1){var o=i[r];n.push(this.charToGlyphIndex(o))}var a=n.length;if(t.features){var s=t.script||this.substitution.getDefaultScriptName(),l=[];t.features.liga&&(l=l.concat(this.substitution.getFeature("liga",s,t.language))),t.features.rlig&&(l=l.concat(this.substitution.getFeature("rlig",s,t.language)));for(var c=0;c<a;c+=1)for(var d=0;d<l.length;d++){for(var u=l[d],h=u.sub,p=h.length,f=0;f<p&&h[f]===n[c+f];)f++;f===p&&(n.splice(c,p,u.by),a=a-p+1)}}for(var g=new Array(a),m=this.glyphs.get(0),v=0;v<a;v+=1)g[v]=this.glyphs.get(n[v])||m;return g},Si.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Si.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),i=this.glyphs.get(t);return i||(i=this.glyphs.get(0)),i},Si.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Si.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var i=this.position.defaultKerningTables;return i?this.position.getKerningValue(i,e,t):this.kerningPairs[e+","+t]||0},Si.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Si.prototype.forEachGlyph=function(e,t,i,n,r,o){t=void 0!==t?t:0,i=void 0!==i?i:0,n=void 0!==n?n:72,r=r||this.defaultRenderOptions;var a,s=1/this.unitsPerEm*n,l=this.stringToGlyphs(e,r);if(r.kerning){var c=r.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(c,r.language)}for(var d=0;d<l.length;d+=1){var u=l[d];if(o.call(this,u,t,i,n,r),u.advanceWidth&&(t+=u.advanceWidth*s),r.kerning&&d<l.length-1){var h=a?this.position.getKerningValue(a,u.index,l[d+1].index):this.getKerningValue(u,l[d+1]);t+=h*s}r.letterSpacing?t+=r.letterSpacing*n:r.tracking&&(t+=r.tracking/1e3*n)}return t},Si.prototype.getPath=function(e,t,i,n,r){var o=new M;return this.forEachGlyph(e,t,i,n,r,function(e,t,i,n){var a=e.getPath(t,i,n,r,this);o.extend(a)}),o},Si.prototype.getPaths=function(e,t,i,n,r){var o=[];return this.forEachGlyph(e,t,i,n,r,function(e,t,i,n){var a=e.getPath(t,i,n,r,this);o.push(a)}),o},Si.prototype.getAdvanceWidth=function(e,t,i){return this.forEachGlyph(e,0,0,t,i,function(){})},Si.prototype.draw=function(e,t,i,n,r,o){this.getPath(t,i,n,r,o).draw(e)},Si.prototype.drawPoints=function(e,t,i,n,r,o){this.forEachGlyph(t,i,n,r,o,function(t,i,n,r){t.drawPoints(e,i,n,r)})},Si.prototype.drawMetrics=function(e,t,i,n,r,o){this.forEachGlyph(t,i,n,r,o,function(t,i,n,r){t.drawMetrics(e,i,n,r)})},Si.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Si.prototype.validate=function(){var e=this;function t(t){var i=e.getEnglishName(t);i&&i.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},Si.prototype.toTables=function(){return vt.fontToTable(this)},Si.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Si.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t[r];return i},Si.prototype.download=function(t){var n=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");t=t||n.replace(/\s/g,"")+"-"+r+".otf";var o=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,o.byteLength,function(e){e.root.getFile(t,{create:!0},function(e){e.createWriter(function(t){var i=new DataView(o),n=new Blob([i],{type:"font/opentype"});t.write(n),t.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw new Error(e.name+": "+e.message)});else{var a=i(368),s=function(t){for(var i=new e(t.byteLength),n=new Uint8Array(t),r=0;r<i.length;++r)i[r]=n[r];return i}(o);a.writeFileSync(t,s)}},Si.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Si.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Si.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ei={make:function(e,t){var i=new X.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);i.offsetToData=i.sizeOf();for(var n=0;n<e.axes.length;n++)i.fields=i.fields.concat(Mi(n,e.axes[n],t));for(var r=0;r<e.instances.length;r++)i.fields=i.fields.concat(Di(r,e.instances[r],e.axes,t));return i},parse:function(e,t,i){var n=new oe.Parser(e,t),r=n.parseULong();P.argument(65536===r,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var a=n.parseUShort(),s=n.parseUShort(),l=n.parseUShort(),c=n.parseUShort(),d=[],u=0;u<a;u++)d.push(Ii(e,t+o+u*s,i));for(var h=[],p=t+o+a*s,f=0;f<l;f++)h.push(Pi(e,p+f*c,d,i));return{axes:d,instances:h}}},Ai=new Array(10);Ai[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ne.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ne.coverage),values:this.parseValueRecordList()}:void P.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ai[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();P.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(ne.coverage),n=this.parseUShort(),r=this.parseUShort();if(1===t)return{posFormat:t,coverage:i,valueFormat1:n,valueFormat2:r,pairSets:this.parseList(ne.pointer(ne.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(n),value2:this.parseValueRecord(r)}})))};if(2===t){var o=this.parsePointer(ne.classDef),a=this.parsePointer(ne.classDef),s=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:i,valueFormat1:n,valueFormat2:r,classDef1:o,classDef2:a,class1Count:s,class2Count:l,classRecords:this.parseList(s,ne.list(l,function(){return{value1:this.parseValueRecord(n),value2:this.parseValueRecord(r)}}))}}},Ai[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ai[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ai[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ai[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ai[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ai[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ai[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Fi=new Array(10),Li={parse:function(e,t){var i=new ne(e,t=t||0),n=i.parseVersion(1);return P.argument(1===n||1.1===n,"Unsupported GPOS table version "+n),1===n?{version:n,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Ai)}:{version:n,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Ai),variations:i.parseFeatureVariationsList()}},make:function(e){return new X.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new X.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new X.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new X.LookupList(e.lookups,Fi)}])}},Ni={parse:function(e,t){var i=new oe.Parser(e,t),n=i.parseUShort();if(0===n)return function(e){var t={};e.skip("uShort");var i=e.parseUShort();P.argument(0===i,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var r=0;r<n;r+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}return t}(i);if(1===n)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var i=255&e.parseUShort();if(e.skip("uShort"),0===i){var n=e.parseUShort();e.skip("uShort",3);for(var r=0;r<n;r+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}}return t}(i);throw new Error("Unsupported kern table version ("+n+").")}},Ri={parse:function(e,t,i,n){for(var r=new oe.Parser(e,t),o=n?r.parseUShort:r.parseULong,a=[],s=0;s<i+1;s+=1){var l=o.call(r);n&&(l*=2),a.push(l)}return a}};function ji(e,t){var n=i(368);n.readFile(e,function(e,i){if(e)return t(e.message);t(null,Tt(i))})}function zi(e,t){var i=new XMLHttpRequest;i.open("get",e,!0),i.responseType="arraybuffer",i.onload=function(){return i.response?t(null,i.response):t("Font could not be loaded: "+i.statusText)},i.onerror=function(){t("Font could not be loaded")},i.send()}function Oi(e,t){for(var i=[],n=12,r=0;r<t;r+=1){var o=oe.getTag(e,n),a=oe.getULong(e,n+4),s=oe.getULong(e,n+8),l=oe.getULong(e,n+12);i.push({tag:o,checksum:a,offset:s,length:l,compression:!1}),n+=16}return i}function Bi(e,t){if("WOFF"===t.compression){var i=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(C(i,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var r=new DataView(n.buffer,0);return{data:r,offset:0}}return{data:e,offset:t.offset}}function Ui(e){var t,i,n,r,o,a,s,l,c,d,u,h,p,f,g=new Si({empty:!0}),m=new DataView(e,0),v=[],b=oe.getTag(m,0);if(b===String.fromCharCode(0,1,0,0)||"true"===b||"typ1"===b)g.outlinesFormat="truetype",n=oe.getUShort(m,4),v=Oi(m,n);else if("OTTO"===b)g.outlinesFormat="cff",n=oe.getUShort(m,4),v=Oi(m,n);else{if("wOFF"!==b)throw new Error("Unsupported OpenType signature "+b);var y=oe.getTag(m,4);if(y===String.fromCharCode(0,1,0,0))g.outlinesFormat="truetype";else{if("OTTO"!==y)throw new Error("Unsupported OpenType flavor "+b);g.outlinesFormat="cff"}n=oe.getUShort(m,12),v=function(e,t){for(var i=[],n=44,r=0;r<t;r+=1){var o=oe.getTag(e,n),a=oe.getULong(e,n+4),s=oe.getULong(e,n+8),l=oe.getULong(e,n+12),c=void 0;c=s<l&&"WOFF",i.push({tag:o,offset:a,compression:c,compressedLength:s,length:l}),n+=20}return i}(m,n)}for(var w=0;w<n;w+=1){var k=v[w],x=void 0;switch(k.tag){case"cmap":x=Bi(m,k),g.tables.cmap=se.parse(x.data,x.offset),g.encoding=new pe(g.tables.cmap);break;case"cvt ":x=Bi(m,k),f=new oe.Parser(x.data,x.offset),g.tables.cvt=f.parseShortList(k.length/2);break;case"fvar":o=k;break;case"fpgm":x=Bi(m,k),f=new oe.Parser(x.data,x.offset),g.tables.fpgm=f.parseByteList(k.length);break;case"head":x=Bi(m,k),g.tables.head=Be.parse(x.data,x.offset),g.unitsPerEm=g.tables.head.unitsPerEm,t=g.tables.head.indexToLocFormat;break;case"hhea":x=Bi(m,k),g.tables.hhea=Ue.parse(x.data,x.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":c=k;break;case"ltag":x=Bi(m,k),i=Ve.parse(x.data,x.offset);break;case"maxp":x=Bi(m,k),g.tables.maxp=He.parse(x.data,x.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":h=k;break;case"OS/2":x=Bi(m,k),g.tables.os2=ot.parse(x.data,x.offset);break;case"post":x=Bi(m,k),g.tables.post=at.parse(x.data,x.offset),g.glyphNames=new ge(g.tables.post);break;case"prep":x=Bi(m,k),f=new oe.Parser(x.data,x.offset),g.tables.prep=f.parseByteList(k.length);break;case"glyf":a=k;break;case"loca":u=k;break;case"CFF ":r=k;break;case"kern":d=k;break;case"GPOS":s=k;break;case"GSUB":l=k;break;case"meta":p=k}}var _=Bi(m,h);if(g.tables.name=nt.parse(_.data,_.offset,i),g.names=g.tables.name,a&&u){var C=0===t,S=Bi(m,u),T=Ri.parse(S.data,S.offset,g.numGlyphs,C),M=Bi(m,a);g.glyphs=jt.parse(M.data,M.offset,T,g)}else{if(!r)throw new Error("Font doesn't contain TrueType or CFF outlines.");var I=Bi(m,r);Oe.parse(I.data,I.offset,g)}var D=Bi(m,c);if($e.parse(D.data,D.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs),function(e){for(var t,i=e.tables.cmap.glyphIndexMap,n=Object.keys(i),r=0;r<n.length;r+=1){var o=n[r],a=i[o];(t=e.glyphs.get(a)).addUnicode(parseInt(o))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(g),d){var P=Bi(m,d);g.kerningPairs=Ni.parse(P.data,P.offset)}else g.kerningPairs={};if(s){var E=Bi(m,s);g.tables.gpos=Li.parse(E.data,E.offset),g.position.init()}if(l){var A=Bi(m,l);g.tables.gsub=dt.parse(A.data,A.offset)}if(o){var F=Bi(m,o);g.tables.fvar=Ei.parse(F.data,F.offset,g.names)}if(p){var L=Bi(m,p);g.tables.meta=ut.parse(L.data,L.offset),g.metas=g.tables.meta}return g}t.Font=Si,t.Glyph=ve,t.Path=M,t.BoundingBox=T,t._parse=oe,t.parse=Ui,t.load=function(e,t){("undefined"==typeof window?ji:zi)(e,function(e,i){if(e)return t(e);var n;try{n=Ui(i)}catch(e){return t(e,null)}return t(null,n)})},t.loadSync=function(e){return Ui(Tt(i(368).readFileSync(e)))},Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,i(20).Buffer)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(6)],void 0===(r=function(e,t,i,n,r){"use strict";return new(i.Model.extend({clientId:r.instagramClientId,authenticate:function(e){this.accessToken=e},_request:function(t,i){var r=n.defer(),o=e.ajax({url:"https://api.instagram.com/v1/"+t,dataType:"jsonp",type:"GET",data:e.extend({},{access_token:this.accessToken},i)});return o.done(function(e,t,i){r.resolve(e,t,i)}),o.fail(function(e,i,n){console.warn("Instagram API: access to url "+t+" failed =  ",i),r.reject(e,i,n)}),r.promise},userProfile:function(e,t){return t=t||"self",this._request("users/"+t,e)},fetchRecentUserMedia:function(e,t){return t=t||"self",this._request("users/"+t+"/media/recent",e)}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(4)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(i.Model.extend({_isQualified:function(){var e=n.defer();return e.resolve(!0),e.promise},_getProperties:function(e){return e=e||{}},brandSetupEvent:function(e,t){return this._genericBrandEvent(e,t,"BrandSetup")},_genericBrandEvent:function(e,t,i){var r=n.defer();return o.trackEvent(e,this._getProperties(t),i,function(){r.resolve()}),r.promise},choseNoLogoInSetup:function(){this.brandSetupEvent("editedElementBrandSetup").then(function(){o.trackEvent("setLogoBrandSetup",this._getProperties(),"BrandSetup",function(){o.trackEvent("noLogoBrandSetup",this._getProperties(),"BrandSetup")}.bind(this))}.bind(this)).done()},addedLogoInSetup:function(e){this.brandSetupEvent("editedElementBrandSetup").then(function(){o.trackEvent("setLogoBrandSetup",this._getProperties(),"BrandSetup",function(){o.trackEvent("uploadedLogoBrandSetup",this._getProperties({logoFileType:e}),"BrandSetup")}.bind(this))}.bind(this)).done()},choseColorInSetup:function(){this.brandSetupEvent("editedElementBrandSetup").then(function(){o.trackEvent("setColorBrandSetup",this._getProperties(),"BrandSetup")}.bind(this)).done()},choseFontsInSetup:function(e){this.brandSetupEvent("editedElementBrandSetup").then(function(){o.trackEvent("setFontsBrandSetup",this._getProperties(e),"BrandSetup")}.bind(this)).done()},viewedBrandSetup:function(e){o.trackEvent("viewedBrandSetup",this._getProperties(),"BrandSetup",function(){e>0?o.trackEvent("viewedPartialBrandSetup",this._getProperties({brandSetupProgress:e}),"BrandSetup"):this._isQualified().then(function(e){e?o.trackEvent("viewedQualifiedBrandSetup",this._getProperties(),"BrandSetup"):o.trackEvent("viewedUnqualifiedBrandSetup",this._getProperties(),"BrandSetup")}.bind(this)).done()}.bind(this))},launchedFontPicker:function(e,t){return this._genericBrandEvent("launchedFontPicker",this._getProperties(e),t)},canceledFontPicker:function(e,t){return this._genericBrandEvent("canceledFontPicker",this._getProperties(e),t)},pickedFont:function(e,t){return this._genericBrandEvent("pickedFont",this._getProperties(e),t)},clickedAddCustomFont:function(e,t){return this._genericBrandEvent("clickedAddCustomFont",this._getProperties(e),t)},uploadedCustomFont:function(e,t){return this._genericBrandEvent("uploadedFont",this._getProperties(e),t)},failedUploadingCustomFont:function(e,t){return this._genericBrandEvent("failedUploadingFont",this._getProperties(e),t)},deletedCustomFont:function(e,t){return this._genericBrandEvent("deletedUploadedFont",this._getProperties(e),t)},brandManagerEvent:function(e,t){return this._genericBrandEvent(e,t||{},"BrandManager")},editedElementBrandManager:function(e,t,i){return this._genericBrandEvent("editedElementBrandManager",{},"BrandManager").then(function(){return this._genericBrandEvent(e,{},"BrandManager").then(function(){return this._genericBrandEvent(t,i,"BrandManager")}.bind(this))}.bind(this))},clickedDeleteBrand:function(){return this._genericBrandEvent("clickedDeleteBrand",{},"BrandManager")},clickedBrandUpdate:function(){return this._genericBrandEvent("clickedBrandUpdate",{},"BrandManager")},deletedBrand:function(){return this._genericBrandEvent("deletedBrand",{},"BrandManager")}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1)],void 0===(r=function(e,t,i,n){"use strict";var r;return r=n.Collection.extend({setAC:function(e){this._ac=e},initialize:function(e,t){var i=n.Collection.prototype.initialize.call(this,e,t);return t&&t.feel&&(this._feel=t.feel),i},getFeel:function(){return this._feel},add:function(e,i){var r=n.Collection.prototype.add.call(this,e,i);return t.isArray(e)||(e=[e]),i&&i.genericRoles&&t.each(e,function(e){e._genericRoles=i.genericRoles}.bind(this)),i&&i.uniqueRoles&&t.each(e,function(e){e._uniqueRoles=i.uniqueRoles}.bind(this)),r},getPropFromFirst:function(e){var t=this.at(0);if(t[e])return"function"==typeof t[e]?t[e]():t.getData().getValue(e)},getCSSFontFace:function(e){return this.reduce(function(t,i){return t+i.getCSSFontFace(e)},"")},loadFonts:function(){var e=new r,i=new r;if(this.each(function(t){t.isSparkFont()?e.add(t):i.add(t)}),e.length&&e.each(function(e){e.loadFont()}),i.length){var n=i.getPropFromFirst("cssName"),o=i.getCSSFontFace(),a=document.createElement("style");a.type="text/css",a.innerHTML=o,a.className=n;var s=document.head.querySelectorAll("style."+n);s&&t.each(s,function(e){e.parentNode.removeChild(e)}),document.getElementsByTagName("head")[0].appendChild(a)}},getFontWithRole:function(e){return this.find(function(i){return i.hasRole&&"function"==typeof i.hasRole?i.hasRole(e):i._uniqueRoles&&!!t.find(i._uniqueRoles,function(t){return t==e})||i._genericRoles&&!!t.find(i._genericRoles,function(t){return t==e})})}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(107),i(6)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s=o.LibraryImageLinksModel;function l(){this.result=null,this._reachedEnd=!1,this.collection=new n.Collection,this.collection.model=s,this._lastOpts=null}function c(e,t){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this._items=[],this._modelAttrs=[],this.filter=t,this._parseData()}function d(e){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this.links={},this._parseData()}return l.apiHost="https://"+(a.dooplo||"cc-api-dooplo.adobe.io"),l.searchPath="/api/v1/assets/search",l.infoPath="/api/v1/assets/",l.apiKey=a.cpkey,l.SOURCE_CREDIT_INFOS={flickr:{hoverName:"Flickr",sourcesName:"Flickr",link:"https://www.flickr.com/",creditOrderIndex:1},pixabay:{hoverName:"Pixabay",sourcesName:"Pixabay",link:r.getLocalizedPixabayURL("https://pixabay.com/"),creditOrderIndex:2},unsplash:{hoverName:"Unsplash",sourcesName:"Unsplash",link:"https://unsplash.com/",creditOrderIndex:0},bing:{hoverName:"Bing",sourcesName:"Bing",link:"http://bing.com/images/",creditOrderIndex:4},"the noun project":{hoverName:"",sourcesName:"The Noun Project",link:"https://thenounproject.com/",creditOrderIndex:3}},t.extend(l.prototype,{search:function(i){this.result=null;var n=this._getParams({query:"landscape",page:i.startPage||1,size:25,asset_type:"image",image_filter:[],source:[]},i),r=i.success,o=i.error;function a(e){var t=e.links.original.type;return i.imageFilter.includesType(t)||i.imageFilter.includesExtensionOnly(t)}var s=l.apiHost+l.searchPath;return this._lastOpts=t.extend({},n,i),e.ajax({url:s,data:n,dataType:"json",traditional:!0}).done(function(e,s,l){var d=null;if(!e||t.isEmpty(e))d=new Error("No data received");else if(e.error_code)d=new Error(e.message);else try{var u=null;"image"===n.asset_type&&(u=a),this.result=new c(e,u&&u.bind(this)),this.result.getLength()?i.add?this.collection.set(this.result._modelAttrs,{add:!0}):this.collection.reset(this.result._modelAttrs):this._reachedEnd=!0}catch(e){d=e}d?o&&o(l,"error",d):r&&r(this.result,s,l)}.bind(this)).fail(o)},searchNextSet:function(e){return this._lastOpts&&this._lastOpts.page++,e=t.extend({add:!0},this._lastOpts,e),this.search(e)},reachedEnd:function(){return this._reachedEnd},_getParams:function(e,i){var n={api_key:l.apiKey};if(e=t.extend(n,e),i){var r=[];for(var o in e)r.push(o);r.unshift(i);var a=t.pick.apply(t,r);e=t.extend(e,a)}return e},getLength:function(){return this.collection.length},at:function(e){return this.collection.at(e)}}),l.getAssetInfo=function(t){var n=l.apiHost+l.infoPath+t,r=i.defer();return e.ajax({method:"GET",url:n,data:{api_key:l.apiKey},dataType:"json",success:function(e,t,i){r.resolve(e)},error:function(e,t,i){marvel.logger.error("dooplo getAssetInfo error:",{err:i,status:t,responseText:e.responseText,url:n}),r.reject()}}).done(),r.promise},t.extend(c.prototype,{_parseData:function(){for(var e=this.data._embedded.assets,t=0,i=e.length;t<i;t++){var n=e[t],r=new d(n);if(!this.filter||this.filter(r)){var o=r.getThumbURL(),a=r.getPreviewURL(),s=r.getOriginalURL();this._items.push(r),this._modelAttrs.push({source_id:n.id,title:n.title,mimeType:r.getMimeType(),image_url:s||a||o,preview_url:a||s||o,thumb_url:o||a||s})}}},getLength:function(){return this._items.length},at:function(e){return this._items[e]}}),t.extend(d.prototype,{_parseData:function(){for(var e=this.data._links.rendition,t=0,i=e.length;t<i;t++){var n=e[t];this.links[n.name]=n}},getOriginalURL:function(){return this._sanitizeURL(this.links.original.href)},getPreviewURL:function(){return this._sanitizeURL(this.links.preview.href)},getThumbURL:function(){return this._sanitizeURL(this.links.thumb.href)},getMimeType:function(){return this.links.original.type},_sanitizeURL:function(e){return 0===e.indexOf(l.apiHost)&&(e=this._addAPIKeyToURL(e)),e},_addAPIKeyToURL:function(e){var t="?";return-1!==e.indexOf("?")&&(t="&"),e+t+"api_key="+l.apiKey},getAspect:function(){return{width:this.links.thumb.width,height:this.links.thumb.height}},getThumbHoverLabel:function(){if("vector"===this.data.asset_type)return"";var e=l.SOURCE_CREDIT_INFOS[this.data.source.name.toLowerCase()];return e?e.hoverName||"":(marvel.logger.error("dooplo-request: unknown image source type for thumb hover label:"+this.data.source.name,this),"")}}),l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213)],void 0===(r=function(e,t,i,n){"use strict";function r(e){this.formatArr=e,this.types=t.filter(e,function(e){return e.indexOf("/")>-1}),this.extensionsWithDot=[],this.extensionsWithoutDot=[],t.each(e,function(e){var i;e.indexOf("/")>-1||(i=t.startsWith(e,".")?e.replace(/^\./,""):e,this.extensionsWithoutDot.push(i),this.extensionsWithDot.push("."+i))}.bind(this))}return t.extend(r.prototype,{includesType:function(e){return this.types.indexOf(e)>=0},includesExtensionOnly:function(e){return this.extensionsWithoutDot.indexOf(e)>=0},includesExtension:function(e){return t.some(this.extensionsWithDot,function(i){return t.endsWith(e,i)})},getAcceptAttributeString:function(){return this.extensionsWithDot.concat(this.types).join(",")}}),r}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3)],void 0===(r=function(e,t,i){"use strict";return function(i,n){var r=e(i.el),o=i.className||"mrvl-droppable-target",a=i.validTypes;r.on("drag dragstart dragend dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}),r.on("dragenter dragover",function(e){"dragover"===e.originalEvent.type&&(e.originalEvent.dataTransfer.dropEffect="copy"),r.addClass(o),e.preventDefault(),e.stopPropagation()}.bind(this)),r.on("dragleave dragend drop",function(e){r.removeClass(o),e.originalEvent.dataTransfer.clearData()}.bind(this)),r.on("drop",function(e){e.preventDefault(),e.stopPropagation();var i,r=[],o=!0,s=e.originalEvent.dataTransfer.files;if(a){if(s&&s.length)if(1===s.length&&(o=!1),o)r=t.filter(s,function(e){return a.indexOf(e.type)>-1});else{var l=t.find(s,function(e){return a.indexOf(e.type)>-1});l&&r.push(l)}}else r=s;r.length?r.length!==s.length?((i=new Error(400)).validFiles=r,i.files=s,n&&"function"==typeof n&&n(i,r)):n&&"function"==typeof n&&n(void 0,r):((i=new Error(400)).validFiles=r,i.files=s,n&&"function"==typeof n&&n(i,r))}.bind(this))}}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(429),i(1),i(3),i(575),i(23),i(12),i(5),i(7),i(423),i(430),i(431),i(37),i(432),i(568),i(345),i(569),i(576),i(48),i(420),i(370),i(570),i(97),i(6),i(8),i(424),i(427),i(584)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T,M,I){"use strict";var D=n.Model.extend({subgroupName:function(){return this.get("preferred_family_name")},faceName:function(){return this.get("preferred_subfamily_name")},fullName:function(){return this.subgroupName()+" "+this.faceName()},cssName:function(){return y.cssName(this.subgroupName())},isSupportedLanguage:function(){return"ja"!==this.get("default_language")},getAcFontDefn:function(){var e=t.cloneDeep(this.attributes),i=new k;return i.setFontDataFromTypekitSyncInfo(e),i},getChecksum:function(){var e="",i=t.cloneDeep(this.attributes),n=Object.keys(i).sort();return t.each(n,function(t){var n=i[t];e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n)}),(new o).update(e).digest("hex")}}),P=n.Collection.extend({model:D,findByVariationId:function(e){return this.models.find(function(t){return t.attributes.id==e})},getChecksum:function(){var e={},i=this.models.map(function(i){return e[i.get("id")]=i,t.cloneDeep(i.attributes)});i=t.sortBy(i,"id");var n=t.reduce(i,function(t,i){return t+(t.length?",":"")+e[i.id].getChecksum()},"");return(new o).update(n).digest("hex")}});return a.extend({_options:{},events:{"click .font-card-picker-save-btn":"handleSaveBtn","click .js-accordion":"handleAccordion","click .font-face-picker .js-font-face":"handleFacePicked","click .font-body-picker .js-font-face":"handleBodyPicked","click .font-headline-picker .js-font-face":"handleHeadlinePicked","click .font-card-picker-prev-btn":"handlePrevCardButton","click .font-card-picker-next-btn":"handleNextCardButton"},initialize:function(){a.prototype.initialize.call(this),this._reanchor=this._reanchor.bind(this),this.onDocClick=this.onDocClick.bind(this)},_initializeTypekitFonts:function(){this._syncedFonts?(this._lastSelectionsChecksum=this._syncedFonts.getChecksum(),this._renderSyncedFonts(this._syncedFonts),this._awaitSyncedFonts=this._awaitSyncedFonts||r.defer(),this._awaitSyncedFonts.resolve(),this._startPollingForTypekitSelectedList()):this._doFetchTypekitSelectedList().then(function(){this._awaitSyncedFonts=this._awaitSyncedFonts||r.defer(),this._awaitSyncedFonts.resolve(),this._startPollingForTypekitSelectedList()}.bind(this)).catch(function(e){marvel.logger.error("Error polling for TK synced fonts",e)})},_startPollingForTypekitSelectedList:function(){this._fetchTypekitSelectedListIntervalId&&clearTimeout(this._fetchTypekitSelectedListIntervalId),this._pollForTypekitSelectedList()},_pollForTypekitSelectedList:function(){this._fetchTypekitSelectedListIntervalId=setTimeout(function(){this._doFetchTypekitSelectedList().then(function(){this._pollForTypekitSelectedList()}.bind(this)).catch(function(e){marvel.logger.error("Error polling for TK synced fonts",e)})}.bind(this),6e3)},_doFetchTypekitSelectedList:function(){return _(f.getSelections,{maxAttempts:3,delay:300,logger:marvel.logger,logMessagePrefix:"RETRY: "})().then(function(e){var t=new P(e);this._syncedFonts=t;var i=t.getChecksum();i!==this._lastSelectionsChecksum&&(this._renderSyncedFonts(t),this._lastSelectionsChecksum=i)}.bind(this))},launch:function(e){this.configure(e),this.showOverlay()},chooseCustomFont:function(e){setTimeout(function(){this._addCustomFontClicked()}.bind(this),100)},autoPickLocalFiles:function(e){setTimeout(function(){this._addCustomFontClicked(void 0,e)}.bind(this),100)},showOverlay:function(){d.launchedFontPicker({pickerMode:this._options.mode},this._options.launchContext),a.prototype.showOverlay.call(this)},configure:function(e){this.setAuthoringContext(e.authoringContext),e.$el&&this.setElement(e.$el),this.anchor$=e.$anchor,this.reference$=e.$reference,e.offsetX=e.offsetX||0,e.offsetY="number"==typeof e.offsetY?e.offsetY:-66,e.brandFonts=!!e.brandFonts,this._options=e,e.value?this.setValue(e.value):this._value=void 0},setAuthoringContext:function(e){this._ac=e},_assignRoleAndSave:function(e){var i,n,r=this._options.mode,o=this._ac;switch(r){case"card":case"headline":var a=e.getFeel?e.getFeel():"user-uploaded";return i=new T(void 0,{feel:a}),e.each(function(e){var n;if(t.each(e._uniqueRoles,function(e){var t=o.getFontWithRole(e);t&&t.isSparkFont()&&(n=t)}),n&&(e.isDefn()?n.setLookupKey(e.lookupKey()):o.removeFont(n,!0)),e.isDefn()){if(!n){var r=e;n=o.acquireSparkFont(r.lookupKey()),o.setUniqueRolesSync("all-fonts",n.getData(),r._uniqueRoles),t.each(r._genericRoles,n.addRole.bind(n))}}else n=e,o.setUniqueRolesSync("all-fonts",n.getData(),n._uniqueRoles);i.add(n)}),i;case"face":return e.isDefn()?(n=o.acquireSparkFont(e.lookupKey())).addRole("secondary-font"):n=e,n;case"body":return e}},_onSelect:function(e,t){this._stayOpen()&&this.applyValue(),this._options.onSelect&&"function"==typeof this._options.onSelect&&(this._stayOpen()&&this._options.assignRoleAndSave&&(e=this._assignRoleAndSave(e)),this._options.onSelect(e,t))},_onFinish:function(e,t){d.pickedFont({pickerMode:this._options.mode},this._options.launchContext),this._options.onFinish&&"function"==typeof this._options.onFinish&&(this._options.assignRoleAndSave&&(e=this._assignRoleAndSave(e)),this._options.onFinish(e,t)),this._lastSelectionsChecksum=void 0,this._fetchTypekitSelectedListIntervalId&&(clearTimeout(this._fetchTypekitSelectedListIntervalId),this._fetchTypekitSelectedListIntervalId=void 0),this.setValue(void 0)},_goToCard:function(e){var t=this.fontCardStack$.find(".font-card");t.addClass("hide"),t.eq(e).removeClass("hide")},handlePrevCardButton:function(e){var t=this.fontCardStack$.find(".font-card"),i=t.length,n=this.fontCardStack$.find(".font-card:not(.hide)"),r=t.index(n)-1;return r<0&&(r=i-1),this._goToCard(r),!1},handleNextCardButton:function(e){var t=this.fontCardStack$.find(".font-card"),i=t.length,n=this.fontCardStack$.find(".font-card:not(.hide)"),r=t.index(n)+1;return r>=i&&(r=0),this._goToCard(r),!1},_stayOpen:function(){return this._options.stayOpen&&"face"===this._options.mode},_checkMissingFontStatus:function(e){return this._ac&&!this._ac.belongsToUser()&&e.isCustomFont()&&!e.isInstallable()?y.checkProvidedFonts([e.getTOUAName()]).then(function(t){if(t[e.getTOUAName()])return r.resolve(!0);var i=r.defer();return window.marvel.events.trigger("missing-brand-fonts-ux",{missingFonts:[e],defer:i}),i.promise}):r.resolve(!0)},handleFacePicked:function(t){var i=e(t.currentTarget).data("value");if(this._checkMissingFontStatus(i).then(function(e){e&&(this.setValue(i),this._onSelect(i),this._stayOpen()||(this._onFinish(i),this.close()))}.bind(this)).done(),this._stayOpen())return!1},handleBodyPicked:function(i){var n=e(i.currentTarget).data("value"),r=!0;if(t.each(["is-body-font","is-body-font-italic","is-body-font-bold","is-body-font-bold-italic"],function(e){if(!n.getFontWithRole(e))return r=!1,!1}),r)this._onSelect(n),this._onFinish(n),this.close();else{var o=n.getPropFromFirst("subgroupName"),a=this._ac.guessCustomBodyFontSet(o),s=!1;if(a&&(s=!a.find(function(e){return 400==e.fontWeight()&&"normal"==e.fontStyle()}.bind(this))),this.customFontManager.setFontSubgroup(o),s)this.customFontManager.setMode("completeBodyFontSetMissingNormal"),this.customFontManager.willTriggerThemeUpdates=this._options.willTriggerThemeUpdates,this.customFontManager.getUsageOfAssetsMessage=this._options.getUsageOfAssetsMessage,this.customFontManager.showOverlay(),this.customFontManager.onFinish=function(e,t){this._onSelect(e,t),this._onFinish(e,t),this.close()}.bind(this);else{var l=this._ac.establishCustomBodyFontSet(o);this._ac.save(),this._onSelect(l),this._onFinish(l),this.close()}}},handleHeadlinePicked:function(e){return this.handleFacePicked(e)},handleAccordion:function(i){i.preventDefault();var n,r,o=e(i.currentTarget);(o.addClass("is-transitioning"),this.$el.find(".font-picker-subgroup-accordion-v2-content").one("transitionend webkitTransitionEnd MSTransitionEnd otransitionend",function(){o.removeClass("is-transitioning")}),o.toggleClass("active"),this._options.stayOpen)&&(o.hasClass("active")&&(t.each(o.find(".font-picker-subgroup-accordion-v2-content .js-font-face"),function(t){t=e(t),n||(n=t),t.hasClass("active")&&(r=!0,n=t)}),r||this.handleFacePicked({currentTarget:n})))},setValue:function(e){if("string"==typeof e)if("new"==e)this.value=void 0;else{var i=e,n=this.registry;if(!n)return void(this._pendingValue=i);if(!this._options||!this._options.mode)return void(this._pendingValue=i);if("body"==this._options.mode){var r=n.bodyFonts;t.each(r,function(e){t.find(e.faces,function(e){return e.lookupKey==i})&&(i=e.faces[0].lookupKey)})}var o=n.facesByKey[i],a=new k;a.setFontDataFromSparkFontDefn(o),this.value=a}else this.value=void 0===e?void 0:e;this.applyValue()},applyValue:function(i){if(!this.value&&this._pendingValue&&this.setValue(this._pendingValue),this.value){this._pendingValue=void 0,this.$el.find(".js-font-face").removeClass("active"),this.$el.find(".js-accordion").removeClass("selected");var n,r="is-body-font";if("headline"!==this._options.mode&&"card"!==this._options.mode||(r="headline-font"),this.value.length?this.value instanceof T?n=this.value.getFontWithRole(r):(n=t.find(this.value,function(e){return"function"==typeof e.hasRole?e.hasRole(r):e.role===r}))&&n.acFontDefn&&(n=n.acFontDefn):n=this.value,n){var o=this.$el.find(".js-lkup-"+n.uiKey());o.length||(o=this.$el.find(".js-lkup-"+n.lookupKey()));var a=o.parents(".js-accordion");o.addClass("active"),a.length>0&&(a.addClass("active"),a.addClass("selected")),i&&t.each(o,function(t){var i,n,r=(t=e(t)).parents(".js-sp-font-picker"),o=t.parents(".js-accordion"),a=t.offset(),s=r.offset(),l=-10;o.length>0?(n=(i=o.offset()).top+o.height(),a.top-i.top>r.height()-30?l+=a.top-s.top:l+=i.top-s.top):(l+=a.top-s.top,n=a.top+t.height()),n-s.top>r.height()-30&&r.scrollTop(l-8)})}return n}},handleSaveBtn:function(e){e.preventDefault();var t=this.fontCardStack$.find(".font-card:not(.hide)").data("value");this._checkMissingFontStatus(t).then(function(e){e&&(this._onSelect(t),this._onFinish(t))}.bind(this)).done()},close:function(e){this.hideOverlay()},setOption:function(e,t){this._options=this._options||{},this._options[e]=t},setAnchor:function(e){this.anchor$=e,this._reanchor()},_reanchor:function(){if(this.anchor$){var t,i,n,r,o,a,s,l=this._options.offsetY||0,c=this._options.offsetX||0,d=this.anchor$[0].getBoundingClientRect(),u=d.top,h=d.left,p=d.bottom,f=d.right,g=d.width,m=d.height,v=d.x,b=d.y,y=this.shell$.height(),w=this.shell$.width(),k=e(window).width(),x=e(window).height(),_=!1,C=!1,S=!1,T=!1,M=0;(d={top:u,left:h,bottom:p,right:f,width:g,height:m,x:v,y:b}).top+=l,d.bottom+=l,d.left+=c,d.right+=c;var I=d.top+d.height/2-y/2;switch(k>d.right+w+50&&d.top+d.height/2+y/2<x&&(S=!0,I<0&&(M=Math.abs(I)+50)),0<d.left-(w+50)&&d.top+d.height/2+y/2<x&&d.top-d.height/2-y/2>0&&(_=!0),0<d.top-(y+50)&&(C=!0),x>d.bottom+y+50&&(T=!0),this.shell$.removeClass("pop-top"),this.shell$.removeClass("pop-right"),this.shell$.removeClass("pop-left"),this.shell$.removeClass("pop-bottom"),"dropdown"==this._options.behavior?s="pop-bottom":this._options.anchorTop?T?s="pop-bottom":_?s="pop-left":S?s="pop-right":C?s="pop-top":console.warn("font picker does not fit anywhere"):this._options.anchorVert?s=T?"pop-bottom":C?"pop-top":S?"pop-right":"pop-left":S?s="pop-right":_?s="pop-left":T?s="pop-bottom":C?s="pop-top":console.warn("font picker does not fit anywhere"),this.carrot$.css("left",""),this.shell$.addClass(s),s){case"pop-left":i=d.left-w-20,n=Math.max(d.top+d.height/2-y/2-20,8),M=0;break;case"pop-right":i=d.right+15,n=d.top+d.height/2-y/2,0!==M&&(o=70,this.carrot$.css("top",o+"px"));break;case"pop-top":this.reference$&&this.reference$[0]?((t=this.reference$[0].getBoundingClientRect()).top+l,i=(a=t.left+l)+(t.width-w)/2-7,r=d.left+d.width/2-i-this.carrot$.width()/2,this.carrot$.css("left",r+"px")):i=d.left+d.width/2-30,n=d.top-y-40,M=0;break;case"pop-bottom":this.reference$&&this.reference$[0]?((t=this.reference$[0].getBoundingClientRect()).top+l,a=t.left+c,"dropdown"==this._options.behavior?i=a+(t.width-w)/2:(i=a+(t.width-w)/2-7,r=d.left+d.width/2-i-this.carrot$.width()/2,this.carrot$.css("left",r+"px"))):i="dropdown"==this._options.behavior?d.left:d.left+d.width/2-30;var D=x-(d.bottom+y+10);n=D<0?d.bottom+10+D-70:d.bottom+10,M=0}this.shell$.css({left:i+"px",top:n+M+"px"})}},_autoPairBodyFonts:function(e,i,n){var r=t.find(e.bodyFonts,function(e){return"PT Sans"===e.subgroupName});t.each(r.faces,function(t){t.acFontDefn||(t.acFontDefn=new k,t.acFontDefn.setFontDataFromSparkFontDefn(e.facesByKey[t.lookupKey])),n.push(t)})},_prepareFontCollectionForCustomHeadline:function(e,i){var n=new T([],{feel:"user-uploaded"});return this._ac.setUniqueRolesSync("all-fonts",e.getData(),["headline-font"]),n.add(e,{uniqueRoles:["headline-font"]}),t.each([{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}],function(e){var t=e.role,i=e.secondaryRole,r=e.lookupKey,o=this._ac.getFontByLookupKey(r);o||(o=this._ac.acquireSparkFont(r)),this._ac.setUniqueRolesSync("all-fonts",o.getData(),[t]),o.addRole(i),n.add(o)}.bind(this)),n},setLogoFont:function(e,t,i){if(t){var n=this.$el.find(".font-picker-logo-fonts");y.inject().then(function(r){var o=this._injectTypekitFont(e,n,t,r);i&&(i=i+" in "+t.family.name,o.attr("title",t.family.name),o.text(i)),n.removeClass("hide")}.bind(this)).done()}},_renderSyncedFonts:function(t){var i=this.$el.find(".font-picker-synced-fonts-list");i.find(".js-font-face").each(function(){var i=this.className.replace(/^.*js-lkup-([^\s]*).*$/i,"$1").replace(/^tk-/,"");t.findByVariationId(i)||(e(this).remove(),window.marvel.events.trigger("typekit-synced-font-deactivated",{variationId:i}))}),t.each(function(e){this._renderSyncedFont(e)}.bind(this)),i.find(".js-accordion").each(function(){var t=e(this).find(".content");t.length&&t.children().length||e(this).remove()})},_acquireSyncedFontAccordion:function(t){var i=this.$el.find(".font-picker-synced-fonts-list"),n=t.subgroupName(),r=t.cssName(),o=i.find(".js-subgroup-"+r);if(!o.length){var a=t.getAcFontDefn();o=e('<div class="font-picker-subgroup-accordion-v2 js-accordion js-subgroup-'+r+'"></div>');var s=e('<div class="font-picker-subgroup-accordion-v2-label"><div class="font-loading-spinner"></div>'+n+"</div>"),l=e('<div class="font-picker-subgroup-accordion-v2-content content"></div>');o.append(s),o.append(l),s.addClass("font-loading"),w.loadFont(a,this._ac).then(function(e){e.$css(s),s.css({"font-weight":400,"font-style":"normal"}),s.removeClass("font-loading")}.bind(this)),i.append(o)}return o},_renderSyncedFont:function(t){if(t.isSupportedLanguage()){var i=this._acquireSyncedFontAccordion(t),n=this.$el.find(".font-picker-synced-fonts-list"),r=t.getAcFontDefn(),o="js-lkup-"+r.uiKey();if(!n.find("."+o).length){var a;a=i&&i.length?t.faceName():t.fullName();var s=e('<div class="font-picker-face font-picker-synced-font js-font-face">'+a+"</div>");return s.prepend(e('<div class="font-loading-spinner"></div>')),s.addClass("font-loading"),s.addClass(o),s.data("value",r),w.loadFont(r,this._ac).then(function(e){e.$css(s),s.removeClass("font-loading")}.bind(this)).done(),i&&i.length?i.find(".content").prepend(s):n.prepend(s),s}}},_injectBrandFonts:function(e,t,i){var n;this._options.mode;n=t?this._ac.getCustomFontSubgroups(!1,!0):this._ac.getFontSubgroups(!1,!0),this._renderFontSubgroups(n,e,null,i,this._ac)},_injectUploadedFonts:function(e,t){return this._injectBrandFonts(e,!0,t)},_eachSorted:function(e,i,n){var r,o,a;n?(o=n.getFontWithRole("headline-font"),a=n.getFontWithRole("body-font"),r=t.sortBy(Object.keys(e),function(e,t){if(o){if(e===o.subgroupName())return-1;if(t===o.subgroupName())return 1}if(a){if(e===a.subgroupName())return-1;if(t===a.subgroupName())return 1}return e<t?-1:t<e?1:0})):r=Object.keys(e).sort(),t.each(r,function(t){i(e[t],t)}.bind(this))},_injectUploadedBodyFonts:function(e){this._injectBrandBodyFonts(e,!0)},_injectBrandBodyFonts:function(t,i){var n;n=i?this._ac.getCustomFontSubgroups(!1,!0):this._ac.getFontSubgroups(!0,!0),t.html(""),this._eachSorted(n,function(i,n){i.getPropFromFirst("cssName");i.loadFonts();var r=e('<div class="font-picker-face-v2 font-picker-custom-font js-font-face"></div>'),o=e('<span class="cfm-font-exclamation"></span>'),a=e('<span class="cfm-font-edit"></span>');r.data("value",i);var s=i.find(function(e){return e.hasRole&&e.hasRole("is-body-font")}),l=i.at(0);if(i.getPropFromFirst("isCustomFont")&&!s){var c=this._ac.guessCustomBodyFontSet(n);s=c.find(function(e){return 400==e.fontWeight()&&"normal"==e.fontStyle()}),l=c.at(0)||i.at(0)}var d=s||l;this._cssForPicker$(d,r,n),s?(r.addClass("js-lkup-"+s.uiKey()),s.isCustomFont()&&(r.append(a),a.on("click",function(e){return e.preventDefault(),e.stopPropagation(),this.customFontManager.setFontSubgroup(n),this.customFontManager.setMode("editBodyFontSet"),this.customFontManager.willTriggerThemeUpdates=this._options.willTriggerThemeUpdates,this.customFontManager.getUsageOfAssetsMessage=this._options.getUsageOfAssetsMessage,this.customFontManager.showOverlay(),this.customFontManager.onFinish=function(e,t){this._onSelect(e,t),this._onFinish(e,t),this.close()}.bind(this),!1}.bind(this)))):r.append(o),t.append(r)}.bind(this))},_installCustomFont:function(e){var t=document.createElement("style"),i=e.getCSSFontFace();t.type="text/css",t.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(t)},_installCustomFontWithNameAndURL:function(e,t){var i,n=e.replace(" ",""),r=document.createElement("style");return r.type="text/css",i="@font-face { font-family: "+n+'; src: url("'+t+'"); }',r.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(r),n},_renderAdobeFonts:function(t,i){i.append("<h3>"+S.getString("font-picker-adobe-fonts-label")+"</h3>");var n=e('<div class="font-picker-synced-fonts-list"></div>');i.append(n),this._options.typekitSyncEnabled&&this._initializeTypekitFonts();var r=e('<div class="font-picker-manage-synced-btn">'+S.getString("font-picker-browse-adobe-fonts-label")+"</div>");i.append(r),r.on("click",function(e){c.setUserFlag("hide-premium-font-onboarding",!0),this.shell$.removeClass("font-onboarding"),s.showConfirm(S.getString("font-picker-browse-adobe-fonts-dialog-title"),S.getString("font-picker-browse-adobe-fonts-dialog-body"),{okText:S.getString("font-picker-browse-adobe-fonts-dialog-ok"),hideCancelButton:!0,hideCloseButton:!0,okHandler:function(){window.open(C.adobeFontsBrowse,"_blank")}.bind(this)}).done()}.bind(this))},_renderCustomFonts:function(t,i){if(c.hasFeature("enable-custom-fonts")){var n=e('<div class="font-picker-uploaded-fonts"></div>'),r=c.hasFeature("entitle-brand-kit");if(c.hasFeature("enable-custom-fonts-typekit-logofont")){var o=e('<div class="font-picker-logo-fonts hide"><h3>Logo font</h3></div>');i.append(o)}if(!this._options.hideCustomFonts){if(this._options.brandFonts&&(r||this._options.allowCustomUnentitled)){var a=e("<h3></h3>");this._ac.activated()?a.text(this._ac.getName()):a.text(S.getString("font-picker-your-uploaded-fonts")),i.append(a),this._injectBrandFonts(n,!1,t)}else this._options.hideCustomFonts||i.append("<h3>"+S.getString("font-picker-your-uploaded-fonts")+"</h3>"),(r||this._options.allowCustomUnentitled)&&this._injectUploadedFonts(n,t);i.append(n)}var s=!this._ac||this._ac.belongsToUser();if(!this._options.hideAddCustomFontsButton&&s){var l=e('<div class="font-picker-add-font-btn">'+S.getString("font-picker-add-your-fonts-button")+"</div>");i.append(l),l.on("click",function(e){return this._addCustomFontClicked(t),!1}.bind(this)),this._fileDropSetup||(this._fileDropSetup=!0,M({el:this.$el},function(e,t){e&&window.marvel.logger.warn("error while dropping font files - before font picker detected any errors",e),this.autoPickLocalFiles(t)}.bind(this)))}}},_addCustomFontClicked:function(e,t){var i;e=e||this.registry,i="face"==this._options.mode?".font-face-picker .font-picker-uploaded-fonts":"body"==this._options.mode?".font-body-picker .font-picker-uploaded-fonts":".font-headline-picker .font-picker-uploaded-fonts";var n=this.$el.find(i),r=this.$el.find(".font-picker-add-font-btn"),o=c.hasFeature("entitle-brand-kit");if(d.clickedAddCustomFont({},this._options.launchContext),!o&&!this._options.allowCustomUnentitled)return this.close(),window.marvel.events.trigger("add-custom-fonts-attempted",{ele$:r}),!1;this.customFontManager.setMode("addFonts"),this.customFontManager.render(),"headline"!=this._options.mode&&"face"!=this._options.mode||(this.customFontManager.willTriggerThemeUpdates=this._options.willTriggerThemeUpdates,this.customFontManager.getUsageOfAssetsMessage=this._options.getUsageOfAssetsMessage),t?this.customFontManager.autoPickLocalFiles(t):this.customFontManager.handleUploadFileClicked(),this.customFontManager.onFinish=function(t,i){if(this._options.multiSelectOnUpload&&"face"==this._options.mode)this._onSelect(t,i),this._onFinish(t,i);else if(this._options.selectOnUpload&&t&&1===t.length){var r=t.at(0);if("headline"===this._options.mode){var o=this._prepareFontCollectionForCustomHeadline(r,e);this._onSelect(o,i),this._onFinish(o,i)}else{if("face"!=this._options.mode)return;this._onSelect(r,i),this._onFinish(r,i)}return void this.close()}"headline"==this._options.mode||"face"==this._options.mode?t.each(function(t){t.isCustomFont()&&this._appendFontFace(t,n,"font-picker-custom-font",e).addClass("active")}.bind(this)):this._injectBrandBodyFonts(n,!1)}.bind(this)},_renderCustomBodyFonts:function(t,i){if(c.hasFeature("enable-custom-fonts")){var n=e('<div class="font-picker-uploaded-fonts"></div>');if(this._options.brandFonts){var r=e("<h3></h3>");r.text(this._ac.getName()),i.append(r),this._injectBrandBodyFonts(n)}else i.append("<h3>"+S.getString("font-picker-your-uploaded-fonts")+"</h3>"),this._injectUploadedBodyFonts(n);if(i.append(n),!this._options.hideAddCustomFontsButton){var o=e('<div class="font-picker-add-font-btn">'+S.getString("font-picker-add-your-fonts-button")+"</div>");i.append(o),o.on("click",function(e){return c.setUserFlag("hide-premium-font-onboarding",!0),this.shell$.removeClass("font-onboarding"),this._addCustomFontClicked(t),!1}.bind(this)),this._fileDropSetup||(this._fileDropSetup=!0,M({el:this.$el},function(e,t){e&&window.marvel.logger.warn("error while dropping font files - before font picker detected any errors",e),this.autoPickLocalFiles(t)}.bind(this)))}}},_cssForPicker$:function(e,t,i,n){var r=function(){e.$loadFontCSS?e.$loadFontCSS(t,13,!1):(w.loadFont(e),e.$css(t)),i?t.text(e.subgroupName()):t.text(e.faceName()),n&&t.text(e.friendlyName())};e.$cssRendition?e.$cssRendition(t,r,i&&!n,n):e.$loadFontCSS?e.$loadFontCSS(t,13,!1):r()},_appendFontFace:function(t,i,n,r,o){var a,s,l,c=this._options.mode,d=(t.friendlyName(),t.cssName(),y.cssName(t.subgroupName())+(t.isDefn()?"-spark":"-brand")),u=e('<div class="font-picker-face-v2 js-font-face js-subgroup-'+d+'"></div>'),h=i.find(".js-accordion.js-subgroup-"+d),p=!1;if(h.length)p=!0,a=h.find(".font-picker-subgroup-accordion-v2-label"),s=h.find(".font-picker-subgroup-accordion-v2-content");else if((o=o||this._ac.getFontSubgroup(t.subgroupName()))&&o.length>1){var f=i.find(".js-font-face.js-subgroup-"+d);p=!0,h=e('<div class="font-picker-subgroup-accordion-v2 js-accordion js-subgroup-'+d+'"></div>'),a=e('<div class="font-picker-subgroup-accordion-v2-label"><div class="font-loading-spinner"></div></div>'),s=e('<div class="font-picker-subgroup-accordion-v2-content"></div>'),f.length?(f.replaceWith(h),s.append(f)):i.append(h),h.append(a),h.append(s),this._cssForPicker$(t,a,!0)}(n&&u.addClass(n),u.append(e('<div class="font-loading-spinner"></div>')),"headline"==c)?(!t.isDefn()&&t.isCustomFont()&&(l=this._prepareFontCollectionForCustomHeadline(t,r)),u.data("value",l)):u.data("value",t);return u.addClass("js-lkup-"+t.uiKey()),p?s.append(u):i.append(u),this._cssForPicker$(t,u,!a,!a),h},_renderFontSubgroups:function(e,t,i,n,r){this._options.mode;this._eachSorted(e,function(e,r){e.each(function(r){this._appendFontFace(r,t,i,n,e)}.bind(this))}.bind(this),r)},_renderSparkfontFaces:function(e,i,r){var o={};this._options.suppressSparkfonts||t.each(e.facesByKey,function(e){var t=new k;t.setFontDataFromSparkFontDefn(e,!1);var i=t.subgroupName();o[i]=o[i]||new n.Collection,o[i].add(t)}.bind(this)),this._options.extraFonts&&t.each(this._options.extraFonts,function(e){var t=new k;t.setFontDataFromSparkFontDefn(e,!0,!0);var i=t.subgroupName();o[i]=o[i]||new n.Collection,o[i].add(t)}.bind(this)),r.append("<h3>"+S.getString("font-picker-more-label")+"</h3>"),this._renderFontSubgroups(o,r,"font-picker-custom-font",e)},_renderFacePicker:function(e){var t,i=this.$el.find(".font-face-picker");"face"==this._options.mode&&this.value&&(t=this.value),this._renderCustomFonts(e,i),this._renderSparkfontFaces(e,t,i),this._options.typekitSyncEnabled&&this._renderAdobeFonts(e,i)},_renderCardPicker:function(i){var n,r=this.fontCardStack$,o=0,a=0;"card"==this._options.mode&&this.value&&(n=this.value),t.each(i.cards,function(s,l){t.each(s.fontCards,function(l){if(n){var c=!0;t.each(l.fonts,function(e,t){var i=n.getFontWithRole(e.role);n&&c&&e.lookupKey==i.lookupKey()||(c=!1)}),c&&(a=o)}var d=new k;d.setFontDataFromSparkFontDefn(i.facesByKey[l.fonts[0].lookupKey]);var u=new k;u.setFontDataFromSparkFontDefn(i.facesByKey[l.fonts[1].lookupKey]);var h=e('<div class="font-card" data-feel="'+s.feel+'"></div>'),p=e('<div class="font-card-headline-font">'+d.friendlyName(!0)+"</div>"),f=e('<div class="font-card-headline-render" style="font-family:'+d.cssName()+"; font-weight: "+d.fontWeight()+"; font-style: "+d.fontStyle()+'">'+S.getString("font-picker-card-picker-headline-label")+"</div>"),g=e('<div class="font-card-body-font">'+u.subgroupName()+"</div>"),m=e('<div class="font-card-body-render"style="font-family:'+u.cssName()+'">'+S.getString("font-picker-card-picker-body-copy")+"</div>");h.append(p),h.append(f),h.append(g),h.append(m);var v=new T([],{feel:s.feel});t.each(l.fonts,function(e){var t=new k;t.setFontDataFromSparkFontDefn(i.facesByKey[e.lookupKey]),v.add(t,{uniqueRoles:[e.role],genericRoles:[e.secondaryRole]})}),h.data("value",v),r.append(h),o++}.bind(this))}.bind(this)),this._goToCard(a)},_renderBodyPicker:function(i){var n=this.$el.find(".font-body-picker");this._renderCustomBodyFonts(i,n),"body"==this._options.mode&&this.value&&this.value,n.append("<h3>"+S.getString("font-picker-more-label")+"</h3>"),t.each(i.bodyFonts,function(r){var o=r.faces[0].lookupKey,a=e('<div class="font-picker-face-v2 js-font-face js-lkup-'+o+'"></div>');n.append(a);var s=new T;t.each(r.faces,function(e,t){var n=new k;n.setFontDataFromSparkFontDefn(i.facesByKey[e.lookupKey]),s.add(n,{uniqueRoles:[e.role],genericRoles:[e.secondaryRole]}),0===t&&n.$cssRendition(a,function(){w.loadFont(n),n.$css(a)},!0)}),a.data("value",s);var l=s.find(function(e){return e.hasRole?e.hasRole("is-body-font"):e._genericRoles&&t.includes(e._genericRoles,"is-body-font")});a.addClass("js-lkup-"+l.uiKey())}.bind(this))},_renderHeadlinePicker:function(i){var n=this.$el.find(".font-headline-picker"),r={};this._renderCustomFonts(i,n),t.each(i.cards,function(o,a){t.each(o.fontCards,function(a){a.fonts;var s=t.find(a.fonts,function(e){return"headline-font"===e.role}),l=new k;l.setFontDataFromSparkFontDefn(i.facesByKey[s.lookupKey]);var c,d=r[o.feel];if(!d){var u=o.feel.charAt(0).toUpperCase()+o.feel.substring(1);d=e("<h3>"+u+"</h3>"),n.append(d),r[o.feel]=d}c=e('<div class="font-picker-face-v2 js-font-face"></div>'),l.$cssRendition(c,function(){w.loadFont(l),l.$css(c),c.text(l.friendlyName())},!1,!0),c.addClass("js-lkup-"+l.uiKey()),n.append(c);var h=new T([],{feel:o.feel});t.each(a.fonts,function(e){var t=new k;t.setFontDataFromSparkFontDefn(i.facesByKey[e.lookupKey]);var n={};e.role&&(n.uniqueRoles=[e.role]),e.secondaryRole&&(n.genericRoles=[e.secondaryRole]),h.add(t,n)}),c.data("value",h)}.bind(this))}.bind(this))},onEscapePressed:function(){d.canceledFontPicker({pickerMode:this._options.mode},this._options.launchContext),this._options.onCancel&&"function"==typeof this._options.onCancel&&this._options.onCancel(),a.prototype.onEscapePressed.call(this)},onDocClick:function(t){var i=e(t.target);i.hasClass("font-picker-shell")||i.closest(".font-picker-shell").length||i.hasClass("cfm-shell")||i.closest(".cfm-shell").length||(this._stayOpen()?(this._onFinish(this.value),this.close()):this.onEscapePressed())},_awaitFontLists:function(){var e=r.defer();return this._awaitSyncedFonts?this._awaitSyncedFonts.promise.then(function(){e.resolve()}.bind(this)):e.resolve(),e.promise},render:function(){this.$el.html(S.mustacheRender(I)),e(window).on("resize",this._reanchor),this.$el.removeClass("hide"),this.$el.css("visibility","hidden"),this.shell$=this.$el.find(".font-picker-shell"),this.shell$.addClass("loading"),this.fontCardStack$=this.$el.find(".font-card-picker-stack"),this.carrot$=this.shell$.find(".font-picker-carrot"),c.hasFeature("entitle-brand-kit")&&!c.hasFeature("hide-premium-font-onboarding")&&this.shell$.addClass("font-onboarding"),this.shell$.removeClass("card-mode face-mode body-mode"),this.shell$.addClass(this._options.mode+"-mode"),"dropdown"==this._options.behavior||this._options.hideCarrot?this.shell$.addClass("no-carrot"):this.shell$.removeClass("no-carrot");var t=this._options.overlay;if(t){var i=this.$el;if(i.addClass("act-as-font-picker-overlay"),"object"==typeof t){var n=t.top;n&&i.css("top",n+"px");var r=t.right;r&&i.css("right",r+"px");var o=t.bottom;o&&i.css("bottom",o+"px");var a=t.left;a&&i.css("left",a+"px")}}e(".mrvl-main-page").on("click",this.onDocClick),e(".mrvl-main-page").on("dblclick",this.onDocClick),this.applyValue(!0),this._reanchor(),this.$el.css("visibility","visible"),y.getFontRegistry().then(function(e){if(this.registry=e,this.customFontManager.setRegistry(e),this._renderFacePicker(e),this._renderCardPicker(e),this._renderBodyPicker(e),this._renderHeadlinePicker(e),this._ac)for(var t=this._ac.getFontsWithRoles(["body-font","body-font-italic","body-font-bold","body-font-bold-italic"]),i=0,n=t.length;i<n;i++){var r=t[i];if(r.cssName()&&"user-uploaded"==r.source()){r.cssName();break}}this._reanchor(),this.$el.css("visibility","visible"),this._awaitFontLists().then(function(){this.shell$.removeClass("loading"),this.applyValue(!0)}.bind(this))}.bind(this)).done(),this.customFontManager=new b(this._ac),this.customFontManager.setLaunchContext(this._options.launchContext)},onHide:function(){e(window).off("resize",this._reanchor),e(".mrvl-main-page").off("click",this.onDocClick)},hideCustomFontManager:function(){this.customFontManager&&this.customFontManager.hide()},showCustomFontManagerThemeUpdateProgressBar:function(){this.customFontManager&&this.customFontManager.showThemeUpdateProgressBar()}})}.apply(t,n))||(e.exports=r)},function(e,t){!function(){var t=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e,n){void 0==n&&(n=e,e="Class");var r=this.prototype;t=!0;var o=new this;for(var a in t=!1,n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]&&i.test(n[a])?function(e,t){return function(){var i=this._super;this._super=r[e];var n=t.apply(this,arguments);return this._super=i,n}}(a,n[a]):n[a];function s(){!t&&this.init&&this.init.apply(this,arguments)}s.prototype=o;var l=new Function("return function "+e+"(){ }")();return s.prototype.constructor=l,s.extend=arguments.callee,s},e.exports=Class}()},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(242),i(8)],void 0===(r=function(e,t,i,n,r){"use strict";var o=[{feel:r.getString("font-picker-feels-modern"),fontCards:[{fonts:[{name:"Futura PT Medium",role:"headline-font",lookupKey:"229bc085337038400404c908f6ea0996"},{name:"PT Serif n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Serif i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{name:"PT Serif n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{name:"PT Serif i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]},{fonts:[{name:"Lato Bold",role:"headline-font",lookupKey:"288fc09f6c53777c34"},{name:"Acumin Pro Semi Condensed n3",role:"body-font",secondaryRole:"is-body-font",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d"},{name:"Acumin Pro Semi Condensed i3",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b"},{name:"Acumin Pro Semi Condensed n6",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c"},{name:"Acumin Pro Semi Condensed i6",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2"}]},{fonts:[{name:"Azo Sans Bold",role:"headline-font",lookupKey:"278fd89c347f793d1246e809"},{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]},{fonts:[{name:"PT Sans Narrow Bold",role:"headline-font",lookupKey:"34ba94a3207f6b301e48f61ffdf451b9bc4380"},{name:"PT Serif n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Serif i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{name:"PT Serif n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{name:"PT Serif i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]}]},{feel:r.getString("font-picker-feels-classic"),fontCards:[{fonts:[{name:"Adobe Caslon Pro Regular",role:"headline-font",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76"},{name:"Adobe Caslon Pro n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76"},{name:"Adobe Caslon Pro i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede"},{name:"Adobe Caslon Pro n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4"},{name:"Adobe Caslon Pro i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75"}]},{fonts:[{name:"LTC Bodoni 175 Italic",role:"headline-font",lookupKey:"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5"},{name:"Acumin Pro Semi Condensed n3",role:"body-font",secondaryRole:"is-body-font",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d"},{name:"Acumin Pro Semi Condensed i3",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b"},{name:"Acumin Pro Semi Condensed n6",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c"},{name:"Acumin Pro Semi Condensed i6",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2"}]},{fonts:[{name:"Didot Headline Regular",role:"headline-font",lookupKey:"2087d09f35315075314de804fce651a9b64891b8d1f5"},{name:"PT Serif n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Serif i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{name:"PT Serif n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{name:"PT Serif i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]},{fonts:[{name:"PT Serif Regular",role:"headline-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Sans n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3207f6b3d024ce318fee20e"},{name:"PT Sans i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3207f6b3d195de501fbe0"},{name:"PT Sans n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3207f6b3d1246e809"},{name:"PT Sans i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687"}]},{fonts:[{name:"Courier Std n4",role:"headline-font",lookupKey:"2781c18228746a30035de040c0e61b8ebf4e96"},{name:"Adobe Caslon Pro n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76"},{name:"Adobe Caslon Pro i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede"},{name:"Adobe Caslon Pro n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4"},{name:"Adobe Caslon Pro i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75"}]}]},{feel:r.getString("font-picker-feels-clean"),fontCards:[{fonts:[{name:"Proxima Nova Light",role:"headline-font",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d"},{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]},{fonts:[{name:"Raleway Regular",role:"headline-font",lookupKey:"368fd8953670613d024ce318fee20e"},{name:"Lato n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"288fc09f6c437d772545e51f"},{name:"Lato i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"288fc09f6c586c713c40e7"},{name:"Lato n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"288fc09f6c53777c34"},{name:"Lato i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"288fc09f6c5374713342a424e6e21092b0"}]},{fonts:[{name:"PT Sans Narrow Regular",role:"headline-font",lookupKey:"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5"},{name:"PT Sans n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3207f6b3d024ce318fee20e"},{name:"PT Sans i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3207f6b3d195de501fbe0"},{name:"PT Sans n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3207f6b3d1246e809"},{name:"PT Sans i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687"}]},{fonts:[{name:"Museo Sans Rounded 500",role:"headline-font",lookupKey:"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7"},{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]}]},{feel:r.getString("font-picker-feels-loud"),fontCards:[{fonts:[{name:"Proxima Nova Black",role:"headline-font",lookupKey:"349cdb88287c79301e46f20cbfc1109ab044"},{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]},{fonts:[{name:"Raleway Heavy",role:"headline-font",lookupKey:"368fd8953670613d184ce51beb"},{name:"PT Serif n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Serif i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{name:"PT Serif n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{name:"PT Serif i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]},{fonts:[{name:"Museo Slab 1000",role:"headline-font",lookupKey:"299bc7952e314b7c314ba95ca2b34c"},{name:"Museo Slab n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"299bc7952e314b7c314ba95ea2b3"},{name:"Museo Slab i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3"},{name:"Museo Slab n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"299bc7952e314b7c314ba95aa2b3"},{name:"Museo Slab i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3"}]},{fonts:[{name:"Clarendon Text Pro Bold",role:"headline-font",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9"},{name:"PT Sans n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3207f6b3d024ce318fee20e"},{name:"PT Sans i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3207f6b3d195de501fbe0"},{name:"PT Sans n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3207f6b3d1246e809"},{name:"PT Sans i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687"}]}]},{feel:r.getString("font-picker-feels-natural"),fontCards:[{fonts:[{name:"Local Brewery Bold",role:"headline-font",lookupKey:"2881d7912d315a62355ee11febae3e94bf4b"},{name:"Adobe Caslon Pro n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76"},{name:"Adobe Caslon Pro i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede"},{name:"Adobe Caslon Pro n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4"},{name:"Adobe Caslon Pro i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75"}]},{fonts:[{name:"Voltage Bold",role:"headline-font",lookupKey:"3281d88420767d3d1246e809"},{name:"PT Sans n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3207f6b3d024ce318fee20e"},{name:"PT Sans i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3207f6b3d195de501fbe0"},{name:"PT Sans n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3207f6b3d1246e809"},{name:"PT Sans i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687"}]},{fonts:[{name:"Wanderlust Shine Regular",role:"headline-font",lookupKey:"338fda9424637465235da43efaea129efe7d81b3c5ebdc76"},{name:"Proxima Nova n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6"},{name:"Proxima Nova n7",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056"},{name:"Proxima Nova i4",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7"},{name:"Proxima Nova i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467"}]},{fonts:[{name:"Bellfort Script Regular",role:"headline-font",lookupKey:"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf"},{name:"Calluna n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"278fd89c347f793d024ce318fee20e"},{name:"Calluna i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"278fd89c347f793d195de501fbe0"},{name:"Calluna n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"278fd89c347f793d1246e809"},{name:"Calluna i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"278fd89c347f793d1246e809b2ca089abf4687"}]},{fonts:[{name:"Local Brewery Four",role:"headline-font",lookupKey:"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb"},{name:"PT Serif n4",role:"body-font",secondaryRole:"is-body-font",lookupKey:"34ba94a3246371767d7be10ae7ef1d89"},{name:"PT Serif i4",role:"body-font-italic",secondaryRole:"is-body-font-italic",lookupKey:"34ba94a3246371767d60f00cfeea1f"},{name:"PT Serif n7",role:"body-font-bold",secondaryRole:"is-body-font-bold",lookupKey:"34ba94a3246371767d6beb01f6"},{name:"PT Serif i7",role:"body-font-bold-italic",secondaryRole:"is-body-font-bold-italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7"}]}]}],a={};return t.each(n.sparkfonts,function(e,i){t.each(e.faces,function(t){a[t.lookupKey]={subgroup:e,subgroupName:i,face:t}})}),t.each(o,function(e){t.each(e.fontCards,function(e){t.each(e.fonts,function(e){var t=e.lookupKey,i=a[t],n=i.face.metrics.weight;n>900&&(n=900),n<100&&(n=100),e.weight=n,e.style="i"==i.face.typekitKey.charAt(0)?"italic":"normal",e.subgroupName=i.subgroupName,e.name=i.subgroupName+" "+i.face.name,e.css_name=i.subgroup.cssName})})}),o}.apply(t,n))||(e.exports=r)},function(e,t,i){var n=i(581);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(5),i(6)],void 0===(r=function(e,t,i,n,r){"use strict";var o=r.adobeFontsApiEndpoint+"/v1/",a=o+"selections",s=o+"visual_search/regions",l=o+"visual_search";function c(e,t,i,r,o){var a,s={url:e,headers:{"X-Api-Key":n.clientId,"Content-Type":"application/json"},success:i,error:function(e){console.warn("ERR",e),o&&"function"==typeof o&&o()}};return t&&(s.type="POST",(a=new FormData).append("image",t,"logofont.png"),s.data=a,s.processData=!1,s.contentType=!1,delete s.headers["Content-Type"]),r&&(s.url+="?"+r),s}var d=50;return{getSelections:function e(t,r){var o=i.defer(),s=c(a,null,function(i){var n=r?r.concat(i):i;i&&"number"==typeof i.length&&i.length==d?o.resolve(e(t+1,n)):o.resolve(n)},"page="+(t=t||1)+"&per_page="+d,function(e){o.reject(e)});return n.ajax(s),o.promise},findVisualSearchRegion:function(e){var t=i.defer(),r=c(s,e,function(e){t.resolve(e[0])});return n.ajax(r),t.promise},visualSearch:function(e,t){var r=i.defer(),o=c(l,e,function(e){r.resolve(e)},"x_min="+t.x_min+"&x_max="+t.x_max+"&y_min="+t.y_min+"&y_max="+t.y_max);return n.ajax(o),r.promise}}}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(345),i(48),i(8),i(434)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return i.View.extend({initialize:function(e){i.View.prototype.initialize.call(this),this.options=e},render:function(){var e=this.options.fontFile,t=this.options.fontInfoPromise,i=this.options.fontName,n=this.options.acFontFace,r=this.options.role,o=this.options.toBeReplaced,a=this.options.hideActions,c={};if(e&&t?(c.name=s.getString("custom-font-manager-face-loading"),c.preview="",c.preview_font_family="adobe-clean",c.disable_actions="disable",c.fontFile=e,this.$el.removeClass("cfm-font-empty"),this.$el.removeClass("cfm-font-empty-body-normal")):n?(this.options.subgroupName=n.subgroupName(),c.name=n.friendlyName(),c.preview=n.friendlyName(),this.$el.removeClass("cfm-font-empty"),this.$el.removeClass("cfm-font-empty-body-normal")):(c.name=i,c.hide_actions=!0,c.add_font=!0,this.$el.addClass("cfm-font-empty"),"is-body-font"==r&&this.$el.addClass("cfm-font-empty-body-normal")),c.toBeReplaced=o,a&&(c.hide_actions=a,this.$el.addClass("cfm-font-empty")),t&&t.then(this._handleFontInfo.bind(this)).done(),this.$el.addClass("cfm-font"),this.$el.attr("data-id",this.cid),this.$el.html(s.mustacheRender(l,c)),n){var d=this.$el.find(".cfm-font-preview"),u=d.outerHeight();n.$loadFontCSS(d,14);var h=parseInt(d.css("font-size"));h>=u&&(d.css("height",h+"px"),d.css("line-height",h+"px"),d.parent().css("height",h+"px"),d.parent().css("line-height",h+"px"))}return this.bindActions(),this},getSubgroupName:function(){return this.options.subgroupName},getFontFace:function(){return this.options&&this.options.acFontFace},setFontFace:function(e){this.options=this.options||{},this.options.acFontFace=e},setFontName:function(e){this.options=this.options||{},this.options.fontName=e},setToBeReplaced:function(){this.options.toBeReplaced=!0,this.options.hideActions=!0},getFontName:function(e){return this.options.fontName},setFontFile:function(e){this.options=this.options||{},this.options.fontFile=e},getFontFile:function(){return this.options&&this.options.fontFile},setFontInfoPromise:function(e){this.options=this.options||{},this.options.fontInfoPromise=e},getRole:function(){return this.options&&this.options.role},setRole:function(e){this.options=this.options||{},this.options.role=e},_loadFontFromLocalFile:function(i,r){var o=new FileReader,a=n.defer();return o.onload=function(n){var s="opentype";r.name.toLowerCase().endsWith(".ttf")&&(s="truetype");var l=t.trim(i.preferredFamilyName||i.familyName);t.trim(i.preferredSubfamilyName||i.subfamilyName);e("head").append('<style>\n@font-face {\n  font-family: "'+this._getCSSFamilyName(l)+'";\n font-weight:'+(i.weight||400)+';\n  src: url("'+o.result+'") format("'+s+'");\n}\n</style>'),a.resolve()}.bind(this),o.readAsDataURL(r),a.promise},_getCSSFamilyName:function(e){return this.options.parentView&&this.options.parentView._getCSSFamilyName?this.options.parentView._getCSSFamilyName(e):e.replace(/\s+/g,"-")},_handleFontInfo:function(e){var i,n=this.options.fontFile,r=t.trim(e.preferredFamilyName||e.familyName),o=t.trim(e.preferredSubfamilyName||e.subfamilyName)||"Regular",a={};this.trigger("cfm-got-font-info",{subgroupName:r,fullName:r+" "+o,info:e}),e.info&&e.info.FILE_TOO_BIG||!this.options.fontInfoPromise||!this.options.fontFile||(this.options.fontInfo=e,this.options.subgroupName=r,this.options.fontName=r+" "+o,a.preview=r+" "+o,a.preview_font_family=this._getCSSFamilyName(r),a.preview_font_weight=e.weight,a.preview_font_style=e.style,a.disable_actions="",a.name=r+" "+o,this._loadFontFromLocalFile(e,n).then(function(){this.$el.html(s.mustacheRender(l,a)),(i=this.$el.find(".cfm-font-preview")).addClass("font-loading"),this._styleWithMetrics(i,e),this.bindActions()}.bind(this)).done(),this.bindActions())},_styleWithMetrics:function(e,i){var n=t.trim(i.preferredFamilyName||i.familyName);t.trim(i.preferredSubfamilyName||i.subfamilyName);o.generateMetricsAsync(i.fullName,this._getCSSFamilyName(n),i,!0).then(function(t){var i=a.getFontNormalized(15,t),n=(i.size,e.outerHeight());e.css("font-size",i.size+"px"),i.size>=n&&(e.css("height",i.size+"px"),e.css("line-height",i.size+"px"),e.parent().css("line-height",i.size+"px"),e.parent().css("height",i.size+"px")),e.removeClass("font-loading")}).done()},bindActions:function(){this.$el.find(".cfm-font-delete").on("mouseover",function(e){this.trigger("cfm-item-delete-mouseover",{})}.bind(this)),this.$el.find(".cfm-font-delete").on("mouseout",function(e){this.trigger("cfm-item-delete-mouseout",{})}.bind(this)),this.$el.find(".cfm-font-replace").on("mouseover",function(e){this.trigger("cfm-item-replace-mouseover",{})}.bind(this)),this.$el.find(".cfm-font-replace").on("mouseout",function(e){this.trigger("cfm-item-replace-mouseout",{})}.bind(this)),this.$el.find(".cfm-font-delete").on("click",this._handleDeleteClick.bind(this)),this.$el.find(".cfm-font-replace").on("click",this._handleReplaceClick.bind(this)),this.options.hideReplace&&this.$el.find(".cfm-font-replace").addClass("hide"),this.options.disableReplace&&this.$el.find(".cfm-font-replace").addClass("replace-disabled"),this.options.disableDelete&&this.$el.find(".cfm-font-delete").addClass("delete-disabled"),this.$el.find(".cfm-font-file-missing").on("click",this._handleAddClick.bind(this)),this.actionsBound=!0},_handleAddClick:function(e){e.preventDefault(),e.stopPropagation(),this.trigger("cfm-item-add",{})},_handleReplaceClick:function(e){e.preventDefault(),e.stopPropagation(),this.trigger("cfm-item-replace",e)},_handleDeleteClick:function(e){e.preventDefault(),e.stopPropagation(),this.deleted=!0,this.trigger("cfm-item-delete",e)}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<span class="cfm-font-name{{# toBeReplaced }} strikethrough{{/ toBeReplaced }}">{{name}}<span class="cfm-font-exclamation"></span></span>\n{{# add_font }}\n<span class="cfm-font-preview cfm-font-file-missing">{{ custom-font-manager-font-file-missing }}</span>\n{{/ add_font }}\n{{^ add_font }}\n<span class="cfm-font-preview{{# toBeReplaced }} strikethrough{{/ toBeReplaced }}" style=\'font-family: "{{preview_font_family}}";font-weight: {{preview_font_weight}};font-style: {{preview_font_style}};\'>{{preview}}<div class="font-loading-spinner"></div></span>\n{{/ add_font }}\n<span class="cfm-font-actions{{^ hide_actions }} show{{/ hide_actions }}">\n    <a href="#" class="cfm-font-action cfm-font-replace {{disable_actions}}"></a>\n    <a href="#" class="cfm-font-action cfm-font-delete {{disable_actions}}"></a>\n</span>\n'},function(e,t,i){e.exports=r;var n=i(57).EventEmitter;function r(){n.call(this)}i(14)(r,n),r.Readable=i(371),r.Writable=i(588),r.Duplex=i(589),r.Transform=i(590),r.PassThrough=i(591),r.Stream=r,r.prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",s),i.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===n.listenerCount(this,"error"))throw e}function d(){i.removeListener("data",r),e.removeListener("drain",o),i.removeListener("end",s),i.removeListener("close",l),i.removeListener("error",c),e.removeListener("error",c),i.removeListener("end",d),i.removeListener("close",d),e.removeListener("close",d)}return i.on("error",c),e.on("error",c),i.on("end",d),i.on("close",d),e.on("close",d),e.emit("pipe",i),e}},,function(e,t,i){"use strict";(function(t,n){var r=i(33).nextTick;e.exports=y;var o,a=i(66);y.ReadableState=b;i(57).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=i(438),c=i(32).Buffer,d=t.Uint8Array||function(){};var u=i(25);u.inherits=i(14);var h=i(572),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,g=i(586),m=i(439);u.inherits(y,l);var v=["error","close","destroy","pause","resume"];function b(e,t){o=o||i(263),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=i(63).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||i(263),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,i,n,r){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,C(e)}(e,a)):(r||(o=function(e,t){var i;(function(e){return c.isBuffer(e)||e instanceof d})(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));return i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):T(e,a)):k(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&C(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),i=!0),w(this,e,t,!1,i)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=i(63).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var x=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r(S,e):S(e))}function S(e){p("emit readable"),e.emit("readable"),P(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r(M,e,t))}function M(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,n=1,r=i.data;e-=r.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++n}return t.length-=n,r}(e,t):function(e,t){var i=c.allocUnsafe(e),n=t.head,r=1;n.data.copy(i),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t);return n}(e,t.buffer,t.decoder),i);var i}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):C(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&A(this),null;var n,r=t.needReadable;return p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",r=!0),t.ended||t.reading?p("reading or ended",r=!1):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(i,t))),null===(n=e>0?E(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&A(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:y;function c(t,n){p("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),i.removeListener("end",d),i.removeListener("end",y),i.removeListener("data",g),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function d(){p("onend"),e.end()}o.endEmitted?r(l):i.once("end",l),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(i);e.on("drain",u);var h=!1;var f=!1;function g(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!h&&(p("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function m(t){p("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",v),y()}function y(){p("unpipe"),i.unpipe(e)}return i.on("data",g),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",m),e.once("close",v),e.once("finish",b),e.emit("pipe",i),o.flowing||(p("pipe resume"),i.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,i);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},y.prototype.on=function(e,t){var i=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&C(this):r(I,this))}return i},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r(D,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",function(){if(p("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){(p("wrapped data"),i.decoder&&(r=i.decoder.write(r)),!i.objectMode||null!==r&&void 0!==r)&&((i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause())))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},y._fromList=E}).call(this,i(9),i(18))},function(e,t,i){e.exports=i(57).EventEmitter},function(e,t,i){"use strict";var n=i(33).nextTick;function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){"use strict";e.exports=o;var n=i(263),r=i(25);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i(14),r.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3)],void 0===(r=function(e,t,n,r){"use strict";return n.Model.extend({getShareView:function(){return this._getShareViewDefer||(this._getShareViewDefer=r.defer(),Promise.all([i.e("npw-visual-browse-view~share-view"),i.e("share-view")]).then(function(e){var t=i(962);this._getShareViewDefer.resolve(new t)}.bind(this).bind(null,i)).catch(i.oe)),this._getShareViewDefer.promise}})}.apply(t,n))||(e.exports=r)},,function(e,t,i){e.exports=!i(91)&&!i(43)(function(){return 7!=Object.defineProperty(i(376)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(42),r=i(92),o=i(274),a=i(377),s=i(89).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,i){var n=i(215),r=i(217),o=i(352)(!1),a=i(378)("IE_PROTO");e.exports=function(e,t){var i,s=r(e),l=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~o(c,i)||c.push(i));return c}},function(e,t,i){var n=i(89),r=i(44),o=i(275);e.exports=i(91)?Object.defineProperties:function(e,t){r(e);for(var i,a=o(t),s=a.length,l=0;s>l;)n.f(e,i=a[l++],t[i]);return e}},function(e,t,i){var n=i(217),r=i(278).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(n(e))}},function(e,t,i){"use strict";var n=i(275),r=i(353),o=i(335),a=i(126),s=i(334),l=Object.assign;e.exports=!l||i(43)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=a(e),l=arguments.length,c=1,d=r.f,u=o.f;l>c;)for(var h,p=s(arguments[c++]),f=d?n(p).concat(d(p)):n(p),g=f.length,m=0;g>m;)u.call(p,h=f[m++])&&(i[h]=p[h]);return i}:l},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,i){"use strict";var n=i(244),r=i(46),o=i(452),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),i=a.call(arguments,1),l=function(){var n=i.concat(a.call(arguments));return this instanceof l?function(e,t,i){if(!(t in s)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,i)}(t,n.length,n):o(t,n,e)};return r(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(42).parseInt,r=i(354).trim,o=i(383),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var i=r(String(e),3);return n(i,t>>>0||(a.test(i)?16:10))}:n},function(e,t,i){var n=i(42).parseFloat,r=i(354).trim;e.exports=1/n(i(383)+"-0")!=-1/0?function(e){var t=r(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},function(e,t,i){var n=i(245);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,i){var n=i(46),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,i){"use strict";var n=i(277),r=i(272),o=i(320),a={};i(216)(a,i(58)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(a,{next:r(1,i)}),o(e,t+" Iterator")}},function(e,t,i){var n=i(44);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,i){var n=i(244),r=i(126),o=i(334),a=i(71);e.exports=function(e,t,i,s,l){n(t);var c=r(e),d=o(c),u=a(c.length),h=l?u-1:0,p=l?-1:1;if(i<2)for(;;){if(h in d){s=d[h],h+=p;break}if(h+=p,l?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:u>h;h+=p)h in d&&(s=t(s,d[h],h,c));return s}},function(e,t,i){"use strict";var n=i(126),r=i(276),o=i(71);e.exports=[].copyWithin||function(e,t){var i=n(this),a=o(i.length),s=r(e,a),l=r(t,a),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?a:r(c,a))-l,a-s),u=1;for(l<s&&s<l+d&&(u=-1,l+=d-1,s+=d-1);d-- >0;)l in i?i[s]=i[l]:delete i[s],s+=u,l+=u;return i}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var n=i(398);i(10)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,i){i(91)&&"g"!=/./g.flags&&i(89).f(RegExp.prototype,"flags",{configurable:!0,get:i(356)})},function(e,t,i){"use strict";var n,r,o,a,s=i(274),l=i(42),c=i(243),d=i(336),u=i(10),h=i(46),p=i(244),f=i(324),g=i(359),m=i(337),v=i(400).set,b=i(724)(),y=i(466),w=i(725),k=i(360),x=i(467),_=l.TypeError,C=l.process,S=C&&C.versions,T=S&&S.v8||"",M=l.Promise,I="process"==d(C),D=function(){},P=r=y.f,E=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[i(58)("species")]=function(e){e(D,D)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var i=e._c;b(function(){for(var n=e._v,r=1==e._s,o=0,a=function(t){var i,o,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,d=t.domain;try{s?(r||(2==e._h&&R(e),e._h=1),!0===s?i=n:(d&&d.enter(),i=s(n),d&&(d.exit(),a=!0)),i===t.promise?c(_("Promise-chain cycle")):(o=A(i))?o.call(i,l,c):l(i)):c(n)}catch(e){d&&!a&&d.exit(),c(e)}};i.length>o;)a(i[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){v.call(l,function(){var t,i,n,r=e._v,o=N(e);if(o&&(t=w(function(){I?C.emit("unhandledRejection",r,e):(i=l.onunhandledrejection)?i({promise:e,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=I||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){v.call(l,function(){var t;I?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},z=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw _("Promise can't be resolved itself");(t=A(e))?b(function(){var n={_w:i,_d:!1};try{t.call(e,c(z,n,1),c(j,n,1))}catch(e){j.call(n,e)}}):(i._v=e,i._s=1,F(i,!1))}catch(e){j.call({_w:i,_d:!1},e)}}};E||(M=function(e){f(this,M,"Promise","_h"),p(e),n.call(this);try{e(c(z,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(325)(M.prototype,{then:function(e,t){var i=P(m(this,M));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=I?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&F(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=c(z,e,1),this.reject=c(j,e,1)},y.f=P=function(e){return e===M||e===a?new o(e):r(e)}),u(u.G+u.W+u.F*!E,{Promise:M}),i(320)(M,"Promise"),i(323)("Promise"),a=i(92).Promise,u(u.S+u.F*!E,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(s||!E),"Promise",{resolve:function(e){return x(s&&this===a?M:this,e)}}),u(u.S+u.F*!(E&&i(355)(function(e){M.all(e).catch(D)})),"Promise",{all:function(e){var t=this,i=P(t),n=i.resolve,r=i.reject,o=w(function(){var i=[],o=0,a=1;g(e,!1,function(e){var s=o++,l=!1;i.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,i[s]=e,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(e){var t=this,i=P(t),n=i.reject,r=w(function(){g(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,t,i){"use strict";var n=i(244);e.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)}(e)}},function(e,t,i){var n=i(44),r=i(46),o=i(466);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=o.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){"use strict";var n=i(89).f,r=i(277),o=i(325),a=i(243),s=i(324),l=i(359),c=i(389),d=i(462),u=i(323),h=i(91),p=i(256).fastKey,f=i(280),g=h?"_s":"size",m=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,c){var d=e(function(e,n){s(e,d,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=n&&l(n,i,e[c],e)});return o(d.prototype,{clear:function(){for(var e=f(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var i=f(this,t),n=m(i,e);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(e){f(this,t);for(var i,n=a(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!m(f(this,t),e)}}),h&&n(d.prototype,"size",{get:function(){return f(this,t)[g]}}),d},def:function(e,t,i){var n,r,o=m(e,t);return o?o.v=i:(e._l=o={i:r=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[g]++,"F"!==r&&(e._i[r]=o)),e},getEntry:m,setStrong:function(e,t,i){c(e,t,function(e,i){this._t=f(e,t),this._k=i,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},i?"entries":"values",!i,!0),u(t)}}},function(e,t,i){"use strict";var n=i(325),r=i(256).getWeak,o=i(44),a=i(46),s=i(324),l=i(359),c=i(241),d=i(215),u=i(280),h=c(5),p=c(6),f=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return h(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var i=v(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,o){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=n&&l(n,i,e[o],e)});return n(c.prototype,{delete:function(e){if(!a(e))return!1;var i=r(e);return!0===i?g(u(this,t)).delete(e):i&&d(i,this._i)&&delete i[this._i]},has:function(e){if(!a(e))return!1;var i=r(e);return!0===i?g(u(this,t)).has(e):i&&d(i,this._i)}}),c},def:function(e,t,i){var n=r(o(t),!0);return!0===n?g(e).set(t,i):n[e._i]=i,e},ufstore:g}},function(e,t,i){var n=i(238),r=i(71);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}},function(e,t,i){var n=i(278),r=i(353),o=i(44),a=i(42).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),i=r.f;return i?t.concat(i(e)):t}},function(e,t,i){var n=i(71),r=i(385),o=i(246);e.exports=function(e,t,i,a){var s=String(o(e)),l=s.length,c=void 0===i?" ":String(i),d=n(t);if(d<=l||""==c)return s;var u=d-l,h=r.call(c,Math.ceil(u/c.length));return h.length>u&&(h=h.slice(0,u)),a?h+s:s+h}},function(e,t,i){var n=i(275),r=i(217),o=i(335).f;e.exports=function(e){return function(t){for(var i,a=r(t),s=n(a),l=s.length,c=0,d=[];l>c;)o.call(a,i=s[c++])&&d.push(e?[i,a[i]]:a[i]);return d}}},function(e,t,i){e.exports=i(435)},function(e,t,i){"use strict";var n=i(59),r=i(257),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,i,r,a,s,l,c,d=[],u=0,h=e.length,p=h,f="string"!==n.getTypeOf(e);u<e.length;)p=h-u,f?(t=e[u++],i=u<h?e[u++]:0,r=u<h?e[u++]:0):(t=e.charCodeAt(u++),i=u<h?e.charCodeAt(u++):0,r=u<h?e.charCodeAt(u++):0),a=t>>2,s=(3&t)<<4|i>>4,l=p>1?(15&i)<<2|r>>6:64,c=p>2?63&r:64,d.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return d.join("")},t.decode=function(e){var t,i,n,a,s,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,i=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(c++))),u[d++]=t,64!==s&&(u[d++]=i),64!==l&&(u[d++]=n);return u}},function(e,t){var i=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(781);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(403),r=i(364).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){"use strict";(function(t){var n=i(59),r=i(794),o=i(218),a=i(475),s=i(257),l=i(338),c=null;if(s.nodestream)try{c=i(795)}catch(e){}function d(e,i){return new l.Promise(function(r,o){var s=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",function(e,t){s.push(e),i&&i(t)}).on("error",function(e){s=[],o(e)}).on("end",function(){try{var e=function(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(c,function(e,i){var n,r=0,o=null,a=0;for(n=0;n<i.length;n++)a+=i[n].length;switch(e){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(o=new Uint8Array(a),n=0;n<i.length;n++)o.set(i[n],r),r+=i[n].length;return o;case"nodebuffer":return t.concat(i);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),d);r(e)}catch(e){o(e)}s=[]}).resume()})}function u(e,t,i){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=i,n.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,function(e){t.call(i,e.data,e.meta)}):this._worker.on(e,function(){n.delay(t,arguments,i)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(this,i(20).Buffer)},function(e,t,i){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,i){"use strict";var n=i(59),r=i(218);function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,i){"use strict";var n=i(59),r=i(218);function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,i){"use strict";var n=i(218),r=i(406);function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i(59).inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,i){"use strict";var n=i(218);t.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},t.DEFLATE=i(798)},function(e,t,i){"use strict";e.exports=function(e,t,i,n){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+(r=r+t[n++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,i){"use strict";var n=i(258),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,n,r,o,s=t||e.length,c=new Array(2*s);for(n=0,i=0;i<s;)if((r=e[i++])<128)c[n++]=r;else if((o=a[r])>4)c[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&i<s;)r=r<<6|63&e[i++],o--;o>1?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return l(c,n)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+a[e[i]]>t?i:t}},function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,i){"use strict";var n=i(59),r=i(257),o=i(493),a=i(812),s=i(813),l=i(495);e.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},function(e,t,i){"use strict";var n=i(494);function r(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}i(59).inherits(r,n),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&i===o[1]&&n===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,i){"use strict";var n=i(59);function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=r},function(e,t,i){"use strict";var n=i(493);function r(e){n.call(this,e)}i(59).inherits(r,n),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},,,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(4),i(339),i(827)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s;return(s=o.extend({bodyClassName:"messaging-strip-merch-block",cachename:"messagingStripMerchBlock",aspectRatio:545/182,_renderBlock:function(){var e={isNew:this.model.get("isNew"),header:this.model.get("header"),title:this.model.get("title"),subtitle:this.model.get("subtitle"),buttonTitle:this.model.get("buttonTitle"),thumbnail:this.model.get("thumbnail"),aspectRatio:this.model.get("aspectRatio"),bodyClassName:this.model.get("bodyClassName"),contentClassName:this.model.get("contentClassName")},t=this.model.get("analyticsEvent"),i=this.model.get("analyticsTrigger");t&&r.trackEvent(t,{trigger:i}),this.$el.html(n.render(a,e)),e.bodyClassName&&this.$el.addClass(e.bodyClassName),e.contentClassName&&this.$el.find(".messaging-strip-merch-block-content").addClass(e.contentClassName),e.aspectRatio&&(this.aspectRatio=e.aspectRatio),this.$el.find(".messaging-strip-merch-block-content").on("click",function(){var e=this.model.get("analyticsConversionEvent");e&&r.trackEvent(e,{trigger:i}),this.model.get("buttonAction")()}.bind(this))}})).pattern="messaging-strip-merch",s}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(832)],void 0===(r=function(e,t,i,n,r){"use strict";var o=i.View.extend({className:"messaging-strip-takeover",cachename:"messagingStripTakeover",render:function(){this.$el.html(n.to_html(r,this.model.toJSON())),this.model.get("buttonAction")&&this.$el.find(".messaging-strip-takeover-cta").on("click",function(){this.hide(),this.model.get("done")&&this.model.get("done")(!0),this.model.get("buttonAction")()}.bind(this)),this.$el.find(".messaging-strip-close-x").on("click",function(){this.hide(),this.model.get("done")&&this.model.get("done")(!1)}.bind(this)),this.model.get("showing")?this.show():this.hide()},show:function(){e(".messaging-strip-takeover").addClass("messaging-strip-takeover-show"),this.model.set("showing",!1)},hide:function(){e(".messaging-strip-takeover").removeClass("messaging-strip-takeover-show"),this.model.set("showing",!1)},remove:function(){this.hide(),this.$el.empty()}});return o.pattern="messaging-strip-takeover",o}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(23),i(5),i(7),i(4),i(15),i(837)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return o.extend({el:".item-preview-overlay",events:{"click .item-preview-close-btn":"handleCloseBtn"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){return this.$el.html(r.mustacheRender(d)),this.div$=this.$el.find(".preview-div"),this.downloadLink$=this.$el.find(".item-preview-download-link"),this.downloadLink$.attr("download",this.model.get("name")),this.model.preloadImageRendition().then(function(){var e=this.model.getImageRendition(1200);e&&e.url&&(this.div$.css("background-image","url("+e.url+")"),this.downloadLink$.attr("href",e.url))}.bind(this)).done(),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(4),i(7),i(237),i(409)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return i.View.extend({initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._acLoadMoreSize={},this._resolvesOutstanding=0,this._resolveQueue=[],this._resolvedCounter=0,this._resolvedForFilterCounter=0,this._checkAllResolved=t.debounce(this._checkAllResolved,50),this._resort=t.debounce(this._resort,50),this._itemViewLookup={},this._badItemViewLookup={},this._getDocRefs().then(this._handleDocRefs).done(),marvel.events.on("show-organizer-loading",this.handleShowOganizerLoadingEvent),this._afterInit()},_afterInit:function(){},handleScroll:function(t){Math.ceil(e(window).scrollTop())+e(window).height()>=e(document).height()&&this._moreBtn$.hasClass("spinner")&&!this._moreBtn$.hasClass("spinner-loading")&&this._moreDocsToShow&&this.handleMoreProjects()},bindOrganizer:function(e,t,i,n){this._moreBtn$=e,this._moreBtn$&&this._moreBtn$.on("click",this.handleMoreProjects),this._projectsTitle$=t,this._organizer$=i,this._organizerView=n},setOrganizerElements:function(e,t,i){this._projects$=e,this._loading$=t,this._gallery$=i},getController:function(){return s},_getDocRefs:function(){return s.getDocRefs()},_trackView:function(){},_handleDocRefs:function(e){this._refs&&(this._refs.off("reset",this._resetRender),this._refs.off("add",this._resetRender)),this._refs=e,this._refs.on("reset",this._resetRender),this._refs.on("add",this._resetRender),this._renderIsWaiting&&(this._renderIsWaiting=!1,this._resetRender()),this._trackedLoading||(this._trackedLoading=!0,this._trackView())},_resetRender:function(){this.render()},_getLoadMoreSize:function(e){var t="none";return this._acLast&&(t=this._acLast.getId()),this._acLoadMoreSize[t]||(this._acLoadMoreSize[t]=8),e&&(this._acLoadMoreSize[t]+=8),this._acLoadMoreSize[t]},_hasEnoughElements:function(){return this._resolvedForFilterCounter>=this._getLoadMoreSize()},_setMoreBtnState:function(e){"load-more"===e?(this._moreBtn$.text(r.getString("organizer-verb-load-more")),this._moreBtn$.removeClass("disabled").removeClass("spinner"),t.delay(function(){this._moreBtn$.removeClass("hide").removeClass("melting")}.bind(this),300)):"spinner-loaded"===e||"no-more"===e?(this._moreBtn$.removeClass("disabled").addClass("spinner").removeClass("spinner-loading"),"no-more"===e?this._moreBtn$.addClass("no-more"):this._moreBtn$.removeClass("no-more")):"spinner-loading"===e&&this._moreBtn$.removeClass("disabled").addClass("spinner").addClass("spinner-loading").removeClass("no-more")},_gridSpecificEmptyProjectsElem:function(e){this._gridSpecificEmptyProjectsElem$=e},_clearEmptyProjects:function(){this._gridSpecificEmptyProjectsElem$?this._gridSpecificEmptyProjectsElem$.removeClass("empty-projects"):this._organizer$&&(this._gridSpecificEmptyProjectsElem$||this._organizer$.removeClass("empty-projects"))},_setEmptyProjects:function(){var e=this._gridSpecificEmptyProjectsElem$;if(e?e.addClass("empty-projects"):this._organizer$&&(this._organizer$.addClass("empty-projects"),e=this._organizer$.find(".mrvl-organizer-empty")),e){var t=this.getController().getCurrentSingleFilteredApp();t?e.addClass("single-format").find(".empty-projects-app-name").text(t.getDisplayName()):e.removeClass("single-format")}},_checkAllResolved:function(){if((this._hasEnoughElements()||0===this._resolveQueue.length)&&0===this._resolvesOutstanding){this._moreDocsToShow?this._organizer$&&(this._clearEmptyProjects(),o.trackEvent("organizer:loadMoreBtnShown",{},"organizer:projects")):(this._setMoreBtnState("no-more"),0===this.$el.children(".mrvl-organizer-doc-item").length?(this._anyLoaded||this._onLoadedProjects(),this._setEmptyProjects(),this._projectsTitle$&&this._projectsTitle$.text(r.getString("organizer-empty-projects-title"))):this._clearEmptyProjects()),this._anyLoaded||(this._anyLoaded=!0,this._onLoadedProjects());var i=this.$el.find(".born");i.removeClass("hide"),t.delay(function(){i.removeClass("born"),this._moreDocsToShow&&(this._anyLoads?this._hasLoadScrollHandler?this._setMoreBtnState("spinner-loaded"):e(window).height()<e(document).height()?(e(window).on("scroll.organizerautoload",this.handleScroll.bind(this)),this._hasLoadScrollHandler=!0,this._setMoreBtnState("spinner-loaded")):this._setMoreBtnState("load-more"):(this._anyLoads=!0,this._setMoreBtnState("load-more")))}.bind(this),10)}},_onLoadedProjects:function(){this._projects$&&this._projects$.removeClass("loading"),this._loading$&&this._loading$.addClass("hide"),this.$el.removeClass("hide")},handleShowOganizerLoadingEvent:function(){this._projects$&&this._projects$.addClass("loading"),this._loading$&&this._loading$.removeClass("hide"),this.$el.addClass("hide"),this._setMoreBtnState("no-more")},_doResolveRef:function(e,t){this._resolvesOutstanding++,e.resolve().then(function(e){this._resolvedCounter++,this._resolvesOutstanding--,t.resolve(e)}.bind(this),function(i){if(a.hasFeature("organizer-can-show-bad-projects")&&(e.IS_BAD_REF||e.setAsBadRefFromCompositeLoadError(i))){var n=this._itemViewLookup[e.get("id")];n&&n.renderRefresh(),this._resolvedCounter++}else this._itemViewLookup[e.get("id")]&&(this._itemViewLookup[e.get("id")]=null,this._itemViewLookup[e.get("id")].$el.remove()),this._badItemViewLookup[e.get("id")]=e;this._resolvesOutstanding--,this._resolveNext(),t.resolve(null)}.bind(this)).done()},_resolveNext:function(){for(var e;!this._hasEnoughElements()&&this._resolvesOutstanding<8&&this._resolveQueue.length>0;)e=this._resolveQueue.shift(),this._doResolveRef(e.ref,e.defer)},_queueResolve:function(e){var i={ref:e,defer:n.defer()};return this._resolveQueue.push(i),t.defer(this._resolveNext.bind(this)),i.defer.promise},_filterDoc:function(e,t){return!0},_getFilteredRefs:function(i){var n=this.$el.find(".melting");t.each(n,function(t){var i=(t=e(t)).attr("data-id");this._itemViewLookup[i]&&(this._itemViewLookup[i].remove(),this._itemViewLookup[i]=null),t.remove()}.bind(this)),this._clearEmptyProjects(),this._anyLoaded=!1,t.delay(function(){this._anyLoaded||0!==this.$el.children().length||this._loading$&&this._loading$.removeClass("hide")}.bind(this),750),this._resolveQueue=[],this._resolvedCounter=0,this._resolvedForFilterCounter=0,this._moreDocsToShow=!1,this._refs.length?this._refs.each(function(e,t){e._idx=t,this._itemViewLookup[e.get("id")]&&this._itemViewLookup[e.get("id")].$el.attr("data-idx",e._idx),this._queueResolve(e).then(function(t){var n=t;if(t){t.getMyApp().getAuthoringContextId(t);this._filterDoc(t,i)&&(this.resolvedForFilterCounter++,this._renderDoc(e))}else if(a.hasFeature("organizer-can-show-bad-projects")&&e.IS_BAD_REF){this._renderDoc(e);var r=this._itemViewLookup[e.get("id")];r&&r.renderRefresh()}return this._checkAllResolved(),n}.bind(this)).done()}.bind(this)):this._checkAllResolved()},_findInsertPos:function(i){var n=null;return t.each(this.$el.children(),function(t){var r=e(t);i._idx<+r.attr("data-idx")&&!n&&(n=r)}.bind(this)),n},_postItemViewRender:function(i){this._import&&!i.importOverlay$&&(i.$el.addClass("import-candidate"),i.importOverlay$=e('<div class="workspace-import-overlay"></div>'),i.$el.append(i.importOverlay$),i.importOverlay$.on("click",function(){i.importOverlay$.hasClass("checked")?(i.importOverlay$.removeClass("checked"),t.remove(this._importList,{id:i.model.id})):(i.importOverlay$.addClass("checked"),this._importList.push(i.model)),t.isEmpty(this._importList)?this._importCompleteLink$.addClass("hide"):this._importCompleteLink$.removeClass("hide")}.bind(this)))},_organizerItemFactory:function(e){return new l(e)},_renderDoc:function(e){var t=this._findInsertPos(e);if(e.getResolvedDoc()){var i=this._itemViewLookup[e.get("id")],n=this.$el.children().length-this.$el.children(".melting").length;if(!i&&n>=this._getLoadMoreSize()&&(this._moreDocsToShow=!0),!t&&n>=this._getLoadMoreSize())return void this._resolveNext();this._resolvedForFilterCounter++,this._resolveNext(),this._clearEmptyProjects(),i||(i=this._organizerItemFactory({model:e,renderCallback:function(){this._postItemViewRender(i)}.bind(this)}),this._itemViewLookup[e.get("id")]=i,i.$el.attr("data-id",e.get("id")),i.viewCounter=this.$el.children().length,i.$el.addClass("hide"),t?i.$el.insertBefore(t):this.$el.append(i.$el),i.mainView=this),i.$el.attr("data-idx",e._idx),i.model=e.getResolvedDoc(),i._lastRenderedEtag=i.model.getEtag(),this._resort()}},render:function(){return this.$el.addClass("clearfix"),this._refs?(this._renderIsWaiting=!1,a.featuresLoaded().then(function(){a.hasFeature("entitle-brand-kit")?this._organizer$.removeClass("unentitled"):this._organizer$.addClass("unentitled")}.bind(this)).done(),this._getFilteredRefs()):this._renderIsWaiting=!0,this},_resort:function(){var t,i,n=this.$el.children();for(n.sort(function(e,t){var i=+e.getAttribute("data-idx"),n=+t.getAttribute("data-idx");return i>n?1:n>i?-1:0});n.length>this._getLoadMoreSize();)t=e(n[n.length-1]),(i=this._itemViewLookup[t.attr("data-id")])&&(i.remove(),this._itemViewLookup[t.attr("data-id")]=null),t.remove(),n=this.$el.children();n.detach().appendTo(this.$el)},getDocItemView:function(e){return this._itemViewLookup&&this._itemViewLookup[e.get("id")]},handleMoreProjects:function(e){return e&&this._moreBtn$.hasClass("spinner")||(this._setMoreBtnState("spinner-loading"),this._getLoadMoreSize(!0),this.render(),o.trackEvent("organizer:loadMoreBtnClicked",{},"organizer:projects")),!1},cleanupItemViews:function(){t.each(this._itemViewLookup,function(e){e&&e.remove()}),this.$el&&this.$el.html(""),this._itemViewLookup={}},remove:function(){return this._refs&&(this._refs.off("reset",this._resetRender),this._refs.off("add",this._resetRender)),this._moreBtn$&&this._moreBtn$.off("click",this.handleMoreProjects),this.cleanupItemViews(),e(window).off("scroll.scrolldisabler"),this._hasLoadScrollHandler&&(e(window).off("scroll.organizerautoload"),this._hasLoadScrollHandler=!1),this._anyLoads=!1,marvel.events.off("show-organizer-loading",this.handleSetOrganizerLoadingDisplayEvent),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(4),i(7),i(23),i(854),i(503),i(214)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return new(s.extend({el:".confirm-overlay",events:{"click .move-view-bg":"handleBackgroundClick","click .cancel-btn":"handleCloseBtn","click .sp-cta-button-secondary":"handleCloseBtn","click .move-btn:not(.disabled)":"handleMoveBtn","click .move-view-drillup":"handleDestinationFolderClick"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){this.$el.length||(this.$el=e(document.body).find(".confirm-overlay")),this.$el.html(r.mustacheRender(l)),this.cancelBtn$=this.$el.find(".sp-cta-button-secondary"),this.$el[0].focus(),this.closeBtn$=this.$el.find(".confirm-view-close-btn"),this.moveBtn$=this.$el.find(".confirm-btn-0"),this.moveBtn$.on("click",this.handleMoveBtn.bind(this)),this.moveViewShell$=this.$el.find(".move-view-shell"),this.createBtn$=this.$el.find(".mrvl-dlg-folder-create"),this.createFolder$=this.$el.find(".move-view-create-folder"),this.createFolderInput$=this.$el.find("#move-view-folder-input"),this.createFolderError$=this.$el.find(".confirm-view-error-message"),this.$el.on("click",".mrvl-dlg-folder-create:not(.disabled)",this.handleCreateClick.bind(this)),this.$el.on("keyup","#move-view-folder-input",this.handleCreateInputKeyup.bind(this)),this.createConfirmBtn$=this.$el.find(".confirm-btn-1"),this.createConfirmBtn$.on("click",this.handleCreateConfirmBtn.bind(this)),this.contentArea$=this.$el.find(".move-view-content"),this.contentArea$.on("click",".move-view-drilldown",this.handleDrilldown.bind(this)),this.contentArea$.on("click",".move-view-item-folder:not(.disabled)",this.handleDestinationFolderClick.bind(this)),this.currentLocation$=this.$el.find(".move-view-current-location"),this.currentLocationName$=this.currentLocation$.find(".move-view-current-name"),this.drillupEl$=this.currentLocation$.find(".move-view-drillup"),this.drillupEl$.on("click",this.handleParentFolderClick.bind(this)),this.sourceFolder=this._itemsToMove[0].parentFolder?this._itemsToMove[0].parentFolder:this._itemsToMove[0],this.sourceFolder&&this.sourceFolder.isFolder&&this.drawFolders(this.sourceFolder),this.$el.removeClass("hide")},drawFolders:function(i){var n;this._currentFolder=i,this.contentArea$.empty(),this._folderMap=new Map,this.currentLocationName$.html("root"===i.id?"My Stuff":t.escape(i.name)),this.currentLocationName$.attr("sparkFolder",i.id),this._folderMap.set(i.id.toString(),i),"root"===i.id?this.drillupEl$.addClass("hide"):this.drillupEl$.removeClass("hide"),this.isValidDestination(i)?this.selectFolder(this.currentLocationName$,i):this.selectFolder(null);var r,o=i.getDiscoveryContext().folders;t.each(o,function(i){n=e('<div class="move-view-item-folder"><span>'+t.escape(i.name)+"</span></div>"),this._movingFolders?this.isValidDestination(i)?((r=e('<div class="move-view-drilldown">')).attr("sparkFolder",i.id),this._folderMap.set(i.id.toString(),i),n.append(r)):n.addClass("disabled"):((r=e('<div class="move-view-drilldown">')).attr("sparkFolder",i.id),this._folderMap.set(i.id.toString(),i),n.append(r)),n.attr("sparkFolder",i.id),this.contentArea$.append(n)}.bind(this)),t.each(i.projects,function(i){n=e('<div class="move-view-item-project">'+t.escape(i.name)+"</div>"),this.contentArea$.append(n)}.bind(this))},handleBtn:function(e,t){t.stopPropagation(),this.$el.addClass("hide"),this._moveDefer&&(this._moveDefer.resolve(e),this._moveDefer=null)},handleBackgroundClick:function(e){this.handleCloseBtn(e)},handleCloseBtn:function(e){this.handleBtn(null,e)},handleMoveBtn:function(e){this._destinationFolder&&this.handleBtn(this._destinationFolder,e)},handleDestinationFolderClick:function(t){t.stopPropagation();var i=this._folderMap.get(t.currentTarget.attributes.sparkFolder.value),n=e(t.currentTarget);this.isValidDestination(i)?this.selectFolder(n,i):this.selectFolder(null)},handleDrilldown:function(e){e.stopPropagation();var t=this._folderMap.get(e.currentTarget.attributes.sparkFolder.value);this.drawFolders(t)},handleParentFolderClick:function(e){e.stopPropagation(),this._currentFolder.parentFolder&&this.drawFolders(this._currentFolder.parentFolder)},handleCreateClick:function(e){this._currentFolder||console.warn("failed: handleCreateClick with null current folder"),e.stopPropagation(),e.preventDefault(),this.moveViewShell$.removeClass("has-error"),this.createBtn$.addClass("hide"),this.currentLocation$.addClass("hide"),this.createFolder$.removeClass("hide"),this.createBtn$.addClass("disabled"),this.createConfirmBtn$.removeClass("disabled hide"),this.moveBtn$.addClass("hide"),this.contentArea$.addClass("disabled"),this._contentAreaScrollTop=this.contentArea$.scrollTop(),this.contentArea$.scrollTop(0),this.contentArea$.attr("data-createInName",this._currentFolder.name),this.createFolder$.find("#move-view-folder-input").focus(),this.createFolderInput$.get(0).setSelectionRange(0,this.createFolderInput$.val().length),o.trackEvent("createFolder:clicked",{createdFrom:"picker"},"organizer:projects"),this._attachCancelCreate()},_attachCancelCreate:function(){this.cancelBtn$.one("click.cancelCreate",function(e){e.stopPropagation(),this.toggleCreateFolder(),o.trackEvent("createFolder:cancelled",{createdFrom:"picker"},"organizer:projects")}.bind(this))},handleCreateInputKeyup:function(e){e.preventDefault(),13===e.which?this.handleCreateConfirmBtn():27===e.which&&this.toggleCreateFolder()},handleCreateConfirmBtn:function(){this.moveViewShell$.removeClass("has-error"),this.createConfirmBtn$.addClass("disabled"),this.cancelBtn$.off("click.cancelCreate"),this._createFolder(this.createFolderInput$.val())},toggleCreateFolder:function(){this.createBtn$.removeClass("hide"),this.currentLocation$.removeClass("hide"),this.createFolder$.addClass("hide"),this.createBtn$.removeClass("disabled"),this.createConfirmBtn$.addClass("disabled hide"),this.moveBtn$.removeClass("hide"),this.contentArea$.removeClass("disabled"),this.contentArea$.scrollTop(this._contentAreaScrollTop),this.createFolderInput$.val(r.getString("organizer-create-folder-default-name"))},_createFolder:function(e){d.load().then(function(i){return i.ACPSparkController.createFolder(e,this._currentFolder).then(function(t){return this.drawFolders(t),o.trackEvent("createFolder:success",{folderName:e,createdFrom:"moveView"},"organizer:projects"),this.toggleCreateFolder(),!0}.bind(this),function(i){c.handleCreateFolderError(i,t.escape(e),"moveView",function(e){this.createConfirmBtn$.removeClass("disabled"),this._attachCancelCreate(),this.createFolderError$.html(e),this.moveViewShell$.addClass("has-error")}.bind(this))}.bind(this))}.bind(this)).done()},isValidDestination:function(e){return!!t.find(this._itemsToMove,function(t){return t!==e&&t.parentFolder!==e})},selectFolder:function(e,t){this.moveBtn$.addClass("disabled"),this.$el.find(".move-view-current-folder").removeClass("open"),this.$el.find(".move-view-item-folder").removeClass("open"),e?(this.moveBtn$.removeClass("disabled"),this.moveBtn$.prop("disabled",!1),e.filter(".move-view-item-folder").addClass("open"),this._destinationFolder=t):(this.moveBtn$.addClass("disabled"),this.moveBtn$.prop("disabled",!0),this._destinationFolder=t)},show:function(e){var n=i.defer();return e&&Array.isArray(e)&&e.length>0?(this._itemsToMove=e,this._movingFolders=!!t.find(e,function(e){return e.isFolder}),this._moveDefer=n,this.render()):n.resolve(null),n.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(4),i(8),i(12)],void 0===(r=function(e,t,i,n){"use strict";var r={showAlert:function(e,r,o){return t.trackEvent("showAlert:shown",{createdFrom:o},"organizer:projects"),n.showAlert(e,r,{okText:i.getString("organizer-error-confirm")}).then(function(){t.trackEvent("showAlert:accepted",{createdFrom:o},"organizer:projects")}.bind(this)),!1},handleCreateFolderError:function(n,o,a,s){if(n.message.indexOf("errorCode:409")>=0)r.showAlert(i.getString("organizer-error-create-folder-conflict-title"),i.getString("organizer-error-create-folder-conflict-message"));else if(n.message.indexOf("errorCode:412")>=0){s(e('<p class="mrvl-dialog-error">'+i.formatMessage("organizer-error-create-folder-duplicate-message",{folderName:o})+"</p>"))}else this.showAlert(i.getString("organizer-error-create-folder-title"),i.formatMessage("organizer-error-create-folder-message",{folderName:o}));t.trackEvent("createFolder:failed",{folderName:o,createdFrom:a},"organizer:projects")}};return r}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(5),i(24),i(6),i(237)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return new(s.clsDEF.extend({_includeAppProjects:function(e){var i=e.getSetting("syncGroup");return!!t.endsWith(i,"-template")&&(!this.projectFilters||this.projectFilters.shouldShowAppProjects(i.substring(0,i.length-9)))},_getProjectFilterId:function(){return"template"}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(4),i(232),i(23)],void 0===(r=function(e,t,i,n,r,o){"use strict";return o.extend({events:{"click .x-close-btn":"handleCancel","click .wk-cancel":"handleCancel","click .wk-post-to":"handlePostTo","click .wk-authenticate":"handleAuthenticate","click .wk-post-to-profile":"handlePostProfile","click .wk-download-link":"handleDownload"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),e&&e.imageUrl?this.imageUrl=e.imageUrl:this.imageUrl=null,e&&e.app?this.app=e.app:this.app=null,e&&e.projectId?this.projectId=e.projectId:this.projectId=null,e&&e.workflow?this.workflow=e.workflow:this.workflow=null,r.init()},setImageUrl:function(e){this.imageUrl=e},setProjectId:function(e){this.projectId=e},setApp:function(e){this.app=e},handleDownload:function(e){var t=this.app.getAppTypeID();n.trackEvent(this.analyticsEvents.downloadedDesign,{app:t,projectId:this.projectId,workflow:this.workflow},t+":editor")},handleCancel:function(e){e.preventDefault();var t=this.app.getAppTypeID();try{window.sessionStorage&&window.sessionStorage.removeItem("workflowOnLoadDesignView")}catch(e){}this.canViewPost=!1,this.isPosting=!1,this.postId=null,n.trackEvent(this.analyticsEvents.dismissWorkflow,{app:t,projectId:this.projectId,workflow:this.workflow},t+":editor"),n.removeContextData("workflow"),this.hideOverlay()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2)],void 0===(r=function(e,t){return{setupAndCacheCss:function(i){var n=[];return t.each(i,function(i,r){var o=e(r);t.each(i.add,function(e){o.hasClass(e)||(n.push({obj$:o,cssClass:e,hadClass:!1}),o.addClass(e))}),t.each(i.remove,function(e){o.hasClass(e)&&(n.push({obj$:o,cssClass:e,hadClass:!0}),o.removeClass(e))})}),n},restoreCss:function(e){t.each(e,function(e){e.hadClass?e.obj$.addClass(e.cssClass):e.obj$.removeClass(e.cssClass)})}}}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(884),i(885),i(886),i(887),i(11),i(17)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return i.View.extend({el:".takeover-wrapper",events:{"click .takeover-primary-btn":"handlePrimaryButton","click .takeover-secondary-btn":"handleSecondaryButton","click .takeover-dismiss-btn":"handleCloseButton"},initialize:function(){t.bindAll(this,t.functionsIn(this)),this.on("close",this.handleCloseButton,this)},handleCloseButton:function(){this.model.get("action")&&this.model.get("action")("close"),this.remove()},handlePrimaryButton:function(){this.model.get("action")&&this.model.get("action")("primary"),this.remove()},handleSecondaryButton:function(){this.model.get("action")&&this.model.get("action")("secondary"),this.remove()},_isInEditor:function(){return window.marvel._siteSection&&0===window.marvel._siteSection.indexOf("editor:")},render:function(){var e;e=this.model.get("design_type")&&"takeover_multi_col"===this.model.get("design_type")?a:this.model.get("design_type")&&"takeover_multi_col_with_cta"===this.model.get("design_type")?s:this.model.get("design_type")&&"takeover_multi_col_with_explainer"===this.model.get("design_type")?l:o,this.$el.html(d.to_html(e.toString(),this.model.toJSON()))},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n=i(892);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(64)],void 0===(r=function(e,t,i,n,r){"use strict";return new(i.Model.extend({initialize:function(){this._messagingProviders=[],this._providerEvents={},this._eventHandlers={},this._messageViews={}},registerProvider:function(e){this._messagingProviders.push(e),e.messagingController=this,e.interestedEvents.forEach(this._addProviderEvent.bind(this,e))},registerMessageView:function(e){this._messageViews[e.MessageViewCls.prototype.cachename]={class:e.MessageViewCls,parentSelector:e.parentSelector,controller:e.controller,cache:null}},_addProviderEvent:function(e,t){var i=this._providerEvents[t];i?i.push(e):(i=[e],this._providerEvents[t]=i,this._registerEventHandler(t))},_registerEventHandler:function(e){if(this._eventHandlers[e])throw new Error("BUG: Attempt to register event handler more than once!");var i=function(){var i=Array.prototype.slice.call(arguments),r=[];this._providerEvents[e].forEach(function(t){var n=t.handleEvent.apply(t,[e].concat(i));r.push(n)}),n.allSettled(r).then(function(i){var n={"messaging-strip-merch":[],"messaging-strip-takeover":[],default:[]};t.flatten(i.filter(function(t){if("fulfilled"===t.state)return t.value;marvel.logger.error("A message provider failed to handle event "+e+"!",t.reason)}).map(function(e){return e.value})).forEach(function(e){var t=this._messageViews[e.viewCachename];t?n[t.class.pattern]?n[t.class.pattern].push(e):n.default.push(e):marvel.logger.error("Unknown message type, ignoring!",e)}.bind(this)),t.each(n,function(e){e.length&&this._displayMessage(e[0])}.bind(this))}.bind(this))}.bind(this);this._eventHandlers[e]=i,r.on(e,i)},_displayMessage:function(e){if(e.viewCachename)return this._renderView(e);marvel.logger.error("Unknown message type, ignoring!",e)},_renderView:function(t){var i,n=this._messageViews[t.viewCachename],r=n&&n.parentSelector?e(n.parentSelector):null;n||marvel.logger.error("Message with unknown view "+t.viewCachename,t);try{n.cache?(i=n.cache).model=t.model:(i=Object.create(n.class.prototype),r&&(i.el=r),n.class.call(i,{model:t.model}),n.cache=i),n.controller?n.controller.attachView(i):i.render()}catch(e){marvel.logger.warn("render exception ["+e+"], View = "+t.viewCachename,e)}}}))}.apply(t,n))||(e.exports=r)},,,,,,,,,,function(e,t,i){var n,r;n=[i(0),i(344),i(520)],void 0===(r=function(e,t,i){var n={inherit:function(t,i,n){var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t,t.prototype._super=i,n&&e.extend(t.prototype,n)},ensureArray:function(){var t=[],i=arguments.length;return i>0&&(t=i>1||!e.isArray(arguments[0])?e.map(arguments,function(e){return e}):arguments[0]),t},scopedFind:function(t,i,n,r){var o=" "+n+" ",a=[],s=e(t).find(i),l=s.length;r=e(r)[0];for(var c=0;c<l;c++)for(var d=s[c],u=d;u;){if(u.className&&-1!==(" "+u.className+" ").indexOf(o)){u===r&&a.push(d);break}u=u.parentNode}return e(a)},getDocumentOffset:function(t){var i=0,n=0;if(t=e(t)[0]){var r=t.offsetParent;for(i=t.offsetLeft,n=t.offsetTop;t;)t===r&&(i+=t.offsetLeft,n+=t.offsetTop,r=t.offsetParent),i-=t.scrollLeft||0,n-=t.scrollTop||0,t=t.parentNode}return{left:i,top:n}},getAlignmentAdjustment:function(e,t,i){var n=0;switch(e){case"left":case"top":n=0;break;case"right":case"bottom":n=t-i;break;case"center":default:n=(t-i)/2}return n},positionElementAroundAnother:function(t,i,n){n=e.extend({position:"right",positionOffset:0,align:"center",alignOffset:0},n);var r=e(t),o=e(i),a=o.offsetParent();o.removeClass("above below left right");var s=r.offset(),l=r.outerWidth(),c=r.outerHeight(),d=a.offset(),u=o.outerWidth(),h=o.outerHeight(),p=n.positionOffset,f=n.align,g=n.alignOffset,m=s.left-d.left,v=s.top-d.top;switch(n.position){case"above":m=m+this.getAlignmentAdjustment(f,l,u)+g,v=v-h-p;break;case"below":m=m+this.getAlignmentAdjustment(f,l,u)+g,v=v+c+p;break;case"left":m=m-u-p,v=v+this.getAlignmentAdjustment(f,c,h)+g;break;case"right":default:m=m+l+p,v=v+this.getAlignmentAdjustment(f,c,h)+g}return{x:m,y:v}},positionElementInsideAnother:function(t,i,n,r){var o=e(t),a=e(i),s=a.offsetParent(),l=o.offset(),c=s.offset(),d=l.left-c.left,u=l.top-c.top;switch(n){case"left":case"center":case"right":n=d+this.getAlignmentAdjustment(n,o.outerWidth(),a.outerWidth());break;default:n=n||0}switch(r){case"top":case"center":case"bottom":r=u+this.getAlignmentAdjustment(r,o.outerHeight(),a.outerHeight());break;default:r=r||0}return{x:n,y:r}},calcTotalWidthOfObjects:function(t){var i=0;for(var n in t)i+=e(t[n]).outerWidth();return i},setElementTransform:function(t,n){e(t).css(i.vendorPrefix+"transform",n)},instantTransform:function(t,i,n){var r=e(t);r.addClass(n),this.setElementTransform(t,i),setTimeout(function(){r.removeClass(n)},0)},parseQueryParams:function(e){var t=/([^\?#]+)?(\?([^#]*))?(#.*)?/.exec(e||""),i={};if(t&&t[3])for(var n=t[3].split("&"),r=0;r<n.length;r++){var o=(n[r]||"").split("=");i[decodeURIComponent(o[0]||"")]=decodeURIComponent(o[1]||"")}return i},serializeQueryParams:function(e){var t="";if(e)for(var i in e)t&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return t},setQueryParams:function(e,t){var i=this.serializeQueryParams(t);return i=(i?"?":"")+i,e.replace(/([^\?#]+)?(\?[^#]*)?(#.*)?/,"$1"+i+"$3")},setQueryParam:function(e,t,i){if(t){var n=this.parseQueryParams(e);return n[t]=i,this.setQueryParams(e,n)}return e}};return t.Utils=n,e.extend(t,n),n}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(344)],void 0===(r=function(e){window.navigator.userAgent;e.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e.isFirefox="undefined"!=typeof InstallTrigger,e.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e.isIE=!!document.documentMode,e.isEdge=!e.isIE&&!!window.StyleMedia,e.isMSEdge=e.isEdge,e.isChrome=!!window.chrome&&!window.opera&&!e.isMSEdge,e.isBlink=(e.isChrome||e.isOpera)&&!!window.CSS,e.supportsAddEventListenerOptions=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsAddEventListenerOptions=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e.supportsAddEventListenerOptions=!1}e.supportsPassiveEventListeners=e.supportsAddEventListenerOptions,e.touchEventsEnabled="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e.pointerEventsEnabled=window.PointerEvent||window.navigator.pointerEnabled,e.msPointerEventsEnabled=window.navigator.msPointerEnabled,e.supportsMozInputSource=e.isFirefox&&!e.touchEventsEnabled&&window.MouseEvent&&window.MouseEvent.MOZ_SOURCE_MOUSE,e.touchEnabled=e.touchEventsEnabled||e.msPointerEventsEnabled||e.pointerEventsEnabled||e.supportsMozInputSource;var i="";if(window.getComputedStyle){var n=window.getComputedStyle(document.documentElement,"");"-moz-"===(i=(Array.prototype.slice.call(n).join("").match(/(-moz-|-webkit-|-ms-)/)||""===n.OLink&&["","o"])[1])&&(i="")}return e.vendorPrefix=i||"",e}.apply(t,n))||(e.exports=r)},,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(56),i(419),i(98),i(6),i(530),i(531),i(532),i(540),i(542),i(12),i(544),i(546),i(548),i(550),i(552),i(553),i(554),i(558),i(347),i(219),i(348),i(330),i(559),i(95),i(4),i(426),i(40),i(35),i(560),i(418),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T,M,I,D,P,E,A,F,L){"use strict";var N=i.View.extend({collection:null,childViews:[],initialize:function(e){this._options=e||{},this._options.image_filter||(this._options.image_filter=[".jpg",".jpeg",".png","image/jpeg","image/png"]),this._options.imageFilter=new D(this._options.image_filter),this._handleDooploPick=this._handleDooploPick.bind(this),this._handleLightroomPick=this._handleLightroomPick.bind(this),this._handleLightroomImporterPick=this._handleLightroomImporterPick.bind(this),this._handleHierarchicalPick=this._handleHierarchicalPick.bind(this),this._handleAdobeStockPick=this._handleAdobeStockPick.bind(this),this.dropboxPickerDefer=n.defer(),this.googlePhotosPickerDefer=n.defer(),this.facebookPickerDefer=n.defer(),this.model=new k,this.model.on("change:label",function(e){var t=e.get("label");this.$el.find(".picker-bar .source-label").text(t)}.bind(this)),this._connectedApp=I.getProductName(),this._editorSection=window.marvel._siteSection.split(":")[1],this._pickerInstances=[],this._isBound||(this._isBound=!0,this._sparkAreaChange=this._sparkAreaChange.bind(this)),window.marvel.events.on("spark-area-change",this._sparkAreaChange)},render:function(){var e=this.$el;e.html(L.mustacheRender(y)),e.find(".search-button").on("vclick",this._handleSearch.bind(this)),e.find(".dropbox-button").on("vclick",this._handleDropbox.bind(this)),e.find(".stock-search-button").on("vclick",this._handleStockSearch.bind(this)),e.find(".facebook-button").on("vclick",this._handleFacebook.bind(this)),e.find(".instagram-button").on("vclick",this._handleInstagram.bind(this)),e.find(".dropbox-logout").on("vclick",this._handleDropboxLogout.bind(this)),e.find(".instagram-logout").on("vclick",this._handleInstagramLogout.bind(this)),e.find(".facebook-logout").on("vclick",this._handleFacebookLogout.bind(this)),e.find(".google-photos-logout").on("vclick",this._handleGoogleLogout.bind(this)),e.find(".google-photos-button").on("vclick",this._handleGooglePhotos.bind(this)),e.find(".google-drive-button").on("vclick",this._handleGoogleDrive.bind(this)),this._useLightroomImporter()?e.find(".lightroom-button").on("vclick",this._handleLightroomImporter.bind(this)):e.find(".lightroom-button").on("vclick",this._handleLightroom.bind(this)),e.find(".cc-button").on("vclick",this._handleCC.bind(this)),e.find(".picker-bar .close-button").on("vclick",this.hide.bind(this)),e.find("button.filter").on("vclick",this._handleFilterButton.bind(this)),e.find("button.sort").on("vclick",this._handleSortButton.bind(this)),e.find(".picker-bar .back-button").on("vclick",this._handlePickerBack.bind(this));var t=e.find(".local-file-input");return t.attr("accept",this._options.imageFilter.getAcceptAttributeString()),t.on("change",this._handleLocalFile.bind(this)).on("click",function(e){e.stopPropagation()}),e.find(".local-file-button").on("vclick",function(t){var i=e.find(".local-file-input");i&&i[0].click(),t.preventDefault()}),e.addClass("v1design"),this.$(".local-file-button")[0].firstChild.textContent=L.formatMessage("imagepicker-upload-photo",{usePlural:!1}),this.home(),x.isAuthenticated()&&(e.find(".dropbox-connect").addClass("hide"),e.find(".dropbox-logout").addClass("authenticated")),_.isAuthenticated()&&e.find(".facebook-logout").addClass("authenticated"),C.isAuthenticated()&&e.find(".instagram-logout").addClass("authenticated"),S.isAuthenticated()&&(e.find(".google-photos-connect").addClass("hide"),e.find(".google-photos-logout").addClass("authenticated")),marvel.features.hasFeature("show-facebook-image-picker")||e.find(".facebook-button-wrapper").addClass("hide"),marvel.features.hasFeature("show-published-url-image-picker")&&(this._setupCopyUrl(),this._setupPickerProgress()),marvel.features.hasFeature("enable-image-picker-dnd")&&this._setupDragAndDrop(),marvel.features.hasFeature("show-instagram-image-picker")||e.find(".instagram-button-wrapper").addClass("hide"),this},jumpTo:function(e,t,i,n){n=n||{};var r,o=!0;"Dooplo"==e?r="vector"==this._options.assetType?"IconSearch":"Search":"Creative Cloud"==e?e=r="CC":"adobestock"==e.toLowerCase()?(e="AdobeStock",r="StockSearch",R(this._connectedApp)||(e="",r="",o=!1)):"Lightroom"===e&&this._useLightroomImporter()?(r="LightroomImporter",this.home()):"google drive"==e.toLowerCase()?o=!1:"googledrive"==e.toLowerCase()?(r=null,o=!1):r=e,"LightroomImporter"===r?this._setPickerToLightroomImporter():"StockSearch"===r?this._handleStockSearch(t||!1):this["_handle"+r]?this["_handle"+r](!1):(this.home(),o&&console.warn("Unknown image source! Context specifies "+r));this.model.get("picker");"Dooplo"==e?this.dooploPicker.show(t):"google drive"==e.toLowerCase()?this._handleGoogleDrive():"googledrive"==e.toLowerCase()?e=null:(t=t||"",e="GooglePhotos"===e?"googlePhotos":"googleDrive"==e?"googleDrive":"CC"===e?"creativeCloud":"AdobeStock"===e?"adobeStock":"LightroomImporter"===r?n.suppressServiceUI?null:"lightroomImporter":e.toLowerCase(),this._ensurePicker(e).then(function(e){e&&e.jumpTo&&e.jumpTo(t,i,n)}).done())},_ensurePicker:function(e){var t=e&&this[e+"Picker"],i=this[e+"PickerDefer"];return t?n(t):i?i.promise:n.reject("No picker found for "+e)},deselectAsset:function(){this.$(".results .selected").removeClass("selected")},_hideCurrentPicker:function(e){var t=this.$el.find(".sp-picker.showing");t.hasClass(e+"-picker")||(t.removeClass("showing"),t.hasClass("picker-home")&&t.addClass("leaving"))},_sparkAreaChange:function(e,t){"editor"===t.area.new?t.section.new===this._editorSection&&this._changingToMyEditor(t):"editor"===t.area.old&&t.section.old===this._editorSection&&this._changingFromMyEditor(t)},_changingToMyEditor:function(e){t.each(this._pickerInstances,function(t){t.handleChangingToEditor(e)})},_changingFromMyEditor:function(e){t.each(this._pickerInstances,function(t){t.handleChangingFromEditor(e)})},_saveNewPicker:function(e){this._pickerInstances.push(e)},setHomeLablesText:function(){var e,t=marvel.features.hasFeature("image-picker-singular-plural");e=this._options.homeLabel?this._options.homeLabel:L.formatMessage("imagepicker-add-photo",{usePlural:!t||this.model.get("multiSelect")}),this.model.set({label:e}),t&&(this.$(".local-file-button")[0].firstChild.textContent=L.formatMessage("imagepicker-upload-photo",{usePlural:this.model.get("multiSelect")}))},home:function(){if("vector"==this._options.assetType)return this._handleIconSearch(),void this.$(".back-button").remove();this.$el.find(".sp-picker.showing");this.$el.find(".picker-home").hasClass(".showing")||this._hideCurrentPicker(),this.$el.find(".picker-home").addClass("showing").removeClass("leaving"),this.$el.find(".picker-bar").addClass("home"),this.model.set(this.model.defaults),this.setHomeLablesText(),R(this._connectedApp)?this.$el.find(".stock-search-button-wrapper").removeClass("hide"):this.$el.find(".stock-search-button-wrapper").addClass("hide")},_enableGoogleDrive:function(){switch(this._editorSection){case"video":return marvel.features.hasFeature("google-drive-in-voice");case"post":return marvel.features.hasFeature("google-drive-in-theo");case"page":return marvel.features.hasFeature("google-drive-in-slate");default:return!1}},_handleSearch:function(){this._hideCurrentPicker("dooplo"),this.dooploPicker||(this.dooploPicker=new l(this.$el.find(".dooplo-picker"),this._handleDooploPick,this._options),this._saveNewPicker(this.dooploPicker)),this.model.set({picker:this.dooploPicker,label:L.getString("imagepicker-find-free-photos"),page:this.$el.find(".dooplo-picker"),source:"Dooplo"}),this.dooploPicker.show(),this.$el.find(".picker-bar").removeClass("home")},_handleIconSearch:function(){this._hideCurrentPicker("dooplo-icon"),this.dooploPicker||(this.dooploPicker=new l(this.$el.find(".dooplo-icon-picker"),this._handleDooploPick,this._options),this._saveNewPicker(this.dooploPicker)),this.model.set({picker:this.dooploPicker,label:L.getString("imagepicker-find-icon"),page:this.$el.find(".dooplo-icon-picker"),source:"Dooplo"}),this.dooploPicker.show()},_handleStockSearch:function(e){this._hideCurrentPicker("stock"),this.adobeStockPicker||(this.adobeStockPicker=new c(this.$el.find(".stock-picker"),this._handleAdobeStockPick,this._options),this._saveNewPicker(this.adobeStockPicker)),this.model.set({picker:this.adobeStockPicker,label:L.getString("imagepicker-source-adobe-stock"),page:this.$el.find(".stock-picker"),source:"AdobeStock"}),this.adobeStockPicker.show("string"==typeof e&&e||!1),this.$el.find(".picker-bar").removeClass("home")},_handleLocal:function(){this.$el.find(".sp-picker").removeClass("showing"),this.$el.find(".local-picker").addClass("showing")},_handleBeforeUnload:function(e){return!e.isAuthenticated()&&this._beforeUnload?this._beforeUnload():n.resolve()},_handleDropbox:function(e){this._handleBeforeUnload(x).then(function(){this._hideCurrentPicker("dropbox"),this.dropboxPicker||(this.dropboxPicker=new d(this.$el.find(".dropbox-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.dropboxPicker)),this.model.set({picker:this.dropboxPicker,label:L.getString("imagepicker-source-dropbox"),page:this.$el.find(".dropbox-picker"),source:"Dropbox"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.dropboxPicker.populate(),this.$el.find(".dropbox-picker").addClass("showing"),this.dropboxPickerDefer.resolve(this.dropboxPicker)}.bind(this)).done()},_handleFacebook:function(e){this._handleBeforeUnload(_).then(function(){this._hideCurrentPicker("facebook"),this.facebookPicker||(this.facebookPicker=new d(this.$el.find(".facebook-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.facebookPicker)),this.model.set({picker:this.facebookPicker,label:L.getString("imagepicker-source-facebook"),page:this.$el.find(".facebook-picker"),source:"Facebook"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.facebookPicker.populate(),this.$el.find(".facebook-picker").addClass("showing"),this.facebookPickerDefer.resolve(this.facebookPicker)}.bind(this)).done()},_handleInstagram:function(e){this._hideCurrentPicker("instagram"),this.instagramPicker||(this.instagramPicker=new d(this.$el.find(".instagram-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.instagramPicker)),this.model.set({picker:this.instagramPicker,label:L.getString("imagepicker-source-instagram"),page:this.$el.find(".instagram-picker"),source:"Instagram"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.instagramPicker.populate(),this.$el.find(".instagram-picker").addClass("showing")},_handleGooglePhotos:function(e){this._handleBeforeUnload(S).then(function(){this._hideCurrentPicker("google-photos"),this.googlePhotosPicker||(this.googlePhotosPicker=new d(this.$el.find(".google-photos-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.googlePhotosPicker)),this.model.set({picker:this.googlePhotosPicker,label:L.getString("imagepicker-source-google-photos"),page:this.$el.find(".google-photos-picker"),source:"Google Photos"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.googlePhotosPicker.populate(),this.$el.find(".google-photos-picker").addClass("showing"),this.googlePhotosPickerDefer.resolve(this.googlePhotosPicker)}.bind(this)).done()},_handleGoogleDrive:function(e){var t,i,n=S.getAccessToken();t=function(){n.then(function(e){r.set("google-drive-token",e);var t=new google.picker.DocsView(google.picker.ViewId.DOCS_IMAGES);t.setIncludeFolders(!0).setParent("root").setMimeTypes("image/png,image/jpeg,image/jpg");var n=(new google.picker.PickerBuilder).setAppId(S.getAppId()).setOAuthToken(e).addView(t).setDeveloperKey(S.getApiKey()).setCallback(i);marvel.features.hasFeature("google-drive-multi")&&this.model.get("multiSelect")?(this.googleDrivePickerMulti||(n.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),this.googleDrivePickerMulti=n.build()),this.googleDrivePicker=this.googleDrivePickerMulti):(this.googleDrivePickerSingle||(this.googleDrivePickerSingle=n.build()),this.googleDrivePicker=this.googleDrivePickerSingle),this.googleDrivePicker.setVisible(!0),this.model.set({picker:this.googleDrivePicker,page:this.$el.find(".google-drive-picker"),source:"GoogleDrive"})}.bind(this)).catch(function(e){marvel.logger.warn("[GoogleDrive] getAccessToken failed",e)})}.bind(this),i=function(e){var t=e[google.picker.Response.ACTION];if(t==google.picker.Action.PICKED){var i=e[google.picker.Response.DOCUMENTS];this._handleGoogleDrivePick(i)}t!=google.picker.Action.PICKED&&t!=google.picker.Action.CANCEL||this.googleDrivePicker.setVisible(!1)}.bind(this),T.whenAvailable().then(function(){window.gapi.load("picker",{callback:t,onerror:function(e){marvel.logger.error("[GoogleDrive] error while loading Google API",e)},timeout:5e3,ontimeout:function(){marvel.logger.error("[GoogleDrive] timeout while loading Google API")}})})},_handleLightroom:function(e){this._hideCurrentPicker("lightroom"),this.lightroomPicker||(this.lightroomPicker=new d(this.$el.find(".lightroom-picker"),this._handleLightroomPick,this),this._saveNewPicker(this.lightroomPicker)),this.model.set({picker:this.lightroomPicker,label:L.getString("imagepicker-source-lightroom"),page:this.$el.find(".lightroom-picker"),source:"Lightroom"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.lightroomPicker.populate(),this.$el.find(".lightroom-picker").addClass("showing")},_setPickerToLightroomImporter:function(){this.lightroomImporterPicker||(this.lightroomImporterPicker=new w(this.$el.find(".lightroom-importer-wrapper"),this._handleLightroomImporterPick,this),this._saveNewPicker(this.lightroomImporterPicker)),this.model.set({picker:this.lightroomImporterPicker,page:this.$el.find(".lightroom-importer-wrapper"),source:"Lightroom"})},_handleLightroomImporter:function(e){this._setPickerToLightroomImporter(),this.lightroomImporterPicker.show({multiSelect:this.model.get("multiSelect")})},_handleCC:function(e){this._hideCurrentPicker("creative-cloud"),this.creativeCloudPicker||(this.creativeCloudPicker=new d(this.$el.find(".creative-cloud-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.creativeCloudPicker)),this.model.set({picker:this.creativeCloudPicker,label:L.getString("imagepicker-source-creative-cloud"),page:this.$el.find(".creative-cloud-picker"),source:"Creative Cloud"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.creativeCloudPicker.populate(),this.$el.find(".creative-cloud-picker").addClass("showing")},_handleDropboxLogout:function(e){var t=this.$el.find(".dropbox-logout"),i=this.$el.find(".dropbox-connect");marvel._dialogShowing||(this.dropboxLogoutConfirmView||(this.dropboxLogoutConfirmView=new g,this.dropboxLogoutConfirmView.on("confirm",function(){x.logout(),t.removeClass("authenticated"),i.removeClass("hide")})),this.dropboxLogoutConfirmView.showOverlay(),e.stopPropagation())},_handleInstagramLogout:function(e){var t=this.$el.find(".instagram-logout");marvel._dialogShowing||(this.instagramLogoutConfirmView||(this.instagramLogoutConfirmView=new v,this.instagramLogoutConfirmView.on("confirm",function(){C.logout(),t.removeClass("authenticated")})),this.instagramLogoutConfirmView.showOverlay(),e.stopPropagation())},_handleFacebookLogout:function(e){var t=this.$el.find(".facebook-logout");marvel._dialogShowing||(this.facebookLogoutConfirmView||(this.facebookLogoutConfirmView=new f,this.facebookLogoutConfirmView.on("confirm",function(){_.logout(),t.removeClass("authenticated")})),this.facebookLogoutConfirmView.showOverlay(),e.stopPropagation())},_handleGoogleLogout:function(e){var t=this.$el.find(".google-photos-logout"),i=this.$el.find(".google-photos-connect");marvel._dialogShowing||(this.googleLogoutConfirmView||(this.googleLogoutConfirmView=new m,this.googleLogoutConfirmView.on("confirm",function(){S.logout(),t.removeClass("authenticated"),i.removeClass("hide")})),this.googleLogoutConfirmView.showOverlay(),e.stopPropagation())},_handlePickerBack:function(){var e=this.model.get("picker");e&&e.canGoBack()?e.goBack():this.home()},_handleDooploPick:function(e){var t=[{source:"Dooplo",mimeType:e.getMimeType(),original:{link:e.getOriginalURL(),height:e.links.original.height,width:e.links.original.width},preview:{link:e.getPreviewURL(),height:e.links.preview.height,width:e.links.preview.width},thumbnail:{link:e.getThumbURL(),height:e.links.thumb.height,width:e.links.thumb.width}}],i=this.dooploPicker.getSearchText(),n=e.data.source.name;e.data.searchText=i,I.trackEvent("imageChosen",{imageSource:"dooplo:"+n,searchTerm:i,contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(t,e.data)},_handleAdobeStockPick:function(e){var t=[{source:"AdobeStock",mimeType:e.getMimeType(),original:{},preview:{link:e.getPreviewURL(),height:e.links.preview.height,width:e.links.preview.width},thumbnail:{link:e.getThumbURL(),height:e.links.thumb.height,width:e.links.thumb.width},licenseInfo:e.licenseInfo}],i=t[0].licenseInfo.license.short_name;e.setOriginalLinkFields(t[0].original);var n=this.adobeStockPicker.getSearchContext();e.licenseInfo.searchText=n,I.trackEvent("imageChosen",{imageSource:"AdobeStock",licenseType:i,searchTerm:n,contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(t,e.licenseInfo)},_handleHierarchicalPick:function(e,t,i){e.aspect&&(t=e.aspect.width||t,i=e.aspect.height||i);var n=[{source:this.model.get("source"),mimeType:e.getMimeType?e.getMimeType():"image/jpeg",original:{link:encodeURI(e.getOriginalURL()),height:e.links.original.height||i,width:e.links.original.width||t},preview:{link:encodeURI(e.getPreviewURL()),height:e.links.original.height||i,width:e.links.original.width||t},thumbnail:{link:encodeURI(e.getThumbURL()),height:e.links.original.height||i,width:e.links.original.width||t},caption:e.caption}];"Dropbox"==this.model.get("source")&&I.trackEvent("imageChosen",{imageSource:"Dropbox",contextData:["projectId"]},this._connectedApp+":editor"),"Facebook"==this.model.get("source")?I.trackEvent("imageChosen",{imageSource:"Facebook",contextData:["projectId"]},this._connectedApp+":editor"):"Creative Cloud"==this.model.get("source")?I.trackEvent("imageChosen",{imageSource:"Creative Cloud",contextData:["projectId"]},this._connectedApp+":editor"):"Google Photos"==this.model.get("source")?I.trackEvent("imageChosen",{imageSource:"Google Photos",contextData:["projectId"]},this._connectedApp+":editor"):"Facebook"==this.model.get("source")?I.trackEvent("imageChosen",{imageSource:"Facebook",contextData:["projectId"]},this._connectedApp+":editor"):"Instagram"==this.model.get("source")&&I.trackEvent("imageChosen",{imageSource:"Instagram",contextData:["projectId"]},this._connectedApp+":editor");var r,o,a=this.model.get("picker"),s=e.getParentPath(),l=a.getCurrentFolderPath();l&&(s=s.replace(l.toLowerCase(),l)),"Google Photos"==this.model.get("source")?(r=a.getCurrentFolderUrl().replace(/^.*albumid\/([^\/\?\#]*).*$/,"$1"),o=l.replace(/^\//,"")):"Facebook"==this.model.get("source")?(r=a.getCurrentFolderUrl(),o=l.replace(/^\//,"")):"Instagram"==this.model.get("source")&&(r=a.getCurrentFolderUrl(),o=l.replace(/^\//,"")),this._userURLHandler&&this._userURLHandler(n,{path:s,albumId:r,albumName:o,assetID:e.data.path_lower,thumbNaturalSize:e.thumbNaturalSize})},_handleGoogleDrivePick:function(e){var i=window.location.protocol+"//"+window.location.host+"/images/google/drive-icon-mono-512.png?t="+t.now(),n=[];t.each(e,function(e){var t={source:"Google Drive",mimeType:e.mimeType,original:{link:encodeURI("https://www.googleapis.com/drive/v2/files/"+e.id+"?alt=media")},preview:{link:encodeURI("https://"+window.location.host+"/gd_files/drive/v2/files/"+e.id+"?alt=media")},thumbnail:{link:encodeURI(i)},caption:e.description};n.push(t)}),I.trackEvent("imageChosen",{imageSource:"Google Drive",contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(n,{path:encodeURI("https://"+window.location.host+"/gd_files/drive/v2/files/"+e[0].id+"?alt=media"),albumId:"",albumName:"",assetID:e[0].id,thumbNaturalSize:{width:0,height:0}})},_handleLightroomPick:function(e){var t,i=[{source:"Lightroom",mimeType:e.getMimeType(),original:{link:encodeURI(e.getOriginalURL()),height:e.links.original.height,width:e.links.original.width},preview:{link:encodeURI(e.getPreviewURL()),height:e.links.original.height,width:e.links.original.width},thumbnail:{link:encodeURI(e.getThumbURL()),height:e.links.original.height,width:e.links.original.width},caption:e.caption}];I.trackEvent("imageChosen",{imageSource:"Lightroom",contextData:["projectId"]},this._connectedApp+":editor");var n=this.model.get("picker").getLastCrumb();this._userURLHandler&&(n&&n.label?t={albumName:n.label}:n&&n.item&&n.item.data&&(t={albumName:n.item.data.name}),t.thumbNaturalSize=e.thumbNaturalSize,this._userURLHandler(i,t))},_handleLightroomImporterPick:function(e){var t,i=[],n=[];for(t=0;t<e.length;t++){var r=e[t],o={source:"Lightroom",mimeType:r.getMimeType(),original:{link:encodeURI(r.getOriginalURL()),height:r.links.original.height,width:r.links.original.width},preview:{link:encodeURI(r.getPreviewURL()),height:r.links.original.height,width:r.links.original.width},thumbnail:{link:encodeURI(r.getThumbURL()),height:r.links.original.height,width:r.links.original.width},caption:r.caption,largeRenditionRequest:r.largeRenditionRequest};i.push(o),n.push({albumName:r.albumName})}I.trackEvent("imageChosen",{imageSource:"Lightroom",contextData:["projectId"]},this._connectedApp+":editor"),this._useLightroomImporter()&&this._userURLHandler&&this._userURLHandler(i,n)},_handleLocalFile:function(t){var i=t.target.files;I.trackEvent("imageChosen",{imageSource:"Local File",contextData:["projectId"]},this._connectedApp+":editor");var n=e(t.target).clone();e(t.target).replaceWith(n),n.val("").on("change",this._handleLocalFile.bind(this)).on("click",function(e){e.stopPropagation()}),this._userLocalHandler&&this._userLocalHandler(i)},_setupDragAndDrop:function(){this._userLocalHandler&&(this._dropTarget$=this.$el.find(".photo-picker"),this.$el.find(".drag-and-drop-explainer-holder").removeClass("hide"),this._dropTarget$.on("drag dragstart dragend dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}),this._dropTarget$.on("dragenter dragover",function(e){"dragover"===e.originalEvent.type&&(e.originalEvent.dataTransfer.dropEffect="copy"),this._dropTarget$.addClass("dragover-target"),e.preventDefault(),e.stopPropagation()}.bind(this)),this._dropTarget$.on("dragleave dragend drop",function(e){this._dropTarget$.removeClass("dragover-target")}.bind(this)),this._dropTarget$.on("drop",this._handleDrop.bind(this)),this._applyOptionsToDnD())},_handleDrop:function(e){e.preventDefault(),e.stopPropagation();var i=[],n=this.model.get("multiSelect"),r=this._options.image_filter,o=e.originalEvent.target.files||e.originalEvent.dataTransfer.files;if(o&&o.length)if(n)i=t.filter(o,function(e){return r.indexOf(e.type)>-1});else{var a=t.find(o,function(e){return r.indexOf(e.type)>-1});a&&i.push(a)}else if(marvel.features.hasFeature("show-published-url-image-picker")){var s=e.originalEvent.dataTransfer&&(e.originalEvent.dataTransfer.getData("URL")||e.originalEvent.dataTransfer.getData("text"));if(s)return void this._handleCopyUrl(s,"dnd")}if(i.length)if(n&&i.length!==o.length){var l=L.formatMessage("imagepicker-drop-confirm-message",{validCount:i.length,totalCount:o.length,supportedType:this._fileTypesString});p.showConfirm(L.getString("imagepicker-copy-url-alert-title"),l,{okText:L.getString("imagepicker-drop-confirm-button-ok"),cancelText:L.getString("imagepicker-drop-confirm-button-cancel")}).then(function(e){e&&this._userLocalHandler(i)}.bind(this))}else this._userLocalHandler(i);else{var c=L.formatMessage("imagepicker-drop-confirm-message-invalid",{supportedType:this._fileTypesString});p.showAlert(L.getString("imagepicker-copy-url-alert-title"),c).done()}I.trackEvent("imageChosen",{imageSource:"Local File DnD",contextData:["projectId"],numFiles:i.length},this._connectedApp+":editor")},_applyOptionsToDnD:function(){var e=[];t.each(this._options.image_filter,function(t){"."===t.charAt(0)?t=t.substring(1):0===t.indexOf("image/")&&(t=t.substring(6)),-1===e.indexOf(t)&&e.push(t)}),this._fileTypesString=e.join(", "),this.model.get("multiSelect")?this.$el.find(".drag-and-drop-explainer-holder").addClass("multiSelect"):this.$el.find(".drag-and-drop-explainer-holder").removeClass("multiSelect")},remove:function(){return this.$el.empty(),this._changingFromMyEditor(),window.marvel.events.off("spark-area-change",this._sparkAreaChange),this},show:function(e){e=e||{},this.model.set("multiSelect",e.multiSelect);var t="vector"==this._options.assetType,i=t?".dooplo-icon-picker":".picker-home";this.isShowing()||window.setTimeout(function(){if(!this.isShowing()){var n=this.$el;n.find(".photo-picker").addClass("showing"),n.find(".sp-picker").removeClass("showing"),n.find(i).addClass("showing"),n.find(".results .selected").removeClass("selected"),marvel.features.hasFeature("google-photos")&&n.find(".google-photos-button-wrapper").removeClass("hide"),this._enableGoogleDrive()&&(T.init(),n.find(".google-drive-button-wrapper").removeClass("hide"));var r=e.context;r&&-1==r.class_name.search(/OnDevice|Camera/)?(n.addClass("no-animate"),n.find(".picker-home").removeClass("showing"),setTimeout(function(){n.removeClass("no-animate")},0),this.jumpTo(r.class_name.replace(/ImagePickerContext$/,""),r.album_id||r.path||r.search_string||r.album_name,r.album_name,e)):(this.$el.find(".picker-bar").addClass("home"),t||this.setHomeLablesText())}}.bind(this),0);var n=this.$el.find(".local-file-input");e.multiSelect?n.attr("multiple","multiple"):n.removeAttr("multiple"),marvel.features.hasFeature("enable-image-picker-dnd")&&this._dropTarget$&&this._applyOptionsToDnD();var r=[];s.ignoreDooploSourceTypes||this._options.dooploSourceTypes&&this._options.dooploSourceTypes.length>0&&(r=this._options.dooploSourceTypes);var o=a.getProfile();o&&(o.filterDooploBitmapServicesForUser(r,this._connectedApp).enabled.length?(this._dooploEnabled=!0,this.$el.find(".search-button").removeClass("hide")):(this._dooploEnabled=!1,this.$el.find(".search-button").addClass("hide")));return this},hide:function(){return this.$el.find(".photo-picker").removeClass("showing"),this._pickerProgress$&&this._hidePickerProgressForPickerClose(),this.lightroomImporterPicker&&this.lightroomImporterPicker.hide(),this.trigger("hide"),this},isShowing:function(){return this.$el.find(".photo-picker").hasClass("showing")},setCallbacks:function(e,t){this._userURLHandler=e,this._userLocalHandler=t},setBeforeUnload:function(e){this._beforeUnload=e},canReloadPage:function(){var e={okToReload:!0};return this.trigger("wantPageReload",e),e.okToReload},getImageFilter:function(){return this._options.imageFilter},requestFileSelect:function(){this.isShowing()&&this.$el.find(".local-file-input").click()},_handleFilterButton:function(){var e=this.model.get("picker").getFilter();marvel._dialogShowing||(this._filterDialogView||(this._filterDialogView=new u({filter:e}),this._filterDialogView.model.on("change:filter",this._handleSetFilter.bind(this))),this._filterDialogView.showOverlay())},_handleSortButton:function(){var e=this.model.get("picker").getSort();marvel._dialogShowing||(this._sortDialogView||(this._sortDialogView=new h({sort:e}),this._sortDialogView.model.on("change:sort",this._handleSetSort.bind(this))),this._sortDialogView.showOverlay())},_handleSetFilter:function(){var e=this.model.get("picker");e.setFilter(this._filterDialogView.model.get("filter")),e.refresh()},_handleSetSort:function(){var e=this.model.get("picker");e.setSort(this._sortDialogView.model.get("sort")),e.refresh()},_useLightroomImporter:function(){return marvel.features.hasFeature("lightroom-importer")&&this._options&&this._options.lightroomImporter},_parsePastedUrl:function(e,i){var n={},r=E.parse(e,!0);if(r.protocol&&"https:"!==r.protocol?n.errorAlertString=L.getString("imagepicker-parsed-url-error-https"):r.hostname&&(-1!=r.hostname.search(/\.adobe\.io$/)?-1!=r.pathname.search(/.*\/rendition\/.*\/format\/|\/assets\//)&&(n.renditionUrl=e):-1!=r.hostname.search(/\.adobeprojectm\.com$|\.adobe\.com$/)?r.query.asset_id&&(n.renditionUrl=e):-1!=r.hostname.search(/\.adobecc\.com$/)?"/api"===r.pathname?n.renditionUrl=e:n.errorAlertString=L.getString("imagepicker-parsed-url-error-adobecc"):"photos.google.com"===r.hostname?this._errorStrForDisallowedGoogleCopyUrl?n.errorAlertString=this._errorStrForDisallowedGoogleCopyUrl:-1==r.pathname.search(/.*\/photo\//)?n.errorAlertString=L.getString("imagepicker-parsed-url-error-google-photo-single"):n.errorAlertString="dnd"===i?L.getString("imagepicker-parsed-url-error-google-photo-dnd"):L.getString("imagepicker-parsed-url-error-google-photo"):-1!=r.hostname.search(/\.googleusercontent\.com$/)?this._errorStrForDisallowedGoogleCopyUrl?n.errorAlertString=this._errorStrForDisallowedGoogleCopyUrl:n.renditionUrl=e:-1!=r.hostname.search(/\.fbcdn\.net$/)?this._errorStrForDisallowedFacebookCopyUrl?n.errorAlertString=this._errorStrForDisallowedFacebookCopyUrl:n.renditionUrl=e:-1!=r.hostname.search(/\.facebook\.com$/)&&(this._errorStrForDisallowedFacebookCopyUrl?n.errorAlertString=this._errorStrForDisallowedFacebookCopyUrl:"/photo.php"!==r.pathname?n.errorAlertString=L.getString("imagepicker-parsed-url-error-facebook-single"):n.errorAlertString="dnd"===i?L.getString("imagepicker-parsed-url-error-facebook-dnd"):L.getString("imagepicker-parsed-url-error-facebook"))),!n.renditionUrl&&!n.errorAlertString){var o=r.pathname.split("/"),a=o.length-1,s="",l=marvel.settings.umbrellaCommunity;n.alias=t.findLast(o,function(e){if(""!==e)return!0;a--}),n.alias&&(a&&"assets"===(s=o[a-1])&&a>1&&(s=o[a-2]),"lrgallery"===s&&(l=s),n.metaDataUrl="https://"+marvel.settings.cps+"/api/v2/"+l+"/assets/"+n.alias)}return n},_setupPickerProgress:function(){this._pickerProgress$=this.$el.find(".picker-progress"),this._pickerProgressContent$=this._pickerProgress$.find(".content")},_showPickerProgress:function(e,t){this.$el.find(".picker-wrapper").addClass("hide"),this._pickerProgress$.removeClass("hide"),this._pickerProgressContent$.text(e||""),this._pickerProgressCancelledCallback=t},_hidePickerProgress:function(){this.$el.find(".picker-wrapper").removeClass("hide"),this._pickerProgress$.addClass("hide"),delete this._pickerProgressCancelledCallback},_hidePickerProgressForPickerClose:function(){this._pickerProgressCancelledCallback&&this._pickerProgressCancelledCallback(),this._hidePickerProgress()},_handleCopyUrlButton:function(e){this._handleCopyUrl(this.copyUrlInput$.val(),"field")},_handleCopyUrl:function(t,i){var r,o=this._parsePastedUrl(t,i),a=n.defer(),s=!1;o.metaDataUrl?(this._showPickerProgress(L.formatMessage("imagepicker-copy-url-processing-uri",{projectUri:t}),function(){s=!0}),e.ajax({url:o.metaDataUrl,type:"GET",headers:{"X-Api-Key":marvel.settings.cpkey},success:function(e,t,i){a.resolve(e)},error:function(e){r=404===e.status?L.formatMessage("imagepicker-copy-url-error-not-found",{projectUri:t}):L.formatMessage("imagepicker-copy-url-error-load",{projectUri:t}),p.showAlert(L.getString("imagepicker-copy-url-alert-title"),r).then(function(){a.reject(e)})}})):o.renditionUrl?(this._showPickerProgress(L.formatMessage("imagepicker-copy-url-processing"),function(){s=!0}),a.resolve(o)):o.errorAlertString?p.showAlert(L.getString("imagepicker-copy-url-alert-title"),o.errorAlertString).then(function(){a.reject()}):(r=L.formatMessage("imagepicker-copy-url-error-url",{projectUri:t}),p.showAlert(L.getString("imagepicker-copy-url-alert-title"),r).then(function(){a.reject()})),a.promise.then(function(e){if(this.isShowing()&&!s){var t;if(e.renditionUrl)t=e.renditionUrl;else{var i=0;e.category&&("lucas"===e.category.id?i=1440:"voices"===e.category.id?i=1280:"theos"===e.category.id&&(i=1600)),t=e._links.rendition.href.replace("{format}","jpg").replace("{dimension}","width").replace("{size}",i)}P.convertUrlToBlob(t).then(function(e){s||(this._hidePickerProgress(),this._userLocalHandler([e]))}.bind(this),function(e){s||(this._hidePickerProgress(),p.showAlert(L.getString("imagepicker-copy-url-alert-title"),L.getString("imagepicker-copy-url-processing-error")).done())}.bind(this)).done()}}.bind(this),function(e){s||this._hidePickerProgress()}.bind(this)).done()},_setupCopyUrl:function(){if(this._userLocalHandler){var t=this.$el.find(".copy-url-wrapper"),i=t.find(".copy-url-button");this.copyUrlInput$=t.find(".copy-url-input"),this.copyUrlInput$.on("keydown",function(e){13===e.keyCode&&this._handleCopyUrlButton(e)}.bind(this)),this.copyUrlProgress$=this.$el.find(".copy-url-progress"),i.on("click",function(e){this._handleCopyUrlButton(e)}.bind(this)),this.copyUrlInput$.on("click",function(t){e(this).select()}),t.removeClass("hide"),marvel.features.hasFeature("show-published-url-image-picker-allow-facebook")||(marvel.features.hasFeature("show-facebook-image-picker")?this._errorStrForDisallowedFacebookCopyUrl=L.getString("imagepicker-copy-url-error-facebook-picker"):this._errorStrForDisallowedFacebookCopyUrl=L.getString("imagepicker-copy-url-error-facebook")),marvel.features.hasFeature("show-published-url-image-picker-allow-google")||(this._errorStrForDisallowedGoogleCopyUrl=L.getString("imagepicker-copy-url-error-google"))}}});function R(e){return a.getProfile()?a.getProfile().canShowNonDooploImageSourceForUser("stock",e):null}return N.getStockAssetDetailUrl=function(e){return M.getStockAssetDetailsUrl(e.image_id)},N.licenseStockAsset=function(e){console.log("Called licenseStockAsset for id "+e.image_id);var i=n.defer(),r={};return p.showWaitView(L.getString("imagepicker-stock-retrieving-wait"),"",{minHeight:b.getMinHeightForConfirms()}),M.getLicensesAvailable().then(function(i){return t.assign(r,{"licenses-available":i.numLicenses,purchase_url:i.purchaseUrl,referToStockSite:i.requiresCheckout,notAllowedToPurchase:i.notAllowedToPurchase,purchaseMessage:i.purchaseMessage}),M.getItemInfo(e.image_id)}).then(function(e){r.creator_name=e.creator_name,r.image_title=e.title,r.details_url=e.details_url,r.license_type=e.is_licensed,r.premium_level_id=e.premium_level_id,r.image_id=e.id,(new b).showLicensingFlow(r).then(function(t){t.info=c.licenseInfoFromData(e,t.licenseType),i.resolve(t)}.bind(this),function(e,t){"cancel"!==e?(marvel.logger.error("showLicensingFlow failed",e),i.reject("licensing failed",t)):i.reject("licensing cancelled")})}).fail(function(e){p.showAlert(L.getString("imagepicker-stock-retrieving-error"),L.getString("imagepicker-stock-retrieving-error-desc")),marvel.logger.error("licensing failed",e),i.reject("not licensed",e)}),i.promise},N.getStockLicenseInfo=function(e){return M.getItemInfo(e)},N.isLicenseForStock=function(e){return["royalty_free","royalty_free_standard","royalty_free_extended"].indexOf(e.type)>-1},N.updateAttributeViewForLicensing=function(e){var t=e.attributionDialog;if(t.$el.hasClass("auto-height")||(t.$el.addClass("auto-height"),N.isLicenseForStock(e.licenseInfo)||t.contentModified()),e.licenseInfo&&"unsplash"===e.licenseInfo.type){var i=t.$el.find(".license_type");if(i.length){A.licenseTypeMap.unsplash;i.text(L.getString("imagepicker-unsplash-license"))}}if(!N.isLicenseForStock(e.licenseInfo))return!1;var n=t.$el.find(".original_source"),r=t.$el.find(".license_wrapper"),o=e.licenseInfo,a={image_id:o.image_id};return t.licenseHandlerObjects||(t.licenseHandlerObjects={}),t.on("cancel",function(){this.licenseHandlerObjects&&(this.licenseHandlerObjects.$buttonWrapper&&this.licenseHandlerObjects.$buttonWrapper.off("click"),this.licenseHandlerObjects.$originalSource.off("click"),this.licenseHandlerObjects=null)}),r.removeClass("hide"),t.$el.find(".copyright_info").addClass("hide"),"royalty_free"===o.type?(r.find(".license_photo_button").on("click",function(){var t={image_id:o.image_id,owner:o.owner,photo_name:o.photo_name,source_name:o.source_name,license_type:o.type};e.licensingCallback&&e.licensingCallback("licensing"),N.licenseStockAsset(t).then(function(t){e.licensingCallback("licensed",t)},function(t){e.licensingCallback("licensing-rejected",t)})}.bind(this)).removeClass("hide"),t.licenseHandlerObjects.$buttonWrapper=r):r.find(".license_photo_button").addClass("hide"),n.addClass("disabled"),n.on("click",function(e){if(n.hasClass("disabled"))e.preventDefault();else{n.addClass("disabled");var t={image_id:o.image_id};N.getStockAssetDetailUrl(t).then(function(e){n.attr("href",e),n.removeClass("disabled")}).done()}}.bind(this)),N.getStockAssetDetailUrl(a).then(function(e){n.attr("href",e).removeClass("disabled")}).done(),t.licenseHandlerObjects.$originalSource=n,e.ignoreContentModified||t.contentModified(),!0},N.displayAttributionDialog=function(t,i){var r,o,a=i.editorEl$.find(".attribution-dialog-overlay");if(a.length?o=a.data("attribution-dialog-overlay"):(a=e('<div class="attribution-dialog-overlay hide"></div>'),i.editorEl$.append(a)),marvel._dialogShowing&&(!o||!o.isShowing()))return n.reject("other dialog already showing");var s=n.defer();if(o&&o.$el.parent().length||(o=new A({el:a}),a.data("attribution-dialog-overlay",o),a.addClass(i.appSpecificClass||"generic")),i.calcLocationFromIcon){var l=i.icon$[0].getBoundingClientRect(),c=l.top-i.editorEl$.offset().top;r={x:l.left+l.width/2,y:c+l.height/2,left:l.left,top:c,width:l.width,height:l.height}}else r=i.location;var d={location:r,updateAttributeViewForLicensing:N.updateAttributeViewForLicensing,info:t,options:i,imagePickerView:this};return o.showOverlayWithData(d,s),s.promise},N.getServiceSource=function(e){var t=e.source.toLowerCase();return"creative cloud"===t?t="cc":"adobe stock"===t&&(t="AdobeStock"),t},N}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(344)],void 0===(r=function(e,t){var i=function(){};return e.extend(i.prototype,{bind:function(t,i,n){return e(this).on(t,i,n)},unbind:function(t,i){return e(this).off(t,i)},on:function(t,i,n){return e(this).on(t,i,n)},off:function(t,i){return e(this).off(t,i)},trigger:function(t,i){var n=e.Event(t);return e(this).trigger(n,i),n}}),t.EventDispatcher=i,i}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(23),i(7),i(4),i(417),i(527),i(528)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return o.extend({_options:{},events:{"click .cancel-btn":"handleCloseBtn","click .color-picker-close-x":"handleSave","click .mrvl-overlay-bg":"handleSave","click .save-color-btn":"handleSave","click .color-picker-brand-setup-button":"_handleBrandSetupClick"},setOptions:function(e){this._options=e},updateOptions:function(e){this._options=t.assign(this._options||{},e)},setColor:function(e){this.colorInputHex$.val(e),this._handleHexTextInput()},setAnchor:function(e){this.anchor$=e,this._reanchor()},handleSave:function(e){this.onFinish&&this.onFinish(!0,this._getHex(),this.acColor),this._saved=!0,this.hideOverlay()},_getHex:function(){return l.rgbToHex(l.hslToRgb(this._currentHSL.h,this._currentHSL.s,this._currentHSL.l))},_recognizeCurrentColor:function(){var e=this._getHex(),t=this.$el.find(".color-hex-"+e.substring(1));this.acColor=this._colorsByHex[e],this._lastHex!==e&&(this._lastHex=e,this.onChange&&this.onChange(!1,e,this.acColor)),this.addColor$&&(t.length>0?this.addColor$.addClass("disabled"):this.addColor$.removeClass("disabled")),this.$el.find(".swatch-selected").removeClass("swatch-selected"),t.addClass("swatch-selected")},_positionFieldHandle:function(){var e,t,i=l.hslToRgb(this._currentHSL.h,this._currentHSL.s,this._currentHSL.l),n=i.r,r=i.g,o=i.b,a=Math.max(Math.max(n,r),o),s=Math.min(Math.min(n,r),o);if(a===s)s=n=0,e=[0,0,a];else{var c,d=a-s;0>(c=n===a?60*(r-o)/d:r===a?60*(2+(o-n)/d):60*(4+(n-r)/d))&&(c+=360),360<c&&(c-=360),e=[c,d/a,a]}var u=(100-(t=[e[0],e[1],100*e[2]/255])[2])/100*98-this.fieldHandle$.height()/2,h=188*t[1]-this.fieldHandle$.width()/2;this.fieldHandle$.css("left",h+"px"),this.fieldHandle$.css("top",u+"px")},_renderHueGradient:function(){var e,t,i;for(e=0;e<98;e++)i=e/98,t=l.rgbToHex(l.hslToRgb(i,1,.5)),this._contextH.fillStyle=t,this._contextH.fillRect(0,e,10,1)},_renderSLGradient:function(){var e=1;this._currentHSL&&(e=this._currentHSL.h);var t=this._contextSL.createLinearGradient(0,98,0,0);t.addColorStop(0,"#000"),t.addColorStop(1,"#FFF"),this._contextSL.fillStyle=t,this._contextSL.fillRect(0,0,188,98);var i=this._contextSLBack.createLinearGradient(188,0,0,0);i.addColorStop(0,"hsl("+Math.round(360*e)+",100%,50%)"),i.addColorStop(1,"#FFF"),this._contextSLBack.fillStyle=i,this._contextSLBack.fillRect(0,0,188,98);for(var n=this._contextSL.getImageData(0,0,188,98),r=n.data,o=this._contextSLBack.getImageData(0,0,188,98).data,a=0,s=r.length;a<s;a+=4)r[a]=o[a]*r[a]/255,r[a+1]=o[a+1]*r[a+1]/255,r[a+2]=o[a+2]*r[a+2]/255;this._contextSL.putImageData(n,0,0)},_renderColorPreview:function(e,t){var i=this._getHex();t||this.colorInputHex$.val(i),e&&(this.$el.find(".hue-handle").css("top",98*this._currentHSL.h-10+"px").attr("sliderval",98*this._currentHSL.h),this._positionFieldHandle()),this.fieldHandle$.find(".dot").css("background-color",i),this.$el.find(".color-picker-color-preview").css("background-color",i),this.$el.find(".hue-handle .dot").css("background-color",l.rgbToHex(l.hslToRgb(this._currentHSL.h,1,.5))),this._recognizeCurrentColor(),this._armed=!1},_renderGradients:function(e,t){this._renderColorPreview(e,t),this._renderHueGradient(),this._renderSLGradient()},_setColorPart:function(e,t){switch(e){case"hue":this._currentHSL.h=t;break;case"saturation":this._currentHSL.s=t;break;case"brightness":this._currentHSL.l=t}},_setupCanvas:function(e,t,i,n){var r=this.$el.find(e).attr({width:t,height:i})[0].getContext("2d");return r.width=t,r.height=i,n&&(r.globalCompositeOperation="source-over"),r},_handleHexTextInput:function(e){try{var t,i=this.colorInputHex$.val();!(t=i&&0===i.toLowerCase().indexOf("rgb")?l.rgbStringToRgb(i):l.hexToRgb(i))&&this._options.allowHTMLColorNames&&(t=l.rgbFromHexOrName(i)),t?(this._currentHSL=l.rgbToHsl(t),this._renderGradients(!0,!0),this.colorInputHex$.removeClass("invalid")):this.colorInputHex$.addClass("invalid")}catch(e){this.colorInputHex$.addClass("invalid")}},_clickTrack:function(t,i,n,r,o,a){var s,l,c=function(e){var t={x:0,y:0};return e.pageX?(t.x=e.pageX,t.y=e.pageY):e.clientX&&(t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),t},d=function(e,t){t||(e.x=e.x-s.left,e.y=e.y-s.top),i.css("top",e.y+"px"),a||i.css("left",e.x+"px")},u=function(e){var t=c(e),a=t.x-s.left,u=t.y-s.top,h=i.height()/2,p=i.width()/2;t.x=Math.max(0-p,Math.min(a-l.x,n-p)),t.y=Math.max(0-h,Math.min(u-l.y,r-h)),d(t,!0),o((t.x+p)/n,(t.y+h)/r)}.bind(this),h=function(t){e(document).off("mousemove",u),e(document).off("mouseup",h)}.bind(this),p=function(n){s=t.offset();var r=c(n),o=i.offset();((l={x:r.x-o.left,y:r.y-o.top}).x<0||l.x>i.width()||l.y<0||l.y>i.height())&&(l.x=i.width()/2,l.y=i.height()/2,d(r)),e(document).on("mousemove",u),e(document).on("mouseup",h),u(n)}.bind(this);t.on("mousedown",p),i.on("mousedown",p)},_reanchor:function(){if(this.anchor$){var t,i,n,r,o,a=this.anchor$[0].getBoundingClientRect(),s=this.shell$.height(),l=this.shell$.width(),c=e(window).width(),d=e(window).height(),u=!1,h=!1,p=!1,f=!1;switch(c>a.right+l+50&&a.top+a.height/2+s/2<d&&a.top-a.height/2-s/2>0&&(p=!0),0<a.left-(l+50)&&a.top+a.height/2+s/2<d&&a.top-a.height/2-s/2>0&&(u=!0),0<a.top-(s+50)&&(h=!0),d>a.bottom+s+50&&(f=!0),this.shell$.removeClass("pop-top"),this.shell$.removeClass("pop-right"),this.shell$.removeClass("pop-left"),this.shell$.removeClass("pop-bottom"),this._options.anchorTop&&(f?o="pop-bottom":u?o="pop-left":p?o="pop-right":h?o="pop-top":console.warn("color picker does not fit anywhere")),this._options.anchorVert?o=f?"pop-bottom":h?"pop-top":p?"pop-right":"pop-left":p?o="pop-right":f?o="pop-bottom":h?o="pop-top":u?o="pop-left":(o="pop-right",console.warn("color picker does not fit anywhere")),this.carrot$.css("left",""),this.shell$.addClass(o),o){case"pop-left":i=a.left-l-20,n=Math.max(a.top+a.height/2-s/2-20,8);break;case"pop-right":i=a.right+7,n=a.top+a.height/2-s/2-20;break;case"pop-top":this.reference$&&this.reference$[0]?(i=(t=this.reference$[0].getBoundingClientRect()).left+(t.width-l)/2-7,r=a.left+a.width/2-i-this.carrot$.width()/2,this.carrot$.css("left",r+"px")):i=a.left+a.width/2-32,n=a.top-s-40;break;case"pop-bottom":this.reference$&&this.reference$[0]?(i=(t=this.reference$[0].getBoundingClientRect()).left+(t.width-l)/2-7,r=a.left+a.width/2-i-this.carrot$.width()/2,this.carrot$.css("left",r+"px")):i=a.left+a.width/2-32,n=a.bottom+8}this.shell$.css({left:i+"px",top:n+"px"}),this._positionFieldHandle()}},_bindBrandSwatch:function(e,t){e.on("click",function(){this.colorInputHex$.val(t.hex()),this.acColor=t,this._handleHexTextInput()}.bind(this))},_addBrandSwatch:function(t,i){var n=e('<div class="brand-color-wrap"></div>'),r=e('<div class="color-picker-swatch"></div>');return t&&(i=t.hex()),r.addClass("color-hex-"+i.substring(1)),r.css("background-color",i),t&&this._bindBrandSwatch(r,t),n.append(r),n.insertBefore(this.addColor$),this._countSecondaryColors(),r},_addBrandColors:function(){this.authoringContext.getColors(void 0,["logo-extracted"]).then(function(i){var n=this.$el.find(".color-picker-brand-colors-list");n.empty(),this.addColor$=e('<div class="color-picker-add-color">+</div>'),this.addColor$.on("click",function(e){if(this.addColor$.hasClass("disabled"))return!1;this.addColor$.addClass("disabled");var t=this._addBrandSwatch(null,this._getHex());this._countSecondaryColors(),this.authoringContext.addColorHex(this._getHex(),[],null,["color"]).then(function(e){this._bindBrandSwatch(t,e),this._colorsByHex[e.hex()]=e,this._recognizeCurrentColor()}.bind(this)).done()}.bind(this)),n.append(this.addColor$);var r=t.find(i,function(e){return e.isBaseColor()}),o=this.$el.find(".color-picker-alt-colors-list");this.authoringContext.getDerivedColors(r,["base-color"]).then(function(i){o.empty(),t.each(i,function(t){if(t.hex()!==r.hex()){var i=e('<div class="brand-color-wrap"></div>'),n=e('<div class="color-picker-swatch"></div>');n.css("background-color",t.hex()),n.addClass("color-hex-"+t.hex().substring(1)),n.on("click",function(){this.acColor=t,this.colorInputHex$.val(t.hex()),this._handleHexTextInput()}.bind(this)),i.append(n),o.append(i)}}.bind(this))}.bind(this));var a=e('<div class="brand-color-wrap primary-brand-color"></div>'),s=e('<div class="color-picker-swatch"></div>'),l=e('<div class="vert-rule"></div>'),c=e('<div class="color-picker-secondary-colors"></div>'),d=0,u=!1;a.append(s),n.append(a),n.append(l),n.append(c),c.append(this.addColor$),t.each(i,function(e){this._colorsByHex[e.hex()]=e,e.isBaseColor()?(u=!0,s.css("background-color",e.hex()),s.addClass("color-hex-"+e.hex().substring(1)),s.on("click",function(){this.colorInputHex$.val(e.hex()),this.acColor=e,this._handleHexTextInput()}.bind(this))):e.isDerived()||(this._addBrandSwatch(e),d++)}.bind(this)),u?this.shell$.removeClass("no-brand-colors"):this.shell$.addClass("no-brand-colors"),0===d?this.shell$.addClass("no-secondary-colors"):this.shell$.removeClass("no-secondary-colors"),this.authoringContext.belongsToUser()||this.addColor$.addClass("hide"),this._recognizeCurrentColor()}.bind(this))},_countSecondaryColors:function(){var e=this.$el.find(".color-picker-secondary-colors").children().length-1,t=this.$el.find(".color-picker-scrollable-section");t.removeClass("two-rows"),t.removeClass("three-rows"),e>11?t.addClass("three-rows"):e>5&&t.addClass("two-rows")},_handleBrandSetupClick:function(e){s.trackEvent("clickedOnboardingCTA",{trigger:"colorPicker"}),this.handleCloseBtn(),window.marvel.navigate("/branding/",{trigger:!0})},_addBrandLogoColors:function(){this.authoringContext.getColors("logo-extracted").then(function(t){t&&t.length&&(this.shell$.addClass("logo-colors"),this._options.short&&this.shell$.addClass("medium-format"));for(var i=this.$el.find(".color-picker-logo-colors-list"),n=0,r=t.length;n<r;n++){var o=t[n].hex(),a=e('<div class="brand-color-wrap"></div>'),s=e('<div class="color-picker-swatch"></div>');s.css("background-color",o),s.addClass("color-hex-"+o.substring(1)),a.append(s),i.append(a)}}.bind(this))},_addBasicColors:function(i,n){var r=0;n.empty(),t.each(i,function(t,i){++r>16&&this.moreColorsToggle$.addClass("active");var o=e('<div class="brand-color-wrap"></div>'),a=e('<div class="color-picker-swatch"></div>');i%7==0&&o.addClass("first-in-row"),a.addClass("color-hex-"+t.substring(1)),a.css("background-color",t),a.on("click",function(){this.colorInputHex$.val(t),this.acColor=null,this._handleHexTextInput()}.bind(this)),o.append(a),n.append(o)}.bind(this))},showOverlay:function(){o.prototype.showOverlay.call(this),this.shell$.hasClass("no-brand-colors")&&!this._options.short&&s.trackEvent("viewedOnboarding",{trigger:"colorPicker"})},setLogoColors:function(e){this.logoColors=e||this.logoColors;var t=this.$el.find(".color-picker-logo-colors-list"),i=!1;this.logoColors&&this.logoColors.length>0?(i=!0,t.removeClass("loading").text(""),this._addBasicColors(this.logoColors,t)):this.loadingLogoColors&&(t.addClass("loading").text(r.getString("colorpicker-dialog-colorlist-loading-label")),i=!0),i?(this.shell$.addClass("logo-colors"),this._options.short&&this.shell$.addClass("medium-format")):(this.shell$.removeClass("logo-colors"),this._options.short&&this.shell$.removeClass("medium-format"))},render:function(){this.$el.html(r.mustacheRender(c)),e(window).on("resize",this._reanchor),this._colorsByHex={},this._saved=!1,this.shell$=this.$el.find(".color-picker-shell"),this.carrot$=this.shell$.find(".color-picker-carrot"),this.brandColorsLabel$=this.shell$.find(".brand-colors-label"),this.moreColorsToggle$=this.shell$.find(".color-picker-more-toggle"),this.moreColorsToggle$.removeClass("active"),this.moreColorsToggle$.on("click",function(){var e;this.moreColorsToggle$.hasClass("show-more")?(this.moreColorsToggle$.text(r.getString("colorpicker-dialog-more-toggle")),this.moreColorsToggle$.removeClass("show-more"),(e=this.shell$.find(".color-section-more")).addClass("color-section-less"),e.removeClass("color-section-more")):(this.moreColorsToggle$.text(r.getString("colorpicker-dialog-less-toggle")),this.moreColorsToggle$.addClass("show-more"),(e=this.shell$.find(".color-section-less")).addClass("color-section-more"),e.removeClass("color-section-less"))}.bind(this)),this.onEyedropper?(this.shell$.find(".eye-dropper").on("click",this.onEyedropper),this.shell$.find(".eye-dropper").removeClass("hide")):this.shell$.find(".eye-dropper").addClass("hide"),!a.hasFeature("entitle-brand-kit")&&this._options.upgradeEnabled&&this.shell$.addClass("upgrade"),this._options.buttons&&this.shell$.addClass("show-buttons"),this.setLogoColors(),this.authoringContext&&(this._addBrandColors(),this._addBrandLogoColors()),this._options.short?(this.shell$.removeClass("brand-tab"),this.shell$.addClass("more-tab")):(this.shell$.addClass("tall-format"),this._options.hideBrandkit||(this.authoringContext||console.warn("set colorPicker.authoringContext so it can surface brand colors"),this.authoringContext&&this.brandColorsLabel$.text(this.authoringContext.getName()),this.$el.find(".color-picker-tab-my-brand").on("click",function(){this.authoringContext&&this.brandColorsLabel$.text(this.authoringContext.getName()),this.shell$.addClass("brand-tab"),this.shell$.removeClass("more-tab"),this.$el.find(".color-picker-tab").removeClass("selected"),this.$el.find(".color-picker-tab-my-brand").addClass("selected"),this.lastTab="brand"}.bind(this)),this.$el.find(".color-picker-tab-more").on("click",function(){this.brandColorsLabel$.text(r.getString("colorpicker-dialog-brandcolors-heading")),this.shell$.addClass("more-tab"),this.shell$.removeClass("brand-tab"),this.$el.find(".color-picker-tab").removeClass("selected"),this.$el.find(".color-picker-tab-more").addClass("selected"),this.lastTab="more"}.bind(this)),this.authoringContext&&this._addBrandColors()),this.suggestedColors&&this.suggestedColors.length>0&&(this.shell$.addClass("suggested-colors"),this._addBasicColors(this.suggestedColors,this.$el.find(".color-picker-suggested-colors-list"))),this._options.basicColors&&(this.shell$.addClass("basic-colors"),this._addBasicColors(l.basicColors(),this.$el.find(".color-picker-basic-colors-list")))),this._options.hideBrandkit&&(this.shell$.removeClass("brand-tab"),this.shell$.addClass("more-tab"),this.shell$.addClass("hide-brandkit")),this.colorInputHex$=e(".color-picker-color-hex"),this.colorInputHex$.on("change",this._handleHexTextInput.bind(this)),this.colorInputHex$.on("keyup",this._handleHexTextInput.bind(this)),this.fieldHandle$=this.$el.find(".sl-handle"),this._contextSL=this._setupCanvas(".color-picker-sl-gradient",188,98,!0),this._contextSLBack=this._setupCanvas(".color-picker-sl-back",188,98,!0),this._contextH=this._setupCanvas(".hue-gradient",10,98),this.color?(this._currentHSL=l.rgbToHsl(this.color),this._initHex=this._getHex()):this._currentHSL={h:0,s:.5,l:.5},this._lastHex=this._getHex(),this._renderGradients(!0),this._clickTrack(this.$el.find(".hue-gradient"),this.$el.find(".hue-handle"),10,98,function(e,t){this._currentHSL.h=t,0===this._currentHSL.s&&1===this._currentHSL.l?(this._currentHSL.l=.5,this._currentHSL.s=.8,this._renderColorPreview(),this._renderGradients(!0)):(this._renderColorPreview(),this._renderSLGradient())}.bind(this),!0),this._clickTrack(this.$el.find(".color-picker-sl-gradient"),this.$el.find(".sl-handle"),188,98,function(e,t){var i,n=Math.round(187*e),r=Math.round(97*t),o=this._contextSL.getImageData(n,r,1,1).data;0===e&&0===t?(o[0]=255,o[1]=255,o[2]=255):1===t&&(o[0]=0,o[1]=0,o[2]=0),i=l.rgbToHsl({r:o[0],g:o[1],b:o[2]}),this._currentHSL.s=i.s,this._currentHSL.l=i.l,this._renderColorPreview()}.bind(this),!1),this.color||(this._armed=!0),this._options.defaultToMore&&!this._options.short&&this.$el.find(".color-picker-tab-more")[0].click(),this._reanchor()},onHide:function(){this._saved||(this.onChange&&this.onChange(!1,this._initHex,null),this.onFinish&&this.onFinish(!1,this._initHex,null)),e(window).off("resize",this._reanchor)},getCurrentColorAsHex:function(){return this._getHex()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1)],void 0===(r=function(e,t,i,n){"use strict";return n.Model.extend({valueProp:"ac#value",getRoles:function(){return this._data.getValue("ac#roles")||[]},setRoles:function(e){this._data.setValue("ac#roles",e)},hasRole:function(e){var i=this.getRoles();return t.includes(i,e)},hasAnyRole:function(e){var i=this.getRoles();return!!t.find(i,function(i){return t.includes(e,i)})},addRole:function(e){var i=this.getRoles();t.includes(i,e)||(i.push(e),this.setRoles(i))},removeRole:function(e){var i=this.getRoles();i=t.without(i,e),this.setRoles(i)},setAC:function(e){this._ac=e},setData:function(e){this._data=e},getData:function(){return this._data},getId:function(){return this._data.id},setValue:function(e){this._data.setValue(this.valueProp,e)},_getValue:function(){return this._data.getValue(this.valueProp)},getValue:function(){return this._getValue()},getValueProp:function(e,t){var i=this.getValue();return i&&i[e]?i[e]:t||""},setName:function(e){this._data.setValue("name",e)},getName:function(){return this._data.getValue("name")}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213),i(251),i(5),i(3)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s="https://"+window.location.host,l=s+"/lr_files";function c(e){this.items=[],this.received=0,this.filter="all"}function d(e){var t,i=e.replace(/^while \(1\) \{\}/,"");try{t=JSON.parse(i)}catch(e){console.warn("LR json data parse failed")}return t}function u(e){n.prototype._init.call(this,e)}return t.extend(c.prototype,r.prototype,{getMetaData:function(e,i){var n=[],r=e.path,a=e.success,c=e.error;if(this.nextHref=i?this.nextHref:null,i&&!this.nextHref&&f)f("no more assets");else{var h=function(e){e.assets&&e.assets.length&&(n=t.map(e.assets,function(e){return new u(e)}),this.received+=n.length)}.bind(this),p=function(){var e,t={all:"pick%3Bunflagged%3Breject",picked:"pick","picked-unflagged":"pick%3Bunflagged"},u=this.options.sort?{"capture-descending":"captured_before=9999-01-01T00:00:00","capture-ascending":"captured_after=-0001-12-31T23:59:59",custom:"order_after=-"}[this.options.sort]:"capture-ascending",p=this.options.filter?t[this.options.filter]:t.all,g="?limit="+(this.options.limit||"20");marvel.features.hasFeature("lightroom-picker-filters")&&(g=g+"&flag="+p+"&"+u),e=i?s+"/lr_files"+this.nextHref:l+r+"/assets"+g,o.ajax(e,{dataType:"text"}).done(function(e,t,i){var r=d(e);r?(h(r),this.options.sort&&"capture-descending"===this.options.sort?(this.nextHref=r.links&&r.links.prev?r.links.prev.href:null,n.reverse()):this.nextHref=r.links&&r.links.next?r.links.next.href:null,n.data={page:1,pages:1},a&&a(n,"success",i)):c&&c("JSON parse failed")}.bind(this)).fail(f.bind(this))}.bind(this);r&&"/"!==r||i?(this.options=e,p()):this._getAlbumsUrl().then(function(r){this.options=e,this.received=i?this.received:0;var l=this.options.limit?"?limit="+this.options.limit:"",h=s+"/lr_files"+(i?this.nextHref:r+l);o.getAccessToken().then(function(e){o.ajax(h,{dataType:"text"}).done(function(e,i,r){var o=d(e);o?(o.albums&&o.albums.length&&(n=t.map(o.albums,function(e){return new u(e)}.bind(this)),this.received+=n.length,n.data={page:1,pages:1}),a&&a(n,"success",r)):c&&c("JSON parse failed")}.bind(this)).fail(f.bind(this))}.bind(this))}.bind(this),function(){c("fail")})}function f(e,t,i){console.warn("Lightroom fail ",t,e,i),n.data={page:1,pages:1},c&&c("failure")}},getNextMetaData:function(){return this.getMetaData(this.options,!0)},haveMoreMetaData:function(){return!!this.nextHref},_getAlbumsUrl:function(){var e=a.defer(),t=this;if(this.albumsHref)e.resolve(this.albumsHref);else{var i=s+"/lr_files/v1.0/catalogs?subtype=lightroom%3BX-lightroom";o.ajax(i,{beforeSend:function(e){return e.setRequestHeader("X-api-key",o.apiKey),!0},dataType:"text"}).done(function(i,n,r){var o;i=i.replace(/^while \(1\) \{\}/,"");try{var a=JSON.parse(i);a&&a.catalogs&&a.catalogs.length?(o=t.albumsHref=a.catalogs[0].links["/rels/albums"].href||a.catalogs[0].links.self.href+"/albums",e.resolve(o)):e.reject("no catalog found")}catch(t){e.reject(t)}}).fail(function(e,t,i){console.warn("Failed to get catalog",t)})}return e.promise},getAlbumCount:function(e){var t=a.defer(),i=l+e+"/assets/count";return o.ajax(i,{beforeSend:function(e){return e.setRequestHeader("X-api-key",o.apiKey),!0},dataType:"text"}).done(function(e,i,n){var r;e=e.replace(/^while \(1\) \{\}/,"");try{var o=JSON.parse(e);o&&o.total_count?(r=o.total_count,t.resolve({albumCount:r})):t.reject("no album count")}catch(e){t.reject(e)}}).fail(function(e,i,n){console.warn("Failed to get album count",i),t.reject(n)}),t.promise}}),t.extend(u.prototype,n.prototype,{_parseData:function(){var e,t,i=this.data;this.links.preview.href="",this.isDir=/\:album\:[^\:]+$/.test(i.id),this.isDir?(this.links.folder={},this.links.folder.path=i.links.self.href,this.links.folder.filename=i.name,this.cover=i.cover,this.has_cover=!0):(e=i.links,t=t||(e["/rels/rendition_type/2048"]?e["/rels/rendition_type/2048"].href:void 0),this.links.thumb.href=e["/rels/rendition_type/thumbnail2x"]?e["/rels/rendition_type/thumbnail2x"].href:t,this.links.thumb.href=l+this.links.thumb.href,this.links.thumb.filename=i.name,this.links.preview.href=t,this.links.preview.href=l+t,this.links.preview.filename=i.name,this.links.original.href=l+t,this.links.original.filename=i.name,this.links.original.width=i.payload.width,this.links.original.height=i.payload.height,this.aspect={width:i.payload.width,height:i.payload.height},this.caption=i.payload.caption)},getMimeType:function(){return"image/"+this.data.subtype},hasCover:function(){return this.has_cover},getCover:function(){var e,t=a.defer(),i=s+"/lr_files",n=this.data;return this.hasCover()?this.cover&&this.cover.links&&this.cover.links["/rels/rendition_type/thumbnail2x"]?t.resolve(i+this.cover.links["/rels/rendition_type/thumbnail2x"].href):(e=i+n.links["/rels/album_assets"].href+"?limit=1&subtype=jpeg;png",o.ajax(e,{dataType:"text"}).done(function(n,r,o){var a,s=d(n);s&&s.assets&&s.assets.length?(a=s.assets[0],e=i+a.links["/rels/rendition_type/thumbnail2x"].href,t.resolve(e)):t.reject("no assets")}).fail(function(){t.reject("not available")})):t.reject("no cover available"),t.promise},canSetFilter:function(){return!0}}),c}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="color-picker-bg mrvl-overlay-bg">\n</div>\n<div class="color-picker-shell mrvl-overlay-shell brand-tab">\n\n    <div class="color-picker-tabs">\n        <div class="color-picker-tab color-picker-tab-my-brand selected">{{colorpicker-dialog-tab-mybrand}}</div>\n        <div class="color-picker-tab color-picker-tab-more">{{colorpicker-dialog-tab-more}}</div>\n    </div>\n\n    <div class="color-picker-upgrade">\n        <h2>{{colorpicker-dialog-upgrade-heading}}</h2>\n        <button class="mrvl-btn color-picker-upgrade-button">{{colorpicker-dialog-upgrade-button}}</button>\n    </div>\n\n    <div class="color-picker-brand-onboard">\n        <p>{{colorpicker-dialog-brandsetup-label}}</p>\n        <button class="mrvl-btn color-picker-brand-setup-button">{{colorpicker-dialog-brandsetup-button}}</button>\n    </div>\n\n    <div class="color-picker-brand-colors-section">\n        <h4 class="color-picker-section brand-colors-label">{{colorpicker-dialog-brandcolors-heading}}</h4>\n        <div class="color-picker-brand-colors-list"></div>\n    </div>\n\n    <div class="color-picker-scrollable-section">\n        <div class="color-picker-other-colors-section">\n            <h4 class="color-picker-section">{{colorpicker-dialog-alternate-brandcolors-heading}}</h4>\n            <div class="color-picker-alt-colors-list color-section-less"></div>\n        </div>\n\n        <div class="color-picker-suggested-colors-section">\n            <h4 class="color-picker-section">{{colorpicker-dialog-suggested-colors-heading}}</h4>\n            <div class="color-picker-suggested-colors-list color-section-less"></div>\n        </div>\n\n        <div class="color-picker-logo-colors-section">\n            <h4 class="color-picker-section">{{colorpicker-dialog-logo-colors-heading}}</h4>\n            <div class="color-picker-logo-colors-list color-section-less loading"></div>\n        </div>\n\n        <div class="color-picker-basic-colors-section">\n            <h4 class="color-picker-section basic-colors-label">{{colorpicker-dialog-basic-colors-heading}}</h4>\n            <div class="color-picker-basic-colors-list color-section-less"></div>\n        </div>\n        <div class="color-picker-more-toggle">{{colorpicker-dialog-more-toggle}}</div>\n\n        <div class="color-picker-preview-control">\n            <div class="color-picker-color-preview"></div>\n            <div class="color-picker-hex-wrap">\n                <label>{{colorpicker-dialog-hex-or-rgb-label}}</label>\n                <input type="text" class="color-picker-color-hex">\n            </div>\n            <div class="eye-dropper">\n                <div class="eye-dropper-button" title="{{colorpicker-dialog-eyedropper-title}}"></div>\n            </div>\n        </div>\n\n        <div class="color-picker-gradient-wrap">\n            <div class="color-picker-sl-field">\n                <canvas class="color-picker-sl-gradient"></canvas>\n                <canvas class="color-picker-sl-back hide"></canvas>\n                <div class="color-field-handle sl-handle"><div class="dot"></div></div>\n            </div>\n\n            <div class="color-picker-slider">\n                <canvas class="color-picker-gradient hue-gradient"></canvas>\n                <div class="color-picker-handle hue-handle" data-part="hue"><div class="dot"></div></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="color-picker-buttons">\n        <button class="cancel-color-btn cancel-btn mrvl-btn" data-auto="color-picker-cancel-btn">{{colorpicker-dialog-cancel-button}}</button>\n        <button class="save-color-btn confirm-btn mrvl-btn done-btn" data-auto="color-picker-confirm-btn">{{colorpicker-dialog-confirm-button}}</button>\n    </div>\n\n    <div class="color-picker-close-x hide"></div>\n\n    <div class="color-picker-carrot"></div>\n</div>\n'},function(e,t,i){var n=i(529);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".mrvl-overlay-shell.color-picker-shell{-webkit-transform:none;transform:none;width:249px;height:190px;padding:8px 0 20px;background-color:transparent;z-index:116;border-radius:4px;background-color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);border:1px solid #dce0e3}.mrvl-overlay-shell.color-picker-shell .color-picker-carrot{width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff;position:absolute;left:24px;top:-7px;z-index:25}.mrvl-overlay-shell.color-picker-shell.pop-top .color-picker-carrot{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:auto;left:24px;bottom:-7px}.mrvl-overlay-shell.color-picker-shell.pop-left .color-picker-carrot{-webkit-transform:rotate(90deg);transform:rotate(90deg);top:50%;left:auto;right:-3px}.mrvl-overlay-shell.color-picker-shell.pop-right .color-picker-carrot{-webkit-transform:rotate(270deg);transform:rotate(270deg);top:50%;left:-10px}.mrvl-overlay-shell.color-picker-shell.pop-right .color-picker-buttons{left:11px;right:27px}.mrvl-overlay-shell.color-picker-shell .color-picker-close-x{position:absolute;right:14px;top:2px;width:12px;height:12px;background-image:url(/marvel-core/images/pickers/close.svg);background-position:50% 50%;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.5}.mrvl-overlay-shell.color-picker-shell .color-picker-close-x:hover{opacity:1}.mrvl-overlay-shell.color-picker-shell .color-picker-tabs{display:none;text-align:center;border-bottom:1px solid #dce0e3}.mrvl-overlay-shell.color-picker-shell .color-picker-tabs .color-picker-tab{display:inline-block;text-transform:uppercase;font-size:12px;font-weight:700;color:#9aa6af;height:25px;margin:0 10px;padding:1px 0 14px;cursor:pointer}.mrvl-overlay-shell.color-picker-shell .color-picker-tabs .color-picker-tab.selected{color:#35414c;border-bottom:2px solid #35414c}.mrvl-overlay-shell.color-picker-shell .color-picker-upgrade{display:none;text-align:center}.mrvl-overlay-shell.color-picker-shell .color-picker-upgrade h2{font-size:1.4em;font-weight:500;padding:40px 20px 20px}.mrvl-overlay-shell.color-picker-shell .color-picker-upgrade button.mrvl-btn{display:inline-block;height:40px;border-radius:20px;border:1px solid #0e78e3;background-color:#0e78e3;font-weight:500;font-size:1.1em;color:#fff}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-onboard{text-align:center}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-onboard p{color:#35414c;font-size:1.2em;font-weight:500;padding:87px 20px 10px}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-onboard button.mrvl-btn{display:inline-block;border:1px solid #0e78e3;background-color:#0e78e3;height:40px;border-radius:20px;font-weight:500;font-size:1.3em;color:#fff}.mrvl-overlay-shell.color-picker-shell .color-picker-secondary-colors{display:inline-block;max-width:calc(100% - 39px);padding-right:18px;max-height:78px;overflow-x:hidden;overflow-y:auto}.mrvl-overlay-shell.color-picker-shell .color-picker-secondary-colors::-webkit-scrollbar{background:transparent;width:11px}.mrvl-overlay-shell.color-picker-shell .color-picker-secondary-colors::-webkit-scrollbar-thumb{background:#82919b;-webkit-border-radius:8px;border:2px solid #f2f4f5}.mrvl-overlay-shell.color-picker-shell .brand-color-wrap{display:inline-block;margin:0 3px 6px}.mrvl-overlay-shell.color-picker-shell .brand-color-wrap.first-in-row{margin-left:0}.mrvl-overlay-shell.color-picker-shell .color-picker-swatch{cursor:pointer;width:25px;height:25px;border-radius:5px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}.mrvl-overlay-shell.color-picker-shell .color-picker-add-color{display:none;cursor:pointer;text-align:center;font-size:18px;line-height:16px;color:#dce0e3;font-weight:800;border:1px solid #dce0e3;border-radius:5px;width:20px;height:20px;margin:0 3px 6px}.mrvl-overlay-shell.color-picker-shell .color-picker-add-color.disabled{opacity:.9;cursor:default}.mrvl-overlay-shell.color-picker-shell .vert-rule{width:1px;height:36px;display:inline-block;margin:0 6px;background-color:#dce0e3}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-onboard{display:none}.mrvl-overlay-shell.color-picker-shell .color-picker-other-colors-section{display:none;padding:0 20px}.mrvl-overlay-shell.color-picker-shell .color-picker-basic-colors-section,.mrvl-overlay-shell.color-picker-shell .color-picker-logo-colors-section,.mrvl-overlay-shell.color-picker-shell .color-picker-more-toggle,.mrvl-overlay-shell.color-picker-shell .color-picker-suggested-colors-section{display:none}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-colors-section{display:none;padding:7px 0 5px 20px}.mrvl-overlay-shell.color-picker-shell .color-picker-brand-colors-section .color-picker-brand-colors-list .color-picker-swatch{width:34px;height:34px}.mrvl-overlay-shell.color-picker-shell .color-picker-scrollable-section{overflow-y:auto;overflow-x:hidden;width:100%;padding-bottom:10px;max-height:100%}.mrvl-overlay-shell.color-picker-shell .color-picker-scrollable-section::-webkit-scrollbar{background:transparent;width:11px}.mrvl-overlay-shell.color-picker-shell .color-picker-scrollable-section::-webkit-scrollbar-thumb{background:#82919b;-webkit-border-radius:8px;border:2px solid #f2f4f5}.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-preview-control,.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-sl-field,.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-slider{display:none}.mrvl-overlay-shell.color-picker-shell.brand-tab h4.color-picker-section{font-size:14px;color:#35414c;font-weight:400;padding:20px 0 10px 4px}.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-brand-colors-section{border-bottom:none}.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-other-colors-section{display:block}.mrvl-overlay-shell.color-picker-shell.brand-tab .color-picker-secondary-colors{display:inline-block;max-width:calc(100% - 53px);padding-right:0;max-height:158px}.mrvl-overlay-shell.color-picker-shell.brand-tab.no-brand-colors .color-picker-brand-onboard{display:block}.mrvl-overlay-shell.color-picker-shell.brand-tab.no-brand-colors .color-picker-brand-colors-section,.mrvl-overlay-shell.color-picker-shell.brand-tab.no-brand-colors .color-picker-other-colors-section{display:none}.mrvl-overlay-shell.color-picker-shell.brand-tab.upgrade .color-picker-upgrade{display:block}.mrvl-overlay-shell.color-picker-shell.brand-tab.no-secondary-colors .vert-rule{visibility:hidden}.mrvl-overlay-shell.color-picker-shell.more-tab .color-section-less{height:62px;padding-right:4px;max-height:62px;overflow:hidden}.mrvl-overlay-shell.color-picker-shell.more-tab h4.color-picker-section{font-size:14px;color:#35414c;font-weight:400;padding:0 0 14px;width:calc(100% - 40px)}.mrvl-overlay-shell.color-picker-shell.more-tab h4.color-picker-section.basic-colors-label{padding-left:0}.mrvl-overlay-shell.color-picker-shell.more-tab h4.color-picker-section.brand-colors-label{font-size:8px;text-transform:uppercase;font-weight:700;color:#82919b;padding:7px 0 4px 4px}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-more-toggle{cursor:pointer;padding:0 12px 15px 20px;color:#9aa6af;font-size:11px;font-weight:500;text-transform:uppercase;background-image:url(/marvel-core/images/common/icon-arrow-down-gray.svg);background-size:9px auto;background-position:100% 3px;background-repeat:no-repeat}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-more-toggle.show-more{background-image:url(/marvel-core/images/common/icon-arrow-up-gray.svg)}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-more-toggle.active,.mrvl-overlay-shell.color-picker-shell.more-tab.tall-format .color-picker-add-color{display:inline-block}.mrvl-overlay-shell.color-picker-shell.more-tab.basic-colors .color-picker-basic-colors-section{padding:20px 0 5px 20px;display:block}.mrvl-overlay-shell.color-picker-shell.more-tab.basic-colors .basic-colors-label{display:none}.mrvl-overlay-shell.color-picker-shell.more-tab.basic-colors .color-picker-alt-colors-list.color-section-less,.mrvl-overlay-shell.color-picker-shell.more-tab.basic-colors .color-picker-logo-colors-list.color-section-less,.mrvl-overlay-shell.color-picker-shell.more-tab.basic-colors .color-picker-suggested-colors-list.color-section-less{height:40px;max-height:40px}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-brand-colors-section{padding:0 0 0 20px;box-shadow:0 1px 2px 2px rgba(0,0,0,.06)}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-brand-colors-section .color-picker-swatch{width:20px;height:20px}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-preview-control{padding:0 0 6px 20px;text-align:left}.mrvl-overlay-shell.color-picker-shell.more-tab.suggested-colors .color-picker-suggested-colors-section{display:block;padding:0 0 0 20px}.mrvl-overlay-shell.color-picker-shell.more-tab.suggested-colors .color-picker-suggested-colors-section .color-picker-suggested-colors-list .color-picker-swatch{width:25px;height:25px}.mrvl-overlay-shell.color-picker-shell.more-tab.logo-colors .color-picker-logo-colors-section{display:block;padding:0 0 0 20px;border-bottom:1px solid #dce0e3;margin-bottom:20px}.mrvl-overlay-shell.color-picker-shell.more-tab.logo-colors .color-picker-logo-colors-section .color-picker-logo-colors-list{height:42px}.mrvl-overlay-shell.color-picker-shell.more-tab.logo-colors .color-picker-logo-colors-section .color-picker-logo-colors-list .color-picker-swatch{width:25px;height:25px}.mrvl-overlay-shell.color-picker-shell.more-tab.logo-colors .color-picker-logo-colors-section .color-picker-logo-colors-list.loading{line-height:32px;color:#9aa6af;font-size:12px;font-weight:500}.mrvl-overlay-shell.color-picker-shell.more-tab .color-picker-swatch{width:25px;height:25px}.mrvl-overlay-shell.color-picker-shell.more-tab .vert-rule{height:20px}.mrvl-overlay-shell.color-picker-shell.more-tab.no-brand-colors .primary-brand-color,.mrvl-overlay-shell.color-picker-shell.more-tab.no-brand-colors .vert-rule{display:none}.mrvl-overlay-shell.color-picker-shell.tall-format{height:357px}.mrvl-overlay-shell.color-picker-shell.tall-format .color-picker-brand-colors-section,.mrvl-overlay-shell.color-picker-shell.tall-format .color-picker-tabs{display:block}.mrvl-overlay-shell.color-picker-shell.tall-format .color-picker-scrollable-section{max-height:calc(100% - 50px)}.mrvl-overlay-shell.color-picker-shell.tall-format .color-picker-scrollable-section.two-rows{max-height:calc(100% - 76px)}.mrvl-overlay-shell.color-picker-shell.tall-format .color-picker-scrollable-section.three-rows{max-height:calc(100% - 102px)}.mrvl-overlay-shell.color-picker-shell.tall-format:not(.basic-colors) .color-picker-scrollable-section{padding-top:30px}.mrvl-overlay-shell.color-picker-shell.tall-format.upgrade .color-picker-brand-colors-section,.mrvl-overlay-shell.color-picker-shell.tall-format.upgrade .color-picker-gradient-wrap,.mrvl-overlay-shell.color-picker-shell.tall-format.upgrade .color-picker-other-colors-section,.mrvl-overlay-shell.color-picker-shell.tall-format.upgrade .color-picker-preview-control{display:none}.mrvl-overlay-shell.color-picker-shell.tall-format.hide-brandkit:before{z-index:-1}.mrvl-overlay-shell.color-picker-shell.tall-format.hide-brandkit .basic-colors-label{padding-top:24px}.mrvl-overlay-shell.color-picker-shell.tall-format.hide-brandkit .color-picker-scrollable-section{max-height:346px;margin-top:-16px}.mrvl-overlay-shell.color-picker-shell .color-picker-buttons,.mrvl-overlay-shell.color-picker-shell.tall-format.hide-brandkit .color-picker-brand-colors-section,.mrvl-overlay-shell.color-picker-shell.tall-format.hide-brandkit .color-picker-tabs{display:none}.mrvl-overlay-shell.color-picker-shell.show-buttons{height:220px}.mrvl-overlay-shell.color-picker-shell.show-buttons.medium-format{height:300px}.mrvl-overlay-shell.color-picker-shell.show-buttons .color-picker-buttons{display:block;left:0;right:0;bottom:0;z-index:1}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format{height:394px}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format .color-picker-scrollable-section{max-height:calc(100% - 91px)}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format .color-picker-scrollable-section.two-rows{max-height:calc(100% - 117px)}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format .color-picker-scrollable-section.three-rows{max-height:calc(100% - 143px)}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format.hide-brandkit{height:330px}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format.hide-brandkit .color-picker-scrollable-section{margin-top:5px;max-height:calc(100% - 21px)}.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format.hide-brandkit .color-picker-scrollable-section.three-rows,.mrvl-overlay-shell.color-picker-shell.show-buttons.tall-format.hide-brandkit .color-picker-scrollable-section.two-rows{max-height:calc(100% - 21px)}.color-picker-bg{opacity:.01}.color-picker-color-preview{width:32px;height:32px;display:inline-block;border-radius:5px;margin:5px 0;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}div.color-picker-preview-control .color-picker-hex-wrap{display:inline-block;width:72px;margin:3px 0 0 5px}div.color-picker-preview-control .color-picker-hex-wrap label{font-size:8px;font-weight:700;text-transform:uppercase;color:#82919b;width:72px;display:block;padding-bottom:2px}div.color-picker-preview-control .color-picker-hex-wrap input.color-picker-color-hex{display:block;width:72px;height:25px;background-color:#fff;border:1px solid #dce0e3;border-radius:3px;font-size:12px;color:#35414c;padding:2px 0 2px 8px;text-transform:uppercase;font-weight:800}div.color-picker-preview-control .color-picker-hex-wrap input.color-picker-color-hex:focus{outline:none;color:#35414c}div.color-picker-preview-control .color-picker-hex-wrap input.color-picker-color-hex:focus.invalid{background-color:#fdf4af}.eye-dropper{display:inline-block;margin:4px 0 0 8px;cursor:pointer}.eye-dropper.hide{display:none}.eye-dropper .eye-dropper-button{display:inline-block;width:25px;height:30px;background-image:url(/marvel-core/images/eyedropper.svg);background-repeat:no-repeat;background-size:100% auto;background-position:50% 100%;margin-top:4px}.eye-dropper p{display:inline-block;margin:12px 0 0 3px;font-size:12px;font-weight:400;color:#35414c}.color-field-handle,.color-picker-handle{height:16px;width:16px;border-radius:8px;background-color:#fff;position:absolute;left:0;top:2px;z-index:2;cursor:pointer}.color-field-handle .dot,.color-picker-handle .dot{background-color:#333;width:12px;height:12px;border-radius:6px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.color-picker-sl-field{position:relative;margin-left:20px}.color-picker-gradient-wrap{position:relative;padding-top:4px;text-align:left;width:100%}.color-picker-sl-gradient{border-radius:5px}.color-picker-slider{position:absolute;left:216px;top:4px;width:29px;height:98px}.color-picker-slider .color-picker-gradient{position:absolute;top:0;left:3px;bottom:0;border-radius:3px}.color-picker-buttons{position:absolute;height:40px;left:23px;right:15px;bottom:13px;text-align:center;border-top:1px solid #dce0e3}.color-picker-buttons button.mrvl-btn{display:inline-block;width:calc(50% - 2px);height:40px;border:none;border-radius:0;margin:0;font-weight:700;font-size:15px}.color-picker-buttons button.mrvl-btn.confirm-btn{color:#35414c;border-left:1px solid #dce0e3}.color-picker-buttons .cancel-btn{color:#82919b!important}",""])},function(e,t,i){var n,r;n=[i(0),i(2),i(369),i(419),i(1),i(8),i(3),i(98),i(4),i(425),i(346),i(6),i(62)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h){"use strict";function p(e,t,i){this._init(e,t,i)}return e.extend(p.prototype,d.prototype,{_init:function(t,i,n){this._options={},this._isFlickrAllowed=!1,this._isFlickrEnabled=!1,this._isBingAllowed=!1,this._switchedIntoBing=!1,e.extend(this._options,{image_filter:n.imageFilter.extensionsWithoutDot.concat(n.imageFilter.types),imageFilter:n.imageFilter,startPage:n.startPage},n),d.prototype._init.call(this,t,i),this._isBound||(this._isBound=!0,this._handleResize=this._handleResize.bind(this),this._handleSearchTextChange=this._handleSearchTextChange.bind(this),this._handleDooploSearch=this._handleDooploSearch.bind(this),this._handleSearchTextKeyDown=this._handleSearchTextKeyDown.bind(this),this._handleScroll=this._handleScroll.bind(this),this._handleSearchTextFocus=this._handleSearchTextFocus.bind(this),this.clearFilterSettingsOnEditorLoad=this.clearFilterSettingsOnEditorLoad.bind(this)),this.results$=this.$ele.find("#results-without-bing"),this._registerEvents(),this._setHintTextForFilters(),this.setupSearchDropdown()},_registerEvents:function(){if(!this._eventsRegistered){var t=this.$ele.find(".dooploSearchEntry .search-text");t.on("focus",this._handleSearchTextFocus),t.on("input",this._handleSearchTextChange),t.on("keydown",this._handleSearchTextKeyDown),this.$ele.find(".results").on("scroll",this._handleScroll),this.$ele.find(".execute-search-button").on("vclick",this._handleDooploSearch),e(window).on("resize",this._handleResize),this._eventsRegistered=!0}},_deregisterEvents:function(){if(this._eventsRegistered){var t=this.$ele.find(".dooploSearchEntry .search-text");t.off("input",this._handleSearchTextChange),t.off("keydown",this._handleSearchTextKeyDown),this.$ele.find(".results").off("scroll",this._handleScroll),this.$ele.find(".execute-search-button").off("vclick",this._handleDooploSearch),e(window).off("resize",this._handleResize),this._eventsRegistered=!1}},handleChangingToEditor:function(e){this._registerEvents(),window.marvel.features.hasFeature("dooplo-service-persistant-filters")||this.clearFilterSettingsOnEditorLoad()},handleChangingFromEditor:function(e){this._deregisterEvents()},_needsTitleWorkaround:function(e){return"Unsplash"===e.data.source.name&&"untitled image"===e.data.title},_comesFromBing:function(e){return"bing"===e.data.source.name},_handleThumbClick:function(t){var i=e(t.target).data("item");this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected"),this._needsTitleWorkaround(i)?c.getAssetInfo(i.data.id).then(function(e){e.title&&(i.data.title=e.title),this._userCallback(i)}.bind(this),function(e){this._userCallback(i)}.bind(this)):(this._comesFromBing(i)&&(i.data.owner={name:"Unknown"}),this._userCallback(i))},_getComboSourcesString:function(e){var i="";if((e=t.compact(e)).length&&(i=e[0],e.length>1))if(2===e.length)i+=" & "+e[1];else{for(var n=1;n<e.length-1;n++)i+=", "+e[n];i+=", & "+e[e.length-1]}return i},_getAllowedSourcesForCurrentAssetType:function(){var e,t=[];if(u.ignoreDooploSourceTypes||this._options.dooploSourceTypes&&this._options.dooploSourceTypes.length>0&&(t=this._options.dooploSourceTypes),this._options.assetType&&"vector"===this._options.assetType)e=["The Noun Project"];else{var i=s.getProfile().filterDooploBitmapServicesForUser(t,this._connectedApp);this._isFlickrAllowed=-1!==i.show.indexOf("flickr"),this._isFlickrEnabled=-1!==i.enabled.indexOf("flickr"),this._isBingAllowed=-1!==i.show.indexOf("bing"),e=i.enabled}return e||[]},_useBingOnly:function(){var e=s.getProfile().getSetting("show-user-flag-image-source-dooplo-bing"),i=this._getCurrentSearchSettings().sourceFilters,n=t.filter(i,{isSelected:!0}),r=i.bing&&i.bing.isSelected&&1===n.length,o=i.bing&&!i.bing.isSelected,a=this._options.assetType&&"vector"===this._options.assetType,l=this.page>2||this.resultsTotal>0&&this.resultsTotal<50;return!a&&!o&&(r||l&&e&&this._isBingAllowed&&1!==n.length)},_switchToBing:function(){this._switchedIntoBing=!0,this.results$=this.$ele.find("#results-bing-only"),this._sendAnalyticsEvent("bingSearchResultsShown"),this._makeDooploRequest(this.subject,1,this.results$,["bing"])},_setHintTextForFilters:function(){var e,i=this._getAllowedSourcesForCurrentAssetType(),n=this._getCurrentSearchSettings().sourceFilters,r=[],a=0;t.each(i,function(e){var t=n[e];if(!t||t.isSelected){var i=c.SOURCE_CREDIT_INFOS[e.toLowerCase()];r[i.creditOrderIndex]=i.sourcesName,a++}}),e=1==a||a!==i.length?"Search "+this._getComboSourcesString(r)+"...":o.getString("imagepicker-allphotos-search"),this.$ele.find(".dooploSearchEntry .search-text-hint").text(e)},_handleSearchTextFocus:function(){this.$ele.parents().scrollLeft(0)},_handleSearchTextChange:function(e){var t=this.$ele.find(".dooploSearchEntry .search-text").val(),i=this.$ele.find(".dooploSearchEntry .search-text-hint");i.removeClass("showing"),t&&0!==t.length||i.addClass("showing")},_handleSearchTextKeyDown:function(e){if(13===e.keyCode)this._handleDooploSearch();else if(27===e.keyCode){var t=this.$ele.find(".dooploSearchEntry .search-text");return setTimeout(function(){t.val(""),this._handleDooploSearch(),this._handleSearchTextChange()}.bind(this),0),e.stopPropagation(),0}},searchNextSet:function(){this._switchedIntoBing||!this._useBingOnly()?this.request.searchNextSet():this._switchToBing()},updateInfoMessage:function(){var e=this.results$.find(".left"),t=this.$ele.find(".search-text").val();e.children().length||t.length?this.showInfoMessage(!1):this.showInfoMessage(!0)},showInfoMessage:function(e){var t=this.$ele.find(".search-info");e?t.removeClass("hide"):t.addClass("hide")},showImageSourcesMessage:function(e,i){var n;if((n=(i=i||this.results$).find(".search-sources")).length){var r=[];if(t.each(e,function(e){var t,i=e.source;i&&i.sourcesName&&(t=i.link?'<a class="search-source-link" target="_blank" href="'+i.link+'">'+i.sourcesName+"</a>":i.sourcesName,r[i.creditOrderIndex]=t)}),(r=t.compact(r)).length){var o="Results from "+this._getComboSourcesString(r);n.removeClass("hide"),n.html(o)}else n.addClass("hide")}},getEnabledSearchSources:function(){var e=this._getAllowedSourcesForCurrentAssetType(),i=this._getCurrentSearchSettings().sourceFilters,n=t.filter(e,function(e){var t=i[e];return!t||t.isSelected});return n=this._useBingOnly()?["bing"]:t.pull(n,"bing")},clearFilterSettingsOnEditorLoad:function(){this.setupSearchDropdown(),this._cachedDooploSearchSettings=null},_saveCurrentSearchSettings:function(e){if(window.marvel.features.hasFeature("dooplo-service-persistant-filters")&&(window._cachedDooploSearchSettings=e,window.localStorage))try{window.localStorage.setItem("spark-dooplo-user-settings",JSON.stringify(e))}catch(e){window.marvel.logger.warn("could not save search settings",e)}this._cachedDooploSearchSettings=e},_getCurrentSearchSettings:function(){if(!this._cachedDooploSearchSettings)if(window.marvel.features.hasFeature("dooplo-service-persistant-filters")){if(!window._cachedDooploSearchSettings){var e;if(window.localStorage){var t=window.localStorage.getItem("spark-dooplo-user-settings");if(t)try{e=JSON.parse(t)}catch(e){window.marvel.logger.error("error parsing cached dooplo settings:"+e,{settingsString:t})}}window._cachedDooploSearchSettings=e||{sourceFilters:{}}}this._cachedDooploSearchSettings=window._cachedDooploSearchSettings}else this._cachedDooploSearchSettings={sourceFilters:{}};return this._cachedDooploSearchSettings},searchDropdownOnChangeCallback:function(e,i){var n=this._getCurrentSearchSettings(),r=n.sourceFilters,o=!i.length||i.length&&"all"===i[0];t.each(this.filteredSourcesFromUserSettings,function(e){var t=r[e];t||(t={},r[e]=t),t.isSelected=o||-1!==i.indexOf(e)}.bind(this)),this._saveCurrentSearchSettings(n),this._setHintTextForFilters()},setupSearchDropdown:function(){if(this.filteredSourcesFromUserSettings=this._getAllowedSourcesForCurrentAssetType(),!(this.filteredSourcesFromUserSettings.length<2)){var e=this._getCurrentSearchSettings().sourceFilters;if(!this.searchDropdown){var i={onchangeCallback:this.searchDropdownOnChangeCallback.bind(this),multiple:!0,widthSetByStyle:!0,elemHeightSetByStyle:!0,checkmarkStyle:"use-checkbox",buttonDisplayControlledByCaller:!0,alignTarget$:this.$ele.find(".dooplo-search-dropdown-aligner"),analytics:{dropdownName:"dooploSearch",pageName:l.getProductName()+":editor"},dropdownShowingCallback:function(e){var t=this.$ele.find(".dooploSearchEntry .search-text-wrapper");e?(t.addClass("showing-dropdown"),t.one("click.sharetextdropdownclose",function(e){this.searchDropdown.closeAndApply()}.bind(this))):(t.removeClass("showing-dropdown"),t.off("click.sharetextdropdownclose"))}.bind(this)};this.searchDropdown=new h(this.$ele.find(".dooplo-search-dropdown"),i,this)}var n=[{name:o.getString("imagepicker-all-photos"),id:"all",isAllItem:!0}],r=0;if(t.each(this.filteredSourcesFromUserSettings,function(t){var i=t.toLowerCase(),o=c.SOURCE_CREDIT_INFOS[i],a=e[t],s=!a||a.isSelected;s&&r++,n.push({name:o.sourcesName,id:t,isSelected:s})}),r===this.filteredSourcesFromUserSettings.length){n[0].isSelected=!0;for(var a=1;a<n.length;a++)n[a].isSelected=!1}else n[0].isSelected=!1;this.searchDropdown.renderItemsMultiple(n)}},show:function(e){this.$ele.find(".search-failure").addClass("hide"),d.prototype.show.call(this);window.setTimeout(function(){var t=this.$ele.find(".dooploSearchEntry .search-text");this.updateInfoMessage(),t.focus(),this.$ele.parents().scrollLeft(0),e&&e!=this.getSearchText()?(this.$ele.find(".dooploSearchEntry .search-text-hint").removeClass("showing"),t.val(e),this._handleDooploSearch()):this.getSearchText()?this.$ele.find(".dooploSearchEntry .search-text-hint").removeClass("showing"):this.$ele.find(".dooploSearchEntry .search-text-hint").addClass("showing")}.bind(this),500)},_makeDooploRequest:function(e,t,n,r){n=n||this.$ele.find("#results-without-bing"),this.preloadPagesWhenLoaderEmpty=!1,this.$ele.find(".search-failure").addClass("hide"),this.$ele.find(".results .flickr-more-results").addClass("hide"),this.loader?(this.loader.stop(),this.loader.clearQueue(),this.hideMoreToCome()):(this.loader=new i({numAsyncRequestsAllowed:20,crossOrigin:!!this._options.crossOriginThumbnails&&"anonymous"}),this.loader.bind("wp-image-loader-empty",function(e){this.requestOutstanding=!1,this.preloadPagesWhenLoaderEmpty&&this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet()),this.requestOutstanding?this._isFlickrAllowed&&!this._isFlickrEnabled&&(this.$ele.find(".results .flickr-more-results").removeClass("hide"),this._sendAnalyticsEvent("dooploSearchSuggestFlickrMoreResultsShown")):this.hideMoreToCome()}.bind(this))),this.preloadPagesWhenLoaderEmpty=!0;var o=this.request;o.resultsTarget$=n,this.requestOutstanding=!0,t=t||1,this.subject=e;var a={query:e,page:t,success:this._handleRequestSuccess.bind(this),error:function(e,t,i){this.hideMoreToCome(),this._sendAnalyticsEvent("dooploSearchErroredOut"),console.log("REQUEST ERROR on Search for Photos in Dooplo:",i),console.log("XHR text for Dooplo error is:",JSON.stringify(e)),this.$ele.find(".search-progress").addClass("hide"),this.$ele.find(".search-failure").removeClass("hide"),this.$ele.find(".search-failure .error-msg").text(e.responseJSON&&e.responseJSON.message?e.responseJSON.message:"unknown")}.bind(this)};this._options.assetType&&"vector"===this._options.assetType?(a.asset_type=this._options.assetType,a.image_min_width=0):(a.image_filter=this._options.image_filter,a.imageFilter=this._options.imageFilter),this._options.itemsPerPage&&(a.size=this._options.itemsPerPage),this._options.startPage&&(a.startPage=this._options.startPage);var s=r||this.getEnabledSearchSources();a.source=s,this._currentSourcesResults={},this._currentSourceFilters=s,this._currentSearchTerm=e,o.search(a)},_handleRequestSuccess:function(e,t,i){var n=this.request.resultsTarget$,r="vector"!==this._options.assetType,o=!!this._options.crossOriginThumbnails;if(n.removeClass("hide"),n.find(".privacy-sources").removeClass("hide"),n.find(".no-results").addClass("hide"),this.$ele.find(".search-progress").addClass("hide"),this.showMoreToCome(),this.page=e.data.page,this.resultsTotal=e.data.total,e.getLength()){var a,s=e.at(0);for(a=0;a<e.getLength();a++){if(s=e.at(a),this.items.push(s),s.data.title=s.data.title||"untitled image",this._currentSourcesResults){var l=s.data.source.name.toLowerCase(),d=s.data.sourceLabel=c.SOURCE_CREDIT_INFOS[l];d&&(this._currentSourcesResults[l]?this._currentSourcesResults[l].numImages++:this._currentSourcesResults[l]={source:d,numImages:1})}this._addThumbnail(s.getThumbURL(),n,s,s.getAspect(),r,o)}this.loader.start(),this.showImageSourcesMessage(this._currentSourcesResults,n),this._sendAnalyticsEvent("dooploSearchResultsShown")}else{var u=this.getSearchText();if(this.hideMoreToCome(),this._isBingAllowed&&!this._switchedIntoBing&&u)return 0===this.items.length&&this.$ele.find("#results-without-bing").addClass("hide"),this.request=new c,void this._switchToBing();this.request.getLength()||(this.$ele.find(".no-results").removeClass("hide"),this.$ele.find("#results-bing-only").addClass("hide"),this.$ele.find(".privacy-sources").addClass("hide"),this._isFlickrAllowed&&!this._isFlickrEnabled?(this.$ele.find(".no-results-no-suggest-flickr").addClass("hide"),this._sendAnalyticsEvent("dooploSearchSuggestAddingFlickrShown")):this.$ele.find(".no-results-suggest-flickr").addClass("hide"),this.showInfoMessage(!1),this._sendAnalyticsEvent("dooploSearchReturnedZeroResults"))}},hasMore:function(){return this.request&&!this.request.reachedEnd()},getSearchText:function(){return this.$ele.find(".search-text").val()},_sendAnalyticsEvent:function(e){var t=l.getProductName()+":editor",i={searchTerm:this._currentSearchTerm||"",filter:this._currentSourceFilters||""};l.trackEvent(e,i,t)},_handleDooploSearch:function(){var e,t=this.$ele.find(".search-text").val(),i=o.formatMessage("imagepicker-searching-for-subject",{subject:t});return this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new c,this._switchedIntoBing=!1,this.page=this._options.startPage||1,this.resultsTotal=0,this._clear(),this.count=0,t.length&&(this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(i)),this.$ele.find(".no-results").addClass("hide"),this.$ele.find("#results-bing-only").addClass("hide"),this.$ele.find("#results-without-bing").addClass("hide"),this.showImageSourcesMessage(),t?(e=this._useBingOnly()?this.$ele.find("#results-bing-only"):this._options.assetType&&"vector"===this._options.assetType?this.$ele.find(".results"):this.$ele.find("#results-without-bing"),this.showInfoMessage(!1),this._makeDooploRequest(t,this.page,e)):this.hideMoreToCome(),!1},_scrolledFarEnough:function(){var e=this.$ele.find(".results"),t=e[0].scrollTop,i=!1;return 2*e.height()+t>e[0].scrollHeight&&(i=!0),i},showMoreToCome:function(){this.request.result&&this.$rootPicker.find(".more-to-come").addClass("showing")}}),p}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(369),i(8),i(95),i(5),i(346),i(6)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";function d(e,t,i){this._init(e,t,i)}return d.licenseInfoFromData=function(e,t){var i=t||e.is_licensed||e.license;return{title:e.title,owner:{name:e.creator_name},source:{name:"Adobe Stock",url:""},license:{short_name:i?{standard:"royalty_free_standard",extended:"royalty_free_extended",royalty_free_extended:"royalty_free_extended",royalty_free_standard:"royalty_free_standard",royalty_free:"royalty_free"}[i.toLowerCase()]:"royalty_free"},image_id:e.id}},e.extend(d.prototype,l.prototype,{_init:function(t,i,n){this._options={},e.extend(this._options,{image_filter:["jpg","jpeg","png","image/jpeg","image/png"]},n),l.prototype._init.call(this,t,i);var r=this.$ele.find(".stockSearchEntry .search-text");r.on("input",this._handleSearchTextChange.bind(this)),r.on("keydown",this._handleSearchTextKeyDown.bind(this)),this.$ele.find(".results").on("scroll",this._handleScroll.bind(this)),e(window).on("resize",this._handleResize.bind(this)),this.$ele.find(".execute-search-button").on("vclick",this._handleAdobeStockSearch.bind(this)),this.$ele.find(".stockShowSearchButton").on("vclick",this._handleShowSearchButton.bind(this)),this.$ele.find(".stockShowLicenseHistoryButton").on("vclick",this._handleShowLicenseHistoryButton.bind(this))},_handleThumbClick:function(t){var i=e(t.target).data("item"),n=this,r=i.data.id;this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected");var o=a.apiHost+a.itemLicensePath,l={content_id:r};i.licenseInfo=d.licenseInfoFromData(i.data,i.is_licensed),i.is_licensed&&!i.links.licensed?s.ajax({url:o,data:l,beforeSend:function(e){return e.setRequestHeader("X-api-key",s.apiKey),e.setRequestHeader("X-Product",s.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(e,t,o){var a=e.contents[r];i.links.licensed=a.purchase_details,n._userCallback(i)}).fail(function(){}.bind(this)):this._userCallback(i)},_handleSearchTextChange:function(e){var t=this.$ele.find(".stockSearchEntry .search-text").val(),i=this.$ele.find(".stockSearchEntry .search-text-hint");i.removeClass("showing"),t&&0!==t.length||i.addClass("showing")},_handleSearchTextKeyDown:function(e){if(13===e.keyCode)this._handleAdobeStockSearch(),e.stopPropagation();else if(27===e.keyCode){var t=this.$ele.find(".stockSearchEntry .search-text");return setTimeout(function(){t.val(""),this._handleAdobeStockSearch(),this._handleSearchTextChange()}.bind(this),0),e.stopPropagation(),0}},searchNextSet:function(){this.request.searchNextSet()},updateInfoMessage:function(){var e=this.$ele.find(".results").find(".left");this.$ele.find(".search-info");e.children().length?this.showInfoMessage(!1):this.showInfoMessage(!0)},showInfoMessage:function(e){var t=this.$ele.find(".search-info");e?(t.removeClass("hide"),this.$ele.find(".stockLicenses").addClass("fromNoSearch")):(t.addClass("hide"),this.$ele.find(".stockLicenses").removeClass("fromNoSearch"))},_lastRequestType:function(){return a.getRequestType(this.request)},show:function(e){var t,i=this._lastRequestType(),n=this._currentType||this._lastRequestType();if(this.$ele.find(".search-failure").addClass("hide"),l.prototype.show.call(this),e===a.licenseHistorySearchQuery?t=!0:e||"history"!==n||(t=!0),t)return this._updateLicenseCount(),this.updateInfoMessage(),void this._setShowTypeTab("history",{triggerSearch:a.licenseHistorySearchQuery});window.setTimeout(function(){this._updateLicenseCount();var t,r=this.$ele.find(".stockSearchEntry .search-text");if(this.updateInfoMessage(),r.focus(),e)t="history"===n?e:e!==this._getSearchText()&&e,this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"),r.val(e),this._setShowTypeTab("search",{triggerSearch:t});else{var o={};this._getSearchText()?this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"):this.$ele.find(".stockSearchEntry .search-text-hint").addClass("showing"),o.triggerSearch="history"===i||"search"===i&&this._lastRequestSubject!==this._getSearchText(),this._setShowTypeTab("search",o)}}.bind(this),500)},_updateLicenseCount:function(){var e=a.apiHost+a.profilePath,t=this;this.$ele.find(".stockLicenses").addClass("calculating"),s.ajax({url:e,beforeSend:function(e){return e.setRequestHeader("X-api-key",s.apiKey),e.setRequestHeader("X-Product",s.apiKey),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done(function(e,i,n){var r=t.$ele.find(".stockLicenses").removeClass("calculating");if(e.purchase_options.requires_checkout||"not_possible"===e.purchase_options.state)r.addClass("noAccount");else{var o=e.available_entitlement?e.available_entitlement.quota:0;r.find(".count").text(o),r.removeClass("noAccount")}}).fail(function(){}.bind(this))},_makeAdobeStockRequest:function(e,t){this.preloadPagesWhenLoaderEmpty=!1,this.$ele.find(".search-failure").addClass("hide"),this._lastRequestSubject=e,this.loader?(this.loader.stop(),this.loader.clearQueue(),this.hideMoreToCome()):(this.loader=new r({numAsyncRequestsAllowed:20,crossOrigin:!!this._options.crossOriginThumbnails&&"anonymous"}),this.loader.bind("wp-image-loader-empty",function(e){this.requestOutstanding=!1,this.preloadPagesWhenLoaderEmpty&&this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet()),this.requestOutstanding||this.hideMoreToCome()}.bind(this))),this.preloadPagesWhenLoaderEmpty=!0;var i=this.request;this.requestOutstanding=!0,t=t||1,this.subject=e;var n={query:e,page:t,success:this._handleRequestSuccess.bind(this,i),error:function(e,t,n){this.request===i&&(this.hideMoreToCome(),console.log("REQUEST ERROR on Search for Photos in AdobeStock:",n),console.log("XHR text for AdobeStock error is:",JSON.stringify(e)),this.$ele.find(".search-progress").addClass("hide"),this.$ele.find(".search-failure").removeClass("hide"),this.$ele.find(".search-failure .error-msg").text(e.responseJSON&&e.responseJSON.message?e.responseJSON.message:"unknown"))}.bind(this)};this._options.assetType&&"vector"===this._options.assetType?(n.asset_type=this._options.assetType,n.image_min_width=0):n.image_filter=this._options.image_filter,this._options.itemsPerPage&&(n.size=this._options.itemsPerPage),n.blockUnlicensedPremium=marvel.features.hasFeature("stock-picker-block-unlicensed-premium"),i.search(n)},_handleRequestSuccess:function(e,t,i,n){if(this.request===e){var r=this.$ele.find(".results"),o="vector"!==this._options.assetType,a=!!this._options.crossOriginThumbnails;if(r.find(".no-results").addClass("hide"),this.$ele.find(".search-progress").addClass("hide"),this.showMoreToCome(),this.page=t.data.page,t.getLength()){this.showInfoMessage(!1);var s,l,c=t.at(0);for(s=0;s<t.getLength();s++)c=t.at(s),this.items.push(c),c.data.title=c.data.title||"untitled image",l=this._addThumbnail(c.getThumbURL(),r,c,c.getAspect(),o,a),c.is_licensed&&l.addClass("licensed");this.loader.start()}else this.hideMoreToCome(),this.request.getLength()||(this.$ele.find(".no-results").removeClass("hide"),this.showInfoMessage(!1))}},hasMore:function(){return this.request&&!this.request.reachedEnd()},getSearchContext:function(){return"history"===this._lastRequestType()?a.licenseHistorySearchQuery:this._getSearchText()},_getSearchText:function(){return this.$ele.find(".search-text").val()},_handleAdobeStockSearch:function(){var e=this.$ele.find(".search-text").val().trim(),t=o.formatMessage("imagepicker-searching-for-subject",{subject:e});if(this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new a,this._clear(),this.count=0,this.$ele.find(".no-results").addClass("hide"),e){this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(t),this.showInfoMessage(!1);var i=c.safeSearchQueryFilterEndpoint;if(i){var n="https://"+i+"/api/v1/moderation/profanity",r={query:e};s.ajax({type:"GET",url:n,headers:{"X-Api-Key":c.key,"Content-Type":"application/json"},data:r,dataType:"json",traditional:!0,success:function(t,i,n){t.contains_badwords?this._showEmptySearchResults(!1):this._makeAdobeStockRequest(e)}.bind(this),error:function(t,i,n){window.marvel.logger.error("stock data search failure:"+i,t),this._makeAdobeStockRequest(e)}.bind(this)})}else this._makeAdobeStockRequest(e)}else this._showEmptySearchResults(!0);return!1},_showEmptySearchResults:function(e){this.hideMoreToCome(),this.$ele.find(".search-progress").addClass("hide"),this.showInfoMessage(e),e?this.$ele.find(".no-results").addClass("hide"):this.$ele.find(".no-results").removeClass("hide")},_setShowTypeTab:function(e,t){(t=t||{}).ignoreIfSame&&e===this._currentType||(this._currentType=e,"history"===e?(this.$ele.addClass("view-type-history"),this.$ele.removeClass("view-type-search"),t.triggerSearch&&this._handleLicenseHistory(t.triggerSearch)):(this.$ele.addClass("view-type-search"),this.$ele.removeClass("view-type-history"),t.triggerSearch&&this._handleAdobeStockSearch(t.triggerSearch)))},_handleShowSearchButton:function(e){var t,i=this._getSearchText();this.updateInfoMessage(),i?this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"):(this.$ele.find(".stockSearchEntry .search-text-hint").addClass("showing"),this.$ele.find(".no-results").addClass("hide"),t=!0),this._setShowTypeTab("search",{triggerSearch:this._getSearchText()||"history"===this._currentType,ignoreIfSame:t})},_handleShowLicenseHistoryButton:function(e){this._setShowTypeTab("history",{triggerSearch:a.licenseHistorySearchQuery})},_handleLicenseHistory:function(){this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new a(a.licenseHistoryPath),this._clear(),this.count=0,this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(o.getString("imagepicker-stock-looking-up-license-history")),this.$ele.find(".no-results").addClass("hide"),this.showInfoMessage(!1),this._makeAdobeStockRequest(a.licenseHistorySearchQuery)}}),d}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(369),i(1),i(346),i(347),i(330),i(219),i(348),i(533),i(526),i(534),i(535),i(536),i(537),i(213),i(37)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m){"use strict";function v(e,t,i){this._init(e,t,i)}return e.extend(v.prototype,r.prototype,{_init:function(t,i,n){r.prototype._init.call(this,t,i),e(window).on("resize",this._handleResize.bind(this)),this.items=[],this.dirs=[],this.crumbs=[],this.rootCrumb=null,this._handleFolderClick=this._handleFolderClick.bind(this),this.pickerModel=n.model,this.source=n.model.get("source"),this.parentView=n,this._options=this._options||this.parentView._options,this.sort="custom",this.filter="all",this.depth=0},_handleLoadedThumbnail:function(e,t){this._options.enableDNDThumbclick&&(e.attr("draggable","true"),t.attr("draggable","true"),e.on("mousedown",this._handleThumbClick.bind(this)),e.on("mouseup",this._handleThumbClick.bind(this)),e.on("dragstart",function(e){e.preventDefault(),e.originalEvent.dataTransfer.setData("text/plain","foo"),this._handleThumbClick()}.bind(this)),e.on("dragleave dragend",function(e){e.originalEvent.dataTransfer.clearData()}.bind(this)))},_handleThumbClick:function(t){var i=e(t.target).data("item");if(this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected"),this._userCallback){var n=this.crumbs[this.crumbs.length-1];i.parentFolderName=n.item.getFolderName(),i.thumbNaturalSize={width:t.target.naturalWidth,height:t.target.naturalHeight},this._userCallback(i,e(t.target).width(),e(t.target).height())}},populate:function(){this.crumbs=[],this.items=[];this.addRootCrumb(),this._makeRequest("",1)},getCurrentFolderPath:function(){for(var e="",t=this.crumbs,i=0,n=t.length;i<n;i++){e+=t[i].item.getFolderName()+"/"}return e=e.replace(/\/$/,"")},getCurrentFolderUrl:function(){var e=this.crumbs;return e[e.length-1].item.getFolderPath()},addRootCrumb:function(){var e=new g("root");e.isDir=!0,e.links.folder={},e.links.preview.href="",e.links.folder.path="/",e.links.folder.filename="",this.rootCrumb={label:this.pickerModel.get("label"),item:e},this.crumbs.push(this.rootCrumb)},_clear:function(){var e=this.$ele.find(".results").eq(this.depth),t=e.find(".folders"),i=e.find(".column");t.empty(),i.empty(),this.loader&&(this.loader.stop(),this.loader.clearQueue())},_scrolledFarEnough:function(){var t=this.$results,i=t.find(".column"),n=t[0].scrollTop,r=2*t.height()+n,o=!1;return i.each(function(){if(r>e(this).height())return o=!0,!1}),o},_makeRequest:function(n,r,o){var a=o?e(o):this.$ele.find(".results").eq(this.depth);this.$results=a,a.off("scroll",this._handleScroll.bind(this)),a.on("scroll",this._handleScroll.bind(this)),this.loader=new i({numAsyncRequestsAllowed:20}),this.requestId=m.v4(),this.updateFilterability(),this.requestOutstanding=!0,this.showMoreToCome(),this.loader.bind("wp-image-loader-empty",function(e){this.loader.stop(),this.requestOutstanding=!1,this._scrolledFarEnough()&&this.imageSource&&this.imageSource.haveMoreMetaData()&&(this.requestOutstanding=!0,this.imageSource.getNextMetaData(),this.showMoreToCome()),this.requestOutstanding||this.hideMoreToCome()}.bind(this)),1===(r=r||1)&&this._clear(),this._requestMetaData({page:r,path:n,success:function(e,i,n){if(a.find(".no-photos").addClass("hide"),e.length&&0!==e.data.pages){var r,o,s,l,c=e[0];for(this.page=e.data.page,this.pages=e.data.pages,s=t.filter(e,function(e){return e.isDir}),o=t.filter(e,function(e){return!e.isDir}),r=0;r<s.length;r++)l=s[r],this.dirs.push(l),this._addDir(l.getPreviewURL(),l.getFolderLabel(),a,r,l);for(r=0;r<o.length;r++)c=o[r],this.items.push(c),this._addThumbnail(c.getThumbURL(),a,c,c.aspect,!0,!1);this.loader.bind("wp-image-loader-load-error",function(e){this.hideMoreToCome(),console.warn("image loader error ",e)}.bind(this)),this.loader.start()}else(!e.data||e.data.pages<2&&1===e.data.page)&&a.find(".no-photos").removeClass("hide");this.hideMoreToCome()}.bind(this),error:function(e,t,i){a.find(".no-photos").removeClass("hide"),this.hideMoreToCome(),console.warn("REQUEST ERROR:",i)}.bind(this)})},searchNextSet:function(){this.imageSource.getNextMetaData()},_addDir:function(t,i,n,r,o){var a,s=n.find(".folders"),l=e("<div class='folder-wrapper'></div>"),c=e("<p class='label'>"+i+"</p>");l.on("click",this._handleFolderClick),l.data("index",r),l.data("item",o),o.hasCover()&&(l.addClass("withPreview"),a=e("<div class='preview'></div>"),o.getCover().then(function(e){a.css("background-image",'url("'+e+'")')}).fail(function(e){console.warn("getCover failed because ",e)}),l.append(a)),l.append(c);var d=l.wrap("<div class='folder-hover'></div>");s.append(d),window.setTimeout(function(){l.addClass("showing")},0)},_appendResults:function(){var t=e(document.createElement("div")),i='<div class="folders"></div><div class="left column"></div><div class="right column"></div><div class="picker-bumper"></div>',n=this.$ele.find(".results-carrier"),r=this.$ele.find(".results");return i+="Lightroom"===this.pickerModel.get("source")?'<div class="no-photos hide">No photos in this album</div>':'<div class="no-photos hide">No photos in this folder</div>',t.addClass("results").html(i),n.append(t),t.css("left",r.length*r.width()),t},_showResults:function(e){var t=this.$ele.find(".results"),i=this.$ele.find(".results-carrier"),n="onwebkittransitionend"in window?"webkitTransitionEnd":"transitionend",r=function(o){var a;if(i[0].removeEventListener(n,r),"left"===o.propertyName)for(a=t.length-1;a>e;a--)t.eq(a).remove()};i[0].addEventListener(n,r),i.css("left",t.width()*-e+"px")},_handleFolderClick:function(t){var i=e(t.currentTarget).data("item");this._appendResults(),this.depth++,this._clear(),this._showResults(this.depth);var n=i.getFolderLabel();this.pickerModel.set("label",n),this.crumbs.push({label:n,item:i}),this._makeRequest(i.getFolderPath(),1)},canGoBack:function(){return this.crumbs.length>1},goBack:function(){this.crumbs.length>1&&this.crumbs.pop();var e=t.last(this.crumbs);if(this.depth=this.crumbs.length-1,this._showResults(this.depth),this.pickerModel.set("label",e.label),1===this.crumbs.length)this.populate();else{var i=e.item?e.item.getFolderPath():e.path;this._clear(),this._makeRequest(i,1)}},jumpTo:function(e,t){var i=this,n=i.pickerModel.get("source"),r=this.crumbs[this.crumbs.length-1];if(e=decodeURI(e),"Lightroom"==n)this.imageSource=this.imageSource||new d,this.imageSource.getMetaData({filter:this.filter,sort:this.sort,success:function(e,n,o){for(var a,s=0,l=e.length;s<l;s++){var c=e[s];c.links.folder.filename==t&&(a=c.getFolderPath())}r&&r.item&&a==r.item.getFolderPath()||(i.crumbs=[],i.addRootCrumb(),i.crumbs.push({label:t,path:a,item:g.createFolderItem(a,t)}),i._clear(),i._makeRequest(a,1)),i.pickerModel.set("label",t)}});else if(e&&"/"!=e){var o,a;if("Dropbox"==n?(o=new u,a=e):"Google Photos"==n?a=(o=new f).generateUrlForAlbumId(e):"Facebook"==n?(o=new h,a=e):"Instagram"==n?(o=new p,a=e):(o=new c,a=e),!r||!r.item||r.item.getFolderPath()!=e){var s=o.generateCrumbsForPath(e,t);i._appendResults(),i.crumbs=[],i.addRootCrumb(),i.crumbs=i.crumbs.concat(s),t=s[s.length-1].item.getFolderLabel(),i._clear(),i._makeRequest(a,1)}i.pickerModel.set("label",t||i.crumbs[i.crumbs.length-1].label)}else i.populate()},getLastCrumb:function(){return this.crumbs[this.crumbs.length-1]},_handleScroll:function(e){this.requestOutstanding||this._scrolledFarEnough()&&this.imageSource&&this.imageSource.haveMoreMetaData()&&(this.showMoreToCome(),this.requestOutstanding=!0,this.searchNextSet())},_requestMetaData:function(e){if("Dropbox"==this.pickerModel.get("source"))return this._getDropboxMetadata(e);if("Facebook"==this.pickerModel.get("source"))return this._getFacebookMetaData(e);if("Instagram"==this.pickerModel.get("source"))return this._getInstagramMetaData(e);if("Creative Cloud"==this.pickerModel.get("source"))return this._getCCMetadata(e);if("Lightroom"==this.pickerModel.get("source")){e.path,e.success,e.error;return e.filter=this.filter,e.sort=this.sort,this.imageSource=this.imageSource||new d(e),this.imageSource.getMetaData(e)}return"Google Photos"==this.pickerModel.get("source")?this._getGoogleMetadata(e):void 0},_getDropboxMetadata:function(e){e.path,e.success;var t=e.error;o.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new u(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)):t("user cancelled authentication")},_getFacebookMetaData:function(e){e.path,e.success;var t=e.error;s.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new h(e),this.imageSource.getMetaData(e)):t("user cancelled authentication")},_getInstagramMetaData:function(e){e.path,e.success;var t=e.error;l.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new p(e),this.imageSource.getMetaData(e)):t("user cancelled authentication")},_getGoogleMetadata:function(e){e.path,e.success;var t=e.error;a.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new f(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)):t&&t("user cancelled authentication")},_getCCMetadata:function(e){e.path,e.success,e.error;this.imageSource=this.imageSource||new c(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)},getFilter:function(){return this.filter},setFilter:function(e){this.filter=e},canSetFilter:function(){return"Lightroom"===this.pickerModel.get("source")&&this.crumbs.length>1},getSort:function(){return this.sort},setSort:function(e){this.sort=e},updateFilterability:function(){this.canSetFilter()?marvel.features.hasFeature("lightroom-picker-filters")&&this.$ele.addClass("filterable"):this.$ele.removeClass("filterable")},refresh:function(){var e=this.crumbs[this.crumbs.length-1],t=e.url;e.item&&(t=e.item.getFolderPath()),this._makeRequest(t,1)}}),v}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213),i(251),i(5),i(13)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s="https://"+window.location.host;function l(e){this.items=[],this.hostname=a.storageServer,this.received=0,this.path=null,this.start=null,this.metaDataHost="https://"+a.storageServer,this.metaDataUrl=this.metaDataHost}function c(e,t){this.parentPath=t,n.prototype._init.call(this,e)}return t.extend(l.prototype,r.prototype,{getMetaData:function(e,i){var n=[],a=(e.path&&/\/$/.test(e.path)?e.path:e.path+"/").replace(/^files\//,""),s=e.success,l=e.error,d=""===a?this.metaDataHost+"/files/":r.fusePath([this.metaDataHost,"/files/",a]),u=d+"?type=application%2Fvnd.adobe.directory%2Bjson&orderby=name";this.start=i,this.options=e,this.received=i?this.received:0;var h=function(e){var i=[];e.total_children&&(i=t.map(e.children,function(e){return new c(e,a)}),this.received+=i.length,n=n.concat(i))}.bind(this);function p(e,t,i){console.warn("CC fail ",t,e,i),n.data={page:1,pages:1},l&&l("failure")}var f=function(){var e="?limit=20"+t.reduce(this._imageFilter.types,function(e,t){return e+"&type="+encodeURIComponent(t)},"")+"&orderby=modified&order=desc";i&&(e+="&start="+i),o.ajax(d+e,{beforeSend:function(e){return e.setRequestHeader("X-api-key",o.apiKey),!0},dataType:"json"}).done(function(e,t,i){h(e),e.total_children&&(this.start=e.children[e.children.length-1].modified),this.total_children=e.total_children,n.data={page:1,pages:1},s&&s(n,"success",i)}.bind(this)).fail(p.bind(this))}.bind(this);o.getAccessToken().then(function(e){i?f():o.ajax(u,{beforeSend:function(e){return e.setRequestHeader("X-api-key",o.apiKey),!0},dataType:"json"}).done(function(e,t,i){h(e),f()}.bind(this)).fail(p.bind(this))}.bind(this))},generateCrumbsForPath:function(e){var t=[],i=(e=e.replace(/https?\:\/\/[^\/]*\/files(\/.*)$/,"$1")).replace(/^\//,"").replace(/\/$/,"").split("/");"files"==i[0]&&i.splice(0,1);for(var r="",o=0,a=i.length;o<a;o++)r+="/"+i[o],t.push({label:i[o].replace(/\%20/g," "),path:this.metaDataHost+"/files"+r,item:n.createFolderItem("files"+r,r)});return t},getNextMetaData:function(){return this.getMetaData(this.options,this.start)},haveMoreMetaData:function(){return this.total_children>this.received}}),t.extend(c.prototype,n.prototype,{_parseData:function(){var e=this.data,t=r.fusePath([s,"/files/",this.parentPath]);e.path&&0===e.path.indexOf("files/")&&(e.path=null),this.links.preview.href="",this.isDir=/vnd\.adobe\.directory/.test(e.type),this.isDir?(this.links.folder={},this.links.folder.path=e.path?e.path:this.parentPath+e.name+"/",this.links.folder.filename=e.name):(this.links.thumb.href=e.path?e.path:t+e.name+"/:rendition;size=200",this.links.thumb.filename=e.name,this.links.preview.href=e.path?e.path:t+e.name+"/:rendition;size=512",this.links.preview.filename=e.name,this.links.original.href=e.path?e.path:t+e.name,this.links.original.filename=e.name,this.links.original.width=void 0,this.links.original.height=void 0,this.aspect={width:e.width,height:e.height})},getParentPath:function(){return this.parentPath.replace(/^\//,"")},getMimeType:function(){return this.data.type},getThumbHoverLabel:function(){return this.data.name}}),l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213),i(251),i(5),i(347)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s="https://api.dropbox.com/2/files/list_folder",l="https://"+window.location.host+"/db_files",c="https://"+window.location.host+"/db_thumbnails";function d(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entries:[]}}function u(e){return"folder"===e[".tag"]}function h(e){n.prototype._init.call(this,e)}return t.extend(d.prototype,r.prototype,{getMetaData:function(i,n){var r,o=i.path,l=i.success,c=i.error,d=a.getToken(),h=n?"https://api.dropbox.com/2/files/list_folder/continue/":s;function p(e){return new Date(e)}function f(e){return(e.media_info&&e.media_info.metadata?e.media_info.metadata.time_taken:0)||e.client_modified||e.server_modified||0}this.start=0,this.options=i,this.path=o,n||(this.pages=0),d&&(r=n?JSON.stringify({cursor:this.data.cursor}):JSON.stringify({path:o||"",include_media_info:!0}),e.ajax({method:"POST",url:h,beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+d),!0},dataType:"json",data:r}).done(function(e,i,r){e=function(e){return e.entries&&e.entries.sort(function(e,t){if(u(e)&&!u(t))return-1;if(!u(e)&&u(t))return 1;if(u(e)&&u(t))return e.name.toLowerCase()<t.name.toLowerCase()?-1:1;var i=p(f(e)),n=p(f(t));return i>n?-1:i<n?1:0}),e}(e=function(e,i){return e.entries&&(e.entries=t.filter(e.entries,function(e){return u(e)||function(e,t){var i=t.includesExtension(e.name.toLowerCase());return"file"===e[".tag"]&&i||e.media_info&&e.media_info.metadata&&"photo"===e.media_info.metadata[".tag"]}(e,i)})),e}(e,this._imageFilter)),this.data=e,this._processData(e,0,o),this.page=n?++this.page:1,this.pages+=Math.ceil(e.entries.length/this.pageSize),this.items.data={page:this.page,pages:this.pages},l&&l(this.items,"success",r)}.bind(this)).fail(function(e,t,i){if(console.warn("Dropbox metadata failure",t,e,i),401===e.status&&/invalid_access_token/.test(e.statusText))return a.logout(),void a.getToken();this.items.data={page:1,pages:1},c&&c(e,t,i)}.bind(this)))},generateCrumbsForPath:function(e){for(var t=[],i=(e=e.replace(s,"")).replace(/^\//,"").replace(/\/$/,"").split("/"),r=(i[i.length-1],"/"),o=0,a=i.length;o<a;o++)r+=i[o],t.push({label:i[o].replace(/\%20/g," "),path:s+r,item:n.createFolderItem(r,r)});return t},_processData:function(e,t,i){var n,r=Math.min(this.pageSize+t,e.entries.length);if(this.items=[],e.entries){for(n=t;n<r;n++){var o=new h(e.entries[n],i);this.items.push(o)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.entries.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.data.has_more?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called wothout data available"),e)},haveMoreMetaData:function(){return this.start<this.data.entries.length||!!this.data.has_more}}),t.extend(h.prototype,n.prototype,{_parseData:function(){var e=this.data;this.links.preview.href="",this.isDir=u(e),this.isDir?(this.links.folder={},this.links.folder.path=e.path_lower,this.links.folder.filename=e.name):(this.links.thumb.href=c+e.path_lower+"?size=m",this.links.thumb.filename=e.name,this.links.preview.href=c+e.path_lower+"?size=l",this.links.preview.filename=e.name,this.links.original.href=l+e.path_lower,this.links.original.filename=name,e.media_info&&e.media_info.metadata&&e.media_info.metadata.dimensions?(this.links.original.width=e.media_info.metadata.dimensions.width,this.links.original.height=e.media_info.metadata.dimensions.height,this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0))},getParentPath:function(){var e=this.links.original.href.replace(/\/[^\/]*$/,"");return-1!=e.search(s)?"/"+e.replace(s,""):-1!=e.search(l)?e.replace(l,""):e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.name}}),d}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(1),i(213),i(251),i(219)],void 0===(r=function(e,t,i,n,r,o,a){var s=["cover_photo","name"],l=["picture","images","width","height","name","album"],c={"Mobile Uploads":1,"Timeline Photos":2,"Profile Pictures":3,"Instagram Photos":4};function d(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function u(e,t){r.prototype._init.call(this,e),this.albumId="facebook_"+t}function h(e){u.prototype._init.call(this,e)}return i.extend(d.prototype,o.prototype,{getMetaData:function(e,t){var i,n=e.path,r=e.success,o=e.error,d=this;function u(e){var i,n,o;e.paging&&(i=e.paging.cursors.after,n=e.paging.cursors.before),i&&n&&i!=n&&(o=i);var a=e.data?e.data.length:0;d.resultCountSoFar+=a,d.totalCount+=a,e=function(e,t){return e.data&&e.data.sort(function(e,i){return t[e.name]&&t[i.name]?t[e.name]-t[i.name]:t[e.name]?-1:t[i.name]?1:e.name.localeCompare(i.name)}),e}(e,c),d.data=e,d._processData(e,0),d.page=t?++this.page:1,d.pages+=Math.ceil(a/d.pageSize),d.items.data={page:d.page,pages:d.pages,next:o},r&&r(d.items,"success",null)}function h(e){var i,o,a;e.paging&&(i=e.paging.cursors.after,o=e.paging.cursors.before),i&&o&&i!=o&&(a=i);var s=e.data?e.data.length:0;d.resultCountSoFar+=s,d.totalCount=e.data.length,d.data=e,d._processData(e,0,n),d.page=t?++d.page:1,d.pages+=Math.ceil(s/d.pageSize),d.items.data={page:d.page,pages:d.pages,next:a},r&&r(d.items,"success",null)}function p(e){return console.warn("Facebook Photos metadata failure",e),/invalid_access_token/.test(e)||/not_authorized/.test(e)?(a.logout(),void a.authenticate()):(d.items.data={page:1,pages:1},void(o&&o(null,e,e)))}function f(e,t,n){i.then(function(i){window.FB.getLoginStatus(function(i){i&&"connected"===i.status?window.FB.api(e,{after:d.next?d.next:""},function(e){!e||e.error?n(e.error):t(e)}):i&&"not_authorized"===i.status?n("not_authorized"):n("invalid_access_token")},!0)}).catch(function(e){console.warn("getAccessToken failed",e),a.logout(),a.authenticate(),o&&o()})}i=a.getAccessToken({scopes:"user_photos,public_profile"}),this.start=0,this.options=e,this.path=n,this.next=t,t||(this.pages=0,this.totalCount=0),this.options=e,n&&"/"!==n?f(n+"/photos?fields="+l.join(","),h,p):f("/me/albums?fields="+s.join(","),u,p)},generateUrlForAlbumId:function(e){return e},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:u.createFolderItem(e,t)}]},_processData:function(e,t,i){var n,r=e.data?e.data:null,o=r?Math.min(this.pageSize+t,r.length):0;if(this.items=[],r){for(n=t;n<o;n++){var a=new u(r[n],i);this.items.push(a)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.data.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.data.paging&&this.data.paging.cursors.before!=this.data.paging.cursors.after?this.getMetaData(this.options,this.data.paging.cursors.after):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return this.start<this.data.data.length||!(!this.data.paging||this.data.paging.cursors.before==this.data.paging.cursors.after)}}),i.extend(u.prototype,r.prototype,{_parseData:function(){var e=this.data;this.links.preview.href="",this.isDir=!function(e){return"picture"in e}(e),this.isDir?(this.links.folder={},this.links.folder.filename=e.name,this.links.folder.path=e.id,this.links.cover={},this.has_cover=!1,e.cover_photo&&e.cover_photo.id&&(this.links.cover=e.cover_photo,this.has_cover=!0)):(this.links.preview.href=e.images[0].source,this.links.preview.filename=e.name,this.links.thumb.href=e.picture,this.links.thumb.filename=e.name,this.links.original.href=e.images[0].source,this.links.original.filename=e.name,this.links.original.width=parseInt(e.images[0].width),this.links.original.height=parseInt(e.images[0].height),this.aspect={width:this.links.original.width,height:this.links.original.height})},getParentPath:function(){return"facebook_"+this.albumId},hasCover:function(){return this.has_cover},getFolderLabel:function(){return this.getFolderName()},getMimeType:function(){},getCover:function(){var t=e.defer();if(this.links&&this.has_cover)try{window.FB.api("/"+this.links.cover.id+"?fields=picture",function(e){e&&!e.error?(this.links.cover.href=e.picture,t.resolve(e.picture)):t.reject("no cover available")}.bind(this))}catch(e){t.reject("no cover available")}else t.reject("no cover available");return t.promise},getThumbHoverLabel:function(){return this.data.name}}),u.createFolderItem=function(e,t){return new h({path:e,label:t})},i.extend(h.prototype,u.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),d}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(1),i(213),i(251),i(348),i(422)],void 0===(r=function(e,t,i,n,r,o,a,s){function l(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function c(e,t){r.prototype._init.call(this,e),this.albumId=t}function d(e){c.prototype._init.call(this,e)}return i.extend(l.prototype,o.prototype,{getMetaData:function(e,t){var n,r=e.path,o=e.success,l=e.error,c=this;n=a.getAccessToken(),this.start=0,this.options=e,this.path=r,t||(this.pages=0,this.startIndex=1,this.totalCount=0),this.options=e,r&&"/"!==r||t?function(e,t,i){n.then(function(n){var r=c.data.pagination&&c.data.pagination.next_max_id?c.data.pagination.next_max_id:"";s.fetchRecentUserMedia({max_id:r}).then(function(i,n,r){i&&i.meta&&i.meta.error_type?t(i):e(i,n,r)}).fail(function(e,t,n){i(e,t,n)})}.bind(c)).catch(function(e){a.logout(),a.authenticate(),l&&l()})}(function(e){e.data=function(e){return i.filter(e,function(e){return"image"==e.type})}(e.data);var n=e.data?e.data.length:0;c.startIndex+=n,c.resultCountSoFar+=n,c.totalCount=e.data.length,c.data=e,c._processData(e,0,r),c.page=t?++c.page:1,c.pages+=Math.ceil(n/c.pageSize),c.items.data={page:c.page,pages:c.pages},o&&o(c.items,"success",null)},function(e){console.warn("Instagram Photos metadata failure",e);var t=e.meta&&e.meta.error_message?e.meta.error_message:null,i=e.meta&&e.meta.error_type?e.meta.error_type:"";if(/OAuthAccessTokenException/.test(i))return a.logout(),void a.authenticate();c.items.data={page:1,pages:1},l&&l(null,t,t)},function(e,t,i){c.items.data={page:1,pages:1},l&&l(null,t,i)}):function(e){e({data:[{id:"1",name:"Recent Photos",type:"album"}]})}(function(e){var i=e.data?e.data.length:0;c.startIndex+=i,c.resultCountSoFar+=i,c.totalCount=i,c.data=e,c._processData(e,0),c.page=t?++this.page:1,c.pages+=Math.ceil(i/c.pageSize),c.items.data={page:c.page,pages:c.pages},o&&o(c.items,"success",null)})},generateUrlForAlbumId:function(e){return e},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:c.createFolderItem(e,t)}]},_processData:function(e,t,i){var n,r=e.data?e.data:null,o=r?Math.min(this.pageSize+t,r.length):0;if(this.items=[],r){for(n=t;n<o;n++){var a=new c(r[n],i);this.items.push(a)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.data.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.startIndex<this.totalCount?this.getMetaData(this.options,!0):this.data.pagination&&this.data.pagination.next_max_id.length?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return this.start<this.data.data.length||(this.startIndex<this.totalCount||!(!this.data.pagination||!this.data.pagination.next_max_id.length))}}),i.extend(c.prototype,r.prototype,{_parseData:function(){var e=this.data;this.links.preview.href="",this.isImage=function(e){return"image"==e.type}(e),this.isDir=!this.isImage,this.isImage?(this.links.preview.href=e.images.standard_resolution.url,this.links.preview.filename=e.images.standard_resolution.url,this.links.thumb.href=e.images.thumbnail.url,this.links.thumb.filename=e.images.thumbnail.url,this.links.original.href=e.images.standard_resolution.url,this.links.original.filename=e.images.standard_resolution.url,this.links.original.width=e.images.standard_resolution.width,this.links.original.height=e.images.standard_resolution.height,this.aspect=void 0):(this.links.folder={},this.links.folder.filename=e.name,this.links.folder.path=e.id,this.links.cover={},this.has_cover=!1)},getParentPath:function(){return this.albumId},hasCover:function(){return this.has_cover},getFolderLabel:function(){return this.getFolderName()},getCover:function(){var t=e.defer();return t.reject("no cover image"),t.promise},getMimeType:function(){}}),c.createFolderItem=function(e,t){return new d({path:e,label:t})},i.extend(d.prototype,c.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(7),i(538),i(539)],void 0===(r=function(e,t,i,n,r,o){"use strict";function a(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}return n.hasFeature("enable-google-picasa-api")?i.extend(a.prototype,r.prototype):n.hasFeature("enable-google-photo-api")?i.extend(a.prototype,o.prototype):marvel.logger.error("[ImageSourceGoogle] need to enable at least 1 google API!!!"),a}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(1),i(213),i(251),i(330)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s="https://picasaweb.google.com/data/feed/api/user/",l=(window.location.host,window.location.host,["AUTO BACKUP"]);function c(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function d(e){return e.category&&e.category.length&&/#album/.test(e.category[0].term)}function u(e,t){r.prototype._init.call(this,e),this.albumId=t}function h(e){u.prototype._init.call(this,e)}return i.extend(c.prototype,o.prototype,{getMetaData:function(e,n){var r,o=e.path,c=e.success,u=e.error,h=s,p=this;function f(e,t,r){var a=e.feed.entry?e.feed.entry.length:0;this.startIndex+=a,this.resultCountSoFar+=a,this.totalCount=a,e=function(e){if(e.feed.entry){e.feed.entry.sort(function(e,t){return new Date(e.updated.$t)>new Date(t.updated.$t)?-1:1});var t=[];i.each(l,function(n){e.feed.entry=i.filter(e.feed.entry,function(e,i){return e.title.$t.toLowerCase()!=n.toLowerCase()||(t.push(e),!1)}.bind(p))}.bind(p)),t.length&&(e.feed.entry=t.concat(e.feed.entry))}return e}(e),this.data=e,this._processData(e,0,o),this.page=n?++this.page:1,this.pages+=Math.ceil(a/this.pageSize),this.items.data={page:this.page,pages:this.pages},c&&c(this.items,"success",r)}function g(e,t,r){var a=e.feed.entry?e.feed.entry.length:0;this.startIndex+=a,this.resultCountSoFar+=a,this.totalCount=e.feed.gphoto$numphotos.$t,e=function(e,t){return e.feed.entry&&(e.feed.entry=i.filter(e.feed.entry,function(e){return d(e)||function(e,t){var i=e.media$group.media$content&&e.media$group.media$content.length?e.media$group.media$content[0].type.toLowerCase():null;return t.includesType(i)}(e,t)})),e}(e,this._imageFilter),this.data=e,this._processData(e,0,o),this.page=n?++this.page:1,this.pages+=Math.ceil(a/this.pageSize),this.items.data={page:this.page,pages:this.pages},c&&c(this.items,"success",r)}function m(e,t,i){function n(){p.items.data={page:1,pages:1},u&&u(e,t,i)}console.warn("Google Photos metadata failure",t,e,i),401!==e.status&&404!==e.status?n():a.validateRefreshToken().then(function(e){n()}.bind(p)).catch(function(e){a.logout(),a.authenticate()})}function v(e,i,n){r.then(function(r){t.ajax({url:e,data:{alt:"json-in-script",access_token:r,imgmax:"d",thumbsize:"288","max-results":100,"start-index":this.startIndex},jsonpCallback:"picasaCallback",dataType:"jsonp",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+r),e.setRequestHeader("GData-Version","2"),!0}}).done(i.bind(p)).fail(n.bind(p))}.bind(p)).catch(function(e){console.warn("getAccessToken failed",e),a.logout(),a.authenticate(),u&&u()})}return r=a.getAccessToken(),this.start=0,this.options=e,this.path=o,n||(this.pages=0,this.startIndex=1,this.resultCountSoFar=0,this.totalCount=0),this.options=e,o&&"/"!==o||n?v(o,g,m):v(h+"default",f,m)},generateUrlForAlbumId:function(e){return s+a.getUserId()+"/albumid/"+e+"?alt=json-in-script"},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:u.createFolderItem(e,t)}]},_processData:function(e,t,i){var n,r=e.feed?e.feed.entry:null,o=r?Math.min(this.pageSize+t,r.length):0;if(this.items=[],r){for(n=t;n<o;n++){var a=new u(r[n],i);this.items.push(a)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.feed.entry.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.startIndex<this.totalCount?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return this.start<this.data.feed.entry.length||this.startIndex<this.totalCount}}),i.extend(u.prototype,r.prototype,{_parseData:function(){var e,t=this.data,n=t.media$group?t.media$group.media$thumbnail:null,r=n&&n.length?n[n.length-1].url:null;this.links.preview.href="",this.isDir=d(t),this.isDir?(this.links.folder={},(e=i.find(t.link,function(e){return/#feed/.test(e.rel)}))&&(this.links.folder.path=e.href,this.links.folder.href=e.href),this.links.folder.filename=t.title.$t,this.has_cover=!0,this.links.cover={},this.links.cover.href=r):(this.links.thumb.href=r,this.links.thumb.filename=t.name,this.links.original.href=t.media$group.media$content[0].url,this.links.original.filename=t.name,t.gphoto$width?(this.links.original.width=parseInt(t.gphoto$width.$t),this.links.original.height=parseInt(t.gphoto$height.$t),this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0),t.media$group.media$description&&t.media$group.media$description.$t&&(this.caption=t.media$group.media$description.$t))},getParentPath:function(){return this.albumId},hasCover:function(){return this.has_cover},getCover:function(){var t=e.defer();this.data;return this.links&&this.links.cover&&this.links.cover.href?t.resolve(this.links.cover.href):t.reject("no cover available"),t.promise},getFolderLabel:function(){var e=this.getFolderName();return e&&"AUTO BACKUP"===e.toUpperCase()?"All Photos":e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.title.$t}}),u.createFolderItem=function(e,t){return new h({path:e,label:t})},i.extend(h.prototype,u.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),c}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(213),i(251),i(330)],void 0===(r=function(e,t,i,n,r,o){"use strict";var a="https://photoslibrary.googleapis.com",s=(window.location.host,window.location.host,20);function l(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function c(e,t){n.prototype._init.call(this,e),this.albumId=t}function d(e){c.prototype._init.call(this,e)}return i.extend(l.prototype,r.prototype,{getMetaData:function(e,i,n){var r,l=e.path,c=e.success,d=e.error,u=this;function h(e,t,n){if(void 0===e.albums)return this.options.path="/all_photos",void this.getMetaData(this.options,!0,this.data.nextPageToken);var r=e.albums,o=r?r.length:0;this.startIndex+=o,this.resultCountSoFar+=o,this.totalCount=o,this.data=e,this._processData(e,0,l),this.page=i?++this.page:1,this.pages+=Math.ceil(o/this.pageSize),this.items.data={page:this.page,pages:this.pages},c&&c(this.items,"success",n)}function p(e,t,n){var r=e.mediaItems?e.mediaItems.length:0;this.startIndex+=r,this.resultCountSoFar+=r,this.data=e,this._processData(e,0,l),this.page=i?++this.page:1,this.pages+=Math.ceil(r/this.pageSize),this.items.data={page:this.page,pages:this.pages},c&&c(this.items,"success",n)}function f(e,t,i){function n(){u.items.data={page:1,pages:1},d&&d(e,t,i)}console.warn("Google Photos metadata failure",t,e,i),401!==e.status&&404!==e.status?n():o.validateRefreshToken().then(function(e){n()}.bind(u)).catch(function(e){o.logout(),o.authenticate()})}return r=o.getAccessToken(),this.start=0,this.options=e,this.path=l,i||(this.pages=0,this.startIndex=1,this.resultCountSoFar=0,this.totalCount=0),this.nextPageToken=n||"",this.options=e,l&&"/"!==l?(l=/all_photos$/i.test(l)?"":l,function(e,i,n,a){r.then(function(r){marvel.logger.info("[GooglePhotoApi] requesting data from URL",e),t.ajax({url:e,method:"POST",data:JSON.stringify(i),dataType:"json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+r),!0}}).done(n.bind(u)).fail(a.bind(u))}.bind(u)).catch(function(e){console.warn("getAccessToken failed",e),o.logout(),o.authenticate(),d&&d()})}(a+"/v1/mediaItems:search",{albumId:l,pageSize:s,pageToken:u.nextPageToken},p,f)):function(e,i,n,a){r.then(function(r){marvel.logger.info("[GooglePhotoApi] requesting data from URL",e),t.ajax({url:e,data:i,dataType:"json",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+r),!0}}).done(n.bind(u)).fail(a.bind(u))}.bind(u)).catch(function(e){console.warn("getAccessToken failed",e),o.logout(),o.authenticate(),d&&d()})}(a+"/v1/albums",{pageSize:s,pageToken:u.nextPageToken},h,f)},generateUrlForAlbumId:function(e){return a+"/v1/albums/"+e},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:c.createFolderItem(e,t)}]},_processData:function(e,t,n){var r,o,a=[],s=0;if(e.albums?(a=e.albums,0===this.nextPageToken.length&&a.unshift({id:"all_photos",coverPhotoBaseUrl:a[0]?a[0].coverPhotoBaseUrl:"/",title:"All Photos"}),s=Math.min(this.pageSize+t,a.length)):e.mediaItems&&(a=i.filter(e.mediaItems,function(e){return!!e.mediaMetadata.photo}),s=Math.min(this.pageSize+t,e.mediaItems.length)),this.items=[],a.length){for(r=t;r<s;r++)a[r]&&(o=new c(a[r],n),this.items.push(o));this.received+=this.items.length,this.start=t+this.items.length}return this.pageToken=e.pageToken?e.pageToken:"",this.items},_stillHasItems:function(){return this.data.albums&&this.start<this.data.albums.length||this.data.mediaItems&&this.start<this.data.mediaItems.length},getNextMetaData:function(){var e=[],t=this.options.success;return this.data.nextPageToken?this.getMetaData(this.options,!0,this.data.nextPageToken):this._stillHasItems()?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.startIndex<this.totalCount?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return!!this.data.nextPageToken||(!!this._stillHasItems()||this.startIndex<this.totalCount)}}),i.extend(c.prototype,n.prototype,{_parseData:function(){var e=this.data,t="=w256-h192";this.links.preview.href="",this.isDir=function(e){return!(!e||!e.coverPhotoBaseUrl)}(e),this.isDir?(this.links.thumb.href=e.coverPhotoBaseUrl+t,this.links.folder={},this.links.folder.path=this.data.id,this.links.folder.href=e.id,this.links.folder.filename=e.title,this.has_cover=!1,"/"!==e.coverPhotoBaseUrl&&(this.has_cover=!0,this.links.cover={},this.links.cover.href=e.coverPhotoBaseUrl+t)):(this.links.thumb.href=e.baseUrl+t,this.links.thumb.filename=e.filename,this.links.original.href=e.baseUrl+"=d",this.links.original.filename=e.filename,e.mediaMetadata?(this.links.original.width=parseInt(e.mediaMetadata.width),this.links.original.height=parseInt(e.mediaMetadata.height),this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0),e.mediaMetadata.description&&(this.caption=e.mediaMetadata.description))},getParentPath:function(){return this.albumId},hasCover:function(){return this.has_cover},getCover:function(){var t=e.defer();return this.links&&this.links.cover&&this.links.cover.href?t.resolve(this.links.cover.href):t.reject("no cover available"),t.promise},getFolderLabel:function(){var e=this.getFolderName();return e&&"AUTO BACKUP"===e.toUpperCase()?"All Photos":e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.filename}}),c.createFolderItem=function(e,t){return new d({path:e,label:t})},i.extend(d.prototype,c.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(541),i(15)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s=i.Model.extend({defaults:{filter:"all"}});return r.extend({el:".image-picker-filter-dialog-overlay",events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel","click button.filter":"_handleFilterButton"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new s,t.extend(this,i.Events),this.model.set({filter:e.filter},{silent:!0})},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},_handleFilterButton:function(t){var i=e(t.target),n=i.data("filter");this.$el.find("button.filter").removeClass("checked"),i.addClass("checked"),this.handleCloseBtn(),this.model.set({filter:n})},render:function(){return this.$el.html(o.toString()),this.$el.find("button.filter").removeClass("checked"),this.$el.find("button.filter."+this.model.get("filter")).addClass("checked"),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="picker-filter-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="picker-filter-dialog-shell mrvl-overlay-shell">\n\n    <h2 class="title">Filter Photos</h2>\n\n    <button class="filter all checked" data-filter="all">Show All</button>\n    <button class="filter picked" data-filter="picked">Picked</button>\n    <button class="filter picked-unflagged" data-filter="picked-unflagged">Picked and Unflagged</button>\n\n    <button class="x-close-btn">X</button>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(543),i(15)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s=i.Model.extend({defaults:{sort:"all"}});return r.extend({el:".image-picker-sort-dialog-overlay",events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel","click button.sort":"_handleSortButton"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new s,t.extend(this,i.Events),this.model.set({sort:e.sort},{silent:!0})},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},_handleSortButton:function(t){var i=e(t.target),n=i.data("sort");this.$el.find("button.sort").removeClass("checked"),i.addClass("checked"),this.handleCloseBtn(),this.model.set({sort:n})},render:function(){return this.$el.html(o.toString()),this.$el.find("button.sort").removeClass("checked"),this.$el.find("button.sort."+this.model.get("sort")).addClass("checked"),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="picker-sort-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="picker-sort-dialog-shell mrvl-overlay-shell">\n\n    <h2 class="title">Sort Photos</h2>\n\n    <button class="sort capture-ascending checked" data-sort="capture-ascending">Capture Time: Ascending</button>\n    <button class="sort capture-descending" data-sort="capture-descending">Capture Time: Descending</button>\n    <button class="sort custom" data-sort="custom">Custom Order</button>\n\n    <button class="x-close-btn">X</button>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(15),i(545)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return r.extend({events:{"click .fb-logout-close-btn":"_handleCancel","click .fb-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".facebook-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){return this.$el.html(a.toString()),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="fb-logout-bg mrvl-overlay-bg">\n</div>\n<div class="fb-logout-shell mrvl-overlay-shell">\n    <h2 class="fb-logout-dialog-title">Do you want to disconnect Facebook?</h2>\n    <p class="fb-logout-dialog-text">Adobe Spark will no longer be able to access your files,\n        but you may still be logged in to Facebook elsewhere on this computer.</p>\n\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">Cancel</button>\n        <button class="confirm-btn mrvl-btn">Disconnect</button>\n    </div>\n\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(15),i(8),i(547)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return r.extend({events:{"click .db-logout-close-btn":"_handleCancel","click .db-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".dropbox-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){return this.$el.html(a.mustacheRender(s)),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="db-logout-bg mrvl-overlay-bg">\n</div>\n<div class="db-logout-shell mrvl-overlay-shell">\n    <h2 class="db-logout-dialog-title">Do you want to disconnect Dropbox?</h2>\n    <p class="db-logout-dialog-text">{{product_name}} will no longer be able to access your files,\n      but you may still be logged in to Dropbox elsewhere on this computer.</p>\n\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">Cancel</button>\n        <button class="confirm-btn mrvl-btn">Disconnect</button>\n    </div>\n\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(15),i(8),i(549)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return r.extend({events:{"click .db-logout-close-btn":"_handleCancel","click .db-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".google-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){return this.$el.html(a.mustacheRender(s)),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="gp-logout-bg mrvl-overlay-bg">\n</div>\n<div class="gp-logout-shell mrvl-overlay-shell">\n    <h2 class="gp-logout-dialog-title">Do you want to disconnect Google Services?</h2>\n    <p class="gp-logout-dialog-text">{{product_name}} will no longer be able to access your files,\n      but you may still be logged in to Google elsewhere on this computer.</p>\n\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">Cancel</button>\n        <button class="confirm-btn mrvl-btn">Disconnect</button>\n    </div>\n\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(15),i(551)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return r.extend({events:{"click .im-logout-close-btn":"_handleCancel","click .im-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".instagram-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){return this.$el.html(a.toString()),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="im-logout-bg mrvl-overlay-bg">\n</div>\n<div class="im-logout-shell mrvl-overlay-shell">\n    <h2 class="im-logout-dialog-title">Do you want to disconnect Instagram?</h2>\n    <p class="im-logout-dialog-text">Adobe Spark will no longer be able to access your files,\n        but you may still be logged in to Instagram elsewhere on this computer.</p>\n\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">Cancel</button>\n        <button class="confirm-btn mrvl-btn">Disconnect</button>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(12),i(95)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s=r.getString("license-stock-cancel"),l=r.getString("license-stock-default-title"),c={license:{title:r.getString("license-stock-license-title"),text:"{{#fmr}}license-stock-license-text{{/fmr}}",okText:{id:"license",text:r.getString("license-stock-button-license")}},notAllowedToPurchase:{title:r.getString("license-stock-not-allowed-to-purchase-title"),text:"{{purchaseMessage}}",isAlert:!0},cantSignUp:{title:r.getString("license-stock-cant-sign-up-title"),text:r.getString("license-stock-cant-sign-up-text"),okText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-take-me-to-stock")+"</a>",cancelText:r.getString("license-stock-button-close")},signUp:{title:r.getString("license-stock-signup-title"),text:r.getString("license-stock-signup-text"),okText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-take-me-to-stock")+"</a>",cancelText:r.getString("license-stock-button-close"),returnToStockLinkText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-take-me-back-to-stock")+"</a>"},noCredits:{title:r.getString("license-stock-no-credits-title"),text:"<span>{{purchaseMessage}}&nbsp;&nbsp;<a class='learn-more-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-no-credits-text")+"</a></span>",okText:[{id:"license",text:r.getString("license-stock-button-license")}],linkEvent:{selector:".learn-more-link"}},alreadyLicensed:{title:r.getString("license-stock-already-licensed-title"),text:r.getString("license-stock-already-licensed-text"),okText:r.getString("license-stock-already-licensed-ok")},licensingFailed:{title:r.getString("license-stock-licensing-failed-title"),text:r.getString("license-stock-licensing-failed-text"),cancelText:r.getString("license-stock-button-close"),okText:"<a class='license-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-take-me-to-stock")+"</a>"},licensingFromStockSiteSucceded:{title:r.getString("license-stock-from-site-succeded-title"),text:r.getString("license-stock-from-site-succeded-text")},licensingFromStockSignUpSucceded:{title:r.getString("license-stock-signup-succeded-title"),text:r.getString("license-stock-signup-succeded-text")},signupReturnNoLicense:{title:r.getString("license-stock-signup-return-no-license-title"),okText:[{id:"checkAgain",text:r.getString("license-stock-signup-return-no-license-check-again")},{id:"returnToStock",text:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+r.getString("license-stock-take-me-back-to-stock")+"</a>"}],text:"{{^referToStockSite}}"+r.getString("license-stock-signup-return-no-license-account-no-license")+"{{/referToStockSite}}{{#referToStockSite}}"+r.getString("license-stock-signup-return-no-license-no-account")+"{{/referToStockSite}}"},licenseStatusCheck:{text:r.getString("license-stock-status-check-text"),cancelText:r.getString("license-stock-status-check-cancel")},licenseStatusCheckError:{text:r.getString("license-stock-status-check-error-text")},licenseAndSignupSuccess:{text:"{{#fmr}}license-stock-license-and-signup-success{{/fmr}}"}},d=i.Model.extend({initialize:function(){t.bindAll(this,t.functionsIn(this))},showLicensingFlow:function(t){this._updateData(t),this._flowDeferred=n.defer();var i=c[this._displayType],r=this._parseSettings(i);return this._currentStrings=i,i.linkEvent&&(r.options.afterRenderCallback=function(e){e.find(i.linkEvent.selector).on("click",this._handleLinkClick.bind(this))}.bind(this)),this._showConfirm(r).then(function(t){t?"signUp"===this._displayType?this._handleSignupButton():"cantSignUp"===this._displayType?this._handleUserCancel():"license"!==t&&"alreadyLicensed"!==this._displayType||this._licenseCurrentStockAsset("alreadyLicensed"===this._displayType).then(function(e){this._flowDeferred.resolve(e)}.bind(this),function(t,i){this._parseAndShowConfirm(c.licensingFailed).then(function(n){n?(e(window).one("focus.stockassetview",this._returnedToWindowAfterStockDetail),this._waitingToReturn=!0,this._showChecking()):this._flowDeferred.reject(t,i)}.bind(this))}.bind(this)):this._handleUserCancel()}.bind(this)),this._flowDeferred.promise},_updateData:function(e){this._data=e,e.referToStockSite?this._displayType="signUp":e.notAllowedToPurchase?this._displayType="notAllowedToPurchase":e.license_type?this._displayType="alreadyLicensed":e["licenses-available"]?this._displayType="license":this._displayType="noCredits"},_licenseStockAsset:function(e){var t=n.defer();if(e.showProgress){var i=e.alreadyLicensed?r.getString("license-stock-progress-retrieving"):r.getString("license-stock-progress-licensing");o.showWaitView(i,"",{minHeight:269})}return a.licenseItem(e.imageId).then(function(i){var n={href:i.url,width:i.width,height:i.height,mimeType:i.mimeType,thumb:i.thumb,licenseType:i.licenseType};e.showProgress&&o.hide(),t.resolve(n,"licensed")}).fail(function(i){marvel.logger.error("licensing failed in licenseStockAsset",i),e.showProgress&&o.hide(),t.reject("licensing failed",i)}),t.promise},_licenseCurrentStockAsset:function(e){return this._licenseStockAsset({imageId:this._data.image_id,showProgress:!0,alreadyLicensed:e})},_handleLinkClick:function(t){var i=e(t.target);if(i.hasClass("disabled"))return t.preventDefault(),void t.stopPropagation();i.hasClass("learn-more-link")&&(i.addClass("disabled"),a.getStockAssetDetailsUrl(this._data.image_id).then(function(e){i.attr("href",e),i.removeClass("disabled")}))},handleCloseBtn:function(){this._waitingToReturn=!1,this._currentLicenseRequestPromise=null,e(window).off("focus.stockassetview",this.returnedToWindowAfterSignupButton)},_handleUserCancel:function(){this.handleCloseBtn(),this._flowDeferred.reject("cancel")},_applyNewlyLicensedImage:function(e,i){this._licenseCurrentStockAsset(!0).then(function(e){var n;if(this.referToStockSite?n=c.licenseAndSignupSuccess:i&&(n="string"==typeof i?{text:i}:i),n){var r=!1;this._parseAndShowConfirm(n).then(function(){r=!0}.bind(this)),t.delay(function(){r||o.hide()},5e3)}this.handleCloseBtn(),this._flowDeferred.resolve(e)}.bind(this),function(e){o.hide(),this._flowDeferred.reject(e)}.bind(this))},_returnedToWindowAfterSignupButton:function(e){this._currentLicenseRequestPromise||this._checkForLicense()},_returnedToWindowAfterStockDetail:function(e){this._currentLicenseRequestPromise||this._checkForImageLicense()},_checkForImageLicense:function(){this._currentLicenseRequestPromise=a.getItemInfo(this._data.image_id).then(function(e){e.is_licensed?this._applyNewlyLicensedImage(e,c.licensingFromStockSiteSucceded):(o.hide(),this._handleUserCancel())}.bind(this),function(e){o.hide(),this._handleUserCancel()})},_getParsedText:function(i,n){var o;if(t.isString(i))return"<"===(o=r.mustacheRender(i,n)).charAt(0)&&(o=e(o)),o;if(Array.isArray(i)){var a=[];return t.each(i,function(t){"<"===(o=r.mustacheRender(t.text,n)).charAt(0)&&(o=e(o)),a.push({id:t.id,text:o})}),a}return t.isObject(i)?("<"===(o=r.mustacheRender(i.text,n)).charAt(0)&&(o=e(o)),{id:i.id,text:o}):""},_parseSettings:function(e,t){return t=t||this._data,{title:this._getParsedText(e.title,t)||l,text:this._getParsedText(e.text,t),options:{cancelText:this._getParsedText(e.cancelText,t)||s,okText:this._getParsedText(e.okText,t),minHeight:269},isAlert:e.isAlert}},_parseAndShowConfirm:function(e,t){var i=this._parseSettings(e,t);return this._showConfirm(i)},_showConfirm:function(e){return e.isAlert?o.showAlert(e.title,e.text,e.options):o.showConfirm(e.title,e.text,e.options)},_checkForLicense:function(e){(e=e||{}).showChecking&&this._showChecking(),this._currentLicenseRequestPromise=a.getLicensesAvailable().then(function(e){return this._data["licenses-available"]=e.numLicenses,this._data.purchase_url=e.purchaseUrl,this._data.referToStockSite=e.requiresCheckout,this._data.purchaseMessage=e.purchaseMessage,this._data.notAllowedToPurchase=e.notAllowedToPurchase,this._currentLicenseRequestPromise?a.getItemInfo(this._data.image_id):n.reject("cancelled")}.bind(this)).then(function(e){if(!this._currentLicenseRequestPromise)return n.reject("cancelled");e.is_licensed?this._applyNewlyLicensedImage(e,c.licensingFromStockSignUpSucceded):(o.hide(),this._data.details_url=e.details_url,this._parseAndShowConfirm(c.signupReturnNoLicense).then(function(e){e?(this._currentLicenseRequestPromise=null,"checkAgain"===e?this._checkForLicense({showChecking:!0}):this._handleSignupButton()):this._handleUserCancel()}.bind(this)))}.bind(this)).catch(function(e){"cancelled"!==e&&(marvel.logger.error("error checking stock in stock asset view",e),this._parseAndShowConfirm(c.licenseStatusCheckError).then(function(e){e?(this._currentLicenseRequestPromise=null,this._checkForLicense({showChecking:!0})):this._handleUserCancel()}.bind(this)))}.bind(this))},_userCancelledWaiter:function(){this._currentLicenseRequestPromise=null,this.handleCloseBtn()},_showChecking:function(){var e=this._parseSettings(c.licenseStatusCheck);o.showCancelableWaitView(e.title,e.text,e.options).then(function(){this._userCancelledWaiter()}.bind(this))},_handleSignupButton:function(t){e(window).one("focus.stockassetview",this._returnedToWindowAfterSignupButton),this._waitingToReturn=!0,this._showChecking()}});return d.getMinHeightForConfirms=function(){return 269},d}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='\x3c!--\n--\x3e\n<div class="photo-picker">\n    <div class="picker-bar">\n        <div class="source-label" data-auto="image-picker-source-label"></div>\n        <div class="back-button" data-auto="image-picker-back-button"></div>\n        <div class="close-button" data-auto="image-picker-close-button"></div>\n    </div>\n    <div class="picker-wrapper" data-auto="image-picker-wrapper">\n        <div class="picker-home sp-picker">\n            <button class="local-file-button" data-auto="image-picker-button-local-file">{{imagepicker-browse-files}}<input class="local-file-input" data-auto="image-picker-local-file-input" type="file" accept="image/jpeg,image/png"/></button>\n\n            <div class="copy-url-wrapper hide">\n                <input class="copy-url-input" type="text" placeholder="shared Spark link" data-auto="copy-url-input"/>\n                <button class="copy-url-button"></button>\n            </div>\n            <div class="drag-and-drop-explainer-holder hide">\n                <div class="or-delimiter-wrap">\n                    <p class="or-delimiter">{{imagepicker-or}}</p>\n                </div>\n                <div class="drag-and-drop-explainer-multi-select">{{imagepicker-drop-multi-image-here}}</div>\n                <div class="drag-and-drop-explainer">{{imagepicker-drop-single-image-here}}</div>\n            </div>\n            <div class="or-delimiter-wrap">\n                <p class="or-delimiter">{{imagepicker-or}}</p>\n            </div>\n\n          <div class="picker-button-wrapper"><button class="search-button" data-auto="image-picker-button-search">{{imagepicker-find-free-photos}}</button></div>\n\n          <div class="picker-button-wrapper stock-search-button-wrapper">\n            <button class="stock-search-button" data-auto="image-picker-button-stock-search">{{imagepicker-source-adobe-stock}}\n            </button>\n          </div>\n\n          <div class="picker-button-wrapper facebook-button-wrapper">\n                <button class="facebook-button"><span>{{imagepicker-source-facebook}}</span>\n                </button>\n                <div class="facebook-logout">\n                    <div class="facebook-logout-tooltip visible"></div>\n                </div>\n            </div>\n\n            <div class="picker-button-wrapper"><button class="cc-button" data-auto="image-picker-button-cc"><span>{{imagepicker-source-creative-cloud}}</span></button></div>\n            <div class="picker-button-wrapper"><button class="lightroom-button" data-auto="image-picker-button-lightroom"><span>{{imagepicker-source-lightroom}}</span></button></div>\n\n          <div class="picker-button-wrapper dropbox-button-wrapper">\n              <div class="dropbox-button" data-auto="image-picker-button-dropbox">\n                  <span class="dropbox-connect">\n                    {{imagepicker-source-dropbox-connect}}\n                  </span>\n                  <span>{{imagepicker-source-dropbox}}</span>\n                  <span class="dropbox-logout">\n                    {{imagepicker-source-dropbox-disconnect}}\n                  </span>\n                </div>\n          </div>\n\n            <div class="picker-button-wrapper instagram-button-wrapper">\n                <button class="instagram-button"><span>{{imagepicker-source-instagram}}</span>\n                </button>\n                <div class="instagram-logout">\n                    <div class="instagram-logout-tooltip visible"></div>\n                </div>\n            </div>\n\n          <div class="picker-button-wrapper google-photos-button-wrapper hide">\n            <div class="google-photos-button" data-auto="image-picker-button-google-photos">\n              <span class="google-photos-connect">\n                {{imagepicker-source-google-photos-connect}}\n              </span>\n              <span>{{imagepicker-source-google-photos}}</span>\n              <span class="google-photos-logout">\n                {{imagepicker-source-google-disconnect}}\n              </span>\n            </div>\n          </div>\n\n          <div class="picker-button-wrapper google-drive-button-wrapper hide">\n            <div class="google-drive-button" data-auto="image-picker-button-google-drive">\n              <span class="google-photos-connect">\n                {{imagepicker-source-google-drive-connect}}\n              </span>\n              <span>{{imagepicker-source-google-drive}}</span>\n              <span class="google-photos-logout">\x3c!-- logout happens for both photo & drive --\x3e\n                {{imagepicker-source-google-disconnect}}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class="dooplo-picker sp-picker show-image-sources">\n            <div class="dooploSearchEntry">\n                <div class="search-text-hint">{{imagepicker-search-for-photo}}...</div>\n              <div class="search-text-wrapper">\n                <input class="search-text" value="" data-auto="image-picker-dooplo-search-field"/>\n              </div>\n              <button class="execute-search-button"></button>\n              <div class="dooplo-search-dropdown">\n                <div class="dooplo-search-dropdown-aligner"></div>\n              </div>\n\n            </div>\n            <div class="results">\n              <div id="results-without-bing" class="clearfix">\n                  <div class="search-sources"></div>\n                  <div class="left column"></div>\n                  <div class="right column"></div>\n\n              </div>\n              <div id="results-bing-only" class="clearfix hide">\n                <div class="search-sources"></div>\n                <div class="privacy-sources"><a href="https://go.microsoft.com/fwlink/?LinkId=521839" target="_blank">{{imagepicker-microsoft-privacy-statement}}</a></div>\n                <div class="left column"></div>\n                <div class="right column"></div>\n              </div>\n              <div class="search-progress hide">\n                  <div class="spinner"></div>\n                  <p class="content"></p>\n                </div>\n                <div class="search-failure hide">\n                  <p class="content">{{imagepicker-oops}}</p>\n                  <p class="error-detail">{{{imagepicker-search-error-message}}}</p>\n                </div>\n                <p class="no-results no-results-suggest-flickr hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-flickr}}</p>\n                <p class="no-results no-results-no-suggest-flickr hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</p>\n                <p class="flickr-more-results hide">{{imagepicker-search-want-more-results}}<br/>{{imagepicker-search-want-more-results-desc}}</p>\n                <div class="picker-bumper hide"></div>\n            </div>\n          <div class="search-info hide">{{imagepicker-search-info-photo}}\n            {{{imagepicker-search-info-photo-link-text}}}\n          </div>\n          <div class="search-sources hide"></div>\n          <div class="more-to-come hide"></div>\n        </div>\n        <div class="dooplo-icon-picker sp-picker show-image-sources">\n            <div class="dooploSearchEntry">\n              <div class="search-text-hint">{{imagepicker-search-for-icon}}...</div>\n              <div class="search-text-wrapper">\n                <input class="search-text" value=""/>\n              </div>\n              <button class="execute-search-button"></button>\n            </div>\n            <div class="results">\n              <div class="left column"></div>\n              <div class="search-progress hide">\n                <div class="spinner"></div>\n                <p class="content"></p>\n              </div>\n              <p class="no-results hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</p>\n              <div class="picker-bumper hide"></div>\n            </div>\n          <div class="search-info hide">{{imagepicker-search-info-icon}}\n            <a  href="http://adobe.com/special/legal/permissions/image-notice.html" target="_blank">{{imagepicker-search-info-icon-link-text}}</a>\n          </div>\n          <div class="search-sources hide"></div>\n          <div class="more-to-come hide"></div>\n        </div>\n      <div class="stock-picker sp-picker">\n          <div class="stockViewTypeTabs">\n              <button class="stockShowSearchButton">{{imagepicker-search}}</button>\n              <button class="stockShowLicenseHistoryButton">{{imagepicker-licensed-images}}</button>\n            </div>\n          <div class="stockSearchEntry">\n              <div class="search-text-hint">{{imagepicker-search-for-photo}}...</div>\n            <div class="search-text-wrapper">\n              <input class="search-text" value="" data-auto="image-picker-stock-search-field"/>\n            </div>\n            <button class="execute-search-button"></button>\n          </div>\n        <div class="stockLicenses calculating noSearch fromNoSearch">{{imagepicker-standard-assets-remaining}} <span class="count"></span></div>\n        <div class="stockLicenses calculating search fromNoSearch">{{imagepicker-standard-assets-remaining}} <span class="count"></span></div>\n          <div class="results">\n              <div class="left column"></div>\n              <div class="right column"></div>\n            <div class="search-progress hide">\n              <div class="spinner"></div>\n              <p class="content"></p>\n            </div>\n            <div class="search-failure hide">\n              <p class="content">{{imagepicker-oops}}</p>\n              <p class="error-detail">{{{imagepicker-search-error-message}}}</p>\n            </div>\n            <p class="no-results hide"><span class="no-results-search">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</span><span class="no-results-history"><span class="no-results-history-title">{{imagepicker-no-licensed-images}}</span><br/>{{{imagepicker-search-adobe-stock}}}</span></p>\n            <div class="picker-bumper hide"></div>\n          </div>\n        <div class="search-info hide">{{imagepicker-search-info-stock}}<br/>\n          {{{imagepicker-search-info-stock-link-text}}}\n        </div>\n        <div class="more-to-come hide"></div>\n      </div>\n        <div class="creative-cloud-picker sp-picker">\n          <div class="results-carrier">\n            <div class="results">\n              <div class="folders"></div>\n              <div class="left column"></div>\n              <div class="right column"></div>\n              <div class="no-photos hide"><h2>{{imagepicker-no-files}}</h2>\n                <p>{{imagepicker-no-files-creative-cloud}}</p>\n                <div class="learn-more"><a href="https://helpx.adobe.com/creative-cloud/help/sync-files.html" target="_blank">{{imagepicker-learn-more}}</a></div>\n              </div>\n              <div class="picker-bumper"></div>\n            </div>\n          </div>\n        </div>\n        <div class="lightroom-picker sp-picker">\n          <div class="results-wrapper">\n            <div class="results-carrier">\n              <div class="results">\n                <div class="folders"></div>\n                <div class="left column"></div>\n                <div class="right column"></div>\n                <div class="no-photos hide"><h2>{{imagepicker-no-files-lightroom}}</h2>\n                  <p>{{imagepicker-no-files-lightroom-desc}} <a class="learn-more"href="https://lightroom.adobe.com" target="_blank">{{imagepicker-learn-more}}</a></p>\n                </div>\n                <div class="picker-bumper"></div>\n              </div>\n            </div>\n          </div>\n          <div class="buttons-wrapper">\n            <button class="filter">{{imagepicker-filter}}</button>\n            <button class="sort">{{imagepicker-sort}}</button>\n          </div>\n        </div>\n      <div class="dropbox-picker sp-picker">\n        <div class="results-carrier">\n          <div class="results">\n            <div class="folders"></div>\n            <div class="left column"></div>\n            <div class="right column"></div>\n            <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n            <div class="picker-bumper"></div>\n          </div>\n        </div>\n      </div>\n\n        <div class="facebook-picker sp-picker">\n            <div class="results-carrier">\n                <div class="results">\n                    <div class="folders"></div>\n                    <div class="left column"></div>\n                    <div class="right column"></div>\n                    <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n                    <div class="picker-bumper"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="instagram-picker sp-picker">\n            <div class="results-carrier">\n                <div class="results">\n                    <div class="folders"></div>\n                    <div class="left column"></div>\n                    <div class="right column"></div>\n                    <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n                    <div class="picker-bumper"></div>\n                </div>\n            </div>\n        </div>\n\n      <div class="google-photos-picker sp-picker">\n        <div class="results-carrier">\n          <div class="results">\n            <div class="folders"></div>\n            <div class="left column"></div>\n            <div class="right column"></div>\n            <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n            <div class="picker-bumper"></div>\n          </div>\n        </div>\n      </div>\n        <div class="more-to-come shared"></div>\n    </div>\n    <div class="picker-progress hide">\n        <div class="spinner"></div>\n        <div class="content"></div>\n    </div>\n\n</div>\n<div class="lightroom-importer-wrapper hide"></div>\n<div class="image-picker-filter-dialog-overlay hide"></div>\n<div class="image-picker-sort-dialog-overlay hide"></div>\n<div class="dropbox-logout-confirm-overlay hide"></div>\n<div class="facebook-logout-confirm-overlay hide"></div>\n<div class="google-logout-confirm-overlay hide"></div>\n<div class="instagram-logout-confirm-overlay hide"></div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5),i(346),i(555),i(556)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";function l(e,t){this._init(e,t)}function c(e,t){var i,n,r,o,a=e.assetSources?e.assetSources[t.id]:null;if(a&&a.search&&a.search.predicates)for(r=a.search.predicates,i=0;r.terms&&i<r.terms.length;i++)for(o=r.terms[i],n=0;"text"===o.type&&o.fields&&n<o.fields.length;n++)if("albumName"===o.fields[n])return o.query;return null}function d(e,t){var i=e.assetSources?e.assetSources[t.id]:null,n=null;return i&&i.search&&i.search.sort&&(n=i.search.sort),n}function u(e,t){var i,n,r,o,a=e.assetSources?e.assetSources[t.id]:null,s=[];if(a&&a.search&&a.search.predicates)for(r=a.search.predicates,i=0;r.terms&&i<r.terms.length;i++)for(o=r.terms[i],n=0;"text"===o.type&&o.fields&&n<o.fields.length;n++)"review"===o.fields[n]&&s.push(o);return s}return e.extend(l.prototype,o.prototype,{show:function(t){var i,n=this.$ele,o=e("<iframe>");if(!this.$ele.children().length){this.options=this.options||{},this.options.multiSelect=t.multiSelect,i=window.marvel.settings.lightroomImporter;var a=function(e){if(console.log("message event  received:",e),"LRImporter ready"===e.data.message){var t=n.find("iframe")[0].contentWindow;r.getAccessToken().then(function(e){t.handlers.setImagePickerContext({view:this,imsStack:"stage",imsToken:e,environment:i,albumName:this.albumName,singleSelect:!this.options.multiSelect,searchFilters:this.searchFilters,searchOrder:this.searchOrder})}.bind(this)).catch(function(e){this.$ele.addClass("hide").children().remove()}.bind(this)),window.removeEventListener("message",a)}}.bind(this);window.addEventListener("message",a,!1),marvel.features.hasFeature("lightroom-importer-overlay")?(this.lightroomImporterView=new s,this.lightroomImporterView.on("cancel",function(){this.importLightroom()}.bind(this)),this.lightroomImporterView.showOverlay()):(o[0].src="/marvel-core/lightroomImporter.html",n.append(o),n.removeClass("hide"))}},getLastCrumb:function(){return null},jumpTo:function(e,t,i){this.albumName=e,this.show(i)},hide:function(){this.$ele.addClass("hide").children().remove()},importLightroom:function(e){var t,i,n,r=[];if(this.hide(),this.lightroomImporterView&&(this.lightroomImporterView.hideOverlay(),this.lightroomImporterView.off("cancel"),this.lightroomImporterView=null),e&&e.resources&&e.resources.length){for(t=this.options.multiSelect?e.resources.length:1,i=0;i<t;i++){var o=e.resources[i].asset;(n=new a(this.ozV1AssetFromOzV2Asset(e,o))).albumName=c(e,o),r.push(n),this.searchFilters=u(e,o),this.searchOrder=d(e,o)}this._userCallback&&this._userCallback(r)}},_loadLrSDK:function(){var e=n.defer(),t=document.createElement("script");t.onload=function(){e.resolve()},t.onerror=function(){e.reject()};var i=window.marvel.settings.lightroomImporter||"prod";return t.src="stage"===i?"https://stage.adobelr.com/sdk/lr-sdk.js":"https://lightroom.adobe.com/sdk/lr-sdk.js",document.body.appendChild(t),e.promise},_initLrSDK:function(){return r.getAccessToken().then(function(e){return window.LrSDK.initializeP({clientId:"MarvelWeb1",token:e,environment:window.marvel.settings.lightroomImporter||"prod"},"importer","catalog")})},ensureLrSDKIsAvailable:function(){return this._LrSDKLoadedPromise||(window.LrSDK?this._LrSDKLoadedPromise=this._initLrSDK():this._LrSDKLoadedPromise=this._loadLrSDK().then(function(){return this._initLrSDK()}.bind(this))),this._LrSDKLoadedPromise},ozV1AssetFromOzV2Asset:function(e,t){var i,n=1280,r=960,o=t.payload.develop;if(o&&o.croppedWidth>0&&o.croppedHeight>0)n=o.croppedWidth,r=o.croppedHeight;else{var a=t.payload.importSource;a.originalWidth>0&&a.originalHeight>0&&(n=a.originalWidth,r=a.OriginalHeight)}var s=t.payload.xmp;s&&s.dc&&(i=s.dc.description);var l=/^https?:\/\/[a-z\-\:0-9.]+\/v2/,c="/v1.0";var d={id:t.id,subtype:t.subtype,payload:function(){var e={width:n,height:r};return i&&(e.caption=i),e}(),links:function(){var i="",n=l.exec(e.base);n&&(i=e.base.replace(n[0],c));var r={},o=t.links["/rels/rendition_type/2048"]?t.links["/rels/rendition_type/2048"].href:void 0;return o&&(r["/rels/rendition_type/2048"]={href:i+o}),(o=t.links["/rels/rendition_type/thumbnail2x"]?t.links["/rels/rendition_type/thumbnail2x"].href:void 0)&&(r["/rels/rendition_type/thumbnail2x"]={href:i+o}),r}()};if(t.largeRenditionRequestData){var u=JSON.parse(t.largeRenditionRequestData);d.largeRenditionRequest=function(){return this.ensureLrSDKIsAvailable().then(function(){return window.LrSDK.catalog.get2560RenditionRelativeUrlP(u.base,u.asset)}).then(function(e){var t=u.base.replace(l,c);return"https://"+window.location.host+"/lr_files"+t+e})}.bind(this)}return d}}),l}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(213),i(251),i(5),i(3)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";var s="https://"+window.location.host,l=s+"/lr_files";function c(e){n.prototype._init.call(this,e)}return t.extend(c.prototype,n.prototype,{_parseData:function(){var e,t,i=this.data;this.links.preview.href="",this.isDir=/\:album\:[^\:]+$/.test(i.id),this.isDir?(this.links.folder={},this.links.folder.path=i.links.self.href,this.links.folder.filename=i.name,this.cover=i.cover,this.has_cover=!0):(e=i.links,t=t||(e["/rels/rendition_type/2048"]?e["/rels/rendition_type/2048"].href:void 0),this.links.thumb.href=e["/rels/rendition_type/thumbnail2x"]?e["/rels/rendition_type/thumbnail2x"].href:t,this.links.thumb.href=l+this.links.thumb.href,this.links.thumb.filename=i.name,this.links.preview.href=t,this.links.preview.href=l+t,this.links.preview.filename=i.name,this.links.original.href=l+t,this.links.original.filename=i.name,this.links.original.width=i.payload.width,this.links.original.height=i.payload.height,this.aspect={width:i.payload.width,height:i.payload.height},this.caption=i.payload.caption,this.largeRenditionRequest=i.largeRenditionRequest)},getMimeType:function(){return"image/"+this.data.subtype},hasCover:function(){return this.has_cover},getCover:function(){var e,t=a.defer(),i=s+"/lr_files",n=this.data;return this.hasCover()?this.cover&&this.cover.links&&this.cover.links["/rels/rendition_type/thumbnail2x"]?t.resolve(i+this.cover.links["/rels/rendition_type/thumbnail2x"].href):(e=i+n.links["/rels/album_assets"].href+"?limit=1&subtype=jpeg;png",o.ajax(e,{dataType:"text"}).done(function(n,r,o){var a,s=function(e){var t,i=e.replace(/^while \(1\) \{\}/,"");try{t=JSON.parse(i)}catch(e){console.warn("LR json data parse failed")}return t}(n);s&&s.assets&&s.assets.length?(a=s.assets[0],e=i+a.links["/rels/rendition_type/thumbnail2x"].href,t.resolve(e)):t.reject("no assets")}).fail(function(){t.reject("not available")})):t.reject("no cover available"),t.promise},canSetFilter:function(){return!0}}),c}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(557),i(15)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return r.extend({el:".lightroom-importer-wrapper",events:{"click .lightroom-importer-bg":"_handleCancel"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.hideOverlay(),this.trigger("cancel","user cancelled")},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},render:function(){var e=window.marvel.settings.lightroomImporter;return this.$el.html(o.toString()),this.$el.find("iframe")[0].src="/marvel-core/lightroomImporter.html?env="+e,this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="lightroom-importer-bg mrvl-overlay-bg">\n</div>\n<div class="lightroom-importer-dialog-shell mrvl-overlay-shell">\n  <iframe></iframe>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1)],void 0===(r=function(e,t,i){"use strict";return i.Model.extend({defaults:{label:"",picker:null,page:null,source:""}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(3),i(297)],void 0===(r=function(e,t){"use strict";return new(t.extend({SERVICE_NAME:"GoogleApi",SERVICE_URI:"https://apis.google.com/js/api.js",init:function(){this.deferred||(this.deferred=e.defer()),window.gapi||this.initializing||(marvel.logger.info(this.SERVICE_NAME+" Initializing"),this._loadLibrary(),this.initializing=!0)},_loadLibrary:function(){var e=document.createElement("script");e.type="text/javascript",e.src=this.SERVICE_URI,e.onload=this.onLoad.bind(this),marvel.logger.info(this.SERVICE_NAME+" Loading"),document.body.appendChild(e)},onLoad:function(){marvel.logger.info(this.SERVICE_NAME+" Successfully loaded"),this.deferred.resolve()},whenAvailable:function(){return this.deferred.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(418),i(561),i(562),i(4),i(8),i(102)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return r.extend({initialize:function(){r.prototype.initialize.call(this),t.bindAll(this,t.functionsIn(this)),this.zoomInOut=!0,this.on("cancel",function(){this.close()}),this._productName=s.getProductName()},imageAttributesEvent:function(e){"close"===e.type?this.close():"move"===e.type&&this.move(e.location)},close:function(){if(this._registeredModEvent&&(marvel.events.off("image-attributes-event",this.imageAttributesEvent.bind(this)),this._registeredModEvent=!1),this.hideOverlay(),this._defer){var e=this._defer;this._defer=null,e.resolve("popup-dismissed")}},handleLicensingStage:function(e,t){"licensing"===e?(marvel.logger.debug("License Me!",this.info),this.hideOverlay()):"licensed"===e?this.options.licenseUpdatedCallback?(this.options.licenseUpdatedCallback(t,this.info),this._defer.resolve("licensed")):this._defer.resolve({newItemInfo:t,info:this.info,changeType:"licensed"}):"licensing-rejected"===e?"licensing cancelled"===t?this._defer.resolve("popup-dismissed"):this._defer.reject(t):"error"===e&&(marvel.logger("License me failed!",this.info),this._defer.reject(t))},showOverlayWithData:function(e,t){this._registeredModEvent||(marvel.events.on("image-attributes-event",this.imageAttributesEvent.bind(this)),this._registeredModEvent=!0);var i=e.info,n="GIPHY"!==i.license.source_name,r=l.getLocale(),a={owner:i.license.owner,photoName:i.license.photo_name,sourceName:i.license.source_name,licenseType:l.formatMessage("attribution-license-types",{licenseType:i.license.type}),attributionOriginalSourceUri:i.license.source_url||"#",showLicenseField:n,copyrightInfoText:l.formatMessage("attribution-copyright-info",{copyrightUrl:c.getLocalizedURL("https://adobe.com/legal/permissions/image-notice.html",r)}),attributionLicenseText:l.formatMessage("attribution-license-text",{licenseUrl:c.getLocalizedURL("https://stock.adobe.com/license-terms",r)})};this.update(e),this.afterRenderCallback=this.updateAfterRender.bind(this),this.template=l.mustacheRender(o,a),this.showOverlay(this),this._defer=t},isShowing:function(){return!this.$el.hasClass("hide")},handleLicensing:function(){var e=this.info.license,t={image_id:e.image_id,owner:e.owner,photo_name:e.photo_name,source_name:e.source_name,license_type:e.type};this.handleLicensingStage("licensing"),this.imagePickerView.licenseStockAsset(t).then(function(e){this.handleLicensingStage("licensed",e),s.trackEvent("StockAssetLicensingSuccess",{contextData:["projectId"]},this._productName+":editor")}.bind(this),function(e){this.handleLicensingStage("licensing-rejected",e),"licensing cancelled"===e?s.trackEvent("StockAssetLicensingCancelled",{contextData:["projectId"]},this._productName+":editor"):s.trackEvent("StockAssetLicensingFailed",{contextData:["projectId"]},this._productName+":editor")}.bind(this))},handleShowOriginalStockSource:function(e){var t=this.$el.find(".original_source");if(t.hasClass("disabled"))e.preventDefault();else{t.addClass("disabled");var i={image_id:this.info.license.image_id};this.imagePickerView.getStockAssetDetailUrl(i).then(function(e){t.attr("href",e),t.removeClass("disabled")}).done()}},updateAfterRender:function(){var e=this.info.license;if(this.$el.hasClass("auto-height")||(this.$el.addClass("auto-height"),this.imagePickerView.isLicenseForStock(e)||this.contentModified()),!this.imagePickerView.isLicenseForStock(e))return!1;var t=this.$el.find(".original_source"),i=this.$el.find(".license_wrapper"),n={image_id:e.image_id};return this.licenseHandlerObjects||(this.licenseHandlerObjects={}),this.on("cancel",function(){this.licenseHandlerObjects&&(this.licenseHandlerObjects.$buttonWrapper&&this.licenseHandlerObjects.$buttonWrapper.off("click"),this.licenseHandlerObjects.$originalSource.off("click"),this.licenseHandlerObjects=null)}),i.removeClass("hide"),this.$el.find(".copyright_info").addClass("hide"),"royalty_free"===e.type?(i.find(".license_photo_button").on("click",function(){s.trackEvent("LicenseBtnClickedOnAtrView",{contextData:["projectId"]},this._productName+":editor"),this.handleLicensing()}.bind(this)).removeClass("hide"),this.licenseHandlerObjects.$buttonWrapper=i):i.find(".license_photo_button").addClass("hide"),t.addClass("disabled"),t.on("click",this.handleShowOriginalStockSource.bind(this)),this.imagePickerView.getStockAssetDetailUrl(n).then(function(e){t.attr("href",e).removeClass("disabled")}).done(),this.licenseHandlerObjects.$originalSource=t,this.contentModified(),!0}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="attribution-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="attribution-dialog-shell mrvl-overlay-shell">\n\n  <div class="pointer"></div>\n  <h2 class="photo_name">{{photoName}}</h2>\n\n  <p><span class="by label">{{attribution-label-by}} </span>\n    <span class="owner">{{owner}}</span>\n  </p>\n\n  <p><span class="source label">{{attribution-label-source}} </span>\n    <span class="source_name">{{sourceName}}</span>\n  </p>\n\n  {{#showLicenseField}}\n  <p><span class="license label">{{attribution-label-license}} </span>\n    <span class="license_type">{{licenseType}}</span>\n  </p>\n  {{/showLicenseField}}\n\n  <p class="original_source_wrapper"><a class="original_source" href="{{attributionOriginalSourceUri}}" target="_blank">{{attribution-original-source-link}}</a></p>\n\n  <p class="copyright_info">{{{copyrightInfoText}}}</p>\n  <div class="license_wrapper hide">\n    <p class="license_wrapper-text">{{{attributionLicenseText}}}</p>\n    <button class="license_photo_button">{{attribution-license-button}}</button>\n  </div>\n</div>\n'},function(e,t,i){var n=i(563);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".attribution-dialog-bg.mrvl-overlay-bg{background-color:transparent}.attribution-dialog-overlay.auto-height .mrvl-overlay-shell.attribution-dialog-shell{height:auto}.attribution-dialog-overlay.zoomInOut .mrvl-overlay-shell.attribution-dialog-shell{transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}.attribution-dialog-overlay.zoomInOut .mrvl-overlay-shell.attribution-dialog-shell.no-transition{transition:none}.attribution-dialog-overlay.zoomInOut.transitioned-out .mrvl-overlay-shell.attribution-dialog-shell{-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}.attribution-dialog-overlay.generic .mrvl-overlay-shell.attribution-dialog-shell p .label{color:#284660;font-size:12px}.mrvl-overlay-shell.attribution-dialog-shell{height:244px;width:222px;border-radius:6px;font-family:adobe-clean,Helvetica Neue,Helvetica,Arial,sans-serif;padding:15px 15px 20px;margin:0;text-align:left;-webkit-transform:translate(-50%);transform:translate(-50%);box-sizing:border-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 8px 0 rgba(0,0,0,.1)}.mrvl-overlay-shell.attribution-dialog-shell.auto-height{height:auto}.mrvl-overlay-shell.attribution-dialog-shell *{color:#35414c;font-size:12px;font-weight:400}.mrvl-overlay-shell.attribution-dialog-shell p{margin:0;line-height:19px;overflow:hidden;text-overflow:ellipsis}.mrvl-overlay-shell.attribution-dialog-shell p .label{font-weight:700}.mrvl-overlay-shell.attribution-dialog-shell p a{font-weight:700;text-decoration:none;display:inline-block;border-bottom:3px solid #e8ebed}.mrvl-overlay-shell.attribution-dialog-shell .copyright_info{color:#9aa6af}.mrvl-overlay-shell.attribution-dialog-shell h2{font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:17px;font-weight:700;margin:0 0 4px;line-height:22px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper{text-overflow:clip;margin-top:10px}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button{font-size:1.23em;font-family:adobe-clean,sans-serif;font-weight:700;height:32px;padding:6px 16px 7px;margin-top:18px;cursor:pointer;background-color:#1473e6;color:#fff;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);transition:background-color .2s ease-in,color .2s ease-in;border-radius:24px}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button:hover{background-color:#1269d0}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button:active{background-color:#1056a7}.mrvl-overlay-shell.attribution-dialog-shell .original_source.disabled{font-weight:400}.mrvl-overlay-shell.attribution-dialog-shell p.copyright_info{margin-top:8px;line-height:17px}.mrvl-overlay-shell.attribution-dialog-shell .pointer{display:block;position:absolute;background-color:#fff;right:-5px;left:auto;top:200px;-webkit-transform:rotate(225deg);transform:rotate(225deg);width:10px;height:10px;border-radius:2px;border-top:1px solid rgba(0,0,0,.1);border-right:1px solid rgba(0,0,0,.1);box-shadow:4px -4px 4px 0 rgba(0,0,0,.05)}.mrvl-overlay-shell.attribution-dialog-shell .pointer.on-right{-webkit-transform:rotate(45deg);transform:rotate(45deg)}",""])},,,,function(e,t,i){var n,r;n=[i(0),i(2)],void 0===(r=function(e,t){"use strict";var i=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};i.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},i.prototype.update=function(e){this.context.putImageData(e,0,0)},i.prototype.getPixelCount=function(){return this.width*this.height},i.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},i.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var n=function(){};return n.prototype.componentToHex=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},n.prototype.rgbToHex=function(e,t,i){return"#"+this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(i)},n.prototype.rgbToHsl=function(e,t,i){e/=255,t/=255,i/=255;var n,r,o,a=Math.max(e,t,i),s=Math.min(e,t,i),l=(a+s)/2;if(a==s)n=r=0;else{switch(o=a-s,r=l>.5?o/(2-a-s):o/(a+s),a){case e:n=(t-i)/o+(t<i?6:0);break;case t:n=(i-e)/o+2;break;case i:n=(e-t)/o+4}n/=6}return new Array(360*n,100*r,100*l)},n.prototype.categorize=function(e,t,i){var n=t[0],r=t[1],o=t[2],a=Math.round(10*n/255),s=Math.round(4*r/100),l=Math.round(4*o/100);r>50&&o>20&&o<220?(i["h"+a]=i["h"+a]||[],i["h"+a].push(e)):(i["s"+s]=i["s"+s]||[],i["s"+s].push(e),i["l"+s]=i["l"+l]||[],i["l"+s].push(e))},n.prototype.getPalette=function(e,n,r,o){for(var a,s,l,c,d,u,h=new i(e),p=h.getImageData().data,f=h.getPixelCount(),g={},m={},v=0;v<f;v+=r)c=p[(l=4*v)+0],d=p[l+1],u=p[l+2],p[l+3]>=125&&(a=this.rgbToHsl(c,d,u))[2]<95&&(g[s=this.rgbToHex(c,d,u)]||(g[s]={rgb:[c,d,u],hsl:a,count:0,hex:s,pxIndex:v},this.categorize(g[s],a,m)),g[s].count++);var b=[],y=[],w=[];return t.each(m,function(e,i){var n=t.sortBy(e,function(e){return-e.count});n.length&&!t.includes(b,n[0])&&b.push(n[0])}),b=t.sortBy(b,function(e){return-e.count}),t.each(b,function(e,i){if(e.count>1&&y.length<n){var r=!0;t.each(y,function(t){o.colorDistance(t.hex,e.hex)<1500&&(r=!1)}),r&&y.push(e)}}),t.each(y,function(e){w.push(e.rgb)}),h.removeCanvas(),w},n}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(235),i(432),i(48)],void 0===(r=function(e,t,i,n,r,o){"use strict";var a;return{fontFromLogo:function(t){return function(t){var r=i.defer(),o=new Image;return o.onload=function(){var t,i=document.createElement("canvas"),s=i.getContext("2d");i.width=o.width,i.height=o.height,s.drawImage(o,0,0),a=s,t=n(i.toDataURL("image/png")),r.resolve({blob:t,width:o.width,height:o.height}),e(i).css({position:"absolute","z-index":"10000",left:"100px",top:"100px"})},t.then(function(e){o.src=e}).done(),r.promise}(t).then(function(e){return e.blob?r.findVisualSearchRegion(e.blob).then(function(t){return t||(t={x_min:Math.floor(.15*e.width),x_max:Math.floor(e.width-.15*e.width),y_min:Math.floor(.25*e.height),y_max:Math.floor(e.height-.25*e.height)}),a.strokeRect(t.x_min,t.y_min,t.x_max-t.x_min,t.y_max-t.y_min),r.visualSearch(e.blob,t).then(function(e){return e.variations&&e.variations.length?{text:e.text,font:e.variations[0]}:null}.bind(this))}):null})}}}.apply(t,n))||(e.exports=r)},function(e,t,i){!function(t,n){e.exports=n(i(0))}(0,function(e){"use strict";var t=function(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}(),i=function(e,i,n){n||(n=t);var r=document.createElement("canvas");return r.width=e*n,r.height=i*n,r.style.width=e+"px",r.style.height=i+"px",r.getContext("2d").setTransform(n,0,0,n,0,0),r},n=function(t,i){var n=e("<span>"+t.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</span>").css({font:i,float:"left","white-space":"nowrap"}).css({visibility:"hidden"}).appendTo(e("body")),r=n.width();return n.remove(),r},r=function(e,t,r){var o=r.size||24,a=r.weight||"400",s=r.style||"normal",l=r.lineHeight||1.5,c=r.padding||0,d=r.color||"#35414C",u=s+" "+a+" "+o+"px "+e,h=s+" "+a+" 8px "+e,p=8*l,f=n(t,h),g=i(f,p,0),m=g.getContext("2d");g.height=p,g.width=f,m.font=h,m.fillStyle=d,m.textBaseline="middle",m.fillText(t,0,p/2),m.fillRect(0,0,10,10);for(var v=m.getImageData(0,0,f,p).data,b=0,y=0,w=v.length/2,k=!1,x=0,_=v.length;x<_;){v[x],v[x+1],v[x+2];0!=v[x+3]&&b++,(x+=4)>=w&&!k&&(k=!0,y=b,b=0)}var C=y/b,S=o*l+2*c,T=n(t,u)+2*c,M=S/2;return C>1.8&&C<2?M+=.1*o:C>=2&&(M+=.18*o),m=(g=i(T,S)).getContext("2d"),g.height=S,g.width=T,m.font=u,m.fillStyle=d,m.textBaseline="middle",m.fillText(t,c,M),g.whiteSpaceRatio=C,g};return{generateCanvas:r,generateDataURL:function(){return r.apply(this,arguments).toDataURL()}}})},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(525),i(370),i(420),i(48),i(571)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";var l=["headline-font","body-font","body-font-bold","body-font-italic","body-font-bold-italic"];return n.extend({type:"font",valueProp:"font#data",isDefn:function(){return!1},getHref:function(e,t){var i=this._ac._hrefForCustomFont(this.getData(),e);return t&&i&&(i=i.replace(/^https?\:\/\/[^\/]+\/image_assets\/[^\/]+\/[^\/]+\/(.*)$/,"$1")),i},getFileAsBlob:function(e,t){var n=this.getHref(e,t),r=i.defer(),o=new XMLHttpRequest;return o.onreadystatechange=function(){4==this.readyState&&200==this.status&&r.resolve(this.response)},o.onerror=function(e){r.reject(e)},o.open("GET",n),o.responseType="blob",o.send(),r.promise},getRenditionHref:function(e,t,i){var n="face-rendition";t?n="family-rendition":i&&(n="rendition");var r=this._ac._hrefForCustomFontRendition(this.getData(),n);return e&&r&&(r=r.replace(/^https?\:\/\/[^\/]+\/image_assets\/[^\/]+\/[^\/]+\/(.*)$/,"$1")),r},friendlyName:function(e){var t;if(this.isSparkFont()){var i=s.faces[this.lookupKey()];t=i.subgroupName+" "+i.name}else t=this._data.getValue("name")||"Undefined";return e?-1!=t.search(/^clarendon/i)||-1!=t.search(/^raleway/i)||-1!=t.search(/^wanderlust/i)?t.split(" ")[0]:t.split(" ").slice(0,2).join(" "):t},setUniqueBodyFontRole:function(e){this._ac.getCustomFontSubgroup(this.subgroupName()).each(function(t){t.removeRole(e)}),this.addRole(e)},subgroupName:function(){return this.isSparkFont()?s.faces[this.lookupKey()].subgroupName:this.getValueProp("subgroupName")},faceName:function(){return this.isSparkFont()?s.faces[this.lookupKey()].name:this.getValueProp("faceName")},setFontFromDefn:function(e,t,i){i=i||this.getData(),t=t||this.getValue(),"tk-synced"==e._fontData.source?(t.source=e.source(),t.lookupKey=e.lookupKey(),t.subgroupName=e.subgroupName(),t.cssName=e.cssName(),t.weight=e.fontWeight(),t.style=e.fontStyle(),t.tkPreviewId=e.tkPreviewId(),t.tkVariation=e.tkVariation(),t.tkSubgroupKitId=e.tkSubgroupKitId(),i.setValue("name",e.friendlyName())):(t.source=e.source(),t.lookupKey=e.lookupKey())},setLookupKey:function(e){var t=this._getValue();"object"==typeof e&&"tk-synced"===e.type?this._setTypekitSyncedFont(e,t):t.lookupKey=e,this.setValue(t)},createFont:function(e,t){var i=this._ac.composite.acquireNestedMapSync("all-fonts"),n=this._ac.composite.addChildPath(void 0,void 0,i),r={};return n.setValue("type","application/vnd.adobe.element.custom-font+dcx"),n.setValue("ac#application","spark-web"),n.setValue("ac#roles",t),this.setFontFromDefn(e,r,n),this._data=n,n.setValue("font#data",r),n.setValue(this.valueProp,r),n},createFromElement:function(e,t){var i=e.getValue(this.valueProp).lookupKey,n=new r;n.setFontDataFromSparkFontDefn(t.facesByKey[i]),this._data=this.createFont(n,e.getValue("ac#roles"))},source:function(){return this.getValueProp("source")},isCustomFont:function(){return"user-uploaded"==this.source()},isSparkFont:function(){return"spark-provided"==this.source()},isFauxFont:function(){return"faux-font"==this.source()},isBodyFont:function(){return this.hasAnyRole(["body-font-italic","body-font-bold-italic","is-body-font-italic","is-body-font-bold-italic","body-font","body-font-bold","is-body-font","is-body-font-bold"])},getMetricsAsync:function(){return this.isCustomFont()?i.resolve(this.getMetrics()):this.getMetricsFromRegistry()},getMetrics:function(){return this.getValueProp("metrics")},getMetricsFromRegistry:function(){return a.getFontRegistry().then(function(e){return e.facesByKey[this.lookupKey()].face.metrics}.bind(this))},lookupKey:function(){return this.isCustomFont()&&this._data?"custom-"+this._data.path:this.getValueProp("lookupKey")},uiKey:function(){return"custom-"+this.getId()},tkPreviewId:function(){var e=this.getValueProp("tkPreviewId");if(!e&&this.isSparkFont()){var t=s.faces[this.lookupKey()];e=s.subgroups[t.subgroupName].typekitPreviewId}return e},tkVariation:function(){var e=this.getValueProp("tkVariation");!e&&this.isSparkFont()&&(e=s.faces[this.lookupKey()].typekitKey);return e},tkSubgroupKitId:function(){var e=this.getValueProp("tkSubgroupKitId");if(!e&&this.isSparkFont()){var t=s.faces[this.lookupKey()];e=s.subgroups[t.subgroupName].typekitSubgroupKitId}return e},cssName:function(){if(this.isSparkFont()){var e=s.faces[this.lookupKey()];return s.subgroups[e.subgroupName].cssName}return this.getValueProp("cssName")||'"'+this.friendlyName()+'"'},cssNameForPreview:function(){var e=this.cssName();return"tk-synced"===this.source()&&(e=this.tkPreviewId()),e},fontStyle:function(){if(this.isSparkFont()){if(!this.getValueProp("fontStyle")){return{n:"normal",i:"italic"}[this.tkVariation().split("")[0]]}}else if(this.isCustomFont()||this.isFauxFont()){if(this.hasRole("body-font-italic")||this.hasRole("body-font-bold-italic")||this.hasRole("is-body-font-italic")||this.hasRole("is-body-font-bold-italic"))return"italic";if(this.hasRole("body-font")||this.hasRole("body-font-bold")||this.hasRole("is-body-font")||this.hasRole("is-body-font-bold"))return"normal";var e=this.getMetrics();if(e&&e.style)return e.style}return this.getValueProp("fontStyle","normal")},fontWeight:function(){if(this.isSparkFont()){if(!this.getValueProp("fontWeight")){var e=this.tkVariation().split(""),t=parseInt(e[1]);return t<1&&(t=1),t>9&&(t=9),100*t}}else if(this.isCustomFont()||this.isFauxFont()){if(this.hasRole("body-font")||this.hasRole("body-font-italic")||this.hasRole("is-body-font")||this.hasRole("is-body-font-italic"))return 400;if(this.hasRole("body-font-bold")||this.hasRole("body-font-bold-italic")||this.hasRole("is-body-font-bold")||this.hasRole("is-body-font-bold-italic"))return 700;var i=this.getMetrics();if(i&&i.weight)return i.weight}return this.getValueProp("fontWeight","normal")},getCSSFontFace:function(e,t){var i=this.cssName();return i||(i=this.friendlyName().toLowerCase()),(t=t||this.getHref())?(e&&(t=t.replace(/https?\:\/\/[^\/]*\/image_assets\/[^\/]*\/[^\/]*\/(.*)$/,"$1")),"@font-face { font-family: "+i+";font-weight:"+this.fontWeight()+";font-style:"+this.fontStyle()+';src: url("'+t+'"); }'):void 0},loadFont:function(){var e=this.source();return"user-uploaded"==e?o.loadFont(this,this._ac):"spark-provided"==e?o.loadFont(this.lookupKey(),this._ac):i.resolve()},$loadFontCSS:function(e,i,n,r){var o=!1;i=i||18,t.delay(function(){o||e.addClass("font-loading")},50),this.loadFont().finally(function(){o=!0;var t=a.getFontNormalized(i,this.getMetrics());e.css("font-size",t.size+"px"),n&&e.css("line-height",1.94*i+t.vshift+"px"),r&&e.css("height",1.94*i+t.vshift+"px"),this.$css(e,",adobe-clean,sans-serif"),e.removeClass("font-loading")}.bind(this)).done()},$cssRendition:function(e,t,i,n){r.prototype.$cssRendition.call(this,e,t,i,n)},$css:function(e,t){var i=this.cssName();t=t||"","tk-synced"!==this.source()&&"spark-provided"!==this.source()||(i=i||this.tkPreviewId()),e.css({"font-family":i+t,"font-style":this.fontStyle(),"font-weight":this.fontWeight()})},createOrUpdateFontFiles:function(e){return this._ac.createOrUpdateFontFiles(this.getData(),e)},generateRenditions:function(){return this._ac.generateFontRenditions(this)},getUniqueRole:function(){return this.getUniqueRoles()[0]},getUniqueRoles:function(){var e=this.getRoles();return t.intersection(e,l)},getTOUAName:function(){return this.subgroupName()+" "+this.faceName()},isInstallable:function(){var e=this.getMetrics().fsType,t=this.getTOUAName();try{var i=Number.parseInt(e),n=15&i;if(0===n)return window.marvel.logger.traceflow("brand-kit","verifyFonts fsType="+i+"  licenseType=0 so no upload is required"),!0;window.marvel.logger.traceflow("brand-kit","verifyFonts fsType="+n+" so font upload is required for "+t)}catch(e){window.marvel.logger.warn("BrandKitWrapper failed verifying font license",e)}return!1}})}.apply(t,n))||(e.exports=r)},function(e){e.exports={subgroups:{"Acumin Pro Semi Condensed":{subgroupName:"Acumin Pro Semi Condensed",cssName:"acumin-pro-semi-condensed",typekitPreviewId:"zhgz",typekitSubgroupKitId:"oed0yfm",paragraphRecommended:!0,faces:[{typekitKey:"n3",name:"Light",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d",weight:"300",style:"",subgroupName:"Acumin Pro Semi Condensed"},{typekitKey:"i3",name:"Light Italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b",weight:"300",style:"italic",subgroupName:"Acumin Pro Semi Condensed"},{typekitKey:"n6",name:"Semibold",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c",weight:"600",style:"",subgroupName:"Acumin Pro Semi Condensed"},{typekitKey:"i6",name:"Semibold Italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2",weight:"600",style:"italic",subgroupName:"Acumin Pro Semi Condensed"}]},"Adobe Caslon Pro":{subgroupName:"Adobe Caslon Pro",cssName:"adobe-caslon-pro",typekitPreviewId:"hmqz",typekitSubgroupKitId:"qhv3iqj",paragraphRecommended:!0,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76",weight:"400",style:"",subgroupName:"Adobe Caslon Pro"},{typekitKey:"i4",name:"Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede",weight:"400",style:"italic",subgroupName:"Adobe Caslon Pro"},{typekitKey:"n6",name:"Semibold",lookupKey:"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870",weight:"600",style:"",subgroupName:"Adobe Caslon Pro"},{typekitKey:"i6",name:"Semibold Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060",weight:"600",style:"italic",subgroupName:"Adobe Caslon Pro"},{typekitKey:"n7",name:"Bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4",weight:"700",style:"",subgroupName:"Adobe Caslon Pro"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75",weight:"700",style:"italic",subgroupName:"Adobe Caslon Pro"}]},"Azo Sans":{subgroupName:"Azo Sans",cssName:"azo-sans-web",typekitPreviewId:"lyqy",typekitSubgroupKitId:"ppn2tqp",paragraphRecommended:!1,faces:[{typekitKey:"n3",name:"Light",lookupKey:"2594dbd0127076637d65ed0afaf7",weight:"300",style:"",subgroupName:"Azo Sans"},{typekitKey:"i3",name:"Light Italic",lookupKey:"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3",weight:"300",style:"italic",subgroupName:"Azo Sans"},{typekitKey:"n7",name:"Bold",lookupKey:"2594dbd0127076637d6beb01f6",weight:"700",style:"",subgroupName:"Azo Sans"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"2594dbd0127076637d6beb01f6a3358fb2438db7",weight:"700",style:"italic",subgroupName:"Azo Sans"}]},"Bellfort Script":{subgroupName:"Bellfort Script",cssName:"spark-bellfort-script",typekitPreviewId:!1,typekitSubgroupKitId:"vpr2ezi",paragraphRecommended:!1,faces:[{typekitKey:"n3",name:"Light",lookupKey:"268bd89c277e6a64707ae71ffbf308d69f4683bcc4",weight:"300",style:"",subgroupName:"Bellfort Script"},{typekitKey:"n4",name:"Regular",lookupKey:"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf",weight:"400",style:"",subgroupName:"Bellfort Script"}]},Calluna:{subgroupName:"Calluna",cssName:"calluna",typekitPreviewId:"vybr",typekitSubgroupKitId:"pwy8yyx",paragraphRecommended:!0,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"278fd89c347f793d024ce318fee20e",weight:"400",style:"",subgroupName:"Calluna"},{typekitKey:"i4",name:"Italic",lookupKey:"278fd89c347f793d195de501fbe0",weight:"400",style:"italic",subgroupName:"Calluna"},{typekitKey:"n7",name:"Bold",lookupKey:"278fd89c347f793d1246e809",weight:"700",style:"",subgroupName:"Calluna"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"278fd89c347f793d1246e809b2ca089abf4687",weight:"700",style:"italic",subgroupName:"Calluna"}]},"Clarendon Text Pro":{subgroupName:"Clarendon Text Pro",cssName:"clarendon-text-pro",typekitPreviewId:"kctd",typekitSubgroupKitId:"tes3lrh",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb",weight:"400",style:"",subgroupName:"Clarendon Text Pro"},{typekitKey:"i4",name:"Italic",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77",weight:"400",style:"italic",subgroupName:"Clarendon Text Pro"},{typekitKey:"n7",name:"Bold",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9",weight:"700",style:"",subgroupName:"Clarendon Text Pro"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a",weight:"700",style:"italic",subgroupName:"Clarendon Text Pro"}]},"Courier Std":{subgroupName:"Courier Std",cssName:"courier-std",typekitPreviewId:"jxcp",typekitSubgroupKitId:"oeu5sen",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"2781c18228746a30035de040c0e61b8ebf4e96",weight:"400",style:"",subgroupName:"Courier Std"},{typekitKey:"n7",name:"Bold",lookupKey:"2781c18228746a30035de040d0ec109f",weight:"700",style:"",subgroupName:"Courier Std"}]},"Didot Headline":{subgroupName:"Didot Headline",cssName:"spark-didot-headline",typekitPreviewId:!1,typekitSubgroupKitId:"gkw8jcv",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"2087d09f35315075314de804fce651a9b64891b8d1f5",weight:"400",style:"",subgroupName:"Didot Headline"},{typekitKey:"n6",name:"Demi",lookupKey:"2087d09f35315075314de804fce651bfb6428d",weight:"600",style:"",subgroupName:"Didot Headline"},{typekitKey:"n7",name:"Bold",lookupKey:"2087d09f35315075314de804fce651b9bc4380",weight:"700",style:"",subgroupName:"Didot Headline"}]},"Futura PT":{subgroupName:"Futura PT",cssName:"futura-pt",typekitPreviewId:"ftnk",typekitSubgroupKitId:"icc1sfj",paragraphRecommended:!1,faces:[{typekitKey:"n5",name:"Medium",lookupKey:"229bc085337038400404c908f6ea0996",weight:"500",subgroupName:"Futura PT"},{typekitKey:"n7",name:"Heavy",lookupKey:"229bc085337038400404cc08f3f505",weight:"700",style:"",subgroupName:"Futura PT"}]},Lato:{subgroupName:"Lato",cssName:"lato",typekitPreviewId:"jxfv",typekitSubgroupKitId:"oea2wtv",paragraphRecommended:!0,faces:[{typekitKey:"n3",name:"Light",lookupKey:"288fc09f6c5d7177385d",weight:"300",subgroupName:"Lato"},{typekitKey:"n4",name:"Regular",lookupKey:"288fc09f6c437d772545e51f",weight:"400",subgroupName:"Lato"},{typekitKey:"i4",name:"Italic",lookupKey:"288fc09f6c586c713c40e7",weight:"400",style:"italic",subgroupName:"Lato"},{typekitKey:"n7",name:"Bold",lookupKey:"288fc09f6c53777c34",weight:"700",subgroupName:"Lato"},{typekitKey:"i9",name:"Black Italic",lookupKey:"288fc09f6c5374713342a424e6e21092b0",weight:"900",style:"italic",subgroupName:"Lato"}]},"Local Brewery":{subgroupName:"Local Brewery",cssName:"spark-local-brewery",typekitPreviewId:!1,typekitSubgroupKitId:"vfd3hup",paragraphRecommended:!1,faces:[{typekitKey:"n7",name:"Bold",lookupKey:"2881d7912d315a62355ee11febae3e94bf4b",weight:"700",style:"",subgroupName:"Local Brewery"}]},"Local Brewery Four":{subgroupName:"Local Brewery Four",cssName:"spark-local-brewery-four",typekitPreviewId:!1,typekitSubgroupKitId:"txs8zsv",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb",weight:"400",subgroupName:"Local Brewery Four"}]},"LTC Bodoni 175":{subgroupName:"LTC Bodoni 175",cssName:"ltc-bodoni-175",typekitPreviewId:"mrnw",typekitSubgroupKitId:"meq2xke",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5",weight:"400",style:"",subgroupName:"LTC Bodoni 175"},{typekitKey:"i4",name:"Italic",lookupKey:"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3",weight:"400",style:"italic",subgroupName:"LTC Bodoni 175"}]},"Museo Sans Rounded":{subgroupName:"Museo Sans Rounded",cssName:"museo-sans-rounded",typekitPreviewId:"dtgx",typekitSubgroupKitId:"iuk5brd",paragraphRecommended:!1,faces:[{typekitKey:"n5",name:"500",lookupKey:"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7",weight:"500",style:"",subgroupName:"Museo Sans Rounded"},{typekitKey:"n7",name:"700",lookupKey:"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7",weight:"700",style:"",subgroupName:"Museo Sans Rounded"}]},"Museo Slab":{subgroupName:"Museo Slab",cssName:"museo-slab",typekitPreviewId:"llxb",typekitSubgroupKitId:"gom8xuo",paragraphRecommended:!0,faces:[{typekitKey:"n3",name:"300",lookupKey:"299bc7952e314b7c314ba95ea2b3",weight:"300",style:"",subgroupName:"Museo Slab"},{typekitKey:"i3",name:"300 Italic",lookupKey:"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3",weight:"300",style:"italic",subgroupName:"Museo Slab"},{typekitKey:"n7",name:"700",lookupKey:"299bc7952e314b7c314ba95aa2b3",weight:"700",style:"",subgroupName:"Museo Slab"},{typekitKey:"i7",name:"700 Italic",lookupKey:"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3",weight:"700",style:"italic",subgroupName:"Museo Slab"},{typekitKey:"n9",name:"1000",lookupKey:"299bc7952e314b7c314ba95ca2b34c",weight:"900",style:"",subgroupName:"Museo Slab"}]},"Proxima Nova":{subgroupName:"Proxima Nova",cssName:"proxima-nova",typekitPreviewId:"vcsm",typekitSubgroupKitId:"yfs6lii",paragraphRecommended:!0,faces:[{typekitKey:"n1",name:"Thin",lookupKey:"349cdb88287c79301e46f20cbfd71492bd",weight:"100",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i1",name:"Thin Italic",lookupKey:"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467",weight:"100",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n3",name:"Light",lookupKey:"349cdb88287c79301e46f20cbfcf159cbb5b",weight:"300",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i3",name:"Light Italic",lookupKey:"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77",weight:"300",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n4",name:"Regular",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6",weight:"400",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i4",name:"Regular Italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056",weight:"400",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n5",name:"Medium",lookupKey:"349cdb88287c79301e46f20cbfce199fba5a89",weight:"500",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i5",name:"Medium Italic",lookupKey:"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa",weight:"500",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n6",name:"Semibold",lookupKey:"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4",weight:"600",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i6",name:"Semibold Italic",lookupKey:"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75",weight:"600",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n7",name:"Bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7",weight:"700",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467",weight:"700",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n8",name:"Extrabold",lookupKey:"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3",weight:"800",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i8",name:"Extrabold Italic",lookupKey:"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d",weight:"800",style:"italic",subgroupName:"Proxima Nova"},{typekitKey:"n9",name:"Black",lookupKey:"349cdb88287c79301e46f20cbfc1109ab044",weight:"900",style:"",subgroupName:"Proxima Nova"},{typekitKey:"i9",name:"Black Italic",lookupKey:"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77",weight:"900",style:"italic",subgroupName:"Proxima Nova"}]},"PT Sans":{subgroupName:"PT Sans",cssName:"pt-sans",typekitPreviewId:"lllr",typekitSubgroupKitId:"sys1rxz",paragraphRecommended:!0,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3207f6b3d024ce318fee20e",weight:"400",style:"",subgroupName:"PT Sans"},{typekitKey:"i4",name:"Italic",lookupKey:"34ba94a3207f6b3d195de501fbe0",weight:"400",style:"italic",subgroupName:"PT Sans"},{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3207f6b3d1246e809",weight:"700",style:"",subgroupName:"PT Sans"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687",weight:"700",style:"italic",subgroupName:"PT Sans"}]},"PT Sans Narrow":{subgroupName:"PT Sans Narrow",cssName:"pt-sans-narrow",typekitPreviewId:"rmcr",typekitSubgroupKitId:"xfq6xbo",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5",weight:"400",style:"",subgroupName:"PT Sans Narrow"},{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3207f6b301e48f61ffdf451b9bc4380",weight:"700",style:"",subgroupName:"PT Sans Narrow"}]},"PT Serif":{subgroupName:"PT Serif",cssName:"pt-serif",typekitPreviewId:"xcqq",typekitSubgroupKitId:"lyd0hdu",paragraphRecommended:!0,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3246371767d7be10ae7ef1d89",weight:"400",style:"",subgroupName:"PT Serif"},{typekitKey:"i4",name:"Italic",lookupKey:"34ba94a3246371767d60f00cfeea1f",weight:"400",style:"italic",subgroupName:"PT Serif"},{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3246371767d6beb01f6",weight:"700",style:"",subgroupName:"PT Serif"},{typekitKey:"i7",name:"Bold Italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7",weight:"700",style:"italic",subgroupName:"PT Serif"}]},Voltage:{subgroupName:"Voltage",cssName:"spark-voltage",typekitPreviewId:!1,typekitSubgroupKitId:"cjx2klj",paragraphRecommended:!1,faces:[{typekitKey:"n3",name:"Light",lookupKey:"3281d88420767d3d1c40e305e6",weight:"300",style:"",subgroupName:"Voltage"},{typekitKey:"n4",name:"Regular",lookupKey:"3281d88420767d3d024ce318fee20e",weight:"400",style:"",subgroupName:"Voltage"},{typekitKey:"n7",name:"Bold",lookupKey:"3281d88420767d3d1246e809",weight:"700",style:"",subgroupName:"Voltage"}]},"Wanderlust Shine":{subgroupName:"Wanderlust Shine",cssName:"spark-wanderlust-shine",typekitPreviewId:!1,typekitSubgroupKitId:"etu6mud",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"338fda9424637465235da43efaea129efe7d81b3c5ebdc76",weight:"400",subgroupName:"Wanderlust Shine"}]},Raleway:{subgroupName:"Raleway",cssName:"raleway",typekitPreviewId:"nqdy",typekitSubgroupKitId:"mce7zxv",paragraphRecommended:!1,faces:[{typekitKey:"n4",name:"Regular",lookupKey:"368fd8953670613d024ce318fee20e",weight:"400",subgroupName:"Raleway"},{typekitKey:"n9",name:"Heavy",lookupKey:"368fd8953670613d184ce51beb",weight:"900",subgroupName:"Raleway"}]}},faces:{"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d":{typekitKey:"n3",name:"Light",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d",weight:"300",style:"",subgroupName:"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b":{typekitKey:"i3",name:"Light Italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b",weight:"300",style:"italic",subgroupName:"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c":{typekitKey:"n6",name:"Semibold",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c",weight:"600",style:"",subgroupName:"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2":{typekitKey:"i6",name:"Semibold Italic",lookupKey:"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2",weight:"600",style:"italic",subgroupName:"Acumin Pro Semi Condensed"},"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76":{typekitKey:"n4",name:"Regular",lookupKey:"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76",weight:"400",style:"",subgroupName:"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6690b5dceede":{typekitKey:"i4",name:"Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6690b5dceede",weight:"400",style:"italic",subgroupName:"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870":{typekitKey:"n6",name:"Semibold",lookupKey:"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870",weight:"600",style:"",subgroupName:"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060":{typekitKey:"i6",name:"Semibold Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060",weight:"600",style:"italic",subgroupName:"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6d8bb8d4":{typekitKey:"n7",name:"Bold",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4",weight:"700",style:"",subgroupName:"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75":{typekitKey:"i7",name:"Bold Italic",lookupKey:"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75",weight:"700",style:"italic",subgroupName:"Adobe Caslon Pro"},"2594dbd0127076637d65ed0afaf7":{typekitKey:"n3",name:"Light",lookupKey:"2594dbd0127076637d65ed0afaf7",weight:"300",style:"",subgroupName:"Azo Sans"},"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3":{typekitKey:"i3",name:"Light Italic",lookupKey:"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3",weight:"300",style:"italic",subgroupName:"Azo Sans"},"2594dbd0127076637d6beb01f6":{typekitKey:"n7",name:"Bold",lookupKey:"2594dbd0127076637d6beb01f6",weight:"700",style:"",subgroupName:"Azo Sans"},"2594dbd0127076637d6beb01f6a3358fb2438db7":{typekitKey:"i7",name:"Bold Italic",lookupKey:"2594dbd0127076637d6beb01f6a3358fb2438db7",weight:"700",style:"italic",subgroupName:"Azo Sans"},"268bd89c277e6a64707ae71ffbf308d69f4683bcc4":{typekitKey:"n3",name:"Light",lookupKey:"268bd89c277e6a64707ae71ffbf308d69f4683bcc4",weight:"300",style:"",subgroupName:"Bellfort Script"},"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf":{typekitKey:"n4",name:"Regular",lookupKey:"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf",weight:"400",style:"",subgroupName:"Bellfort Script"},"278fd89c347f793d024ce318fee20e":{typekitKey:"n4",name:"Regular",lookupKey:"278fd89c347f793d024ce318fee20e",weight:"400",style:"",subgroupName:"Calluna"},"278fd89c347f793d195de501fbe0":{typekitKey:"i4",name:"Italic",lookupKey:"278fd89c347f793d195de501fbe0",weight:"400",style:"italic",subgroupName:"Calluna"},"278fd89c347f793d1246e809":{typekitKey:"n7",name:"Bold",lookupKey:"278fd89c347f793d1246e809",weight:"700",style:"",subgroupName:"Calluna"},"278fd89c347f793d1246e809b2ca089abf4687":{typekitKey:"i7",name:"Bold Italic",lookupKey:"278fd89c347f793d1246e809b2ca089abf4687",weight:"700",style:"italic",subgroupName:"Calluna"},"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb":{typekitKey:"n4",name:"Regular",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb",weight:"400",style:"",subgroupName:"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77":{typekitKey:"i4",name:"Italic",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77",weight:"400",style:"italic",subgroupName:"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9":{typekitKey:"n7",name:"Bold",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9",weight:"700",style:"",subgroupName:"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a":{typekitKey:"i7",name:"Bold Italic",lookupKey:"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a",weight:"700",style:"italic",subgroupName:"Clarendon Text Pro"},"2781c18228746a30035de040c0e61b8ebf4e96":{typekitKey:"n4",name:"Regular",lookupKey:"2781c18228746a30035de040c0e61b8ebf4e96",weight:"400",style:"",subgroupName:"Courier Std"},"2781c18228746a30035de040d0ec109f":{typekitKey:"n7",name:"Bold",lookupKey:"2781c18228746a30035de040d0ec109f",weight:"700",style:"",subgroupName:"Courier Std"},"2087d09f35315075314de804fce651a9b64891b8d1f5":{typekitKey:"n4",name:"Regular",lookupKey:"2087d09f35315075314de804fce651a9b64891b8d1f5",weight:"400",style:"",subgroupName:"Didot Headline"},"2087d09f35315075314de804fce651bfb6428d":{typekitKey:"n6",name:"Demi",lookupKey:"2087d09f35315075314de804fce651bfb6428d",weight:"600",style:"",subgroupName:"Didot Headline"},"2087d09f35315075314de804fce651b9bc4380":{typekitKey:"n7",name:"Bold",lookupKey:"2087d09f35315075314de804fce651b9bc4380",weight:"700",style:"",subgroupName:"Didot Headline"},"229bc085337038400404c908f6ea0996":{typekitKey:"n5",name:"Medium",lookupKey:"229bc085337038400404c908f6ea0996",weight:"500",subgroupName:"Futura PT"},"229bc085337038400404cc08f3f505":{typekitKey:"n7",name:"Heavy",lookupKey:"229bc085337038400404cc08f3f505",weight:"700",style:"",subgroupName:"Futura PT"},"288fc09f6c5d7177385d":{typekitKey:"n3",name:"Light",lookupKey:"288fc09f6c5d7177385d",weight:"300",subgroupName:"Lato"},"288fc09f6c437d772545e51f":{typekitKey:"n4",name:"Regular",lookupKey:"288fc09f6c437d772545e51f",weight:"400",subgroupName:"Lato"},"288fc09f6c586c713c40e7":{typekitKey:"i4",name:"Italic",lookupKey:"288fc09f6c586c713c40e7",weight:"400",style:"italic",subgroupName:"Lato"},"288fc09f6c53777c34":{typekitKey:"n7",name:"Bold",lookupKey:"288fc09f6c53777c34",weight:"700",subgroupName:"Lato"},"288fc09f6c5374713342a424e6e21092b0":{typekitKey:"i9",name:"Black Italic",lookupKey:"288fc09f6c5374713342a424e6e21092b0",weight:"900",style:"italic",subgroupName:"Lato"},"2881d7912d315a62355ee11febae3e94bf4b":{typekitKey:"n7",name:"Bold",lookupKey:"2881d7912d315a62355ee11febae3e94bf4b",weight:"700",style:"",subgroupName:"Local Brewery"},"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb":{typekitKey:"n4",name:"Regular",lookupKey:"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb",weight:"400",subgroupName:"Local Brewery Four"},"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5":{typekitKey:"n4",name:"Regular",lookupKey:"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5",weight:"400",style:"",subgroupName:"LTC Bodoni 175"},"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3":{typekitKey:"i4",name:"Italic",lookupKey:"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3",weight:"400",style:"italic",subgroupName:"LTC Bodoni 175"},"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7":{typekitKey:"n5",name:"500",lookupKey:"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7",weight:"500",style:"",subgroupName:"Museo Sans Rounded"},"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7":{typekitKey:"n7",name:"700",lookupKey:"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7",weight:"700",style:"",subgroupName:"Museo Sans Rounded"},"299bc7952e314b7c314ba95ea2b3":{typekitKey:"n3",name:"300",lookupKey:"299bc7952e314b7c314ba95ea2b3",weight:"300",style:"",subgroupName:"Museo Slab"},"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3":{typekitKey:"i3",name:"300 Italic",lookupKey:"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3",weight:"300",style:"italic",subgroupName:"Museo Slab"},"299bc7952e314b7c314ba95aa2b3":{typekitKey:"n7",name:"700",lookupKey:"299bc7952e314b7c314ba95aa2b3",weight:"700",style:"",subgroupName:"Museo Slab"},"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3":{typekitKey:"i7",name:"700 Italic",lookupKey:"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3",weight:"700",style:"italic",subgroupName:"Museo Slab"},"299bc7952e314b7c314ba95ca2b34c":{typekitKey:"n9",name:"1000",lookupKey:"299bc7952e314b7c314ba95ca2b34c",weight:"900",style:"",subgroupName:"Museo Slab"},"349cdb88287c79301e46f20cbfd71492bd":{typekitKey:"n1",name:"Thin",lookupKey:"349cdb88287c79301e46f20cbfd71492bd",weight:"100",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467":{typekitKey:"i1",name:"Thin Italic",lookupKey:"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467",weight:"100",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfcf159cbb5b":{typekitKey:"n3",name:"Light",lookupKey:"349cdb88287c79301e46f20cbfcf159cbb5b",weight:"300",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77":{typekitKey:"i3",name:"Light Italic",lookupKey:"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77",weight:"300",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfd1199ca64385a6":{typekitKey:"n4",name:"Regular",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a6",weight:"400",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056":{typekitKey:"i4",name:"Regular Italic",lookupKey:"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056",weight:"400",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfce199fba5a89":{typekitKey:"n5",name:"Medium",lookupKey:"349cdb88287c79301e46f20cbfce199fba5a89",weight:"500",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa":{typekitKey:"i5",name:"Medium Italic",lookupKey:"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa",weight:"500",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4":{typekitKey:"n6",name:"Semibold",lookupKey:"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4",weight:"600",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75":{typekitKey:"i6",name:"Semibold Italic",lookupKey:"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75",weight:"600",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc11397b7":{typekitKey:"n7",name:"Bold",lookupKey:"349cdb88287c79301e46f20cbfc11397b7",weight:"700",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467":{typekitKey:"i7",name:"Bold Italic",lookupKey:"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467",weight:"700",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3":{typekitKey:"n8",name:"Extrabold",lookupKey:"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3",weight:"800",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d":{typekitKey:"i8",name:"Extrabold Italic",lookupKey:"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d",weight:"800",style:"italic",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc1109ab044":{typekitKey:"n9",name:"Black",lookupKey:"349cdb88287c79301e46f20cbfc1109ab044",weight:"900",style:"",subgroupName:"Proxima Nova"},"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77":{typekitKey:"i9",name:"Black Italic",lookupKey:"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77",weight:"900",style:"italic",subgroupName:"Proxima Nova"},"34ba94a3207f6b3d024ce318fee20e":{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3207f6b3d024ce318fee20e",weight:"400",style:"",subgroupName:"PT Sans"},"34ba94a3207f6b3d195de501fbe0":{typekitKey:"i4",name:"Italic",lookupKey:"34ba94a3207f6b3d195de501fbe0",weight:"400",style:"italic",subgroupName:"PT Sans"},"34ba94a3207f6b3d1246e809":{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3207f6b3d1246e809",weight:"700",style:"",subgroupName:"PT Sans"},"34ba94a3207f6b3d1246e809b2ca089abf4687":{typekitKey:"i7",name:"Bold Italic",lookupKey:"34ba94a3207f6b3d1246e809b2ca089abf4687",weight:"700",style:"italic",subgroupName:"PT Sans"},"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5":{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5",weight:"400",style:"",subgroupName:"PT Sans Narrow"},"34ba94a3207f6b301e48f61ffdf451b9bc4380":{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3207f6b301e48f61ffdf451b9bc4380",weight:"700",style:"",subgroupName:"PT Sans Narrow"},"34ba94a3246371767d7be10ae7ef1d89":{typekitKey:"n4",name:"Regular",lookupKey:"34ba94a3246371767d7be10ae7ef1d89",weight:"400",style:"",subgroupName:"PT Serif"},"34ba94a3246371767d60f00cfeea1f":{typekitKey:"i4",name:"Italic",lookupKey:"34ba94a3246371767d60f00cfeea1f",weight:"400",style:"italic",subgroupName:"PT Serif"},"34ba94a3246371767d6beb01f6":{typekitKey:"n7",name:"Bold",lookupKey:"34ba94a3246371767d6beb01f6",weight:"700",style:"",subgroupName:"PT Serif"},"34ba94a3246371767d6beb01f6a3358fb2438db7":{typekitKey:"i7",name:"Bold Italic",lookupKey:"34ba94a3246371767d6beb01f6a3358fb2438db7",weight:"700",style:"italic",subgroupName:"PT Serif"},"3281d88420767d3d1c40e305e6":{typekitKey:"n3",name:"Light",lookupKey:"3281d88420767d3d1c40e305e6",weight:"300",style:"",subgroupName:"Voltage"},"3281d88420767d3d024ce318fee20e":{typekitKey:"n4",name:"Regular",lookupKey:"3281d88420767d3d024ce318fee20e",weight:"400",style:"",subgroupName:"Voltage"},"3281d88420767d3d1246e809":{typekitKey:"n7",name:"Bold",lookupKey:"3281d88420767d3d1246e809",weight:"700",style:"",subgroupName:"Voltage"},"338fda9424637465235da43efaea129efe7d81b3c5ebdc76":{typekitKey:"n4",name:"Regular",lookupKey:"338fda9424637465235da43efaea129efe7d81b3c5ebdc76",weight:"400",subgroupName:"Wanderlust Shine"},"368fd8953670613d024ce318fee20e":{typekitKey:"n4",name:"Regular",lookupKey:"368fd8953670613d024ce318fee20e",weight:"400",subgroupName:"Raleway"},"368fd8953670613d184ce51beb":{typekitKey:"n9",name:"Heavy",lookupKey:"368fd8953670613d184ce51beb",weight:"900",subgroupName:"Raleway"}}}},function(e,t){},function(e,t){},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(7),i(36),i(577),i(578),i(8),i(579)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){return n.View.extend({_transitionTime:5e3,_quoteSetMap:{upgradeToPremium:a.upgradeToPremiumQuotes,default:a.defaultQuotes},_appCssId:"slate",_quoteSetName:"default",initialize:function(e){t.bindAll(this,t.functionsIn(this)),e&&"object"==typeof e&&(e.quoteSetName&&this._quoteSetMap.hasOwnProperty(e.quoteSetName)&&(this._quoteSetName=e.quoteSetName),e.transitionTime&&(this._transitionTime=e.transitionTime),e.appCssId&&(this._appCssId=e.appCssId),e.location&&(this._location=e.location)),this._quoteIndex=0,this._quoteData=[],this._quotesLoadedDefer=i.defer(),o.runSilent("SMBQuoteLoaderExperiment",{showSMBQuotesForSMBUsers:function(e){var t=e.getMetadata();this._setQuotesFromExperimentData(t),this._quotesLoadedDefer.resolve()}.bind(this)}).done(),o.runSilent("quotesForNonSMBExperiment",{showSMBQuotesForNonSMBUsers:function(e){var t=e.getMetadata();this._setQuotesFromExperimentData(t),this._quotesLoadedDefer.resolve()}.bind(this),control:function(e){t.isEmpty(this._quoteData)&&(this._quoteData=t.shuffle(this._quoteSetMap[this._quoteSetName])),this._quotesLoadedDefer.resolve()}.bind(this)}).done()},_setQuotesFromExperimentData:function(e){var i=t.pickBy(e,function(e,t,i){return t.indexOf(this._location)>-1}.bind(this)),n=this._createQuotesDataObj(i);this._quoteData=t.shuffle(n)},_createQuotesDataObj:function(e){var i=[];return e&&t.isObject(e)&&t.each(e,function(e,t){i.push({text:e})}.bind(this)),i},_whenQuotesLoaded:function(){return this._quotesLoadedDefer||(this._quotesLoadedDefer=i.defer()),this._quotesLoadedDefer.promise},clear:function(){this._isVisible=!1,this._currentQuoteTimer&&(window.clearTimeout(this._currentQuoteTimer),this._currentQuoteTimer=null)},timeLastQuoteShown:function(){return this._shownAt},remove:function(){this.$el.empty()},setAppCssId:function(e){this._appCssId=e},showNextQuote:function(){if(this._isVisible){var e=l.getString(this._quoteData[this._quoteIndex].text),t=this._quoteData[this._quoteIndex].author;this.quote$.removeClass("visible"),t?(this.quoteAuthor$.text(t),this.quoteAuthor$.removeClass("hide")):this.quoteAuthor$.addClass("hide"),this.quoteText$.text(e),this.quote$.addClass("visible"),this._shownAt=(new Date).getTime(),this._currentQuoteTimer=window.setTimeout(this.showNextQuote,this._transitionTime),this._quoteIndex=(this._quoteIndex+1)%this._quoteData.length}},render:function(){return this._isVisible=!0,this.$el.html(s.toString()),this.quote$=this.$el.find(".quote"),this.quoteText$=this.quote$.find(".text"),this.quoteAuthor$=this.quote$.find(".author"),this.quoteText$.addClass(this._appCssId),this._whenQuotesLoaded().then(function(){o.runSilent("SMBQuoteLoaderExperiment",{showSMBQuotesForSMBUsers:function(e){e&&e.track()},control:function(e){e&&e.track()}}).done(),o.runSilent("quotesForNonSMBExperiment",{showSMBQuotesForNonSMBUsers:function(e){e&&e.track()},control:function(e){e&&e.track()}}).done(),this.showNextQuote()}.bind(this)),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";(function(t){var n=i(14),r=i(598),o=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function l(e,t,i,n,r,o,a){return s(e+(t&i|~t&n)+r+o|0,a)+t|0}function c(e,t,i,n,r,o,a){return s(e+(t&n|i&~n)+r+o|0,a)+t|0}function d(e,t,i,n,r,o,a){return s(e+(t^i^n)+r+o|0,a)+t|0}function u(e,t,i,n,r,o,a){return s(e+(i^(t|~n))+r+o|0,a)+t|0}n(a,r),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,n=this._b,r=this._c,a=this._d;n=u(n=u(n=u(n=u(n=d(n=d(n=d(n=d(n=c(n=c(n=c(n=c(n=l(n=l(n=l(n=l(n,r=l(r,a=l(a,i=l(i,n,r,a,e[0],3614090360,7),n,r,e[1],3905402710,12),i,n,e[2],606105819,17),a,i,e[3],3250441966,22),r=l(r,a=l(a,i=l(i,n,r,a,e[4],4118548399,7),n,r,e[5],1200080426,12),i,n,e[6],2821735955,17),a,i,e[7],4249261313,22),r=l(r,a=l(a,i=l(i,n,r,a,e[8],1770035416,7),n,r,e[9],2336552879,12),i,n,e[10],4294925233,17),a,i,e[11],2304563134,22),r=l(r,a=l(a,i=l(i,n,r,a,e[12],1804603682,7),n,r,e[13],4254626195,12),i,n,e[14],2792965006,17),a,i,e[15],1236535329,22),r=c(r,a=c(a,i=c(i,n,r,a,e[1],4129170786,5),n,r,e[6],3225465664,9),i,n,e[11],643717713,14),a,i,e[0],3921069994,20),r=c(r,a=c(a,i=c(i,n,r,a,e[5],3593408605,5),n,r,e[10],38016083,9),i,n,e[15],3634488961,14),a,i,e[4],3889429448,20),r=c(r,a=c(a,i=c(i,n,r,a,e[9],568446438,5),n,r,e[14],3275163606,9),i,n,e[3],4107603335,14),a,i,e[8],1163531501,20),r=c(r,a=c(a,i=c(i,n,r,a,e[13],2850285829,5),n,r,e[2],4243563512,9),i,n,e[7],1735328473,14),a,i,e[12],2368359562,20),r=d(r,a=d(a,i=d(i,n,r,a,e[5],4294588738,4),n,r,e[8],2272392833,11),i,n,e[11],1839030562,16),a,i,e[14],4259657740,23),r=d(r,a=d(a,i=d(i,n,r,a,e[1],2763975236,4),n,r,e[4],1272893353,11),i,n,e[7],4139469664,16),a,i,e[10],3200236656,23),r=d(r,a=d(a,i=d(i,n,r,a,e[13],681279174,4),n,r,e[0],3936430074,11),i,n,e[3],3572445317,16),a,i,e[6],76029189,23),r=d(r,a=d(a,i=d(i,n,r,a,e[9],3654602809,4),n,r,e[12],3873151461,11),i,n,e[15],530742520,16),a,i,e[2],3299628645,23),r=u(r,a=u(a,i=u(i,n,r,a,e[0],4096336452,6),n,r,e[7],1126891415,10),i,n,e[14],2878612391,15),a,i,e[5],4237533241,21),r=u(r,a=u(a,i=u(i,n,r,a,e[12],1700485571,6),n,r,e[3],2399980690,10),i,n,e[10],4293915773,15),a,i,e[1],2240044497,21),r=u(r,a=u(a,i=u(i,n,r,a,e[8],1873313359,6),n,r,e[15],4264355552,10),i,n,e[6],2734768916,15),a,i,e[13],1309151649,21),r=u(r,a=u(a,i=u(i,n,r,a,e[4],4149444226,6),n,r,e[11],3174756917,10),i,n,e[2],718787259,15),a,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+n|0,this._c=this._c+r|0,this._d=this._d+a|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a}).call(this,i(20).Buffer)},function(e,t,i){var n,r;n=[i(0),i(2),i(429),i(1),i(3),i(17),i(37),i(5),i(23),i(48),i(345),i(421),i(423),i(424),i(431),i(582),i(433),i(583),i(12),i(427),i(8)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k){"use strict";var x,_,C={"is-body-font":"Regular","is-body-font-italic":"Italic","is-body-font-bold":"Bold","is-body-font-bold-italic":"Bold Italic"};return _=n.extend({init:function(e,t){t=t||{},this._fn=e,this._id=t.id||s.v4()},id:function(){return this._id},execute:function(){if(this._fn&&"function"==typeof this._fn)return this._fn.apply(this,arguments)}}),x=n.extend({init:function(){this._queue=[]},length:function(){return this._queue.length},add:function(e,t){var i;return i=e instanceof _?e.id():(e=new _(e,t)).id(),this._queue.push(e),i},addUniqueActionForItemView:function(e,t){var i=e.cid;return this.remove(i),this.add(t,{id:i})},remove:function(e){var i=t.findIndex(this._queue,function(t){return t.id()==e});-1!=i&&this._queue.splice(i,1)},each:function(e){return t.each(this._queue,e)},map:function(e){return t.map(this._queue,e)}}),c.extend({modeStrings:{addFonts:{title:k.formatMessage("font-picker-add-your-fonts-title"),description:k.formatMessage("custom-font-manager-description-text"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-continue-button")},manageFonts:{title:k.formatMessage("custom-font-manager-manage-font"),description:k.formatMessage("custom-font-manager-description-text-manage"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-save-button")},createBodyFontSet:{title:k.formatMessage("custom-font-manager-create-set-title"),description:k.formatMessage("custom-font-manager-create-set-message"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-continue-button")},completeBodyFontSet:{title:k.formatMessage("custom-font-manager-complete-set-title"),description:k.formatMessage("custom-font-manager-create-set-message"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-continue-button")},editBodyFontSet:{title:k.formatMessage("custom-font-manager-edit-set-title"),description:k.formatMessage("custom-font-manager-create-set-message"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-continue-button")},completeBodyFontSetMissingNormal:{title:k.formatMessage("custom-font-manager-complete-set-title"),description:k.formatMessage("custom-font-manager-provide-source-message"),info:k.formatMessage("custom-font-manager-info-tip"),okBtn:k.formatMessage("custom-font-manager-continue-button")}},initialize:function(e){c.prototype.initialize.call(this),this._ac=e,this._itemViews=[],this._updateUploadProgress=this._updateUploadProgress.bind(this)},onEscapePressed:function(){this._handleCancelClick(),c.prototype.onEscapePressed.call(this)},setLaunchContext:function(e){this._launchContext=e},setRegistry:function(e){this._registry=e},setFontsIn:function(e){this._fontsIn=e},setFontSubgroup:function(e){this._fontSubgroup=e},setMode:function(e){this._mode=e},render:function(){this.actionQueue=new x,void 0===this._pendingUploadsCount&&(this._pendingUploadsCount=0);var i=this._mode;if(!this.$el.hasClass("cfm-shell")){var n=e(".cfm-shell");n.length||(n=e('<div class="cfm-shell hide"></div>'),e(document.body).append(n)),this.$el=n}this.$el.html(k.mustacheRender(m)),this.$el.find(".cfm-body-font-subgroup-error-tip .text").html(k.formatMessage("custom-font-manager-body-font-subgroup-error-tip",{familyName:""})),this.$el.find(".cfm-face-exists-error-tip .text").html(k.formatMessage("custom-font-manager-face-exists-error-tip",{familyName:""})),this.$el.find(".cfm-body-font-exists-error-tip .text").html(k.formatMessage("custom-font-manager-body-font-exists-error-tip",{familyName:""}));var r=this.modeStrings[i||"addFonts"];if(this.$el.find(".cfm-title").text(r.title),this.$el.find(".cfm-description-text").text(r.description),this.$el.find(".cfm-info-tip").text(r.info),this.continueBtn$=this.$el.find(".cfm-continue"),this.continueBtn$.text(r.okBtn),this.fontList$=this.$el.find(".cfm-font-list"),this.fontListScrollView$=this.$el.find(".cfm-font-list-wrapper"),this.fontAddBtn$=this.$el.find(".cfm-add-font"),"completeBodyFontSetMissingNormal"==i&&(i=this._mode="completeBodyFontSet"),"editBodyFontSet"==i&&(i=this._mode="completeBodyFontSet"),"createBodyFontSet"==i)this.$el.find(".js-font-name-label").text("Style"),this._createBodyFontSet=!0,t.each(C,function(e,i){var n,r=-1!=i.search(/bold/i)?700:400,o=-1!=i.search(/italic/i)?"italic":"normal";n=this.createBodyItemView({role:i,fontName:e}),this.actionQueue.addUniqueActionForItemView(n,function(){var n,a;if(t.each(this._itemViews,function(e){var i=e.options.fontInfo;e.options.fontInfoPromise;if(i)return a=t.trim(i.preferredFamilyName||i.familyName),n=this._getCSSFamilyName(a),!1}.bind(this)),n&&a)return this._ac.addFauxFont(a,e,n,r,o,i)}.bind(this)),this._itemViews.push(n)}.bind(this));else if("completeBodyFontSet"==i){this.$el.find(".js-font-name-label").text("Style"),this.$el.find(".cfm-add-font").remove();var o=this._ac.getCustomFontSubgroup(this._fontSubgroup),a=this._ac.getCustomBodyFontSet(this._fontSubgroup),s=o.at(0);t.each(C,function(e,t){var i,n=a.getFontWithRole(t),r=-1!=t.search(/bold/i)?700:400,l=-1!=t.search(/italic/i)?"italic":"normal";n||o.each(function(e){if(e.fontWeight()==r&&e.fontStyle()==l)return n=e,!1}.bind(this)),n?(i=n.isFauxFont()?this.createBodyItemView({role:t,fontName:e}):this.createBodyItemView({role:t,fontName:e,acFontFace:n}),this.actionQueue.addUniqueActionForItemView(i,function(){return n.setUniqueBodyFontRole(t),n})):(i=this.createBodyItemView({role:t,fontName:e}),this.actionQueue.addUniqueActionForItemView(i,function(){return this._ac.addFauxFont(this._fontSubgroup,e,s.cssName(),r,l,t)}.bind(this))),this._itemViews.push(i)}.bind(this))}else"manageFonts"==i&&(this._fontsIn&&(this.fontList$.find(".cfm-font").remove(),t.each(this._fontsIn,function(e){var t=this.createItemView({acFontFace:e});this._itemViews.push(t)}.bind(this)),t.sortBy(this._itemViews,function(e){return e.getFontName()}),t.each(this._itemViews,function(e){this.fontList$.append(e.$el)}.bind(this))),this.fontAddBtn$.text("Add more "+this._fontSubgroup+" fonts"));this.cancelBtn$=this.$el.find(".cfm-cancel"),this.cancelBtn$.on("click",this._handleCancelClick.bind(this)),this.continueBtn$.on("click",this._handleContinueClick.bind(this)),this.continueBtn$.on("mouseover",this._handleContinueMouseover.bind(this)),this.continueBtn$.on("mouseout",this._handleContinueMouseout.bind(this)),this.filesTip$=this.$el.find(".cfm-add-font-tip"),this.bodyTip$=this.$el.find(".cfm-body-font-tip"),this.tosTip$=this.$el.find(".cfm-tos-tip"),this.replaceTip$=this.$el.find(".cfm-face-replace-tip"),this.deleteTip$=this.$el.find(".cfm-face-delete-tip"),this.tosWrapper$=this.$el.find(".cfm-tos"),this.fontTOS$=this.$el.find(".cfm-tos-checkbox"),this.fontTOS$.on("click",this._handleTOSClick.bind(this)),this.fontTOSCopy$=this.$el.find(".cfm-tos-copy"),this.fontTOSCopy$.on("click",this._handleTOSClick.bind(this)),this.missingAddChooseTip$=this.$el.find(".cfm-font-missing-tip"),this.replaceAddChooseTip$=this.$el.find(".cfm-font-replace-tip"),this.outerShell$=this.$el.parent(),this.subgroupErrorTip$=this.$el.find(".cfm-body-font-subgroup-error-tip"),this.existsErrorTip$=this.$el.find(".cfm-body-font-exists-error-tip"),this.cssNamesBySubgroup=this.cssNamesBySubgroup||{};var l=this._ac.getFontSubgroups();t.each(l,function(e,t){var i=this.cssNamesBySubgroup[t];i||(i=e.getPropFromFirst("cssName"),this.cssNamesBySubgroup[t]=i)}.bind(this)),"createBodyFontSet"==this._mode||"completeBodyFontSet"==this._mode?this.fontAddBtn$.remove():(this.fontAddBtn$.on("click",this.handleUploadFileClicked.bind(this)),this._fileDropSetup||(this._fileDropSetup=!0,w({el:this.$el},function(e,t){e&&window.marvel.logger.warn("error while dropping font files - before font picker detected any errors",e),this.autoPickLocalFiles(t)}.bind(this)))),t.each(this._itemViews,function(e){e.deleted||this.fontList$.append(e.$el)}.bind(this)),this._changeTOSIfNecessary()},scrollFontListToBottom:function(){var e=this.fontListScrollView$[0];e.scrollTop=e.scrollHeight},shouldSubgroupMatch:function(e){if(this._fontSubgroup||(this._fontSubgroup=e),e!=this._fontSubgroup)return this._fontSubgroup},_hasFontInView:function(e,i){return!!t.find(this._itemViews,function(t){var n=t.getFontFace();return(!n||!n.isFauxFont())&&(!t.deleted&&t!==i&&e===t.getFontName())})},_wasFontDeleted:function(e){return!!t.find(this._itemViews,function(t){return t.deleted&&e===t.getFontName()})},isNewSubgroupName:function(e){var i=Object.keys(this._ac.getCustomFontSubgroups()),n=!0;return t.each(this._itemViews,function(e){var r=e.getSubgroupName();if(r&&t.includes(i,r))return n=!1,!1}),n},_isCustomFont:function(e){return!!t.find(this._ac.getCustomFonts(!0),function(t){return t.friendlyName()===e}.bind(this))},_isSparkfont:function(e){var i;return this._registry&&(i=t.find(this._registry.facesByKey,function(t){return t.subgroup.name+" "+t.face.name===e})),!!i},showReplaceTip:function(e,t){var i={"add-replace":k.getString("custom-font-manager-replace-tip-add"),"body-replace":k.getString("custom-font-manager-replace-tip-body"),"manage-replace":k.getString("custom-font-manager-replace-tip-manage"),"manage-replace-body":k.getString("custom-font-manager-replace-tip-manage-body"),"manage-replace-headline":k.getString("custom-font-manager-replace-tip-manage-headline"),"manage-replace-not-used":k.getString("custom-font-manager-replace-tip-manage-not-used")};this.replaceTip$.find(".text").text(i[t]||k.getString("custom-font-manager-replace-tip-default")),this.replaceTip$.addClass("show").css("top",e.$el.position().top-35+"px")},hideReplaceTip:function(){this.replaceTip$.removeClass("show")},showDeleteTip:function(e,t){var i={"add-delete":k.getString("custom-font-manager-delete-tip-add"),"body-delete":k.getString("custom-font-manager-delete-tip-body"),"manage-delete":k.getString("custom-font-manager-delete-tip-manage"),"manage-delete-body":k.getString("custom-font-manager-delete-tip-manage-body"),"manage-delete-headline":k.getString("custom-font-manager-delete-tip-manage-headline"),"manage-delete-is-used":k.getString("custom-font-manager-delete-tip-manage-is-used")};this.deleteTip$.find(".text").text(i[t]||k.getString("custom-font-manager-delete-tip-default")),this.deleteTip$.addClass("show").css("top",e.$el.position().top-35+"px")},hideDeleteTip:function(){this.deleteTip$.removeClass("show")},showFontMissingTip:function(t){this.missingAddChooseTip$.addClass("show");var i=t.$el.position().top;this.missingAddChooseTip$.css("top",i-30+"px"),this.outerShell$.off("click"),this.outerShell$.on("click",function(t){e(t.target).closest(".cfm-font-replace-tip").length||this.hideFontMissingTip()}.bind(this)),this.missingAddChooseTip$.find(".cfm-font-upload").off("click"),this.missingAddChooseTip$.find(".cfm-font-upload").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("cfm-item-missing-upload")}),this.missingAddChooseTip$.find(".cfm-font-add").off("click"),this.missingAddChooseTip$.find(".cfm-font-add").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("cfm-item-missing-add")})},hideFontMissingTip:function(){this.missingAddChooseTip$.removeClass("show"),this.outerShell$.off("click"),this.missingAddChooseTip$.find(".cfm-font-upload").off("click"),this.missingAddChooseTip$.find(".cfm-font-add").off("click")},showFontReplaceTip:function(t){this.replaceAddChooseTip$.addClass("show");var i=t.$el.position().top;this.replaceAddChooseTip$.css("top",i-30+"px"),this.outerShell$.off("click"),this.outerShell$.on("click",function(t){e(t.target).closest(".cfm-font-replace-tip").length||this.hideFontReplaceTip()}.bind(this)),this.replaceAddChooseTip$.find(".cfm-font-upload").off("click"),this.replaceAddChooseTip$.find(".cfm-font-upload").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("cfm-item-replace-upload")}),this.replaceAddChooseTip$.find(".cfm-font-add").off("click"),this.replaceAddChooseTip$.find(".cfm-font-add").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("cfm-item-replace-add")})},hideFontReplaceTip:function(){this.replaceAddChooseTip$.removeClass("show"),this.replaceAddChooseTip$.find(".cfm-font-upload").off("click"),this.replaceAddChooseTip$.find(".cfm-font-add").off("click")},showChooseExisting:function(t,i,n){var r=this.$el.find(".cfm-body-font-choose-existing-view");r.empty(),this.outerShell$.off("click"),this.outerShell$.on("click",function(t){e(t.target).closest(".cfm-body-font-choose-existing-view").length||this.hideTooltips()}.bind(this));var o,a=t.acFontFace;i.each(function(i){if(!a||i.getId()!=a.getId()){var n=e('<div class="cfm-body-font-choose-existing-font">'+i.friendlyName()+"</div>");i.$css(n),n.on("click",function(e){e.preventDefault(),e.stopPropagation(),this.hideChooseExisting(),t.trigger("cfm-item-add-picked",i)}.bind(this)),r.append(n)}}.bind(this)),o=n.hasClass("cfm-font-replace-tip")?100:130;var s=parseInt(n.css("left"))+o,l=t.$el.position().top-30;r.css("top",l+"px"),r.css("left",s+"px"),r.addClass("show")},hideChooseExisting:function(){this.$el.find(".cfm-body-font-choose-existing-view").removeClass("show"),this.outerShell$.off("click")},showSubgroupError:function(e,t){var i=e.$el.position().top-34;this.subgroupErrorTip$.css("top",i+"px"),this.subgroupErrorTip$.find(".text").text(k.formatMessage("custom-font-manager-body-font-subgroup-error-tip",{familyName:t})),this.subgroupErrorTip$.addClass("show"),this.outerShell$.off("click"),this.outerShell$.one("click",function(){this.subgroupErrorTip$.removeClass("show")}.bind(this))},showExistsError:function(e,t,i){var n=this.$el.find(i);-1!=i.search("face-exists")?n.find(".text").text(k.formatMessage("custom-font-manager-face-exists-error-tip",{familyName:t})):-1!=i.search("body-font-exists")&&n.find(".text").text(k.formatMessage("custom-font-manager-body-font-exists-error-tip",{familyName:t})),n.addClass("show"),this.outerShell$.off("click"),this.outerShell$.one("click",function(){n.removeClass("show")}.bind(this)),this.fontList$.find(".cfm-font").length||this.fontList$.addClass("empty")},hideTooltips:function(){this.hideChooseExisting(),this.$el.find(".cfm-tool-tip-base").removeClass("show"),this.hideFontReplaceTip(),this.hideFontMissingTip()},_disarmAlert:function(e,t,i){return this._pendingUploadsCount--,y.showAlert(t,i),e.setFontFile(void 0),e.setFontInfoPromise(void 0),this.actionQueue.remove(e.cid),!1},_commonFileValidation:function(e,t){return t.info&&t.info.FILE_PARSE_ERROR?this._disarmAlert(e,"Unrecognized file format","We had trouble understanding the font file you provided.  Please upload a valid .otf or .ttf file."):t.info&&t.info.FILE_TOO_BIG?this._disarmAlert(e,"File is too big","Font uploads are limited to 10MB.  Please choose a smaller file."):!(this._pendingUploadsCount>20)||this._disarmAlert(e,"Concurrent upload limit reached","A maximum of 20 concurrent uploads is allowed.")},createItemView:function(t){var n,r=t.acFontFace,o=!1,a=!1,s=!1;r&&(t.fontName=r.friendlyName(),this.getUsageOfAssetsMessage&&"function"==typeof this.getUsageOfAssetsMessage&&(n=this.getUsageOfAssetsMessage(r)),o=!!n,r.hasRole("headline-font")&&(a=!0),(r.hasRole("body-font")||r.hasRole("body-font-bold")||r.hasRole("body-font-italic")||r.hasRole("body-font-bold-italic"))&&(s=!0),"manageFonts"==this._mode&&(t.disableReplace=!o,a&&(t.disableDelete=!0,t.disableReplace=!0),s&&(t.disableDelete=!0,t.disableReplace=!0))),this._mode,t.themeUpdateInterface=this.themeUpdateInterface,t.parentView=this;var l=new v(t);l.on("cfm-got-font-info",function(e){if(this._commonFileValidation(l,e)){if(this._hasFontInView(e.fullName,l))this._pendingUploadsCount--,l.setFontFile(void 0),l.setFontInfoPromise(void 0),this.actionQueue.remove(l.cid),l.$el.remove(),this.showExistsError(l,e.fullName,".cfm-face-exists-error-tip");else if(this._isCustomFont(e.fullName))this._wasFontDeleted(e.fullName)||(this._pendingUploadsCount--,l.setFontFile(void 0),l.setFontInfoPromise(void 0),this.actionQueue.remove(l.cid),l.$el.remove(),this.showExistsError(l,e.fullName,".cfm-face-exists-error-tip"));else if("manageFonts"==this._mode){var t=this.shouldSubgroupMatch(e.subgroupName);t&&(this._pendingUploadsCount--,l.setFontFile(void 0),l.setFontInfoPromise(void 0),this.actionQueue.remove(l.cid),l.$el.remove(),this.showSubgroupError(l,t))}}else l.$el.remove(),this.fontList$.find(".cfm-font").length||this.fontList$.addClass("empty");this._changeTOSIfNecessary()}.bind(this));var c=function(t,n,r){Promise.resolve().then(function(o){var a=i(428),s=this.$el.find(".replacement-font-picker");s.length||(s=e('<div class="replacement-font-picker"></div>'),this.$el.append(s)),this.replacementFontPicker=this.replacementFontPicker||new a,this.replacementFontPicker.configure({mode:"face",authoringContext:this._ac,$el:s,$anchor:t,brandFonts:!0,offsetX:0,offsetY:66,hideCarrot:!0,hideAddCustomFontsButton:!0,launchContext:"CustomFontManager",assignRoleAndSave:!0,getUsageOfAssetsMessage:function(){return n},onFinish:r,onCancel:function(){}.bind(this)}),this.replacementFontPicker.showOverlay()}.bind(this).bind(null,i)).catch(i.oe)}.bind(this);return l.on("cfm-item-delete",function(i){l.getFontFile()&&(this._pendingUploadsCount--,this._changeTOSIfNecessary());var r=l.cid;"manageFonts"==this._mode&&n?(this.hideReplaceTip(),this.hideDeleteTip(),c(e(i.target),n,function(e,i){l.setToBeReplaced(),l.render(),this._usageMessage=n,this.willTriggerThemeUpdates=!0,this.actionQueue.addUniqueActionForItemView(l,function(){return{isReplacementPair:!0,deleteOld:!0,replacementPair:[t.acFontFace,e]}}.bind(this)),this._checkContinueEnablement()}.bind(this))):(t.acFontFace?this.actionQueue.addUniqueActionForItemView(l,function(){return p.deletedCustomFont({fontFullName:t.acFontFace.friendlyName(),fontSubgroup:t.acFontFace.subgroupName()},this._launchContext),this._ac.removeFont(t.acFontFace)}.bind(this)):this.actionQueue.remove(r),l.$el.remove()),this._checkContinueEnablement()}.bind(this)),l.on("cfm-item-replace",function(i){"manageFonts"==this._mode?!o||a||s||(this.hideReplaceTip(),this.hideDeleteTip(),c(e(i.target),n,function(e,i){this._usageMessage=n,this.willTriggerThemeUpdates=!0,this.actionQueue.addUniqueActionForItemView(l,function(){return{isReplacementPair:!0,replacementPair:[t.acFontFace,e]}}.bind(this)),this._checkContinueEnablement()}.bind(this))):this.handleUploadFileClicked(null,l)}.bind(this)),l.on("cfm-item-replace-mouseover",function(){"manageFonts"==this._mode?s?this.showReplaceTip(l,"manage-replace-body"):a?this.showReplaceTip(l,"manage-replace-headline"):o?this.showReplaceTip(l,"manage-replace"):this.showReplaceTip(l,"manage-replace-not-used"):this.showReplaceTip(l,"add-replace")}.bind(this)),l.on("cfm-item-replace-mouseout",function(){this.hideReplaceTip()}.bind(this)),l.on("cfm-item-delete-mouseover",function(){"manageFonts"==this._mode?s?this.showDeleteTip(l,"manage-delete-body"):a?this.showDeleteTip(l,"manage-delete-headline"):o?this.showDeleteTip(l,"manage-delete-is-used"):this.showDeleteTip(l,"manage-delete"):this.showDeleteTip(l,"add-delete")}.bind(this)),l.on("cfm-item-delete-mouseout",function(){this.hideDeleteTip()}.bind(this)),l.render(),l},createBodyItemView:function(e){e.parentView=this;var t=new b(e);return t.$el.find(".cfm-font-exclamation").on("mouseover",function(e){this.bodyTip$.addClass("show")}.bind(this)),t.$el.find(".cfm-font-exclamation").on("mouseout",function(e){this.bodyTip$.removeClass("show")}.bind(this)),t.on("cfm-item-add",function(){var e;if(this.hideTooltips(),this._fontSubgroup){var i=this._ac.getCustomFontSubgroup(this._fontSubgroup,!0);e=t.getFontFace()?i.find(function(e){return e.getId()!=t.getFontFace().getId()}):!!i&&!!i.length}e?this.showFontMissingTip(t):this.handleUploadFileClickedForBodyFontSet(t),this._checkContinueEnablement()}.bind(this)),t.on("cfm-got-font-info",function(e){if(this._commonFileValidation(t,e))if(this._hasFontInView(e.fullName,t)){this._pendingUploadsCount--,this.showExistsError(t,e.fullName,".cfm-face-exists-error-tip");t.getRole();t.setFontFile(void 0),t.setFontInfoPromise(void 0),t.setFontName(C[t.getRole()]),t.render(),this.actionQueue.remove(t.cid)}else if(this._isCustomFont(e.fullName))this._pendingUploadsCount--,this._wasFontDeleted(e.fullName)||(this.showExistsError(t,e.fullName,".cfm-face-exists-error-tip"),t.setFontFile(void 0),t.setFontInfoPromise(void 0),t.setFontName(C[t.getRole()]),t.render(),this.actionQueue.remove(t.cid));else{var i=this.shouldSubgroupMatch(e.subgroupName);i?(this.showSubgroupError(t,i),t.setFontFile(void 0),t.setFontInfoPromise(void 0),t.render()):"createBodyFontSet"!=this._mode||this.isNewSubgroupName(e.subgroupName)||(this.hide(),this._cleanup(),y.showConfirm("Existing body font set","It looks as if you’re trying to add a body font set for "+e.subgroupName+" that already exists.",{okText:"Manage existing set",cancelText:"Cancel"}).then(function(t){t&&this.onFinish&&"function"==typeof this.onFinish&&(this.onFinish(null,null,e.subgroupName),this._cleanup())}.bind(this)))}else t.render();this._changeTOSIfNecessary(),this._checkContinueEnablement()}.bind(this)),t.on("cfm-item-missing-add",function(){this.hideFontMissingTip(),this.showChooseExisting(t,this._ac.getCustomFontSubgroup(this._fontSubgroup,!0),this.missingAddChooseTip$)}.bind(this)),t.on("cfm-item-missing-upload",function(){this.hideFontMissingTip(),this.handleUploadFileClickedForBodyFontSet(t)}.bind(this)),t.on("cfm-item-replace-add",function(){this.hideFontReplaceTip(),this.showChooseExisting(t,this._ac.getCustomFontSubgroup(this._fontSubgroup,!0),this.replaceAddChooseTip$)}.bind(this)),t.on("cfm-item-replace-upload",function(){this.hideFontReplaceTip(),this.handleUploadFileClickedForBodyFontSet(t)}.bind(this)),t.on("cfm-item-replace",function(){var e;if(this.hideTooltips(),this._fontSubgroup){var i=this._ac.getCustomFontSubgroup(this._fontSubgroup,!0);e=t.getFontFace()?i.find(function(e){return e.getId()!=t.getFontFace().getId()}):!!i.length}e?this.showFontReplaceTip(t):this.handleUploadFileClickedForBodyFontSet(t),this._checkContinueEnablement()}.bind(this)),t.on("cfm-item-add-picked",function(e){var i=t.getRole();this.actionQueue.addUniqueActionForItemView(t,function(){return e.setUniqueBodyFontRole(i),e}),t.setFontFace(e),t.render(),this._checkContinueEnablement()}.bind(this)),t.on("cfm-item-delete",function(){t.getFontFile()&&(this._pendingUploadsCount--,this._changeTOSIfNecessary()),this.hideTooltips();var e=t.getFontFace(),i=t.getRole();this.actionQueue.addUniqueActionForItemView(t,function(){e.removeRole(i);i.search(/bold/i);var t=-1!=i.search(/italic/i)?"italic":"normal";return this._ac.addFauxFont(e.subgroupName(),C[i],e.cssName(),e,t,i)}.bind(this));t.setFontFile(void 0),t.setFontInfoPromise(void 0),t.setFontFace(void 0),t.setFontName(C[i]),t.render(),this._checkContinueEnablement()}.bind(this)),t.on("cfm-item-replace-mouseover",function(){this.showReplaceTip(t,"body-replace")}.bind(this)),t.on("cfm-item-replace-mouseout",function(){this.hideReplaceTip()}.bind(this)),t.on("cfm-item-delete-mouseover",function(){this.showDeleteTip(t,"body-delete")}.bind(this)),t.on("cfm-item-delete-mouseout",function(){this.hideDeleteTip()}.bind(this)),t.render(),t},hide:function(){this.hideOverlay(),this.hideWaiter(),this._createBodyFontSet=!1},_handleContinueMouseover:function(e){this.continueBtn$.hasClass("cfm-save")||("addFonts"===this._mode?this._checkHasFiles()?this.tosTip$.addClass("show"):this.filesTip$.addClass("show"):"manageFonts"===this._mode?0===this.actionQueue.length()||this.tosTip$.addClass("show"):"createBodyFontSet"!==this._mode&&"completeBodyFontSet"!==this._mode||(this._checkHasBodyNormal()?this.fontTOS$.hasClass("checked")||this.tosTip$.addClass("show"):this.bodyTip$.addClass("show")))},_handleContinueMouseout:function(e){this.tosTip$.removeClass("show"),this.filesTip$.removeClass("show"),this.bodyTip$.removeClass("show")},_handleProcessingCancel:function(){this._wasCanceled=!0,this._cleanup(),this.hide()},_updateUploadProgress:function(){if(this._isUploading){var e=Math.min(5,(100-this._uploadProgress)/4);this._uploadProgress+=e,this.$el.find(".cfm-processing-progress").css("width",this._uploadProgress+"%"),window.setTimeout(this._updateUploadProgress,2e3*Math.random())}},showWaiter:function(){this.$el.find(".cfm-actions, .cfm-font-list-wrapper, .cfm-add-font, .cfm-tos").removeClass("show"),this.$el.find(".cfm-processing-da-font").removeClass("hide")},hideWaiter:function(){this.$el.find(".cfm-processing-da-font").addClass("hide")},showThemeUpdateProgressBar:function(){this.$el.find(".cfm-processing-status").text("Updating themes & templates...")},convertToDialog:function(e){var t=e.title,i=e.message,n=e.confirmBtn,r=e.cancelBtn,o=e.onConfirm,a=e.onCancel,s=this.$el.find(".cfm-title"),l=this.$el.find(".cfm-description-text"),c=this.$el.find(".cfm-info"),d=this.$el.find(".cfm-actions"),u=this.$el.find(".cfm-final-actions"),h=this.$el.find(".cfm-final-cancel"),p=this.$el.find(".cfm-final-continue"),f=this.$el.find(".cfm-font-list-wrapper, .cfm-add-font, .cfm-tos");this.$el.find(".cfm-content-shell").addClass("short"),f.removeClass("show"),c.addClass("hide"),d.removeClass("show"),u.addClass("show"),u.find(".cfm-final-continue").text(n||"Ok, got it"),r?(u.find(".cfm-final-cancel").removeClass("hide"),u.find(".cfm-final-cancel").text(r)):u.find(".cfm-final-cancel").addClass("hide"),s.text(t||""),l.text(i||""),o&&p.one("click",o),a&&h.one("click",a)},_handleContinueClick:function(){var e,i;if(this.continueBtn$.hasClass("cfm-save")){var n=o.defer(),r=this.$el.find(".cfm-content-shell");if(this.willTriggerThemeUpdates&&this._pendingUploadsCount<=1){var a=this._usageMessage;!a&&this.getUsageOfAssetsMessage&&"function"==typeof this.getUsageOfAssetsMessage&&(a=this.getUsageOfAssetsMessage()),this.convertToDialog({title:"Replace font?",message:a,confirmBtn:"Replace",cancelBtn:"Cancel",onConfirm:function(e){e.preventDefault(),e.stopPropagation(),n.resolve(!0)}.bind(this),onCancel:function(e){e.preventDefault(),e.stopPropagation(),n.resolve(!1)}.bind(this)})}else n.resolve();n.promise.then(function(n){if(!1!==n){this._uploadProgress=5,this._isUploading=!0,this._updateUploadProgress(),r.addClass("short"),0===this._pendingUploadsCount&&this.showThemeUpdateProgressBar(),this.showWaiter();var a=new f([],{feel:"user-uploaded"}),s=[];o.allSettled(this.actionQueue.map(function(e){return e.execute()}.bind(this))).then(function(n){return t.each(n,function(n){if("fulfilled"==n.state){var r="partial";if(this._ac.activated()&&(r="full"),n.value&&n.value.isReplacementPair&&s.push(n.value),n.value&&n.value.friendlyName){var o={brandKitCompleteness:r,fontFullName:n.value.friendlyName(),fontSubgroup:n.value.subgroupName()},l={copyright:"contextualData1",designer:"contextualData2",designerURL:"contextualData3",license:"contextualData4",licenseURL:"contextualData5",manufacturerURL:"contextualData6",trademark:"contextualData7",licenseFlag:"contextualData9"},c=n.value._licenseInfo;if(c)for(var d in c){if(c.hasOwnProperty(d))if(!t.isUndefined(c[d]))o[l[d]]=d+":"+c[d]}p.uploadedCustomFont(o,this._launchContext),a.add(n.value),window.marvel.events.trigger("spark-custom-font-uploaded",n.value)}else console.warn("Failed to find authoringContextFontFace in result",n)}else{var u;if(e="Please try again",i="Uh oh, looks like something went wrong.  Please close this window and try uploading your fonts again.",n.reason)n.reason.status&&"number"==typeof n.reason.status?u=n.reason.status:"function"!=typeof n.reason.statusCode&&(u=n.reason.statusCode),n.reason.fontName?console.warn('font-upload-error: Font upload failed for "'+n.reason.fontName+'" with '+(u||"unknown status"),n.reason):console.warn("font-upload-error: Font upload failed with "+(u||"unknown status"),n.reason),u>=500||u>=400&&(413==u?(e="File too large",i="Uh oh, we got a font file that was too large. Please try again with files under 10MB."):(e="File not valid",i="Uh oh, looks like something went wrong processing your font files.  Please check that they are valid .otf or .ttf files and try again.")),p.failedUploadingCustomFont({statusCode:u},this._launchContext);else console.warn("font-upload-error: Font upload failed with unknown result (see meta):",n),p.failedUploadingCustomFont({statusCode:0},this._launchContext)}}.bind(this)),this._ac.save()}.bind(this)).then(function(){this._wasCanceled,this._isUploading=!1,this.onFinish&&"function"==typeof this.onFinish&&(this.onFinish(a,n,s),i&&e?(this.hideWaiter(),this.convertToDialog({title:e,message:i,confirmBtn:"Ok, got it",onConfirm:function(){this.hide()}.bind(this)})):n?n&&0===this._pendingUploadsCount&&this.hide():this.hide(),this._cleanup())}.bind(this)).done()}else this._handleCancelClick()}.bind(this))}},_cleanup:function(){this._itemViews=[],this._fontsIn=[],this._pendingUploadsCount=0,this.fontTOS$.addClass("checked"),this.tosWrapper$.addClass("disabled")},_handleCancelClick:function(e){this._cleanup(),this.hide()},_checkHasFiles:function(){return!!t.find(this._itemViews,function(e){return!(e.deleted||!e.options.fontFile)})},_checkHasBodyNormal:function(){return!!t.find(this._itemViews,function(e){return"is-body-font"==e.getRole()&&(e.getFontFace()&&!e.getFontFace().isFauxFont()||e.options.fontFile)})},_checkContinueEnablement:function(){var e=!1;"addFonts"===this._mode?this._checkHasFiles()&&this.fontTOS$.hasClass("checked")&&(e=!0):"manageFonts"===this._mode?this.actionQueue.length()>0&&(this._checkHasFiles()?this.fontTOS$.hasClass("checked")&&(e=!0):e=!0):"createBodyFontSet"!==this._mode&&"completeBodyFontSet"!==this._mode||this._checkHasBodyNormal()&&(this._pendingUploadsCount?this.fontTOS$.hasClass("checked")&&(e=!0):e=!0),e?this.continueBtn$.addClass("cfm-save"):this.continueBtn$.removeClass("cfm-save")},_changeTOSIfNecessary:function(){0===this._pendingUploadsCount?(this.tosWrapper$.addClass("disabled"),this._TOSHasBeenClicked||this.fontTOS$.addClass("checked")):(this.tosWrapper$.removeClass("disabled"),this._TOSHasBeenClicked||this.fontTOS$.removeClass("checked")),this._checkContinueEnablement()},_handleTOSClick:function(e){e.target.hasAttribute("href")||(this._TOSHasBeenClicked=!0,this.fontTOS$.toggleClass("checked"),this._checkContinueEnablement())},_recordTOUA:function(e){return this._touaDefer?this._touaFonts.push(e):(this._touaDefer=o.defer(),this._touaFonts=[],this._touaFonts.push(e),t.delay(function(){var e=this._touaFonts.join(","),t=this._touaDefer;this._touaDefer=null,this._touaFonts=[],l.ajax({url:"/fonts/toua/"+window.encodeURIComponent(e),type:"GET",success:function(e){t.resolve()}.bind(this),error:function(e){window.marvel.logger.error("ERROR RECORDING TOUA: ",e),t.reject(e)}.bind(this)})}.bind(this),1e3)),this._touaDefer.promise},_getCSSFamilyName:function(e){var t=this.cssNamesBySubgroup[e];return t||(t=d.cssName(e),e&&(this.cssNamesBySubgroup[e]=t)),t},autoPickLocalFiles:function(e){t.each(e,function(e){this._handleFileSelected(e)}.bind(this))},_handleFileSelected:function(e,i){this.fontList$&&this.fontList$.removeClass("empty"),this._pendingUploadsCount++,this._changeTOSIfNecessary();var n=u.extractFontInfo(e),r=this.fileInput$;i?(i.options.fontFile=e,i.options.fontInfoPromise=n,i.render()):(i=this.createItemView({fontFile:e,fontInfoPromise:n}),this._itemViews.push(i),this.fontList$.append(i.$el)),this.$el.hasClass("hide")&&this.showOverlay();var o=function(){var i,o,a,s,l;return n.then(function(n){o=t.trim(n.preferredFamilyName||n.familyName),a=t.trim(n.preferredSubfamilyName||n.subfamilyName)||"Regular",s=o+" "+a;var r=this._getCSSFamilyName(o);return this._recordTOUA(s).then(function(){return l=n._licenseInfo,delete n._licenseInfo,u.generateMetricsAsync(s,r,n).then(function(t){return t.version=this._ac.CURRENT_FONT_METRICS_VERSION,(i=this._ac.createOrUpdateCustomFont(o,a,r,{metrics:t})).createOrUpdateFontFiles([e]).then(function(){return i.loadFont()}).then(function(){return i.generateRenditions()})}.bind(this))}.bind(this))}.bind(this)).then(function(){return this._ac.save()}.bind(this)).then(function(){return r&&r.remove(),i._licenseInfo=l,i}.bind(this)).catch(function(e){throw e.fontName=s,e})}.bind(this);return this.actionQueue.addUniqueActionForItemView(i,o),this._checkContinueEnablement(),this.scrollFontListToBottom(),!0},handleUploadFileClicked:function(t,i){this.fontUploadInput$=e('<input type="file" class="custom-font-upload-input" accept=".otf,.ttf" style="display:none" multiple>'),this.$el.append(this.fontUploadInput$),this.fontUploadInput$.on("change",function(e){for(var t=0,n=e.target.files.length;t<n;t++){var r=e.target.files[t];this._handleFileSelected(r,i)}}.bind(this)),this.fontUploadInput$.trigger("click")},_handleFileSelectedForBodyFontSet:function(e,i){this.fontList$.removeClass("empty"),this._pendingUploadsCount++,this._changeTOSIfNecessary();var n=u.extractFontInfo(e),r=this.fileInput$;i.options.fontFile=e,i.options.fontInfoPromise=n,i.render(),this.$el.hasClass("hide")&&this.showOverlay(),this._checkContinueEnablement();var o=function(){var o,a,s,l,c;return n.then(function(i){a=t.trim(i.preferredFamilyName||i.familyName),s=t.trim(i.preferredSubfamilyName||i.subfamilyName)||"Regular",l=a+" "+s;var n=this._getCSSFamilyName(a);return this._recordTOUA(l).then(function(){return c=i._licenseInfo,delete i._licenseInfo,u.generateMetricsAsync(l,n,i).then(function(t){return t.version=this._ac.CURRENT_FONT_METRICS_VERSION,(o=this._ac.createOrUpdateCustomFont(a,s,n,{metrics:t})).createOrUpdateFontFiles([e]).then(function(){return o.loadFont()}).then(function(){return o.generateRenditions()})}.bind(this))}.bind(this))}.bind(this)).then(function(){return o.setUniqueBodyFontRole(i.getRole()),this._ac.save()}.bind(this)).then(function(){return r&&r.remove(),o._licenseInfo=c,o}.bind(this)).catch(function(e){throw e.fontName=l,e})}.bind(this);return this.actionQueue.addUniqueActionForItemView(i,o),!0},handleUploadFileClickedForBodyFontSet:function(t){this.fontUploadInput$=e('<input type="file" class="custom-font-upload-input" accept=".otf,.ttf" style="display:none">'),this.$el.append(this.fontUploadInput$),this.fontUploadInput$.on("change",function(e){for(var i=0,n=e.target.files.length;i<n;i++){var r=e.target.files[i];this._handleFileSelectedForBodyFontSet(r,t)}}.bind(this)),this.fontUploadInput$.trigger("click")}})}.apply(t,n))||(e.exports=r)},function(e){e.exports={defaultQuotes:[{text:"quote-loader-default-hashtag"},{text:"quote-loader-default-social-media"},{text:"quote-loader-default-impression"},{text:"quote-loader-default-sleep"},{text:"quote-loader-default-branding"},{text:"quote-loader-default-lifestyle"},{text:"quote-loader-default-consistency"},{text:"quote-loader-default-audience"}],upgradeToPremiumQuotes:[{text:"quote-loader-upgrade-to-premium-brand"},{text:"quote-loader-upgrade-to-premium-logo"},{text:"quote-loader-upgrade-to-premium-themes"},{text:"quote-loader-upgrade-to-premium-story"}]}},function(e,t){e.exports='<div class="mrvl-quote-loader">\n    <div class="quote">\n        <q class="text"></q>\n        <cite class="author"></cite>\n    </div>\n</div>\n'},function(e,t,i){var n=i(580);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".mrvl-quote-loader .quote{position:absolute;top:0;left:0;width:100%;transition:opacity .5s;opacity:0;padding-right:20px;padding-left:20px}.mrvl-quote-loader .quote.visible{opacity:1}.mrvl-quote-loader .quote .text{display:block;font-size:34px;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#00b1ef;margin-bottom:22px;font-weight:400}.mrvl-quote-loader .quote .text.video,.mrvl-quote-loader .quote .text.voice{color:#ff4931}.mrvl-quote-loader .quote .text.page,.mrvl-quote-loader .quote .text.slate{color:#00b1ef}.mrvl-quote-loader .quote .text.post,.mrvl-quote-loader .quote .text.theo{color:#10c459}.mrvl-quote-loader .quote .text.pmref{color:#f17ddc}.mrvl-quote-loader .quote .author{display:block;font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:18px;font-weight:400;color:#82919b;text-transform:uppercase}",""])},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".act-as-font-picker-overlay,.font-picker-dialog.act-as-font-picker-overlay{position:absolute;top:0;left:0;right:0;bottom:0}.font-picker-shell{background-color:#fff;position:absolute;top:20px;left:300px;box-shadow:0 3px 6px 0 rgba(26,34,38,.25);border-radius:4px;z-index:3333}.font-picker-shell.pop-top .font-picker-carrot{top:auto;left:24px;bottom:-6px}.font-picker-shell.pop-left .font-picker-carrot{top:48.5%;left:auto;right:-6px}.font-picker-shell.pop-right .font-picker-carrot{top:50%;left:-6px}.font-picker-shell.pop-right .font-picker-buttons{left:11px;right:27px}.font-picker-shell.card-mode .font-card-picker{display:block;padding:30px 53px}.font-picker-shell.body-mode .font-body-picker,.font-picker-shell.face-mode .font-face-picker,.font-picker-shell.headline-mode .font-headline-picker{display:block}.font-picker-shell.no-carrot .font-picker-carrot{display:none}.font-card{width:224px;height:238px;float:left;position:relative}.font-card .font-card-body-font,.font-card .font-card-headline-font{font-size:1em;font-weight:400;font-family:adobe-clean;text-transform:uppercase;color:#82919b;margin-bottom:10px}.font-card .font-card-body-render,.font-card .font-card-headline-render{color:#242c33}.font-card .font-card-headline-render{font-size:3.33em;margin-bottom:28px}.font-card .font-card-body-render{font-size:1.2em;line-height:1.3em}.font-card-picker{display:none;height:355px;width:333px}.font-card-picker .font-card{display:block}.font-card-picker .font-card.hide{display:none}.font-card-picker-stack{width:224px;height:238px}.font-card-picker-prev-btn{-webkit-transform:translateY(-50%);transform:translateY(-50%);left:20px}.font-card-picker-next-btn,.font-card-picker-prev-btn{position:absolute;width:8px;height:14px;background-color:transparent;background-repeat:no-repeat;background-size:contain;background-position:50%;background-image:url(/images/brandkit/chevron-left-gray.svg);top:50%;outline:none;cursor:pointer}.font-card-picker-next-btn{-webkit-transform:translateY(-50%) rotate(180deg);transform:translateY(-50%) rotate(180deg);right:20px}.font-card-picker-save-btn{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:23px;color:#35414c;border:2px solid #35414c;border-radius:100px;background-color:transparent;font-size:14px;font-weight:700;font-family:adobe-clean;padding:9px 15px 10px;outline:none;cursor:pointer}.font-picker-carrot{position:absolute;top:-6px;left:24px;width:13px;height:13px;z-index:3333;background-color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.font-picker-loading-screen{display:none;position:absolute;top:0;left:0;bottom:0;right:0;background-color:#fff;z-index:3335}.font-picker-loading-screen .font-picker-loading-screen-title{-webkit-transform:translateX(-50%);transform:translateX(-50%);position:absolute;top:50%;left:50%;margin-top:-74px;font-size:20px;font-weight:700;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#29465f}.font-picker-loading-screen .font-picker-loading-screen-spinner{position:absolute;top:50%;left:50%;margin-top:-30px;margin-left:-30px;font-size:4.5px;text-indent:-9999em;border:3px solid #4275d6;border-left:3px solid #e5e5e5;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear;will-change:transform;border-radius:50%;width:60px;height:60px}.font-picker-loading-screen .font-picker-loading-screen-spinner:after{border-radius:50%;width:10em;height:10em}.font-picker-loading-screen .font-picker-loading-screen-label{color:#35414c;position:absolute;top:50%;margin-top:48px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.font-picker-shell.loading .font-picker-loading-screen{display:block}.font-picker-content-shell{position:relative;border-radius:5px;z-index:3334}.font-picker-content-shell h3{text-transform:uppercase;color:#82919b;font-size:12px;font-weight:700;padding:0 0 4px;margin:10px 20px;position:relative}.font-picker-content-shell h3:after{content:\"\";display:block;border-radius:2px;bottom:-2px;left:0;width:100%;height:2px;background-color:#f2f4f5;position:absolute}.font-picker-content-shell .custom-font-upload{padding:20px}.font-picker-content-shell .custom-font-upload .custom-font-i-swear{padding:10px 10px 20px;font-size:13px;font-weight:400;width:450px;line-height:16px}.font-picker-content-shell .custom-font-upload label{display:inline-block;width:80px;text-align:right;margin-right:20px;margin-bottom:10px}.font-picker-content-shell .custom-font-upload .custom-font-upload-group.hide{display:none}.font-face-picker{padding:15px 0 0}.font-body-picker,.font-face-picker{display:none;height:380px;width:250px;overflow-x:hidden;overflow-y:auto}.font-body-picker{padding:10px 0}.font-body-picker .font-picker-face-v2.active{background-color:#f2f4f5}.font-body-picker .font-picker-face-v2.active:after{display:none}.font-headline-picker{display:none;height:380px;width:250px;padding:15px 0 0;overflow-x:hidden;overflow-y:auto}.font-picker-separator{font-size:16px;font-weight:700;font-family:adobe-clean;color:#000;border-bottom:1px solid #adb9c3;padding-bottom:10px;margin:10px 10px 15px}.font-picker-add-font-btn,.font-picker-create-body-font-set-btn,.font-picker-manage-synced-btn{margin:0 20px;height:32px;font-family:adobe-clean;font-size:14px;color:#35414c;font-weight:400;background-color:#f2f4f5;line-height:32px;padding-left:15px;border-radius:5px;position:relative;letter-spacing:.04em;cursor:pointer;margin-bottom:20px;transition:background-color .2s ease-in-out}.font-picker-add-font-btn:after,.font-picker-create-body-font-set-btn:after,.font-picker-manage-synced-btn:after{content:\"\";display:block;width:10px;height:10px;background-image:url(/image_templates/core/icon-plus.svg.mustache?color=35414C);background-position:50%;background-size:10px 10px;position:absolute;top:10px;right:15px}.font-picker-add-font-btn:hover,.font-picker-create-body-font-set-btn:hover,.font-picker-manage-synced-btn:hover{background-color:#e8ebed}.font-onboarding .font-picker-add-font-btn,.font-onboarding .font-picker-manage-synced-btn{border:2px solid #e8be00;line-height:28px;padding-left:13px}.font-onboarding .font-picker-add-font-btn:after{top:8px;right:13px}.font-onboarding .font-picker-manage-synced-btn:after{top:6px;right:11px}.font-picker-manage-synced-btn:after{background-image:url(/image_templates/core/icon-link-out.svg.mustache?color=35414C);width:15px;height:15px;top:8px;right:13px;background-size:contain}.font-picker-face{font-size:14px;font-weight:400;font-family:adobe-clean;color:#35414c;padding:10px 20px 15px;cursor:pointer;position:relative;background-position:20px;background-size:auto 20px;background-repeat:no-repeat}.font-picker-face.active:after{content:\"\";display:block;width:16px;height:16px;background-repeat:no-repeat;background-size:contain;background-position:50%;background-image:url(/images/brandkit/icon-check-mark-midnight.svg);position:absolute;right:20px;top:10px}.font-picker-subgroup-accordion{cursor:pointer;max-height:34px;height:34px;transition:height .2 ease-in-out;transition:background-color .2 ease-in-out;background-color:#fff}.font-picker-subgroup-accordion.active{max-height:9999px;height:auto;background-color:#f2f4f5;padding-top:11px;margin-top:-11px;margin-bottom:11px}.font-picker-subgroup-accordion.active .font-picker-subgroup-accordion-content{display:block}.font-picker-subgroup-accordion.active .font-picker-subgroup-accordion-label:after{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.font-picker-subgroup-accordion .font-picker-face{padding-left:30px}.font-picker-subgroup-accordion-label{position:relative;margin:0 10px 5px 0;padding-left:20px;padding-right:20px;color:#35414c;font-weight:400;font-size:14px;min-height:16px;background-position:20px;background-size:auto 20px;background-repeat:no-repeat}.font-picker-subgroup-accordion-label:after{content:\"\";display:block;position:absolute;left:6px;top:6px;width:10px;height:4px;background-image:url(/image_templates/core/chevron-down.svg.mustache?color=34414D);background-size:contain;background-position:top;background-repeat:no-repeat;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.font-picker-subgroup-accordion-content{display:none}.font-picker-labeled-separator{font-family:adobe-clean,sans-serif;font-size:12px;font-weight:700;color:#82919b;line-height:12px;padding:10px 20px;margin-top:5px;text-transform:uppercase}.cfm-shell{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(26,34,38,.4);z-index:3334}.cfm-content-shell{width:522px;min-height:392px;max-height:490px;background-color:#fff;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);border-radius:5px}.cfm-content-shell.short{min-height:250px;height:250px}.cfm-content-shell-upper{padding:40px 40px 0}.cfm-content-shell-lower{padding:0 40px 40px}.cfm-title{color:#242c33;font-size:18px;font-weight:700;font-family:adobe-clean,sans-serif}.cfm-title-separator{height:2px;background-color:#f4f4f4;margin:1em 0}.cfm-description-text{font-size:14px;line-height:1.4;font-weight:400;font-family:adobe-clean,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cfm-info{display:inline-block;position:relative;width:15px;height:15px;background-position:50% 50%;background-size:contain;background-image:url(/image_templates/core/icon-info.svg.mustache?color=82919B);background-repeat:no-repeat}.cfm-info .cfm-info-tip{display:none;position:absolute;bottom:28px;left:0;width:200px;padding:16px;color:#242c33;background-color:#fff;font-family:adobe-clean,sans-serif;font-weight:400;font-size:14px;line-height:24px;-webkit-transform:translate(-50%);transform:translate(-50%);box-shadow:0 0 10px rgba(0,0,0,.5);border-radius:5px}.cfm-info .cfm-info-tip:after{content:\" \";position:absolute;bottom:-7px;left:101px;width:13px;height:13px;z-index:3333;background-color:#fff;border-left:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cfm-info:hover{background-image:url(/image_templates/core/icon-info.svg.mustache?color=284660)}.cfm-info:hover .cfm-info-tip{display:block}.cfm-font-list-wrapper{position:relative;max-height:115px;display:none;margin:20px 0 12px}.cfm-font-list-wrapper.show{display:block}.cfm-font-list{overflow-x:hidden;overflow-y:auto;min-height:50px;max-height:115px;padding:6px 40px}.cfm-font-list-labels{display:-webkit-flex;display:flex;margin-bottom:8px}.cfm-font-list-label{font-size:14px;font-weight:700;font-family:adobe-clean,sans-serif;width:50%}.cfm-font-list-label:first-child{-webkit-flex:2;flex:2;padding-right:4px}.cfm-font-list-label:last-child{-webkit-flex:2.12;flex:2.12}.cfm-font,.cfm-font-placeholder{display:-webkit-flex;display:flex;margin-bottom:4px;position:relative}.cfm-font-placeholder{max-height:22px;display:none}.cfm-font-placeholder-label{color:#c7ced3}.cfm-font-placeholder-label:first-child{-webkit-flex:2;flex:2;padding-right:4px}.cfm-font-placeholder-label:last-child{-webkit-flex:2.12;flex:2.12}.cfm-font-list.empty .cfm-font-placeholder{display:-webkit-flex;display:flex}.cfm-font-exclamation{display:inline-block;width:15px;height:15px;background-repeat:no-repeat;background-size:15px;background-image:url(/image_templates/core/icon-exclamation.svg.mustache?color=82919B);margin-top:-1px;float:right;position:relative;z-index:2}.cfm-font-exclamation:hover{background-image:url(/image_templates/core/icon-exclamation.svg.mustache?color=284660)}.cfm-font-edit{display:inline-block;width:15px;height:15px;background-repeat:no-repeat;background-size:contain;background-image:url(/image_templates/core/icon-edit-pencil.svg.mustache?color=82919B);position:absolute;right:20px;top:10px;z-index:3}.cfm-font-edit:hover{background-image:url(/image_templates/core/icon-edit-pencil.svg.mustache?color=284660)}.cfm-font-name{font-size:14px;font-family:adobe-clean,sans-serif;font-weight:400;-webkit-flex:2;flex:2;max-width:50%;padding-right:4px}.cfm-font-name.font-loading{padding-right:0}.cfm-font-name.strikethrough{text-decoration:line-through;color:#c7ced3}.cfm-font-preview{height:20px;font-size:14px;line-height:20px;font-weight:400;font-family:adobe-clean,sans-serif;white-space:nowrap;overflow:hidden;-webkit-flex:1.75;flex:1.75;position:relative}.cfm-font-preview:before{display:block;content:\"\";position:absolute;right:0;top:0;bottom:0;width:28px;z-index:1;background:linear-gradient(90deg,hsla(0,0%,100%,0),#fff 80%)}.cfm-font-preview.strikethrough{text-decoration:line-through;color:#c7ced3}.cfm-font-empty .cfm-font-preview{-webkit-flex:2.12;flex:2.12}.cfm-font .cfm-font-name .cfm-font-exclamation{display:none;float:none;margin-left:.4em;margin-top:0}.cfm-font-empty-body-normal .cfm-font-name .cfm-font-exclamation{display:inline-block}.cfm-font-file-missing{color:#2680eb;font-weight:700;cursor:pointer;transition:color .2s ease-in-out}.cfm-font-file-missing:hover{color:#1473e6}.cfm-font-actions{display:none}.cfm-font-actions.show{display:inline-block;min-width:42px;text-align:right}.cfm-font-action{display:inline-block;width:15px;height:15px;background-size:15px 15px;background-position:50%;background-repeat:no-repeat}.cfm-font-replace{background-image:url(/image_templates/core/icon-edit-pencil.svg.mustache?color=82919B)}.cfm-font-replace:hover{background-image:url(/image_templates/core/icon-edit-pencil.svg.mustache?color=284660)}.cfm-font-replace.replace-disabled{opacity:.3}.cfm-font-replace.replace-disabled:hover{background-image:url(/image_templates/core/icon-edit-pencil.svg.mustache?color=82919B)}.cfm-font-delete{margin-left:.5em;background-image:url(/image_templates/core/icon-trash.svg.mustache?color=82919B)}.cfm-font-delete:hover{background-image:url(/image_templates/core/icon-trash.svg.mustache?color=284660)}.cfm-font-delete.delete-disabled{opacity:.3}.cfm-font-delete.delete-disabled:hover{background-image:url(/image_templates/core/icon-trash.svg.mustache?color=82919B)}.cfm-add-font{cursor:pointer;border-radius:5px;transition:background-color .2s ease-in-out;background-color:#f2f4f5;padding:.5em .5em .6em;font-size:15px;font-weight:400;font-family:adobe-clean,sans-serif;color:#35414c;text-align:center;position:relative;padding-right:20px;border:none;width:100%;outline:none;display:none}.cfm-add-font:after{content:\"\";display:inline-block;margin-left:12px;width:12px;height:12px;background-image:url(/image_templates/core/icon-plus.svg.mustache?color=35414C);background-size:12px 12px;background-repeat:no-repeat}.cfm-add-font:hover{background-color:#e8ebed}.cfm-add-font.show{display:block}.custom-font-upload-input{position:absolute;visiblity:hidden}.cfm-tool-tip-base{outline:none;position:absolute;top:-30px;left:-9999px;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:2;border-radius:2px;transition:opacity .25s ease-in-out}.cfm-tool-tip-base .text{display:inline-block;position:relative;background-color:#e34850;width:auto;height:22px;padding:3px 8px;font-size:12px;font-weight:400;color:#fff;white-space:nowrap;border-radius:2px}.cfm-tool-tip-base .family-name{font-weight:400}.cfm-tool-tip-base:before{content:\" \";position:absolute;bottom:-7px;left:50%;width:13px;height:13px;background-color:#e34850;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.cfm-tool-tip-base.cfm-body-font-tip{top:-13px}.cfm-tool-tip-base.cfm-body-font-tip.show{left:52.8%}.cfm-tool-tip-base.cfm-theme-update-tip{top:164px}.cfm-tool-tip-base.cfm-theme-update-tip.show{left:423px}.cfm-tool-tip-base.cfm-theme-update-tip .text,.cfm-tool-tip-base.cfm-theme-update-tip:before{background-color:#000}.cfm-tool-tip-base.cfm-face-replace-tip{top:-16px}.cfm-tool-tip-base.cfm-face-replace-tip.show{left:475px}.cfm-tool-tip-base.cfm-face-replace-tip .text,.cfm-tool-tip-base.cfm-face-replace-tip:before{background-color:#000}.cfm-tool-tip-base.cfm-face-replace-tip.show{left:449px}.cfm-tool-tip-base.cfm-face-delete-tip{top:16px}.cfm-tool-tip-base.cfm-face-delete-tip .text,.cfm-tool-tip-base.cfm-face-delete-tip:before{background-color:#000}.cfm-tool-tip-base.cfm-face-delete-tip.show{left:475px}.cfm-add-font-tip.show,.cfm-body-font-exists-error-tip.show,.cfm-body-font-subgroup-error-tip.show,.cfm-face-exists-error-tip.show,.cfm-sparkfont-exists-error-tip.show,.cfm-tos-tip.show{left:52%}.cfm-face-exists-error-tip,.cfm-sparkfont-exists-error-tip{top:auto;bottom:0}.cfm-tos{position:relative;display:none;margin:2em 0}.cfm-tos.show{display:-webkit-flex;display:flex}.cfm-tos .cfm-tos-checkbox{cursor:pointer;min-width:14px;max-width:14px;width:14px;height:14px;border-radius:2px;border:1px solid #82919b;margin-right:1em;margin-top:18px;-webkit-flex:1;flex:1}.cfm-tos .cfm-tos-checkbox:after{content:\"\";display:none;width:12px;height:12px;background-position:50%;background-size:100%;background-repeat:no-repeat;background-image:url(/image_templates/core/icon-check.svg.mustache?color=82919B)}.cfm-tos .cfm-tos-checkbox.checked:after{display:block}.cfm-tos .cfm-tos-checkbox:hover{border-color:#284660}.cfm-tos .cfm-tos-checkbox:hover:after{background-image:url(/image_templates/core/icon-check.svg.mustache?color=284660)}.cfm-tos:hover .cfm-tos-checkbox{border-color:#284660}.cfm-tos:hover .cfm-tos-checkbox:after{background-image:url(/image_templates/core/icon-check.svg.mustache?color=284660)}.cfm-tos .cfm-tos-copy{-webkit-flex:5;flex:5;line-height:1.3;font-size:12px;font-weight:400;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cfm-tos .cfm-tos-copy a{color:inherit;font-weight:700;text-decoration:none}.cfm-tos .cfm-tos-copy a:hover{text-decoration:underline}.cfm-tos .cfm-tos-blocker{position:absolute;top:0;left:0;z-index:1}.cfm-tos.disabled .cfm-tos-checkbox{border-color:#c7ced3}.cfm-tos.disabled .cfm-tos-checkbox:after{background-image:url(/image_templates/core/icon-check.svg.mustache?color=C7CED3)}.cfm-tos.disabled .cfm-tos-copy{color:#c7ced3}.cfm-tos.disabled .cfm-tos-blocker{bottom:0;right:0}.cfm-actions,.cfm-final-actions{display:none;-webkit-justify-content:flex-end;justify-content:flex-end}.cfm-actions.show,.cfm-final-actions.show{display:-webkit-flex;display:flex}.cfm-final-actions{position:absolute;bottom:40px;right:40px}.cfm-btn{cursor:pointer;font-family:adobe-clean,sans-serif;font-size:15px;font-weight:700;border-radius:40px;color:#9aa6af;background-color:#f2f4f5;padding:.5em 1.5em .6em;border:2px solid transparent;outline:none}.cfm-btn,.cfm-cancel,.cfm-final-cancel{transition:background-color .2s ease-in-out}.cfm-cancel,.cfm-final-cancel{color:#82919b;border:2px solid #82919b;background-color:#fff;margin-right:18px}.cfm-cancel:hover,.cfm-final-cancel:hover{background-color:#82919b;color:#fff}.cfm-final-continue,.cfm-save{background-color:#1473e6;color:#fff}.cfm-final-continue:hover,.cfm-save:hover{background-color:#1269d0}.cfm-processing-da-font{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#fff;border-radius:5px;z-index:100;padding:40px}.cfm-processing-da-font.failure .cfm-processing-error{display:block}.cfm-processing-da-font.failure .cfm-processing-quote,.cfm-processing-da-font.failure .cfm-processing-status{display:none}.cfm-processing-da-font.failure .cfm-processing-progress-bar .cfm-processing-progress{background-color:#e82c50}.cfm-processing-da-font.failure .cfm-processing-close{display:block}.cfm-processing-error{display:none;text-align:center;line-height:1.4;width:100%;font-size:14px;font-weight:500;color:#82919b;padding:180px 100px}.cfm-processing-progress-bar{position:absolute;top:0;left:0;right:0;height:4px;border-top-right-radius:5px;border-top-left-radius:5px;background-color:#e8ebed}.cfm-processing-progress-bar .cfm-processing-progress{border-top-left-radius:5px;background-color:#2c81e8;width:5%;height:4px}.cfm-processing-status{padding:50px;font-size:22px;font-weight:700;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#35414c;text-align:center;padding:0 0 13px;border-bottom:2px solid transparent;margin:0 0 25px}.cfm-processing-quote{text-align:center;width:100%;font-size:30px;color:#2c81e8;font-weight:500;padding:100px 50px 50px;line-height:1.5em}.cfm-content-shell.short .cfm-processing-quote{padding-top:25px}.cfm-processing-close{display:none;position:absolute;top:16px;right:16px;width:20px;height:20px;cursor:pointer;background-image:url(/images/icon-close-grey.svg);background-size:contain;background-position:50% 50%;background-repeat:no-repeat}.cfm-processing-close.disabled{opacity:.2;cursor:default}.cfm-font-addchoose-tip{display:none;position:absolute;top:-11px;background-color:#000;color:#fff;border-radius:2px;white-space:pre;padding:6px;z-index:1}.cfm-font-addchoose-tip.show{left:-30px;display:block}.cfm-font-addchoose-tip:after{content:\"\";display:block;background-color:#000;width:10px;height:10px;-webkit-transform:rotate(45deg) translateX(-50%);transform:rotate(45deg) translateX(-50%);-webkit-transform-origin:center center;transform-origin:center center;position:absolute;left:50%;bottom:-6px;z-index:-1}.cfm-font-addchoose-tip .cfm-font-upload{cursor:pointer;padding-right:6px;border-right:1px solid #fff;font-weight:400}.cfm-font-addchoose-tip .cfm-font-add{cursor:pointer;padding-left:6px;font-weight:400}.cfm-font-missing-tip.show{left:196px}.cfm-font-replace-tip.show{left:362px}.cfm-body-font-choose-existing-view{display:none;background-color:#fff;position:absolute;top:0;left:0;box-shadow:0 3px 6px 0 rgba(130,145,155,.45);border-radius:4px;overflow-x:hidden;overflow-y:auto;max-height:198px;width:257px;padding:20px;z-index:10}.cfm-body-font-choose-existing-view.show{display:block}.cfm-body-font-choose-existing-font{font-size:14px;font-weight:400;font-family:adobe-clean;color:#35414c;padding:10px 0 15px;cursor:pointer}@-webkit-keyframes sp-wait-spinner-small-animation{0%{background-position:0}to{background-position:-960px}}@keyframes sp-wait-spinner-small-animation{0%{background-position:0}to{background-position:-960px}}.font-loading-spinner{display:none;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 20' width='1200' height='20'%3E%3Cstyle%3E.st0,.st1{fill-opacity:0;stroke-width:2}.st0{stroke-opacity:.1;stroke:%23000}.st1{stroke:%231473e6}%3C/style%3E%3Cpath class='st0' d='M10 3.5c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M10 3.5c3.9 0 7 3.1 7 7'/%3E%3Cpath class='st0' d='M30 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M30.2 3c3.8.1 6.8 3.2 6.8 7 0 .8-.1 1.6-.4 2.3'/%3E%3Cpath class='st0' d='M50 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M50.4 3c3.7.2 6.6 3.3 6.6 7 0 1.6-.5 3-1.4 4.2'/%3E%3Cpath class='st0' d='M70 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M70.5 3c3.6.3 6.5 3.3 6.5 7 0 2.4-1.2 4.4-2.9 5.7'/%3E%3Cpath class='st0' d='M90 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M90.7 3c3.5.4 6.3 3.3 6.3 7 0 3.1-2 5.7-4.7 6.6'/%3E%3Cpath class='st0' d='M110 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M110.9 3c3.4.5 6.1 3.4 6.1 7 0 3.7-2.9 6.8-6.6 7'/%3E%3Cpath class='st0' d='M130 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M131.1 3.1c3.3.5 5.9 3.4 5.9 6.9 0 3.9-3.1 7-7 7-.5 0-1 0-1.4-.1'/%3E%3Cpath class='st0' d='M150 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M151.3 3.1c3.3.6 5.7 3.5 5.7 6.9 0 3.9-3.1 7-7 7-1.1 0-2.2-.2-3.1-.7'/%3E%3Cpath class='st0' d='M170 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M171.4 3.1c3.2.7 5.6 3.5 5.6 6.9 0 3.9-3.1 7-7 7-1.7 0-3.2-.6-4.5-1.6'/%3E%3Cpath class='st0' d='M190 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M191.6 3.2c3.1.7 5.4 3.5 5.4 6.8 0 3.9-3.1 7-7 7-2.3 0-4.3-1.1-5.6-2.8'/%3E%3Cpath class='st0' d='M210 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M211.8 3.2c3 .8 5.2 3.5 5.2 6.8 0 3.9-3.1 7-7 7-2.8 0-5.2-1.6-6.3-4'/%3E%3Cpath class='st0' d='M230 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M232 3.3c2.9.9 5 3.5 5 6.7 0 3.9-3.1 7-7 7-3.3 0-6.1-2.3-6.8-5.4'/%3E%3Cpath class='st0' d='M250 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M252.2 3.3c2.8 1 4.8 3.6 4.8 6.7 0 3.9-3.1 7-7 7-3.8 0-6.8-2.9-7-6.7'/%3E%3Cpath class='st0' d='M270 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M272.3 3.4C275 4.4 277 7 277 10c0 3.9-3.1 7-7 7s-7-3.1-7-7V9'/%3E%3Cpath class='st0' d='M290 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M292.5 3.5c2.6 1 4.5 3.6 4.5 6.5 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-.7.1-1.4.3-2.1'/%3E%3Cpath class='st0' d='M310 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M312.7 3.5c2.6 1.1 4.3 3.6 4.3 6.5 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-1.2.3-2.2.8-3.2'/%3E%3Cpath class='st0' d='M330 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M332.8 3.6c2.5 1.1 4.2 3.5 4.2 6.4 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-1.5.5-2.9 1.4-4.1'/%3E%3Cpath class='st0' d='M350 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M353 3.7c2.4 1.1 4 3.5 4 6.3 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-1.9.8-3.6 2-4.9'/%3E%3Cpath class='st0' d='M370 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M375.5 5.6c1 1.2 1.5 2.7 1.5 4.4 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-2.3 1.1-4.2 2.7-5.6'/%3E%3Cpath class='st0' d='M390 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M396.8 8.2c.1.6.2 1.2.2 1.8 0 3.9-3.1 7-7 7s-7-3.1-7-7c0-2.6 1.4-4.8 3.5-6'/%3E%3Cpath class='st0' d='M410 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M417 11c-.5 3.4-3.4 6-7 6-3.9 0-7-3.1-7-7 0-2.9 1.7-5.4 4.2-6.4'/%3E%3Cpath class='st0' d='M430 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M436.1 13.4c-1.2 2.2-3.5 3.6-6.1 3.6-3.9 0-7-3.1-7-7 0-3.2 2.1-5.8 5-6.7'/%3E%3Cpath class='st0' d='M450 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M454.6 15.2c-1.3 1.1-2.8 1.8-4.6 1.8-3.9 0-7-3.1-7-7 0-3.4 2.5-6.3 5.7-6.9'/%3E%3Cpath class='st0' d='M470 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M472.8 16.4c-.9.4-1.8.6-2.8.6-3.9 0-7-3.1-7-7 0-3.7 2.8-6.7 6.5-7'/%3E%3Cpath class='st0' d='M490 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M490.8 17h-.8c-3.9 0-7-3.1-7-7s3.1-7 7-7h.1'/%3E%3Cpath class='st0' d='M510 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M508.9 16.9c-3.3-.5-5.9-3.4-5.9-6.9 0-3.9 3.1-7 7-7h.8'/%3E%3Cpath class='st0' d='M530 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M527.2 16.4c-2.5-1.1-4.2-3.5-4.2-6.4 0-3.9 3.1-7 7-7 .5 0 .9 0 1.4.1'/%3E%3Cpath class='st0' d='M550 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M545.8 15.6c-1.7-1.3-2.8-3.3-2.8-5.6 0-3.9 3.1-7 7-7 .7 0 1.3.1 1.9.2'/%3E%3Cpath class='st0' d='M570 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M564.7 14.6c-1.1-1.2-1.7-2.8-1.7-4.6 0-3.9 3.1-7 7-7 .9 0 1.6.1 2.4.4'/%3E%3Cpath class='st0' d='M590 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M583.9 13.4c-.6-1-.9-2.2-.9-3.4 0-3.9 3.1-7 7-7 1 0 2 .2 2.9.6'/%3E%3Cpath class='st0' d='M610 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M603.4 12.3c-.2-.7-.4-1.5-.4-2.3 0-3.9 3.1-7 7-7 1.2 0 2.3.3 3.3.8'/%3E%3Cpath class='st0' d='M630 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M623.1 11.2L623 10c0-3.9 3.1-7 7-7 1.4 0 2.6.4 3.7 1.1'/%3E%3Cpath class='st0' d='M650 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M643 10c0-3.9 3.1-7 7-7 1.5 0 2.9.5 4.1 1.3'/%3E%3Cpath class='st0' d='M670 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M663 9.1c.5-3.4 3.4-6.1 7-6.1 1.6 0 3.1.6 4.3 1.5'/%3E%3Cpath class='st0' d='M690 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M683.2 8.2c.8-3 3.5-5.2 6.8-5.2 1.8 0 3.4.7 4.6 1.7'/%3E%3Cpath class='st0' d='M710 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M703.5 7.4c1.1-2.6 3.6-4.4 6.5-4.4 1.9 0 3.6.8 4.9 2'/%3E%3Cpath class='st0' d='M730 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M723.8 6.7C725 4.5 727.3 3 730 3c2 0 3.9.9 5.1 2.2'/%3E%3Cpath class='st0' d='M750 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M744.2 6.1c1.3-1.9 3.4-3.1 5.8-3.1 2.1 0 4.1 1 5.3 2.5'/%3E%3Cpath class='st0' d='M770 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M764.5 5.7C765.8 4 767.8 3 770 3s4.2 1.1 5.5 2.7'/%3E%3Cpath class='st0' d='M790 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M784.9 5.2C786.2 3.9 788 3 790 3c2.4 0 4.4 1.2 5.7 2.9'/%3E%3Cpath class='st0' d='M810 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M805.3 4.8c1.3-1.2 2.9-1.8 4.7-1.8 2.5 0 4.6 1.3 5.8 3.1'/%3E%3Cpath class='st0' d='M830 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M825.6 4.5c1.2-1 2.8-1.5 4.4-1.5 2.5 0 4.7 1.4 6 3.4'/%3E%3Cpath class='st0' d='M850 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M845.9 4.3c1.2-.8 2.6-1.3 4.1-1.3 2.6 0 4.9 1.4 6.1 3.6'/%3E%3Cpath class='st0' d='M870 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M866.3 4.1c1.1-.7 2.4-1.1 3.7-1.1 2.7 0 5.1 1.5 6.2 3.8'/%3E%3Cpath class='st0' d='M890 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M886.6 3.9c1-.5 2.2-.9 3.4-.9 2.8 0 5.2 1.6 6.3 4'/%3E%3Cpath class='st0' d='M910 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M906.9 3.7c.9-.5 2-.7 3.1-.7 2.8 0 5.4 1.7 6.4 4.2'/%3E%3Cpath class='st0' d='M930 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M927.2 3.6c.8-.4 1.8-.6 2.8-.6 2.9 0 5.5 1.8 6.5 4.4'/%3E%3Cpath class='st0' d='M950 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M947.4 3.5c.8-.3 1.7-.5 2.6-.5 3 0 5.6 1.9 6.6 4.6'/%3E%3Cpath class='st0' d='M970 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M967.6 3.4c.7-.2 1.5-.4 2.4-.4 3.1 0 5.7 2 6.7 4.8'/%3E%3Cpath class='st0' d='M990 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M987.9 3.3c.7-.2 1.4-.3 2.1-.3 3.1 0 5.8 2.1 6.7 5'/%3E%3Cpath class='st0' d='M1010 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1008.1 3.2c.6-.2 1.3-.2 1.9-.2 3.2 0 5.9 2.2 6.8 5.2'/%3E%3Cpath class='st0' d='M1030 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1028.3 3.2c.5-.1 1.1-.2 1.7-.2 3.3 0 6.1 2.3 6.8 5.4'/%3E%3Cpath class='st0' d='M1050 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1048.5 3.1c.5-.1 1-.1 1.5-.1 3.4 0 6.2 2.4 6.9 5.6'/%3E%3Cpath class='st0' d='M1070 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1068.7 3.1c.4-.1.9-.1 1.3-.1 3.4 0 6.3 2.5 6.9 5.7'/%3E%3Cpath class='st0' d='M1090 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1088.9 3.1c.3 0 .7-.1 1.1-.1 3.5 0 6.4 2.6 6.9 5.9'/%3E%3Cpath class='st0' d='M1110 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1109.1 3h.9c3.6 0 6.5 2.7 7 6.1'/%3E%3Cpath class='st0' d='M1130 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1129.3 3h.7c3.6 0 6.6 2.8 7 6.3'/%3E%3Cpath class='st0' d='M1150 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1149.5 3h.5c3.7 0 6.7 2.8 7 6.5'/%3E%3Cpath class='st0' d='M1170 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1169.6 3h.4c3.7 0 6.8 2.9 7 6.6'/%3E%3Cpath class='st0' d='M1190 3c3.9 0 7 3.1 7 7s-3.1 7-7 7-7-3.1-7-7 3.1-7 7-7z'/%3E%3Cpath class='st1' d='M1189.8 3h.2c3.8 0 6.9 3 7 6.8'/%3E%3C/svg%3E\");background-size:contain;width:16px;height:16px;-webkit-animation-name:sp-wait-spinner-small-animation;animation-name:sp-wait-spinner-small-animation;margin:-2px 0 0;float:right;position:relative;z-index:1}.font-picker-synced-font.font-loading{font-family:adobe-clean,sans-serif!important}.font-loading.active:after{margin-right:21px}.font-loading{white-space:nowrap;color:#e7e9eb}.font-loading .font-loading-spinner{display:inline-block;background-size:auto 100%;background-repeat:no-repeat;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:steps(60);animation-timing-function:steps(60)}.font-picker-subgroup-accordion-v2{position:relative;cursor:pointer;transition:background-color .2s ease-in-out;background-color:#fff;margin-bottom:2px}.font-picker-subgroup-accordion-v2.is-transitioning .font-picker-face-v2:before{display:none}.font-picker-subgroup-accordion-v2.active{background-color:#f2f4f5;padding:0}.font-picker-subgroup-accordion-v2.active .font-picker-subgroup-accordion-v2-content{max-height:99999px;height:auto}.font-picker-subgroup-accordion-v2.active .font-picker-subgroup-accordion-v2-label:after{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.font-picker-subgroup-accordion-v2.active .font-picker-face-v2:before{background:linear-gradient(90deg,rgba(242,244,245,0),#f2f4f5 20%)}.font-picker-subgroup-accordion-v2.selected{background-color:#f2f4f5}.font-picker-subgroup-accordion-v2 .font-picker-face{padding-left:30px}.font-picker-subgroup-accordion-v2-label{box-sizing:content-box;position:relative;padding:9px 20px;color:#35414c;font-weight:400;font-size:14px;min-height:14px;line-height:14px;background-position:20px 50%;background-size:auto 21px;background-repeat:no-repeat}.font-picker-subgroup-accordion-v2-label:after{content:\"\";display:block;position:absolute;left:6px;top:16px;width:10px;height:4px;background-image:url(/image_templates/core/chevron-down.svg.mustache?color=34414D);background-size:contain;background-position:top;background-repeat:no-repeat;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;z-index:2;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.font-picker-subgroup-accordion-v2-label:hover{background-color:#f2f4f5}.font-picker-subgroup-accordion-v2-content{height:auto;max-height:0;transition:max-height .5s ease-in-out;overflow:hidden}.font-picker-face-v2{box-sizing:content-box;font-size:14px;line-height:14px;min-height:14px;font-weight:400;font-family:adobe-clean;color:#35414c;padding:9px 20px;cursor:pointer;position:relative;background-position:20px 50%;background-size:auto 21px;background-repeat:no-repeat}.font-picker-face-v2:before{display:block;content:\"\";position:absolute;right:0;top:0;bottom:0;width:48px;z-index:1;background:linear-gradient(90deg,hsla(0,0%,100%,0),#fff 20%)}.font-picker-face-v2.active,.font-picker-face-v2:hover{background-color:#f2f4f5}.font-picker-face-v2.active:before,.font-picker-face-v2:hover:before{background:linear-gradient(90deg,rgba(242,244,245,0),#f2f4f5 20%)}.font-picker-face-v2.active:after{content:\"\";display:block;width:16px;height:16px;background-repeat:no-repeat;background-size:contain;background-position:50%;background-image:url(/images/brandkit/icon-check-mark-midnight.svg);position:absolute;right:20px;top:10px;z-index:2}.font-picker-synced-fonts-list,.font-picker-uploaded-fonts{margin-bottom:8px}.cfm-processing-spinner{-webkit-animation:blue-spinner-anim 1s steps(60) infinite forwards;animation:blue-spinner-anim 1s steps(60) infinite forwards;background:50% url(/images/wait-spinner-blue.svg) no-repeat;width:68px;height:68px;margin:auto}@-webkit-keyframes blue-spinner-anim{0%{background-position:0 0}to{background-position:-4080px 0}}@keyframes blue-spinner-anim{0%{background-position:0 0}to{background-position:-4080px 0}}.font-picker-manage-synced-error{padding:5px 20px;line-height:1.3em;font-style:italic}",""])},function(e,t){e.exports='<div class="cfm-content-shell">\n    <div class="cfm-content-shell-upper">\n        <div class="cfm-title">{{ custom-font-manager-title }}</div>\n        <div class="cfm-title-separator"></div>\n        <div class="cfm-description"><span class="cfm-description-text">{{ custom-font-manager-description-text }}</span> <div class="cfm-info"><span class="cfm-info-tip">{{ custom-font-manager-info-tip }}</span></div></div>\n    </div>\n    <div class="cfm-font-list-wrapper show">\n        <div class="cfm-theme-update-tip cfm-tool-tip-base"><span class="text"></span></div>\n        <div class="cfm-body-font-tip cfm-tool-tip-base"><span class="text">{{ custom-font-manager-body-font-tip }}</span></div>\n        <div class="cfm-body-font-subgroup-error-tip cfm-tool-tip-base"><span class="text"></span></div>\n        <div class="cfm-face-exists-error-tip cfm-tool-tip-base"><span class="text"></span></div>\n        <div class="cfm-body-font-exists-error-tip cfm-tool-tip-base"><span class="text"></span></div>\n        <div class="cfm-face-replace-tip cfm-tool-tip-base"><span class="text">{{ custom-font-manager-replace-tip-default }}</span></div>\n        <div class="cfm-face-delete-tip cfm-tool-tip-base"><span class="text">{{ custom-font-manager-delete-tip }}</span></div>\n        <div class="cfm-body-font-choose-existing-view">\n            \x3c!-- <div class="cfm-body-font-choose-existing-font" style="font-weight: 400; font-style: normal">Roboto Regular</div> --\x3e\n            \x3c!-- <div class="cfm-body-font-choose-existing-font" style="font-weight: 400; font-style: italic">Roboto Italic</div> --\x3e\n            \x3c!-- <div class="cfm-body-font-choose-existing-font" style="font-weight: 700; font-style: normal">Roboto Bold</div> --\x3e\n            \x3c!-- <div class="cfm-body-font-choose-existing-font" style="font-weight: 700; font-style: italic">Roboto Bold Italic</div> --\x3e\n        </div>\n        <div class="cfm-font-addchoose-tip cfm-font-missing-tip"><span class="cfm-font-upload">Upload new</span><span class="cfm-font-add">Choose existing</span></div>\n        <div class="cfm-font-addchoose-tip cfm-font-replace-tip"><span class="cfm-font-upload">Upload new</span><span class="cfm-font-add">Choose existing</span></div>\n        <div class="cfm-font-list">\n            <div class="cfm-font-list-labels">\n                <span class="cfm-font-list-label js-font-name-label">{{ custom-font-manager-name-label }}</span>\n                <span class="cfm-font-list-label">{{ custom-font-manager-preview-label }}</span>\n            </div>\n            <div class="cfm-font-placeholder">\n                <span class="cfm-font-placeholder-label">{{ custom-font-manager-placeholder-label }}</span>\n                <span class="cfm-font-placeholder-label">{{ custom-font-manager-placeholder-label }}</span>\n            </div>\n            \x3c!-- For the body font set manager - when a face is not filled in --\x3e\n            \x3c!-- <div class="cfm-font cfm-font-empty"> --\x3e\n                \x3c!--     <span class="cfm-font-preview">Roboto Regular</span> --\x3e\n                \x3c!--     <a class="cfm-font-filename cfm-font-file-missing cfm-add-body-font-face">Add font file</a> --\x3e\n                \x3c!-- </div> --\x3e\n        </div>\n    </div>\n    <div class="cfm-content-shell-lower">\n        <button class="cfm-add-font show">\n            {{ custom-font-manager-add-more-fonts-button-label }}\n            <div class="cfm-add-font-tip cfm-tool-tip-base"><span class="text">{{ custom-font-manager-add-font-tip }}</span></div>\n        </button>\n\n        <div class="cfm-tos show">\n            <div class="cfm-tos-blocker"></div>\n            <div class="cfm-tos-checkbox"></div>\n            <div class="cfm-tos-copy">{{ custom-font-manager-tos-copy }} <a href="https://www.adobe.com/go/customfonts" target="_blank">{{ custom-font-manager-tos-learn-more }}</a>\n                <div class="cfm-tos-tip cfm-tool-tip-base"><span class="text">{{ custom-font-manager-tos-tip }}</span></div>\n            </div>\n        </div>\n        <div class="cfm-actions show">\n            <button class="cfm-cancel cfm-btn">{{ custom-font-manager-cancel-button }}</button>\n            <button class="cfm-continue cfm-btn">{{ custom-font-manager-continue-button }}</button>\n        </div>\n        <div class="cfm-final-actions">\n            <button class="cfm-final-cancel cfm-btn">{{ custom-font-manager-final-cancel-button }}</button>\n            <button class="cfm-final-continue cfm-btn">{{ custom-font-manager-final-continue-button }}</button>\n        </div>\n    </div>\n    <div class="cfm-processing-da-font hide">\n        <h3 class="cfm-processing-status">{{ custom-font-manager-processing-status-add }}</h3>\n        <div class="cfm-processing-spinner"></div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(8),i(433),i(434)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return a.extend({_handleFontInfo:function(e){var i=this.options.fontFile,n=t.trim(e.preferredFamilyName||e.familyName),r=t.trim(e.preferredSubfamilyName||e.subfamilyName)||"Regular",a={};this.options.fontInfo=e,this.options.subgroupName=n,this.trigger("cfm-got-font-info",{subgroupName:n,fullName:n+" "+r,info:e}),e.info&&e.info.FILE_TOO_BIG||!this.options.fontInfoPromise||!this.options.fontFile||(a.preview=n+" "+r,a.preview_font_family=this._getCSSFamilyName(n),a.preview_font_weight=e.weight,a.preview_font_style=e.style,a.disable_actions="",a.name=this.options.fontName,this._loadFontFromLocalFile(e,i),this.$el.html(o.mustacheRender(s,a)),this._styleWithMetrics(this.$el.find(".cfm-font-preview"),e),this.bindActions())},render:function(){var e=this.options.fontFile,t=this.options.fontInfoPromise,i=this.options.fontName,n=this.options.acFontFace,r=this.options.role,a={};return e&&t?(a.name=i,a.preview=o.getString("custom-font-manager-face-loading"),a.preview_font_family="adobe-clean",a.disable_actions="disable",a.fontFile=e,this.$el.removeClass("cfm-font-empty"),this.$el.removeClass("cfm-font-empty-body-normal")):n?(this.options.subgroupName=n.subgroupName(),a.name=i,a.preview=n.friendlyName(),this.$el.removeClass("cfm-font-empty"),this.$el.removeClass("cfm-font-empty-body-normal")):(a.name=i,a.hide_actions=!0,a.add_font=!0,this.$el.addClass("cfm-font-empty"),"is-body-font"==r&&this.$el.addClass("cfm-font-empty-body-normal")),t&&t.then(this._handleFontInfo.bind(this)).done(),this.$el.addClass("cfm-font"),this.$el.attr("data-id",this.cid),this.$el.html(o.mustacheRender(s,a)),n&&n.$loadFontCSS(this.$el.find(".cfm-font-preview"),14,!1),this.bindActions(),this},bindActions:function(){this.$el.find(".cfm-font-delete").on("click",this._handleDeleteClick.bind(this)),this.$el.find(".cfm-font-delete").on("mouseover",function(e){this.trigger("cfm-item-delete-mouseover",{})}.bind(this)),this.$el.find(".cfm-font-delete").on("mouseout",function(e){this.trigger("cfm-item-delete-mouseout",{})}.bind(this)),this.$el.find(".cfm-font-replace").on("mouseover",function(e){this.trigger("cfm-item-replace-mouseover",{})}.bind(this)),this.$el.find(".cfm-font-replace").on("mouseout",function(e){this.trigger("cfm-item-replace-mouseout",{})}.bind(this)),this.options.hideReplace?this.$el.find(".cfm-font-replace").addClass("hide"):this.$el.find(".cfm-font-replace").on("click",this._handleReplaceClick.bind(this)),this.$el.find(".cfm-font-file-missing").on("click",this._handleAddClick.bind(this)),this.actionsBound=!0}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="font-picker-shell">\n    <div class="font-picker-carrot">\n    </div>\n    <div class="font-picker-content-shell">\n        <div class="font-card-picker">\n            <button class="font-card-picker-prev-btn"></button>\n            <button class="font-card-picker-next-btn"></button>\n            <div class="font-card-picker-stack">\n                \x3c!-- <div class="font-card show"> --\x3e\n                \x3c!--     <div class="font-card-headline-font">Futura PT</div> --\x3e\n                \x3c!--     <div class="font-card-headline-render">Headline</div> --\x3e\n                \x3c!--     <div class="font-card-body-font">PT Serif</div> --\x3e\n                \x3c!--     <div class="font-card-body-render">Flow, also known as the zone, is the mental state of operation in which a person performing an activity is fully immersed in a feeling of energized focus.</div> --\x3e\n                \x3c!-- </div> --\x3e\n                \x3c!-- <div class="font-card"> --\x3e\n                \x3c!--     <div class="font-card-headline-font">PT Serif</div> --\x3e\n                \x3c!--     <div class="font-card-headline-render">Headline</div> --\x3e\n                \x3c!--     <div class="font-card-body-font">Futura PT</div> --\x3e\n                \x3c!--     <div class="font-card-body-render">Flow, also known as the zone, is the mental state of operation in which a person performing an activity is fully immersed in a feeling of energized focus.</div> --\x3e\n                \x3c!-- </div> --\x3e\n            </div>\n            <button class="font-card-picker-save-btn">{{ font-picker-pick-this-pair }}</button>\n        </div>\n        <div class="font-face-picker js-sp-font-picker">\n            \x3c!-- <div class="font-picker-separator">Brand Fonts</div> --\x3e\n            \x3c!-- <div class="font-picker-face">Bodoni 72 Bold</div> --\x3e\n            \x3c!-- <div class="font-picker-face">Azo Sans Regular</div> --\x3e\n            \x3c!-- <div class="font-picker-separator">All Fonts</div> --\x3e\n            \x3c!-- <div class="font-picker-subgroup-accordion-v2"> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-label">Azo Sans</div> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-content"> --\x3e\n            \x3c!--         <div class="font-picker-face">Azo Sans Regular</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Azo Sans Italic</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Azo Sans Bold</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Azo Sans Italic Bold</div> --\x3e\n            \x3c!--     </div> --\x3e\n            \x3c!-- </div> --\x3e\n            \x3c!-- <div class="font-picker-subgroup-accordion-v2"> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-label">Bodoni 72</div> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-content"> --\x3e\n            \x3c!--         <div class="font-picker-face">Bodoni 72 Regular</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Bodoni 72 Italic</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Bodoni 72 Bold</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Bodoni 72 Italic Bold</div> --\x3e\n            \x3c!--     </div> --\x3e\n            \x3c!-- </div> --\x3e\n            \x3c!-- <div class="font-picker-subgroup-accordion-v2"> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-label">Calluna Sans</div> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-content"> --\x3e\n            \x3c!--         <div class="font-picker-face">Calluna Sans Regular</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Calluna Sans Italic</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Calluna Sans Bold</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Calluna Sans Italic Bold</div> --\x3e\n            \x3c!--     </div> --\x3e\n            \x3c!-- </div> --\x3e\n            \x3c!-- <div class="font-picker-subgroup-accordion-v2"> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-label">Clarendon Text Pro</div> --\x3e\n            \x3c!--     <div class="font-picker-subgroup-accordion-v2-content"> --\x3e\n            \x3c!--         <div class="font-picker-face">Clarendon Text Pro Regular</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Clarendon Text Pro Italic</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Clarendon Text Pro Bold</div> --\x3e\n            \x3c!--         <div class="font-picker-face">Clarendon Text Pro Italic Bold</div> --\x3e\n            \x3c!--     </div> --\x3e\n            \x3c!-- </div> --\x3e\n        </div>\n        <div class="font-body-picker js-sp-font-picker">\n            \x3c!-- <div class="font-picker-separator">Brand Fonts</div> --\x3e\n            \x3c!-- <div class="font-picker-face">Azo Sans</div> --\x3e\n            \x3c!-- <div class="font-picker-face">Bodoni 72</div> --\x3e\n            \x3c!-- <div class="font-picker-separator">All Fonts</div> --\x3e\n        </div>\n        <div class="font-headline-picker js-sp-font-picker">\n        </div>\n        <div class="font-picker-loading-screen">\n            <div class="font-picker-loading-screen-title">{{ font-picker-hang-tight }}</div>\n            <div class="font-picker-loading-screen-spinner"></div>\n            <div class="font-picker-loading-screen-label">{{ font-picker-loading-your-fonts }}</div>\n        </div>\n    </div>\n</div>\n'},,function(e,t,i){"use strict";var n=i(32).Buffer,r=i(573);function o(e,t,i){e.copy(t,i)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),i=this.head,r=0;i;)o(i.data,t,r),r+=i.data.length,i=i.next;return t},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,i){"use strict";e.exports=o;var n=i(440),r=i(25);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r.inherits=i(14),r.inherits(o,n),o.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){e.exports=i(372)},function(e,t,i){e.exports=i(263)},function(e,t,i){e.exports=i(371).Transform},function(e,t,i){e.exports=i(371).PassThrough},function(e,t,i){var n,r;n=[i(1),i(349)],void 0===(r=function(e,t){"use strict";return e.Collection.extend({model:t})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(5),i(7),i(574),i(8),i(594),i(595)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return i.View.extend({initialize:function(){t.bindAll(this,t.functionsIn(this)),this.TRANSITION_TIME=400,this._temporaryClasses=[],this._quoteLoaderView=new a({location:"editor"}),window.marvel.events.on("show-interstitial",this.handleShow),window.marvel.events.on("hide-interstitial",this.handleHide),window.marvel.events.on("interstitial-error",this.handleInterstitialError)},handleShow:function(e){this._isShowing?e.afterShowingDefer&&e.afterShowingDefer.resolve():(this._fnBeforeHiding=e.fnBeforeHiding,this._isShowing=!0,this.render(e.typeName),t.delay(function(){window.marvel.events.trigger("spark-dialog-shown"),this.$el.addClass("show"),e.afterShowingDefer&&t.delay(function(){e.afterShowingDefer.resolve()},this.TRANSITION_TIME)}.bind(this),1))},_doHide:function(){if(this._isShowing){var e;e=this._fnBeforeHiding?this._fnBeforeHiding():n.resolve();var i=function(){this._isShowing=!1,this._quoteLoaderView.clear(),window.marvel.events.trigger("spark-dialog-closed"),this.$el.removeClass("show"),t.each(this._temporaryClasses,function(e){this.$el.removeClass(e)}.bind(this)),this._temporaryClasses=[],t.delay(function(){this._quoteLoaderView.remove(),this.$el.remove(),window.marvel.events.trigger("editor-showing-interstitial-hidden")}.bind(this),10)}.bind(this);e.then(i,i).done()}},handleHide:function(e){var i=(new Date).getTime(),n=this._quoteLoaderView.timeLastQuoteShown();n&&i-n<10?t.delay(function(){this._doHide()}.bind(this),10-(i-n)):this._doHide()},handleInterstitialError:function(e){(e.addClass&&(this._temporaryClasses.push(e.addClass),this.$el.addClass(e.addClass)),e.addElement$)&&this.$el.find(".error-detail").empty().append(e.addElement$)},render:function(t){this.$el=e(".mrvl-interstitial-wrapper"),this.$el&&this.$el[0]||(this.$el=e("<div></div>"),e("body").append(this.$el)),this.$el.attr("class","mrvl-interstitial-wrapper "+t),this.$el.attr("data-auto","mrvl-interstitial-wrapper"),this.$el.html(l.toString()),this.$el.find(".brand-name").text(s.getString("product-name")),this.quoteLoaderEl$=this.$el.find(".quotes"),this._quoteLoaderView.setElement(this.quoteLoaderEl$),this._quoteLoaderView.setAppCssId(t),this._quoteLoaderView.render()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="mrvl-interstitial-splash md-modal">\n    <div class="splash-inner">\n      <div class="spinner"></div>\n      <div class="quotes"></div>\n      <div class="error-detail"></div>\n    </div>\n</div>\n'},function(e,t,i){var n=i(596);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".mrvl-interstitial-wrapper{position:fixed;top:0;left:100%;width:100%;height:100%;opacity:0;border-top:1px solid #ccc;background-color:#fff;z-index:9999}.mrvl-interstitial-wrapper.show{opacity:1;left:0;transition:all .4s}.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .error-detail{display:block}.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .quotes,.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .spinner{display:none}.mrvl-interstitial-splash{position:relative;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%;z-index:27;transition:opacity .4s}.mrvl-interstitial-splash .splash-inner{width:100%;height:155px;text-align:center}.mrvl-interstitial-splash .spinner{position:relative;margin:0 auto 45px;font-size:4.5px;text-indent:-9999em;border:1.1em solid #e2e6e7;border-left:1.1em solid #f6f7f8;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear;will-change:transform;border-radius:50%;width:60px;height:60px}.mrvl-interstitial-splash .spinner:after{border-radius:50%;width:10em;height:10em}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.mrvl-interstitial-splash .quotes{position:relative;width:100%}.mrvl-interstitial-splash .error-detail{display:none}.mrvl-interstitial-splash .error-detail h3{font-size:32px}.mrvl-interstitial-splash .error-detail p{display:inline-block;width:420px;line-height:1.5em;padding:20px 0 40px}.mrvl-interstitial-splash .error-detail button{margin:0 10px}",""])},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1)],void 0===(r=function(e,t,i,n){"use strict";return new(n.Model.extend({KEY:"sparkWebNpw",_categories:[],deferLoading:null,getCategories:function(){return this.loaded().then(function(e){return e}.bind(this))},getExamplesForCategory:function(e){return this.loaded().then(function(){return this.fetchByCategory(e).then(function(e){return e}.bind(this))}.bind(this))},fetch:function(){this._categories=[];var i="/post-examples/categories/"+this.KEY;e.ajax({method:"GET",url:i,success:function(e){t.isArray(e)&&e.length&&(this._categories=e),this.deferLoading.resolve(this._categories)}.bind(this),error:function(e){window.marvel.logger.error("[post-api-controller] Failed to load categories"+e.status,e),this.deferLoading.reject(e.status)}.bind(this)})},loaded:function(){return this.deferLoading||(this.deferLoading=i.defer(),this.fetch()),this.deferLoading.promise},fetchByCategory:function(n){if(!t.isEmpty(n)&&!t.isEmpty(this._categories)&&!t.isUndefined(this._categories[n]))return i.resolve(this._categories[n]);var r=i.defer();return e.ajax({method:"GET",url:"/post-examples/examples/"+n,success:function(e){t.isArray(e)&&e.length?(this._categories[n]=e,r.resolve(e)):r.resolve([])}.bind(this),error:function(e){window.marvel.logger.error("[post-api-controller] Failed to load examples for "+n+" "+e.status,e),r.reject(e.status)}.bind(this)}),r.promise},fetchByTag:function(n){var r,o=i.defer(),a=n.tag,s=n.sort?"&sort="+n.sort:"";return r=n.next?n.next:"/api/post/experimental/templates?tag="+a+s,e.ajax({method:"GET",url:r,success:function(e){e&&t.isObject(e)&&t.isArray(e.assets)?o.resolve(e):o.resolve({})}.bind(this),error:function(e){window.marvel.logger.error("[post-api-controller] Failed to load templates by searching for tag"+a+" "+e.status,e),o.reject(e.status)}.bind(this)}),o.promise}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(32).Buffer,r=i(435).Transform;function o(e){r.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(14)(o,r),o.prototype._transform=function(e,t,i){var n=null;try{this.update(e,t)}catch(e){n=e}i(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var i=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)i[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)i[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,i){var n,r;n=[i(0),i(1),i(34),i(600)],void 0===(r=function(e,t,i,n){"use strict";var r=t.View.extend({events:{"click .inapp-merch-inter-maybe-later":"handleMerchOrgTakeoverMaybeLaterClick","click .upgrade-now-inter":"handleMerchGetStartedBtn","click .inapp-inter-close-teaser-x":"handleBtnClose"},className:"mrch-interstitial-view",cachename:"merchInterstitialView",handleMerchOrgTakeoverMaybeLaterClick:function(e){this.remove(),this.model.get("done")&&this.model.get("done")(!1)},handleMerchGetStartedBtn:function(e){i.handleShowUpgrade(this.model.get("workflow")),this.model.get("done")&&this.model.get("done")(!0)},handleBtnClose:function(e){this.remove(),this.model.get("done")&&this.model.get("done")(!1)},render:function(){this.$el.html(n.toString()),this.delegateEvents()},remove:function(){this.undelegateEvents(),this.$el.empty()}});return r.pattern="modal",r}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="inapp-interstitials-merch-shell">\n    <div class="inapp-merch-inter-teaser-dialog">\n        <div class="inapp-merch-generic-image-container">\n            <img class="inapp-merch-generic-image" src="/images/customBranding.svg">\n        </div>\n        <h4 class="inapp-header-text">Take your content to the next level </h4>\n        <p class="inapp-merch-sub-text">Differentiate your business, cause, or personal brand with a unique look and feel across all of your visual stories.</p>\n        <div class="inapp-merch-cta-container">\n            <div class="upgrade-now-inter">Upgrade now</div>\n            <div class="inapp-merch-inter-maybe-later">Maybe later</div>\n            </div>\n            <div class="inapp-inter-close-teaser-x"></div>\n        </div>\n    <div class="inapp-interstitials-merch-overlay"></div>\n</div>\n\n\n'},,,,,,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,function(e,t,i){i(610),i(93),e.exports=i(776)},function(e,t,i){"use strict";(function(e){i(611),i(755),i(757),i(759),i(761),i(763),i(765),i(767),i(769),i(771),i(775),e._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e._babelPolyfill=!0}).call(this,i(9))},function(e,t,i){i(612),i(615),i(616),i(617),i(618),i(619),i(620),i(621),i(622),i(623),i(624),i(625),i(626),i(627),i(628),i(629),i(630),i(631),i(632),i(633),i(634),i(635),i(636),i(637),i(638),i(639),i(640),i(641),i(642),i(643),i(644),i(645),i(646),i(647),i(648),i(649),i(650),i(651),i(652),i(653),i(654),i(655),i(656),i(658),i(659),i(660),i(661),i(662),i(663),i(664),i(665),i(666),i(667),i(668),i(669),i(670),i(671),i(672),i(673),i(674),i(675),i(676),i(677),i(678),i(679),i(680),i(681),i(682),i(683),i(684),i(685),i(686),i(687),i(688),i(689),i(690),i(691),i(693),i(694),i(696),i(697),i(698),i(699),i(700),i(701),i(702),i(705),i(706),i(707),i(708),i(709),i(710),i(711),i(712),i(713),i(714),i(715),i(716),i(717),i(397),i(718),i(463),i(719),i(464),i(720),i(721),i(722),i(723),i(465),i(726),i(727),i(728),i(729),i(730),i(731),i(732),i(733),i(734),i(735),i(736),i(737),i(738),i(739),i(740),i(741),i(742),i(743),i(744),i(745),i(746),i(747),i(748),i(749),i(750),i(751),i(752),i(753),i(754),e.exports=i(92)},function(e,t,i){"use strict";var n=i(42),r=i(215),o=i(91),a=i(10),s=i(125),l=i(256).KEY,c=i(43),d=i(351),u=i(320),h=i(273),p=i(58),f=i(377),g=i(445),m=i(614),v=i(380),b=i(44),y=i(46),w=i(217),k=i(255),x=i(272),_=i(277),C=i(448),S=i(239),T=i(89),M=i(275),I=S.f,D=T.f,P=C.f,E=n.Symbol,A=n.JSON,F=A&&A.stringify,L=p("_hidden"),N=p("toPrimitive"),R={}.propertyIsEnumerable,j=d("symbol-registry"),z=d("symbols"),O=d("op-symbols"),B=Object.prototype,U="function"==typeof E,$=n.QObject,V=!$||!$.prototype||!$.prototype.findChild,H=o&&c(function(){return 7!=_(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=I(B,t);n&&delete B[t],D(e,t,i),n&&e!==B&&D(B,t,n)}:D,G=function(e){var t=z[e]=_(E.prototype);return t._k=e,t},K=U&&"symbol"==typeof E.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof E},q=function(e,t,i){return e===B&&q(O,t,i),b(e),t=k(t,!0),b(i),r(z,t)?(i.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),i=_(i,{enumerable:x(0,!1)})):(r(e,L)||D(e,L,x(1,{})),e[L][t]=!0),H(e,t,i)):D(e,t,i)},W=function(e,t){b(e);for(var i,n=m(t=w(t)),r=0,o=n.length;o>r;)q(e,i=n[r++],t[i]);return e},Y=function(e){var t=R.call(this,e=k(e,!0));return!(this===B&&r(z,e)&&!r(O,e))&&(!(t||!r(this,e)||!r(z,e)||r(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=w(e),t=k(t,!0),e!==B||!r(z,t)||r(O,t)){var i=I(e,t);return!i||!r(z,t)||r(e,L)&&e[L][t]||(i.enumerable=!0),i}},X=function(e){for(var t,i=P(w(e)),n=[],o=0;i.length>o;)r(z,t=i[o++])||t==L||t==l||n.push(t);return n},Z=function(e){for(var t,i=e===B,n=P(i?O:w(e)),o=[],a=0;n.length>a;)!r(z,t=n[a++])||i&&!r(B,t)||o.push(z[t]);return o};U||(s((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(i){this===B&&t.call(O,i),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),H(this,e,x(1,i))};return o&&V&&H(B,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),S.f=Q,T.f=q,i(278).f=C.f=X,i(335).f=Y,i(353).f=Z,o&&!i(274)&&s(B,"propertyIsEnumerable",Y,!0),f.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:E});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)p(J[ee++]);for(var te=M(p.store),ie=0;te.length>ie;)g(te[ie++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=E(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?_(e):W(_(e),t)},defineProperty:q,defineProperties:W,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),A&&a(a.S+a.F*(!U||c(function(){var e=E();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=t=n[1],(y(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!K(t))return t}),n[1]=t,F.apply(A,n)}}),E.prototype[N]||i(216)(E.prototype,N,E.prototype.valueOf),u(E,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(e,t,i){e.exports=i(351)("native-function-to-string",Function.toString)},function(e,t,i){var n=i(275),r=i(353),o=i(335);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,s=i(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,i){var n=i(10);n(n.S,"Object",{create:i(277)})},function(e,t,i){var n=i(10);n(n.S+n.F*!i(91),"Object",{defineProperty:i(89).f})},function(e,t,i){var n=i(10);n(n.S+n.F*!i(91),"Object",{defineProperties:i(447)})},function(e,t,i){var n=i(217),r=i(239).f;i(240)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},function(e,t,i){var n=i(126),r=i(279);i(240)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(126),r=i(275);i(240)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){i(240)("getOwnPropertyNames",function(){return i(448).f})},function(e,t,i){var n=i(46),r=i(256).onFreeze;i(240)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(e,t,i){var n=i(46),r=i(256).onFreeze;i(240)("seal",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(e,t,i){var n=i(46),r=i(256).onFreeze;i(240)("preventExtensions",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(e,t,i){var n=i(46);i(240)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(46);i(240)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(46);i(240)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,i){var n=i(10);n(n.S+n.F,"Object",{assign:i(449)})},function(e,t,i){var n=i(10);n(n.S,"Object",{is:i(450)})},function(e,t,i){var n=i(10);n(n.S,"Object",{setPrototypeOf:i(382).set})},function(e,t,i){"use strict";var n=i(336),r={};r[i(58)("toStringTag")]="z",r+""!="[object z]"&&i(125)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,i){var n=i(10);n(n.P,"Function",{bind:i(451)})},function(e,t,i){var n=i(89).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(91)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,i){"use strict";var n=i(46),r=i(279),o=i(58)("hasInstance"),a=Function.prototype;o in a||i(89).f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,i){var n=i(10),r=i(453);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(e,t,i){var n=i(10),r=i(454);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(e,t,i){"use strict";var n=i(42),r=i(215),o=i(245),a=i(384),s=i(255),l=i(43),c=i(278).f,d=i(239).f,u=i(89).f,h=i(354).trim,p=n.Number,f=p,g=p.prototype,m="Number"==o(i(277)(g)),v="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var i,n,r,o=(t=v?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var a,l=t.slice(2),c=0,d=l.length;c<d;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(m?l(function(){g.valueOf.call(i)}):"Number"!=o(i))?a(new f(b(t)),i,p):b(t)};for(var y,w=i(91)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(f,y=w[k])&&!r(p,y)&&u(p,y,d(f,y));p.prototype=g,g.constructor=p,i(125)(n,"Number",p)}},function(e,t,i){"use strict";var n=i(10),r=i(238),o=i(455),a=i(385),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",u=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*c[i],c[i]=n%1e7,n=l(n/1e7)},h=function(e){for(var t=6,i=0;--t>=0;)i+=c[t],c[t]=l(i/e),i=i%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var i=String(c[e]);t=""===t?i:t+a.call("0",7-i.length)+i}return t},f=function(e,t,i){return 0===t?i:t%2==1?f(e,t-1,i*e):f(e*e,t/2,i)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(43)(function(){s.call({})})),"Number",{toFixed:function(e){var t,i,n,s,l=o(this,d),c=r(e),g="",m="0";if(c<0||c>20)throw RangeError(d);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(l*f(2,69,1))-69)<0?l*f(2,-t,1):l/f(2,t,1),i*=4503599627370496,(t=52-t)>0){for(u(0,i),n=c;n>=7;)u(1e7,0),n-=7;for(u(f(10,n,1),0),n=t-1;n>=23;)h(1<<23),n-=23;h(1<<n),u(1,1),h(2),m=p()}else u(0,i),u(1<<-t,0),m=p()+a.call("0",c);return m=c>0?g+((s=m.length)<=c?"0."+a.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):g+m}})},function(e,t,i){"use strict";var n=i(10),r=i(43),o=i(455),a=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,i){var n=i(10);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,i){var n=i(10),r=i(42).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,i){var n=i(10);n(n.S,"Number",{isInteger:i(456)})},function(e,t,i){var n=i(10);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){var n=i(10),r=i(456),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,i){var n=i(10);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,i){var n=i(10);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,i){var n=i(10),r=i(454);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,i){var n=i(10),r=i(453);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,i){var n=i(10),r=i(457),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})},function(e,t,i){var n=i(10),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,i){var n=i(10),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,i){var n=i(10),r=i(386);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,i){var n=i(10);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,i){var n=i(10),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,i){var n=i(10),r=i(387);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,i){var n=i(10);n(n.S,"Math",{fround:i(657)})},function(e,t,i){var n=i(386),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);e.exports=Math.fround||function(e){var t,i,r=Math.abs(e),c=n(e);return r<l?c*function(e){return e+1/o-1/o}(r/l/a)*l*a:(i=(t=(1+a/o)*r)-(t-r))>s||i!=i?c*(1/0):c*i}},function(e,t,i){var n=i(10),r=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,o=0,a=0,s=arguments.length,l=0;a<s;)l<(i=r(arguments[a++]))?(o=o*(n=l/i)*n+1,l=i):o+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,i){var n=i(10),r=Math.imul;n(n.S+n.F*i(43)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var i=+e,n=+t,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(e,t,i){var n=i(10);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i){var n=i(10);n(n.S,"Math",{log1p:i(457)})},function(e,t,i){var n=i(10);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){var n=i(10);n(n.S,"Math",{sign:i(386)})},function(e,t,i){var n=i(10),r=i(387),o=Math.exp;n(n.S+n.F*i(43)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,i){var n=i(10),r=i(387),o=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),i=r(-e);return t==1/0?1:i==1/0?-1:(t-i)/(o(e)+o(-e))}})},function(e,t,i){var n=i(10);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,i){var n=i(10),r=i(276),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t,i){var n=i(10),r=i(217),o=i(71);n(n.S,"String",{raw:function(e){for(var t=r(e.raw),i=o(t.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,i){"use strict";i(354)("trim",function(e){return function(){return e(this,3)}})},function(e,t,i){"use strict";var n=i(388)(!0);i(389)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){"use strict";var n=i(10),r=i(388)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,i){"use strict";var n=i(10),r=i(71),o=i(390),a="".endsWith;n(n.P+n.F*i(392)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(t.length),s=void 0===i?n:Math.min(r(i),n),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,i){"use strict";var n=i(10),r=i(390);n(n.P+n.F*i(392)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){var n=i(10);n(n.P,"String",{repeat:i(385)})},function(e,t,i){"use strict";var n=i(10),r=i(71),o=i(390),a="".startsWith;n(n.P+n.F*i(392)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,i):t.slice(i,i+n.length)===n}})},function(e,t,i){"use strict";i(127)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,i){"use strict";i(127)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,i){"use strict";i(127)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,i){"use strict";i(127)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,i){"use strict";i(127)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,i){"use strict";i(127)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,i){"use strict";i(127)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,i){"use strict";i(127)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,i){"use strict";i(127)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,i){"use strict";i(127)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,i){"use strict";i(127)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,i){"use strict";i(127)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,i){"use strict";i(127)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,i){var n=i(10);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){"use strict";var n=i(10),r=i(126),o=i(255);n(n.P+n.F*i(43)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),i=o(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},function(e,t,i){var n=i(10),r=i(692);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,i){"use strict";var n=i(43),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},function(e,t,i){var n=Date.prototype,r=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(125)(n,"toString",function(){var e=o.call(this);return e==e?r.call(this):"Invalid Date"})},function(e,t,i){var n=i(58)("toPrimitive"),r=Date.prototype;n in r||i(216)(r,n,i(695))},function(e,t,i){"use strict";var n=i(44),r=i(255);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(n(this),"number"!=e)}},function(e,t,i){var n=i(10);n(n.S,"Array",{isArray:i(380)})},function(e,t,i){"use strict";var n=i(243),r=i(10),o=i(126),a=i(459),s=i(393),l=i(71),c=i(394),d=i(395);r(r.S+r.F*!i(355)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,u,h=o(e),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,b=d(h);if(m&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(i=new p(t=l(h.length));t>v;v++)c(i,v,m?g(h[v],v):h[v]);else for(u=b.call(h),i=new p;!(r=u.next()).done;v++)c(i,v,m?a(u,g,[r.value,v],!0):r.value);return i.length=v,i}})},function(e,t,i){"use strict";var n=i(10),r=i(394);n(n.S+n.F*i(43)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)r(i,e,arguments[e++]);return i.length=t,i}})},function(e,t,i){"use strict";var n=i(10),r=i(217),o=[].join;n(n.P+n.F*(i(334)!=Object||!i(233)(o)),"Array",{join:function(e){return o.call(r(this),void 0===e?",":e)}})},function(e,t,i){"use strict";var n=i(10),r=i(381),o=i(245),a=i(276),s=i(71),l=[].slice;n(n.P+n.F*i(43)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var i=s(this.length),n=o(this);if(t=void 0===t?i:t,"Array"==n)return l.call(this,e,t);for(var r=a(e,i),c=a(t,i),d=s(c-r),u=new Array(d),h=0;h<d;h++)u[h]="String"==n?this.charAt(r+h):this[r+h];return u}})},function(e,t,i){"use strict";var n=i(10),r=i(244),o=i(126),a=i(43),s=[].sort,l=[1,2,3];n(n.P+n.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!i(233)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},function(e,t,i){"use strict";var n=i(10),r=i(241)(0),o=i(233)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,i){var n=i(704);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(46),r=i(380),o=i(58)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){"use strict";var n=i(10),r=i(241)(1);n(n.P+n.F*!i(233)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(10),r=i(241)(2);n(n.P+n.F*!i(233)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(10),r=i(241)(3);n(n.P+n.F*!i(233)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(10),r=i(241)(4);n(n.P+n.F*!i(233)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(10),r=i(460);n(n.P+n.F*!i(233)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,i){"use strict";var n=i(10),r=i(460);n(n.P+n.F*!i(233)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,i){"use strict";var n=i(10),r=i(352)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(233)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(10),r=i(217),o=i(238),a=i(71),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(233)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),i=a(t.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,i){var n=i(10);n(n.P,"Array",{copyWithin:i(461)}),i(322)("copyWithin")},function(e,t,i){var n=i(10);n(n.P,"Array",{fill:i(396)}),i(322)("fill")},function(e,t,i){"use strict";var n=i(10),r=i(241)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(322)("find")},function(e,t,i){"use strict";var n=i(10),r=i(241)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(322)(o)},function(e,t,i){i(323)("Array")},function(e,t,i){var n=i(42),r=i(384),o=i(89).f,a=i(278).f,s=i(391),l=i(356),c=n.RegExp,d=c,u=c.prototype,h=/a/g,p=/a/g,f=new c(h)!==h;if(i(91)&&(!f||i(43)(function(){return p[i(58)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(e,t){var i=this instanceof c,n=s(e),o=void 0===t;return!i&&n&&e.constructor===c&&o?e:r(f?new d(n&&!o?e.source:e,t):d((n=e instanceof c)?e.source:e,n&&o?l.call(e):t),i?this:u,c)};for(var g=function(e){e in c||o(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},m=a(d),v=0;m.length>v;)g(m[v++]);u.constructor=c,c.prototype=u,i(125)(n,"RegExp",c)}i(323)("RegExp")},function(e,t,i){"use strict";i(464);var n=i(44),r=i(356),o=i(91),a=/./.toString,s=function(e){i(125)(RegExp.prototype,"toString",e,!0)};i(43)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,i){"use strict";var n=i(44),r=i(71),o=i(399),a=i(357);i(358)("match",1,function(e,t,i,s){return[function(i){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},function(e){var t=s(i,e,this);if(t.done)return t.value;var l=n(e),c=String(this);if(!l.global)return a(l,c);var d=l.unicode;l.lastIndex=0;for(var u,h=[],p=0;null!==(u=a(l,c));){var f=String(u[0]);h[p]=f,""===f&&(l.lastIndex=o(c,r(l.lastIndex),d)),p++}return 0===p?null:h}]})},function(e,t,i){"use strict";var n=i(44),r=i(126),o=i(71),a=i(238),s=i(399),l=i(357),c=Math.max,d=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};i(358)("replace",2,function(e,t,i,g){return[function(n,r){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},function(e,t){var r=g(i,e,this,t);if(r.done)return r.value;var u=n(e),h=String(this),p="function"==typeof t;p||(t=String(t));var v=u.global;if(v){var b=u.unicode;u.lastIndex=0}for(var y=[];;){var w=l(u,h);if(null===w)break;if(y.push(w),!v)break;""===String(w[0])&&(u.lastIndex=s(h,o(u.lastIndex),b))}for(var k="",x=0,_=0;_<y.length;_++){w=y[_];for(var C=String(w[0]),S=c(d(a(w.index),h.length),0),T=[],M=1;M<w.length;M++)T.push(f(w[M]));var I=w.groups;if(p){var D=[C].concat(T,S,h);void 0!==I&&D.push(I);var P=String(t.apply(void 0,D))}else P=m(C,h,S,T,I,t);S>=x&&(k+=h.slice(x,S)+P,x=S+C.length)}return k+h.slice(x)}];function m(e,t,n,o,a,s){var l=n+e.length,c=o.length,d=p;return void 0!==a&&(a=r(a),d=h),i.call(s,d,function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var d=+r;if(0===d)return i;if(d>c){var h=u(d/10);return 0===h?i:h<=c?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):i}s=o[d-1]}return void 0===s?"":s})}})},function(e,t,i){"use strict";var n=i(44),r=i(450),o=i(357);i(358)("search",1,function(e,t,i,a){return[function(i){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},function(e){var t=a(i,e,this);if(t.done)return t.value;var s=n(e),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var d=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]})},function(e,t,i){"use strict";var n=i(391),r=i(44),o=i(337),a=i(399),s=i(71),l=i(357),c=i(398),d=i(43),u=Math.min,h=[].push,p=!d(function(){RegExp(4294967295,"y")});i(358)("split",2,function(e,t,i,d){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!n(e))return i.call(r,e,t);for(var o,a,s,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,p=void 0===t?4294967295:t>>>0,f=new RegExp(e.source,d+"g");(o=c.call(f,r))&&!((a=f.lastIndex)>u&&(l.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&h.apply(l,o.slice(1)),s=o[0].length,u=a,l.length>=p));)f.lastIndex===o.index&&f.lastIndex++;return u===r.length?!s&&f.test("")||l.push(""):l.push(r.slice(u)),l.length>p?l.slice(0,p):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,n){var r=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,r,n):f.call(String(r),i,n)},function(e,t){var n=d(f,e,this,t,f!==i);if(n.done)return n.value;var c=r(e),h=String(this),g=o(c,RegExp),m=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),b=new g(p?c:"^(?:"+c.source+")",v),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===h.length)return null===l(b,h)?[h]:[];for(var w=0,k=0,x=[];k<h.length;){b.lastIndex=p?k:0;var _,C=l(b,p?h:h.slice(k));if(null===C||(_=u(s(b.lastIndex+(p?0:k)),h.length))===w)k=a(h,k,m);else{if(x.push(h.slice(w,k)),x.length===y)return x;for(var S=1;S<=C.length-1;S++)if(x.push(C[S]),x.length===y)return x;k=w=_}}return x.push(h.slice(w)),x}]})},function(e,t,i){var n=i(42),r=i(400).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(245)(a);e.exports=function(){var e,t,i,c=function(){var n,r;for(l&&(n=a.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);i=function(){d.then(c)}}else i=function(){r.call(n,c)};else{var u=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),i=function(){h.data=u=!u}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){"use strict";var n=i(468),r=i(280);e.exports=i(361)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){"use strict";var n=i(468),r=i(280);e.exports=i(361)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n,r=i(42),o=i(241)(0),a=i(125),s=i(256),l=i(449),c=i(469),d=i(46),u=i(280),h=i(280),p=!r.ActiveXObject&&"ActiveXObject"in r,f=s.getWeak,g=Object.isExtensible,m=c.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(d(e)){var t=f(e);return!0===t?m(u(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(u(this,"WeakMap"),e,t)}},y=e.exports=i(361)("WeakMap",v,b,c,!0,!0);h&&p&&(l((n=c.getConstructor(v,"WeakMap")).prototype,b),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=y.prototype,i=t[e];a(t,e,function(t,r){if(d(t)&&!g(t)){this._f||(this._f=new n);var o=this._f[e](t,r);return"set"==e?this:o}return i.call(this,t,r)})}))},function(e,t,i){"use strict";var n=i(469),r=i(280);i(361)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,i){"use strict";var n=i(10),r=i(362),o=i(401),a=i(44),s=i(276),l=i(71),c=i(46),d=i(42).ArrayBuffer,u=i(337),h=o.ArrayBuffer,p=o.DataView,f=r.ABV&&d.isView,g=h.prototype.slice,m=r.VIEW;n(n.G+n.W+n.F*(d!==h),{ArrayBuffer:h}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||c(e)&&m in e}}),n(n.P+n.U+n.F*i(43)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var i=a(this).byteLength,n=s(e,i),r=s(void 0===t?i:t,i),o=new(u(this,h))(l(r-n)),c=new p(this),d=new p(o),f=0;n<r;)d.setUint8(f++,c.getUint8(n++));return o}}),i(323)("ArrayBuffer")},function(e,t,i){var n=i(10);n(n.G+n.W+n.F*!i(362).ABV,{DataView:i(401).DataView})},function(e,t,i){i(247)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},function(e,t,i){i(247)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(247)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){var n=i(10),r=i(244),o=i(44),a=(i(42).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(43)(function(){a(function(){})}),"Reflect",{apply:function(e,t,i){var n=r(e),l=o(i);return a?a(n,t,l):s.call(n,t,l)}})},function(e,t,i){var n=i(10),r=i(277),o=i(244),a=i(44),s=i(46),l=i(43),c=i(451),d=(i(42).Reflect||{}).construct,u=l(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),h=!l(function(){d(function(){})});n(n.S+n.F*(u||h),"Reflect",{construct:function(e,t){o(e),a(t);var i=arguments.length<3?e:o(arguments[2]);if(h&&!u)return d(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var l=i.prototype,p=r(s(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return s(f)?f:p}})},function(e,t,i){var n=i(89),r=i(10),o=i(44),a=i(255);r(r.S+r.F*i(43)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){o(e),t=a(t,!0),o(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},function(e,t,i){var n=i(10),r=i(239).f,o=i(44);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=r(o(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,t,i){"use strict";var n=i(10),r=i(44),o=function(e){this._t=r(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};i(458)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,i){var n=i(239),r=i(279),o=i(215),a=i(10),s=i(46),l=i(44);a(a.S,"Reflect",{get:function e(t,i){var a,c,d=arguments.length<3?t:arguments[2];return l(t)===d?t[i]:(a=n.f(t,i))?o(a,"value")?a.value:void 0!==a.get?a.get.call(d):void 0:s(c=r(t))?e(c,i,d):void 0}})},function(e,t,i){var n=i(239),r=i(10),o=i(44);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,i){var n=i(10),r=i(279),o=i(44);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,i){var n=i(10);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,i){var n=i(10),r=i(44),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,i){var n=i(10);n(n.S,"Reflect",{ownKeys:i(471)})},function(e,t,i){var n=i(10),r=i(44),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,i){var n=i(89),r=i(239),o=i(279),a=i(215),s=i(10),l=i(272),c=i(44),d=i(46);s(s.S,"Reflect",{set:function e(t,i,s){var u,h,p=arguments.length<4?t:arguments[3],f=r.f(c(t),i);if(!f){if(d(h=o(t)))return e(h,i,s,p);f=l(0)}if(a(f,"value")){if(!1===f.writable||!d(p))return!1;if(u=r.f(p,i)){if(u.get||u.set||!1===u.writable)return!1;u.value=s,n.f(p,i,u)}else n.f(p,i,l(0,s));return!0}return void 0!==f.set&&(f.set.call(p,s),!0)}})},function(e,t,i){var n=i(10),r=i(382);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,i){i(756),e.exports=i(92).Array.includes},function(e,t,i){"use strict";var n=i(10),r=i(352)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(322)("includes")},function(e,t,i){i(758),e.exports=i(92).String.padStart},function(e,t,i){"use strict";var n=i(10),r=i(472),o=i(360),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,i){i(760),e.exports=i(92).String.padEnd},function(e,t,i){"use strict";var n=i(10),r=i(472),o=i(360),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,i){i(762),e.exports=i(377).f("asyncIterator")},function(e,t,i){i(445)("asyncIterator")},function(e,t,i){i(764),e.exports=i(92).Object.getOwnPropertyDescriptors},function(e,t,i){var n=i(10),r=i(471),o=i(217),a=i(239),s=i(394);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=o(e),l=a.f,c=r(n),d={},u=0;c.length>u;)void 0!==(i=l(n,t=c[u++]))&&s(d,t,i);return d}})},function(e,t,i){i(766),e.exports=i(92).Object.values},function(e,t,i){var n=i(10),r=i(473)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,t,i){i(768),e.exports=i(92).Object.entries},function(e,t,i){var n=i(10),r=i(473)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,t,i){"use strict";i(465),i(770),e.exports=i(92).Promise.finally},function(e,t,i){"use strict";var n=i(10),r=i(92),o=i(42),a=i(337),s=i(467);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),i="function"==typeof e;return this.then(i?function(i){return s(t,e()).then(function(){return i})}:e,i?function(i){return s(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){i(772),i(773),i(774),e.exports=i(92)},function(e,t,i){var n=i(42),r=i(10),o=i(360),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,i){var n=arguments.length>2,r=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,i)}};r(r.G+r.B+r.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(e,t,i){var n=i(10),r=i(400);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,i){for(var n=i(397),r=i(275),o=i(125),a=i(42),s=i(216),l=i(321),c=i(58),d=c("iterator"),u=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),g=0;g<f.length;g++){var m,v=f[g],b=p[v],y=a[v],w=y&&y.prototype;if(w&&(w[d]||s(w,d,h),w[u]||s(w,u,v),l[v]=h,b))for(m in n)w[m]||o(w,m,n[m],!0)}},function(e,t){!function(t){"use strict";var i,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof e,d=t.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var u="suspendedStart",h="suspendedYield",p="executing",f="completed",g={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=C.prototype=x.prototype=Object.create(m);_.prototype=y.constructor=C,C.constructor=_,C[l]=_.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},d.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},d.AsyncIterator=T,d.async=function(e,t,i,n){var r=new T(w(e,t,i,n));return d.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},S(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},d.values=E,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;D(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),g}}}function w(e,t,i,n){var r=t&&t.prototype instanceof x?t:x,o=Object.create(r.prototype),a=new P(n||[]);return o._invoke=function(e,t,i){var n=u;return function(r,o){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw o;return A()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=M(a,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var l=k(e,t,i);if("normal"===l.type){if(n=i.done?f:h,l.arg===g)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(e,i,a),o}function k(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function x(){}function _(){}function C(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(i,n){function o(){return new Promise(function(t,o){!function t(i,n,o,a){var s=k(e[i],e,n);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,a)})}a(s.arg)}(i,n,t,o)})}return t=t?t.then(o,o):o()}}function M(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,M(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=k(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:i,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(402),i(11),i(6),i(8),i(64),i(365),i(818),i(5),i(347),i(47),i(330),i(219),i(348),i(13),i(254),i(24),i(29),i(45),i(16),i(524),i(417),i(48),i(428),i(34),i(12),i(62),i(902),i(522),i(7),i(253),i(4),i(94),i(262),i(106),i(509),i(36),i(37),i(242),i(345),i(213),i(349),i(236),i(430),i(232),i(235),i(426),i(425),i(97)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T,M,I,D,P,E,A,F,L,N,R,j,z,O,B,U,$,V,H,G,K,q,W,Y,Q,X,Z){"use strict";window.$=window.$||e,window.jQuery=window.jQuery||e,window.Backbone=n,window._=t,window.Q=r;var J=window.marvel||{};window.marvel=J,window.marvel.clsAppImpl=k,window.marvel.clsAppStorage=x,window.marvel.clsLogger=a,window.marvel.AuthController=h,window.marvel.AppRegistry=w,window.marvel.BrandKit=_,window.marvel.ColorPicker=C,window.marvel.ColorUtils=S,window.marvel.SparkFonts=T,window.marvel.FontPicker=M,window.marvel.UpgradeController=I,window.marvel.ConfirmView=D,window.marvel.DropdownView=P,window.marvel.PreviewOverlayView=E,window.marvel.ImagePickerView=A,window.marvel.G11N=l,window.marvel.muiStorage=b,window.marvel.MarvelApps=y,window.marvel.ExperimentEngine=B,window.marvel.UUID=U,window.marvel.Analytics=N,window.marvel.SparkFontsRegistry=$,window.marvel.SparkFontMetrics=V,window.marvel.MuiImageResultItem=H,window.marvel.MuiCompositeDocModel=G,window.marvel.FBAnalytics=K,window.marvel.BrandKitFontCards=q,window.marvel.FacebookAPIController=W,window.marvel.CanvasToBlob=Y,window.marvel.NewRelic=R,window.marvel.MarvelCoreViewImageFilter=Q,window.marvel.MarvelCoreViewDooploRequest=X,window.marvel.jszip=o,window.marvel.retry=Z,J.routers=J.routers||{},J._isInApp=!0,f.isLoadedAndConsented().then(function(e){e&&L.isLoaded().then(function(){L.setAdobeNavConsent(!0)}).done()}).catch(function(e){window.marvel.logger.info("User consent not given. Evidon timed out/failed to load")}).done(),d.initialize(),h.clientId=s.cid,h.apiKey=s.key,h.imsService=s.imss,window.adobeid=h.defineAdobeId(),window.marvel.events=c,J.features=F,J.settings=s,N.setProductName("projectm"),!0!==window.marvel._isTestEnv&&(j.init(),j.triggerPageLoadAnalyticsEvents());var ee=r.defer();J.appIsReady=ee.promise,J.theoWebAppRegistered=r.defer(),J.dynamicScriptsLoadedDefer=r.defer(),J.dynamicScriptsLoaded=J.dynamicScriptsLoadedDefer.promise,J.logger=new a,Promise.all([i.e(5),i.e(4)]).then(function(e){i(350).init()}.bind(null,i)).catch(i.oe),B.init(),g.init(),p.init(),m.init(),v.init(),i(904).registerProviders(),O.registerMessageView({MessageViewCls:i(912)}),O.registerMessageView({MessageViewCls:i(914)}),O.registerMessageView({MessageViewCls:i(599),parentSelector:".inapp-merch-overlay"}),O.registerMessageView({MessageViewCls:i(498),controller:i(408)}),O.registerMessageView({MessageViewCls:i(499),controller:i(408)}),O.registerMessageView({MessageViewCls:i(410),parentSelector:".popup-message-wrapper"}),O.registerMessageView({MessageViewCls:i(412)}),O.registerMessageView({MessageViewCls:i(932)}),J.appGlobalsAreReady=r.Promise.resolve(),e(function(){if(!h.checkUserAgentNavIfNotOk())return ee.reject();window.marvel.dynamicScriptsLoaded.then(function(){b.enableStorage(s.ss),J.routers.main=new u,J.navigate=function(e,t){J.routers.main.navigate(e,t)},n.history.start({pushState:!0,root:"/"+l.localePathPrefix+"sp/",hashChange:!1}),y.registerApps(w),ee.resolve()}).catch(function(e){window.marvel.logger.error(e)}).done()}),window.addEventListener("unhandledrejection",function(e){window.marvel.logger.error("unhandledRejection event emitted.",e.reason)})}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";var n=i(326),r=i(59),o=i(218),a=i(480),s=i(481),l=i(405),c=i(796),d=i(797),u=i(363),h=i(809),p=function(e,t,i){var n,a=r.getTypeOf(t),d=r.extend(i||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=g(e)),d.createFolders&&(n=f(e))&&m.call(this,n,!0);var p="string"===a&&!1===d.binary&&!1===d.base64;i&&void 0!==i.binary||(d.binary=!p),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",a="string");var v=null;v=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new h(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var b=new c(e,v,d);this.files[e]=b},f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach(function(i,n){e(i,n)&&t.push(n)}),t},file:function(e,t,i){if(1===arguments.length){if(v(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,p.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,i){return i.dir&&e.test(t)});var t=this.root+e,i=m.call(this,t),n=this.clone();return n.root=i.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter(function(t,i){return i.name.slice(0,e.length)===e}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");r.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var s=i.comment||this.comment||"";t=d.generateWorker(this,i,s)}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=b},function(e,t,i){i(779),e.exports=i(476).setImmediate},function(e,t,i){var n=i(780),r=i(788);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,i){var n=i(364),r=i(476),o=i(477),a=i(782),s=function(e,t,i){var l,c,d,u=e&s.F,h=e&s.G,p=e&s.S,f=e&s.P,g=e&s.B,m=e&s.W,v=h?r:r[t]||(r[t]={}),b=v.prototype,y=h?n:p?n[t]:(n[t]||{}).prototype;for(l in h&&(i=t),i)(c=!u&&y&&void 0!==y[l])&&l in v||(d=c?y[l]:i[l],v[l]=h&&"function"!=typeof y[l]?i[l]:g&&c?o(d,n):m&&y[l]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):f&&"function"==typeof d?o(Function.call,d):d,f&&((v.virtual||(v.virtual={}))[l]=d,e&s.R&&b&&!b[l]&&a(b,l,d)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(783),r=i(787);e.exports=i(404)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(784),r=i(785),o=i(786),a=Object.defineProperty;t.f=i(404)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(403);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){e.exports=!i(404)&&!i(478)(function(){return 7!=Object.defineProperty(i(479)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(403);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n,r,o,a=i(477),s=i(789),l=i(790),c=i(479),d=i(364),u=d.process,h=d.setImmediate,p=d.clearImmediate,f=d.MessageChannel,g=0,m={},v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){v.call(e.data)};h&&p||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete m[e]},"process"==i(791)(u)?n=function(e){u.nextTick(a(v,e,1))}:f?(o=(r=new f).port2,r.port1.onmessage=b,n=a(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){e.exports=i(364).document&&document.documentElement},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){"use strict";var n=i(793);function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function d(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(e,t,i){n(function(){var n;try{n=t(i)}catch(t){return o.reject(e,t)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,o.reject(e,t))}function r(t){i||(i=!0,o.resolve(e,t))}var a=f(function(){t(r,n)});"error"===a.status&&n(a.value)}function f(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(r);this.state!==l?u(i,this.state===s?e:t,this.outcome):this.queue.push(new d(i,e,t));return i},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var i=f(h,t);if("error"===i.status)return o.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);var a=new Array(i),s=0,l=-1,c=new this(r);for(;++l<i;)d(e[l],l);return c;function d(e,r){t.resolve(e).then(function(e){a[r]=e,++s!==i||n||(n=!0,o.resolve(c,a))},function(e){n||(n=!0,o.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);var a=-1,s=new this(r);for(;++a<i;)l(e[a]);return s;function l(e){t.resolve(e).then(function(e){n||(n=!0,o.resolve(s,e))},function(e){n||(n=!0,o.reject(s,e))})}}},function(e,t,i){"use strict";(function(t){var i,n,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,a=new r(d),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,i=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;n=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}n=!1}e.exports=function(e){1!==c.push(e)||n||i()}}).call(this,i(9))},function(e,t,i){"use strict";var n=i(218),r=i(59);function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,i){"use strict";var n=i(474).Readable;function r(e,t,i){n.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),i&&i(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}i(59).inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(e,t,i){"use strict";var n=i(480),r=i(482),o=i(326),a=i(405),s=i(218),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new n(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,i){"use strict";var n=i(485),r=i(808);t.generateWorker=function(e,t,i){var o=new r(t.streamFiles,i,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,i){a++;var r=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(e){o.error(e)}return o}},function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=i(799),o=i(59),a=i(218),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,i){"use strict";var n={};(0,i(258).assign)(n,i(800),i(803),i(490)),e.exports=n},function(e,t,i){"use strict";var n=i(801),r=i(258),o=i(488),a=i(407),s=i(489),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=n.deflateSetDictionary(this.strm,f))!==c)throw new Error(a[i]);this._dict_set=!0}}function f(e,t){var i=new p(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}p.prototype.push=function(e,t){var i,a,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(d),s.next_out=0,s.avail_out=d),1!==(i=n.deflate(s,a))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=p,t.deflate=f,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},function(e,t,i){"use strict";var n,r=i(258),o=i(802),a=i(486),s=i(487),l=i(407),c=0,d=1,u=3,h=4,p=5,f=0,g=1,m=-2,v=-3,b=-5,y=-1,w=1,k=2,x=3,_=4,C=0,S=2,T=8,M=9,I=15,D=8,P=286,E=30,A=19,F=2*P+1,L=15,N=3,R=258,j=R+N+1,z=32,O=42,B=69,U=73,$=91,V=103,H=113,G=666,K=1,q=2,W=3,Y=4,Q=3;function X(e,t){return e.msg=l[t],t}function Z(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function re(e,t,i,n){var o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,i),1===e.state.wrap?e.adler=a(e.adler,t,o,i):2===e.state.wrap&&(e.adler=s(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+R,p=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===f&&c[i+a-1]===p&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<h);if(n=R-(h-o),o=h-R,n>a){if(e.match_start=t,a=n,n>=s)break;p=c[o+a-1],f=c[o+a]}}}while((t=u[t&d])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,i,n,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-j)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--i);t=i=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--i);o+=s}if(0===e.strm.avail_in)break;if(i=re(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=N)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+N-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<N)););}while(e.lookahead<j&&0!==e.strm.avail_in)}function se(e,t){for(var i,n;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===c)return K;if(0===e.lookahead)break}if(i=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-j&&(e.match_length=oe(e,i)),e.match_length>=N)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<N-1?e.strstart:N-1,t===h?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:q}function le(e,t){for(var i,n,r;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===c)return K;if(0===e.lookahead)break}if(i=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-j&&(e.match_length=oe(e,i),e.match_length<=5&&(e.strategy===w||e.match_length===N&&e.strstart-e.match_start>4096)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-N,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=N-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,t===h?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:q}function ce(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?O:H,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),f):X(e,m)}function ue(e){var t=de(e);return t===f&&function(e){e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0}(e.state),t}function he(e,t,i,n,o,a){if(!e)return m;var s=1;if(t===y&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>M||i!==T||n<8||n>15||t<0||t>9||a<0||a>_)return X(e,m);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*F),this.dyn_dtree=new r.Buf16(2*(2*E+1)),this.bl_tree=new r.Buf16(2*(2*A+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*P+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*P+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+N-1)/N),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,ue(e)}n=[new ce(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===c)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-j&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?W:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),K)}),new ce(4,4,8,4,se),new ce(4,5,16,8,se),new ce(4,6,32,32,se),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return he(e,t,T,I,D,C)},t.deflateInit2=he,t.deflateReset=ue,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,f):m},t.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||t>p||t<0)return e?X(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===G&&t!==h)return X(e,0===e.avail_out?b:m);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===O)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,r.gzhead.time>>8&255),ie(r,r.gzhead.time>>16&255),ie(r,r.gzhead.time>>24&255),ie(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=B):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),ie(r,Q),r.status=H);else{var v=T+(r.w_bits-8<<4)<<8;v|=(r.strategy>=k||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=z),v+=31-v%31,r.status=H,ne(r,v),0!==r.strstart&&(ne(r,e.adler>>>16),ne(r,65535&e.adler)),e.adler=1}if(r.status===B)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));)ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=$)}else r.status=$;if(r.status===$)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,e.adler>>8&255),e.adler=0,r.status=H)):r.status=H),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,f}else if(0===e.avail_in&&Z(t)<=Z(i)&&t!==h)return X(e,b);if(r.status===G&&0!==e.avail_in)return X(e,b);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==G){var y=r.strategy===k?function(e,t){for(var i;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return K;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:q}(r,t):r.strategy===x?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=R){if(ae(e),e.lookahead<=R&&t===c)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=N&&e.strstart>0&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+R;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=R-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(i=o._tr_tally(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:q}(r,t):n[r.level].func(r,t);if(y!==W&&y!==Y||(r.status=G),y===K||y===W)return 0===e.avail_out&&(r.last_flush=-1),f;if(y===q&&(t===d?o._tr_align(r):t!==p&&(o._tr_stored_block(r,0,0,!1),t===u&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,f}return t!==h?f:r.wrap<=0?g:(2===r.wrap?(ie(r,255&e.adler),ie(r,e.adler>>8&255),ie(r,e.adler>>16&255),ie(r,e.adler>>24&255),ie(r,255&e.total_in),ie(r,e.total_in>>8&255),ie(r,e.total_in>>16&255),ie(r,e.total_in>>24&255)):(ne(r,e.adler>>>16),ne(r,65535&e.adler)),ee(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?f:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==O&&t!==B&&t!==U&&t!==$&&t!==V&&t!==H&&t!==G?X(e,m):(e.state=null,t===H?X(e,v):f):m},t.deflateSetDictionary=function(e,t){var i,n,o,s,l,c,d,u,h=t.length;if(!e||!e.state)return m;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==O||i.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,h,0)),i.wrap=0,h>=i.w_size&&(0===s&&(J(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new r.Buf8(i.w_size),r.arraySet(u,t,h-i.w_size,i.w_size,0),t=u,h=i.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,ae(i);i.lookahead>=N;){n=i.strstart,o=i.lookahead-(N-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+N-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=N-1,ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=N-1,i.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,i.wrap=s,f},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";var n=i(258),r=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,u=2,h=29,p=256,f=p+1+h,g=30,m=19,v=2*f+1,b=15,y=16,w=7,k=256,x=16,_=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(f+2));l(D);var P=new Array(2*g);l(P);var E=new Array(512);l(E);var A=new Array(256);l(A);var F=new Array(h);l(F);var L,N,R,j=new Array(g);function z(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function B(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function $(e,t,i){e.bi_valid>y-i?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=i-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function V(e,t,i){$(e,i[2*t],i[2*t+1])}function H(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function G(e,t,i){var n,r,o=new Array(b+1),a=0;for(n=1;n<=b;n++)o[n]=a=a+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=H(o[s]++,s))}}function K(e){var t;for(t=0;t<f;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*k]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){e.bi_valid>8?U(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function Y(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&W(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!W(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function Q(e,t,i){var n,r,o,a,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===n?V(e,r,t):(V(e,(o=A[r])+p+1,t),0!==(a=S[o])&&$(e,r-=F[o],a),V(e,o=B(--n),i),0!==(a=T[o])&&$(e,n-=j[o],a))}while(s<e.last_lit);V(e,k,t)}function X(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,i=0;i<l;i++)0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)Y(e,o,i);r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,Y(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(o=0;o<=b;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<v;i++)(o=l[2*l[2*(n=e.heap[i])+1]+1]+1)>f&&(o=f,g++),l[2*n+1]=o,n>c||(e.bl_count[o]++,a=0,n>=p&&(a=h[n-p]),s=l[2*n],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(d[2*n+1]+a)));if(0!==g){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(n=e.bl_count[o];0!==n;)(r=e.heap[--i])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}(e,t),G(o,c,e.bl_count)}function Z(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*x]++):s<=10?e.bl_tree[2*_]++:e.bl_tree[2*C]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function J(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++)if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{V(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(V(e,r,e.bl_tree),s--),V(e,x,e.bl_tree),$(e,s-3,2)):s<=10?(V(e,_,e.bl_tree),$(e,s-3,3)):(V(e,C,e.bl_tree),$(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(j);var ee=!1;function te(e,t,i,r){$(e,(c<<1)+(r?1:0),3),function(e,t,i,r){q(e),r&&(U(e,i),U(e,~i)),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}t._tr_init=function(e){ee||(function(){var e,t,i,n,r,o=new Array(b+1);for(i=0,n=0;n<h-1;n++)for(F[n]=i,e=0;e<1<<S[n];e++)A[i++]=n;for(A[i-1]=n,r=0,n=0;n<16;n++)for(j[n]=r,e=0;e<1<<T[n];e++)E[r++]=n;for(r>>=7;n<g;n++)for(j[n]=r<<7,e=0;e<1<<T[n]-7;e++)E[256+r++]=n;for(t=0;t<=b;t++)o[t]=0;for(e=0;e<=143;)D[2*e+1]=8,e++,o[8]++;for(;e<=255;)D[2*e+1]=9,e++,o[9]++;for(;e<=279;)D[2*e+1]=7,e++,o[7]++;for(;e<=287;)D[2*e+1]=8,e++,o[8]++;for(G(D,f+1,o),e=0;e<g;e++)P[2*e+1]=5,P[2*e]=H(e,5);L=new z(D,S,p+1,f,b),N=new z(P,T,0,g,b),R=new z(new Array(0),M,0,m,w)}(),ee=!0),e.l_desc=new O(e.dyn_ltree,L),e.d_desc=new O(e.dyn_dtree,N),e.bl_desc=new O(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,K(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,i,n){var l,c,h=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),X(e,e.l_desc),X(e,e.d_desc),h=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=m-1;t>=3&&0===e.bl_tree[2*I[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=i+5,i+4<=l&&-1!==t?te(e,t,i,n):e.strategy===r||c===l?($(e,(d<<1)+(n?1:0),3),Q(e,D,P)):($(e,(u<<1)+(n?1:0),3),function(e,t,i,n){var r;for($(e,t-257,5),$(e,i-1,5),$(e,n-4,4),r=0;r<n;r++)$(e,e.bl_tree[2*I[r]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),Q(e,e.dyn_ltree,e.dyn_dtree)),K(e),n&&q(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(A[i]+p+1)]++,e.dyn_dtree[2*B(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){$(e,d<<1,3),V(e,k,D),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var n=i(804),r=i(258),o=i(488),a=i(490),s=i(407),l=i(489),c=i(807),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function h(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}u.prototype.push=function(e,t){var i,s,l,c,u,h,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(i=n.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(h="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,i=n.inflateSetDictionary(this.strm,h)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,u=o.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&r.arraySet(p.output,p.output,l,c,0),this.onData(u)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,i){"use strict";var n=i(258),r=i(486),o=i(487),a=i(805),s=i(806),l=0,c=1,d=2,u=4,h=5,p=6,f=0,g=1,m=2,v=-2,b=-3,y=-4,w=-5,k=8,x=1,_=2,C=3,S=4,T=5,M=6,I=7,D=8,P=9,E=10,A=11,F=12,L=13,N=14,R=15,j=16,z=17,O=18,B=19,U=20,$=21,V=22,H=23,G=24,K=25,q=26,W=27,Y=28,Q=29,X=30,Z=31,J=32,ee=852,te=592,ie=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,f):v}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):v}function ae(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,oe(e))):v}function se(e,t){var i,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(i=ae(e,t))!==f&&(e.state=null),i):v}var le,ce,de=!0;function ue(e){if(de){var t;for(le=new n.Buf32(512),ce=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(d,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function he(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=re,t.inflateInit=function(e){return se(e,ie)},t.inflateInit2=se,t.inflate=function(e,t){var i,ee,te,ie,re,oe,ae,se,le,ce,de,pe,fe,ge,me,ve,be,ye,we,ke,xe,_e,Ce,Se,Te=0,Me=new n.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(i=e.state).mode===F&&(i.mode=L),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,ce=oe,de=ae,_e=f;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=L;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(2&i.wrap&&35615===se){i.check=0,Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0),se=0,le=0,i.mode=_;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",i.mode=X;break}if((15&se)!==k){e.msg="unknown compression method",i.mode=X;break}if(le-=4,xe=8+(15&(se>>>=4)),0===i.wbits)i.wbits=xe;else if(xe>i.wbits){e.msg="invalid window size",i.mode=X;break}i.dmax=1<<xe,e.adler=i.check=1,i.mode=512&se?E:F,se=0,le=0;break;case _:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.flags=se,(255&i.flags)!==k){e.msg="unknown compression method",i.mode=X;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=X;break}i.head&&(i.head.text=se>>8&1),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0,i.mode=C;case C:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.time=se),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,Me[2]=se>>>16&255,Me[3]=se>>>24&255,i.check=o(i.check,Me,4,0)),se=0,le=0,i.mode=S;case S:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.xflags=255&se,i.head.os=se>>8),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0,i.mode=T;case T:if(1024&i.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length=se,i.head&&(i.head.extra_len=se),512&i.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,i.check=o(i.check,Me,2,0)),se=0,le=0}else i.head&&(i.head.extra=null);i.mode=M;case M:if(1024&i.flags&&((pe=i.length)>oe&&(pe=oe),pe&&(i.head&&(xe=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,ee,ie,pe,xe)),512&i.flags&&(i.check=o(i.check,ee,pe,ie)),oe-=pe,ie+=pe,i.length-=pe),i.length))break e;i.length=0,i.mode=I;case I:if(2048&i.flags){if(0===oe)break e;pe=0;do{xe=ee[ie+pe++],i.head&&xe&&i.length<65536&&(i.head.name+=String.fromCharCode(xe))}while(xe&&pe<oe);if(512&i.flags&&(i.check=o(i.check,ee,pe,ie)),oe-=pe,ie+=pe,xe)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=D;case D:if(4096&i.flags){if(0===oe)break e;pe=0;do{xe=ee[ie+pe++],i.head&&xe&&i.length<65536&&(i.head.comment+=String.fromCharCode(xe))}while(xe&&pe<oe);if(512&i.flags&&(i.check=o(i.check,ee,pe,ie)),oe-=pe,ie+=pe,xe)break e}else i.head&&(i.head.comment=null);i.mode=P;case P:if(512&i.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(65535&i.check)){e.msg="header crc mismatch",i.mode=X;break}se=0,le=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=F;break;case E:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}e.adler=i.check=ne(se),se=0,le=0,i.mode=A;case A:if(0===i.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,m;e.adler=i.check=1,i.mode=F;case F:if(t===h||t===p)break e;case L:if(i.last){se>>>=7&le,le-=7&le,i.mode=W;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}switch(i.last=1&se,le-=1,3&(se>>>=1)){case 0:i.mode=N;break;case 1:if(ue(i),i.mode=U,t===p){se>>>=2,le-=2;break e}break;case 2:i.mode=z;break;case 3:e.msg="invalid block type",i.mode=X}se>>>=2,le-=2;break;case N:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",i.mode=X;break}if(i.length=65535&se,se=0,le=0,i.mode=R,t===p)break e;case R:i.mode=j;case j:if(pe=i.length){if(pe>oe&&(pe=oe),pe>ae&&(pe=ae),0===pe)break e;n.arraySet(te,ee,ie,pe,re),oe-=pe,ie+=pe,ae-=pe,re+=pe,i.length-=pe;break}i.mode=F;break;case z:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.nlen=257+(31&se),se>>>=5,le-=5,i.ndist=1+(31&se),se>>>=5,le-=5,i.ncode=4+(15&se),se>>>=4,le-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=X;break}i.have=0,i.mode=O;case O:for(;i.have<i.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.lens[Ie[i.have++]]=7&se,se>>>=3,le-=3}for(;i.have<19;)i.lens[Ie[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ce={bits:i.lenbits},_e=s(l,i.lens,0,19,i.lencode,0,i.work,Ce),i.lenbits=Ce.bits,_e){e.msg="invalid code lengths set",i.mode=X;break}i.have=0,i.mode=B;case B:for(;i.have<i.nlen+i.ndist;){for(;ve=(Te=i.lencode[se&(1<<i.lenbits)-1])>>>16&255,be=65535&Te,!((me=Te>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(be<16)se>>>=me,le-=me,i.lens[i.have++]=be;else{if(16===be){for(Se=me+2;le<Se;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se>>>=me,le-=me,0===i.have){e.msg="invalid bit length repeat",i.mode=X;break}xe=i.lens[i.have-1],pe=3+(3&se),se>>>=2,le-=2}else if(17===be){for(Se=me+3;le<Se;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,xe=0,pe=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(Se=me+7;le<Se;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,xe=0,pe=11+(127&(se>>>=me)),se>>>=7,le-=7}if(i.have+pe>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=X;break}for(;pe--;)i.lens[i.have++]=xe}}if(i.mode===X)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=X;break}if(i.lenbits=9,Ce={bits:i.lenbits},_e=s(c,i.lens,0,i.nlen,i.lencode,0,i.work,Ce),i.lenbits=Ce.bits,_e){e.msg="invalid literal/lengths set",i.mode=X;break}if(i.distbits=6,i.distcode=i.distdyn,Ce={bits:i.distbits},_e=s(d,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ce),i.distbits=Ce.bits,_e){e.msg="invalid distances set",i.mode=X;break}if(i.mode=U,t===p)break e;case U:i.mode=$;case $:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,a(e,de),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,i.mode===F&&(i.back=-1);break}for(i.back=0;ve=(Te=i.lencode[se&(1<<i.lenbits)-1])>>>16&255,be=65535&Te,!((me=Te>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(ve&&0==(240&ve)){for(ye=me,we=ve,ke=be;ve=(Te=i.lencode[ke+((se&(1<<ye+we)-1)>>ye)])>>>16&255,be=65535&Te,!(ye+(me=Te>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ye,le-=ye,i.back+=ye}if(se>>>=me,le-=me,i.back+=me,i.length=be,0===ve){i.mode=q;break}if(32&ve){i.back=-1,i.mode=F;break}if(64&ve){e.msg="invalid literal/length code",i.mode=X;break}i.extra=15&ve,i.mode=V;case V:if(i.extra){for(Se=i.extra;le<Se;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=H;case H:for(;ve=(Te=i.distcode[se&(1<<i.distbits)-1])>>>16&255,be=65535&Te,!((me=Te>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(0==(240&ve)){for(ye=me,we=ve,ke=be;ve=(Te=i.distcode[ke+((se&(1<<ye+we)-1)>>ye)])>>>16&255,be=65535&Te,!(ye+(me=Te>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ye,le-=ye,i.back+=ye}if(se>>>=me,le-=me,i.back+=me,64&ve){e.msg="invalid distance code",i.mode=X;break}i.offset=be,i.extra=15&ve,i.mode=G;case G:if(i.extra){for(Se=i.extra;le<Se;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.offset+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=X;break}i.mode=K;case K:if(0===ae)break e;if(pe=de-ae,i.offset>pe){if((pe=i.offset-pe)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=X;break}pe>i.wnext?(pe-=i.wnext,fe=i.wsize-pe):fe=i.wnext-pe,pe>i.length&&(pe=i.length),ge=i.window}else ge=te,fe=re-i.offset,pe=i.length;pe>ae&&(pe=ae),ae-=pe,i.length-=pe;do{te[re++]=ge[fe++]}while(--pe);0===i.length&&(i.mode=$);break;case q:if(0===ae)break e;te[re++]=i.length,ae--,i.mode=$;break;case W:if(i.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ie++]<<le,le+=8}if(de-=ae,e.total_out+=de,i.total+=de,de&&(e.adler=i.check=i.flags?o(i.check,te,de,re-de):r(i.check,te,de,re-de)),de=ae,(i.flags?se:ne(se))!==i.check){e.msg="incorrect data check",i.mode=X;break}se=0,le=0}i.mode=Y;case Y:if(i.wrap&&i.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=X;break}se=0,le=0}i.mode=Q;case Q:_e=g;break e;case X:_e=b;break e;case Z:return y;case J:default:return v}return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,(i.wsize||de!==e.avail_out&&i.mode<X&&(i.mode<W||t!==u))&&he(e,e.output,e.next_out,de-e.avail_out)?(i.mode=Z,y):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,i.total+=de,i.wrap&&de&&(e.adler=i.check=i.flags?o(i.check,te,de,e.next_out-de):r(i.check,te,de,e.next_out-de)),e.data_type=i.bits+(i.last?64:0)+(i.mode===F?128:0)+(i.mode===U||i.mode===R?256:0),(0===ce&&0===de||t===u)&&_e===f&&(_e=w),_e)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,f},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?v:(i.head=t,t.done=!1,f):v},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==A?v:i.mode===A&&r(1,t,n,0)!==i.check?b:he(e,t,n,n)?(i.mode=Z,y):(i.havedict=1,f):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports=function(e,t){var i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T;i=e.state,n=e.next_in,S=e.input,r=n+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,d=i.whave,u=i.wnext,h=i.window,p=i.hold,f=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;e:do{f<15&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),y=g[p&v];t:for(;;){if(p>>>=w=y>>>24,f-=w,0===(w=y>>>16&255))T[o++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(p&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}k=65535&y,(w&=15)&&(f<w&&(p+=S[n++]<<f,f+=8),k+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),y=m[p&b];i:for(;;){if(p>>>=w=y>>>24,f-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=m[(65535&y)+(p&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(x=65535&y,f<(w&=15)&&(p+=S[n++]<<f,(f+=8)<w&&(p+=S[n++]<<f,f+=8)),(x+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=w,f-=w,x>(w=o-a)){if((w=x-w)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(_=0,C=h,0===u){if(_+=c-w,w<k){k-=w;do{T[o++]=h[_++]}while(--w);_=o-x,C=T}}else if(u<w){if(_+=c+u-w,(w-=u)<k){k-=w;do{T[o++]=h[_++]}while(--w);if(_=0,u<k){k-=w=u;do{T[o++]=h[_++]}while(--w);_=o-x,C=T}}}else if(_+=u-w,w<k){k-=w;do{T[o++]=h[_++]}while(--w);_=o-x,C=T}for(;k>2;)T[o++]=C[_++],T[o++]=C[_++],T[o++]=C[_++],k-=3;k&&(T[o++]=C[_++],k>1&&(T[o++]=C[_++]))}else{_=o-x;do{T[o++]=T[_++],T[o++]=T[_++],T[o++]=T[_++],k-=3}while(k>2);k&&(T[o++]=T[_++],k>1&&(T[o++]=T[_++]))}break}}break}}while(n<r&&o<s);n-=k=f>>3,p&=(1<<(f-=k<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=p,i.bits=f}},function(e,t,i){"use strict";var n=i(258),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,d,u,h){var p,f,g,m,v,b,y,w,k,x=h.bits,_=0,C=0,S=0,T=0,M=0,I=0,D=0,P=0,E=0,A=0,F=null,L=0,N=new n.Buf16(16),R=new n.Buf16(16),j=null,z=0;for(_=0;_<=15;_++)N[_]=0;for(C=0;C<l;C++)N[t[i+C]]++;for(M=x,T=15;T>=1&&0===N[T];T--);if(M>T&&(M=T),0===T)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(S=1;S<T&&0===N[S];S++);for(M<S&&(M=S),P=1,_=1;_<=15;_++)if(P<<=1,(P-=N[_])<0)return-1;if(P>0&&(0===e||1!==T))return-1;for(R[1]=0,_=1;_<15;_++)R[_+1]=R[_]+N[_];for(C=0;C<l;C++)0!==t[i+C]&&(u[R[t[i+C]]++]=C);if(0===e?(F=j=u,b=19):1===e?(F=r,L-=257,j=o,z-=257,b=256):(F=a,j=s,b=-1),A=0,C=0,_=S,v=d,I=M,D=0,g=-1,m=(E=1<<M)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){y=_-D,u[C]<b?(w=0,k=u[C]):u[C]>b?(w=j[z+u[C]],k=F[L+u[C]]):(w=96,k=0),p=1<<_-D,S=f=1<<I;do{c[v+(A>>D)+(f-=p)]=y<<24|w<<16|k|0}while(0!==f);for(p=1<<_-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,C++,0==--N[_]){if(_===T)break;_=t[i+u[C]]}if(_>M&&(A&m)!==g){for(0===D&&(D=M),v+=S,P=1<<(I=_-D);I+D<T&&!((P-=N[I+D])<=0);)I++,P<<=1;if(E+=1<<I,1===e&&E>852||2===e&&E>592)return 1;c[g=A&m]=M<<24|I<<16|v-d|0}}return 0!==A&&(c[v+A]=_-D<<24|64<<16|0),h.bits=M,0}},function(e,t,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,i){"use strict";var n=i(59),r=i(218),o=i(326),a=i(406),s=i(491),l=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},c=function(e,t,i,r,c,d){var u,h,p=e.file,f=e.compression,g=d!==o.utf8encode,m=n.transformTo("string",d(p.name)),v=n.transformTo("string",o.utf8encode(p.name)),b=p.comment,y=n.transformTo("string",d(b)),w=n.transformTo("string",o.utf8encode(b)),k=v.length!==p.name.length,x=w.length!==b.length,_="",C="",S="",T=p.dir,M=p.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),g||!k&&!x||(D|=2048);var P=0,E=0;T&&(P|=16),"UNIX"===c?(E=798,P|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(p.unixPermissions,T)):(E=20,P|=function(e,t){return 63&(e||0)}(p.dosPermissions)),u=M.getUTCHours(),u<<=6,u|=M.getUTCMinutes(),u<<=5,u|=M.getUTCSeconds()/2,h=M.getUTCFullYear()-1980,h<<=4,h|=M.getUTCMonth()+1,h<<=5,h|=M.getUTCDate(),k&&(C=l(1,1)+l(a(m),4)+v,_+="up"+l(C.length,2)+C),x&&(S=l(1,1)+l(a(y),4)+w,_+="uc"+l(S.length,2)+S);var A="";return A+="\n\0",A+=l(D,2),A+=f.magic,A+=l(u,2),A+=l(h,2),A+=l(I.crc32,4),A+=l(I.compressedSize,4),A+=l(I.uncompressedSize,4),A+=l(m.length,2),A+=l(_.length,2),{fileRecord:s.LOCAL_FILE_HEADER+A+m+_,dirRecord:s.CENTRAL_FILE_HEADER+l(E,2)+A+l(y.length,2)+"\0\0\0\0"+l(P,4)+l(r,4)+m+_+y}};function d(e,t,i,n){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(d,r),d.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,r=function(e,t,i,r,o){var a=n.transformTo("string",o(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(a.length,2)+a}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},d.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,i){"use strict";var n=i(59),r=i(218);function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,i){"use strict";var n=i(59),r=i(338),o=i(326),a=(n=i(59),i(811)),s=i(484),l=i(363);function c(e){return new r.Promise(function(t,i){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",function(e){i(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var i=new a(t);return i.load(e),i}).then(function(e){var i=[r.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)i.push(c(n[o]));return r.Promise.all(i)}).then(function(e){for(var n=e.shift(),r=n.files,o=0;o<r.length;o++){var a=r[o];i.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i})}},function(e,t,i){"use strict";var n=i(492),r=i(59),o=i(491),a=i(814),s=(i(326),i(257));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",i=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,i){"use strict";var n=i(494);function r(e){n.call(this,e)}i(59).inherits(r,n),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,i){"use strict";var n=i(495);function r(e){n.call(this,e)}i(59).inherits(r,n),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,i){"use strict";var n=i(492),r=i(59),o=i(405),a=i(406),s=i(326),l=i(485),c=i(257);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},,,,function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(5),i(7),i(70),i(237),i(98),i(593),i(286),i(259),i(248),i(819),i(366),i(865),i(106),i(867),i(875),i(16),i(4),i(877),i(99),i(24),i(6),i(878),i(34),i(507),i(888),i(35),i(56),i(12),i(894),i(253),i(36),i(895),i(896),i(900),i(41),i(214)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T,M,I,D,P,E,A,F,L,N,R,j,z,O,B,U){"use strict";return n.Router.extend({workflows:{"facebook-holiday-ad-design":{route:"facebook-holiday-ad",flows:[{flow:"selectRemixFlow",title:"Select a template below to get started",subtitle:"Add your own text and images to bring your holiday message to life.",layout:"featured_3up",workflow:"facebook-holiday-ad-design",category:"facebook-holiday-ad"}]},"feminist-quotes-design":{route:"feminist-quotes-design",flows:[{flow:"selectRemixFlow",title:"Select a template to get started",subtitle:"Customize with your own words and images to create a meme.",layout:"featured_3up",workflow:"feminist-quotes-design",category:"feminist-quotes-design",analytics:{shownSelectRemixFlow:"shownFeministQuotesSelectRemixFlow",selectedRemixDesign:"selectedFeministQuoteRemix"}}]}},currentView:null,viewCache:{},routes:{"accept-invite/*resourceURN":"handleAcceptInvite","folders-reset":"handleResetODB","branding/*kitId/import":"handleBrandKitImport","branding/*kitId(/:subPage)":"handleBrandKit",search:"handleSearch","design/:assetType/*assetId(/:subPage)":"handleDesign","design-remix/:assetType/*cpAssetId":"handleDesignRemix","design-new-from-theme/:assetType/:contextId/:themeId":"handleDesignNewFromTheme","design-edit-template/:assetType/:contextId/:templateId":"handleDesignEditTemplate","design-new-from-template/:assetType/:contextId/:templateId":"handleDesignNewFromTemplate","design-download/:assetType/:assetId":"handleDesignDownload","tmpl/:assetType/*assetId(/:subPage)":"handleTmpl","remix/:assetType/*assetId":"handleRemix","create-from-lr-album/:assetType":"handleLightroomEditor","remix-gallery/:assetType/*assetId(/:workflow)":"handleRemixGallery",templates:"handleTemplates",projects:"handleProjects","folders/:folderId":"handleFolders",settings:"handleSettings","settings/entitlement":"handleSettingsEntitlement","onboarding(/*fromflow)":"handleOnboarding","login(/:attrib)":"handleLogin","login/(:attrib)":"handleLogin","browser-detect":"handleUserAgent","prefs/:action":"handleMarketingPrefs","workflow/:workflow":"handleWorkflow","creativecloud(/*code)":"handleCreativeCloud","npw/search(/*etc)":"handleNPWSearch","npw(/:app)":"handleNPW","npw/:assetType/:assetId(/*etc)":"handleNPW",creativehigh:"handleCreativeHigh","*splat":"defaultRoute"},_hashCode:function(e){var t,i="",n=String(e);for(t=0;t<n.length;t++)i+=String.fromCharCode(n.charCodeAt(t)+18);return i},_codeMatches:function(e){var t,i=Math.floor(new Date/864e5);for(t=0;t<14;t++)if(this._hashCode(i-t)===e)return!0;return!1},_promptToContinue:function(){var e;try{e=window.localStorage.getItem("lastmarvelcustomkey")}catch(e){}if(e&&this._codeMatches(e)||(e=window.prompt("Please enter the key:")),this._codeMatches(e))try{window.localStorage.setItem("lastmarvelcustomkey",e)}catch(e){}else alert("Incorrect key."),this._promptToContinue()},_getAudienceManagerUserProfile:function(){var e=A.get("sparkAudienceManager");if(e&&e.length){var t=decodeURIComponent(e);if(t&&t.length){var i=t.split(",");if(i&&i.length){x.trackEvent("audienceManager:userProfileSegments",{context:JSON.stringify(i)},"app")}}}},initialize:function(){this.browserStorage=new B("sessionStorage"),this.container$=e(".mrvl-main-page"),s.allFeaturesLoaded().then(function(){(N.installAdobeNav(),s.hasFeature("enable-in-app-bumpering")&&j.enable(),this.globalNav=new h,this.globalNav.render(),s.hasFeature("simple-nav"))||e(".glb-nav-hamburger").on("click",function(){this.showGlobalNav()}.bind(this));this._getAudienceManagerUserProfile(),s.hasFeature("prompt-to-use")&&this._promptToContinue(),this.offlineController=new f,this.pageBody$=e("body"),this.pageBody$.hasClass("pre-auth-no-header")&&this.pageBody$.removeClass("pre-auth-no-header").addClass("full-header"),this.pageBody$.hasClass("pre-auth-full-header")&&this.pageBody$.removeClass("pre-auth-full-header").addClass("full-header"),this._handleNewsFeedInit()}.bind(this)),this.interstitialView=new u,marvel.events.on("mrvl-must-reload",this.handleMustReload.bind(this)),marvel.events.on("mrvl-show-global-nav",this.showGlobalNav.bind(this)),marvel.events.on("mrvl-hide-global-nav",this.hideGlobalNav.bind(this)),marvel.events.on("spark-bumper-on",this.handleBumperOn.bind(this)),marvel.events.on("spark-bumper-off",this.handleBumperOff.bind(this)),marvel.events.on("spark-bumper-location-settings-updated",this.handleBumperLocationSettingsUpdated.bind(this)),marvel.events.on("mrvl-show-user-login",this.handleLogin.bind(this))},handleMarketingPrefs:function(e){a.requiresAuth().then(function(){var t=new n.Model({showGlobalMarketingChoice:!1,mode:e});this._renderMarketingPrefs(t).then(function(){window.marvel.navigate("/",{trigger:!0})}.bind(this))}.bind(this))},_renderMarketingPrefs:function(t){return t.set("doneDefer",r.defer()),this.renderView(v,t,null,e(".mkt-optin-overlay")),t.get("doneDefer").promise},showGlobalNav:function(){this.globalNav&&this.globalNav.showMenu()},hideGlobalNav:function(){this.globalNav&&this.globalNav.hideMenu()},handleLogin:function(e){window.marvel.events.areaAndSectionChange("login"),e&&e.length&&R.registerAuthenticatedUserAttributes([e]),x._saveCampaign(),a.isValid().then(function(){this.navigate("/",{trigger:!0})}.bind(this),function(){x.TRACK_REFERRER=!0,x.setCampaign();var e=this._getLoginUserType(),t={referrer:document.referrer,sparkFormat:"webNoFormat",userType:e,landingPageReferrer:x.getLandingPageReferrer(),landingPageType:x.getLandingPageType(),landingPageUrl:x.getLandingPageUrl()};x.trackEvent("authentication:loginScreenDisplayed",t,"auth:landing",function(){x.trackEvent("auth:signInPageViewed",{referrer:document.referrer},"auth:landing",function(){var e=x.removeTrackingParams();window.history.replaceState(null,document.title,document.location.pathname+e+document.location.hash)})}),s.unauthenticatedFeaturesLoaded().then(function(){s.hasUnauthenticatedFeature("react-signin-view")?Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("react")]).then(function(e){var t=i(443).default,n=i(975).default;this.renderView(t.wrapComponent(n))}.bind(this).bind(null,i)).catch(i.oe):this.renderView(w)}.bind(this)).done()}.bind(this)).done()},_getLoginUserType:function(){var e="unknown";if(window.localStorage)try{"true"===window.localStorage.getItem("hasSeenLoginScreenBefore")?e="knownNotAuth":window.localStorage.setItem("hasSeenLoginScreenBefore","true")}catch(e){marvel.logger.warn("failed to retrieve userType",e)}return e},handleSearch:function(){a.requiresAuth().then(function(){return s.allFeaturesLoaded().then(function(){s.getFeature("enable-npw-search-experiment")?Promise.all([i.e(7),i.e(13)]).then(function(e){window.marvel.events.areaAndSectionChange("search");var t=i(601);this.renderView(t)}.bind(this).bind(null,i)).catch(i.oe):this.navigate("projects",{replace:!0,trigger:!0})}.bind(this))}.bind(this)).done()},handleBrandKit:function(e,t){a.requiresAuth().then(function(){return k.loadEditorView().then(function(e){window.marvel.events.areaAndSectionChange("brandkit"),_.triggerCCPaidConfirmationTag(),this.renderView(e)}.bind(this))}.bind(this)).done()},handleNPWSearch:function(e,t){var i=r.defer();t&&(t=E.parse("?"+t,!0).query),a.isValid().then(function(){s.allFeaturesLoaded().then(function(e){i.resolve({doingPreSusi:!1})}.bind(this)).done()},function(){s.unauthenticatedFeaturesLoaded().then(function(){s.hasUnauthenticatedFeature("npw-visual-browse-for-pre-susi")?i.resolve({doingPreSusi:!0}):a.requiresAuth().then(function(){s.allFeaturesLoaded().then(function(e){i.resolve({})}.bind(this)).done()}.bind(this)).done()})}),i.promise.then(function(e){this.navigate("projects",{replace:!0,trigger:!1}),this._renderNPW({searchQuery:t,isLoggedOut:!!e.doingPreSusi,fromVBRoute:!0})}.bind(this)).done()},handleNPW:function(e,t,i){var n;t&&"new"!=t?s.unauthenticatedFeaturesLoaded().then(function(){var n=s.hasUnauthenticatedFeature("npw-visual-browse-for-pre-susi");"promo"!==e&&n?this._handleNpwAsVisualBrowse(e,t):a.requiresAuth().then(function(){s.allFeaturesLoaded().then(function(n){var r;"promo"===e&&(r={type:t,extra:i},window.marvel.navigate("/npw",{trigger:!1,replace:!0})),this._renderNPW({fromVBRoute:!0,promoInfo:r})}.bind(this)).done()}.bind(this)).done()}.bind(this)).done():!s.hasFeature("enable-odb")&&!s.hasFeature("enable-spark-storage-server")||s.hasFeature("odb-has-too-many-projects")?(this.showNPW={app:e},this.navigate("projects",{replace:!0,trigger:!0})):U.load().then(function(t){n=t.ACPSparkController.getCurrentFolder(),this.showNPW={app:e},this.navigate(n&&"root"!==n.id?"folders/"+(n.id||"root"):"projects",{replace:!0,trigger:!0})}.bind(this)).done()},_renderMessagingModalView:function(e){Promise.resolve().then(function(t){this.messagingModalView?this.messagingModalView.model=e:this.messagingModalView=new(i(412))({model:e}),this.messagingModalView.render()}.bind(this).bind(null,i)).catch(i.oe)},handleLightroomEditor:function(t){a.requiresAuth().then(function(){var t=E.parse(n.history.fragment.toLowerCase(),!0);window.marvel._siteSection="metaeditor:page",this._renderMessagingModalView(new n.Model({name:"lightroom-onboarding",autoShowDelay:2e3,cssSubclassName:"lr-editor-modal-shell",closeBtnIsPresent:!1,partials:{contents:"lightroomEditorOnboarding"}})),i.e(11).then(function(n){this.pageBody$=this.pageBody$||e("body"),this.pageBody$.append('<div id="meta-editor-overlay" class="meta-editor-overlay hide" data-auto="meta-editor-overlay"></div>'),window.marvel.events.areaAndSectionChange("metaeditor","page");var r=i(963);this.renderView(r,{albumId:t.query.project_id})}.bind(this).bind(null,i)).catch(i.oe)}.bind(this)).done()},handleOnboarding:function(e){this.pageTitle="Adobe Spark | Onboarding",e=e||"",a.requiresAuth().then(function(){this.globalNav&&this.globalNav.setCurrentPage("projects"),s.allFeaturesLoaded().then(function(){var t=E.parse(n.history.fragment,!0),i=s.hasFeature("show-onboarding")||"create"===t.query.cta||"rushdownload"===e;_.triggerCCPaidConfirmationTag(),-1!==e.indexOf("planspagepurchase")&&I.userReturnedViaPurchasedRoute(t)?I.requestTypeKitSyncUserEntitlement().finally(function(){if(t.query.destinationUrl||t.query.srcUrl&&0===t.query.srcUrl.indexOf(o.getLocalizedSparkPath("/sp/design/"))){t.query.touchpointName&&(window.marvel._onboarding_premium=t.query.touchpointName,window.marvel.logger.debug("TBD: how to pass this touchpoint into the format editor "+t.query.touchpointName));var e=t.query.destinationUrl||t.query.srcUrl.substring(4);this.navigate(e,{trigger:!0})}else this.navigate("branding/",{trigger:!0})}.bind(this)).done():!s.hasFeature("created-first-project")||i?this._renderNPW({isFirstUse:!0,onboardingFlow:e,forcedOnboarding:s.hasFeature("show-onboarding")}):this.navigate("projects",{trigger:!0})}.bind(this))}.bind(this))},_getNPWClass:function(e){return e&&e.isLoggedOut?m.getNpwClass(e).then(function(e){return e}.bind(this)):s.allFeaturesLoaded().then(function(){return e=t.assign({},{firstUse:!0,FeatureController:s},e||{}),m.getNpwClass(e).then(function(e){return e}.bind(this))}.bind(this))},_renderNPW:function(e){var i=t.assign({app:this.showNPW&&this.showNPW.app,isOverlay:!1,isFirstUse:!e.fromVBRoute||this._visualBrowseRouteFirstUseCheck()},e),o=[this._getNPWClass(i)];if(e.isLoggedOut||e.searchQuery||a.isAutomatedTestUser()||"US"!==a.getUserCountry()||!s.hasFeature("show-optin")||s.hasFeature("has-seen-ios-newsletter-prompt"))o.push(r.resolve());else{var l=new n.Model({showGlobalMarketingChoice:a.isSocialSignIn()&&!a.getMarketingChoiceForUser(),mode:"new-user-flow"});o.push(this._renderMarketingPrefs(l))}r.allSettled(o).spread(function(e,t){this.renderView(e.value,i),i.app?(this.currentView._handleAppNPW(i.app),this.showNPW=null):this.showSettings&&this._renderSettingsView()}.bind(this)).done()},_visualBrowseRouteFirstUseCheck:function(){return!s.hasFeature("created-first-project")},_handleNpwAsVisualBrowse:function(e,i){a.requiresAuth().then(function(){return s.allFeaturesLoaded().then(function(r){var o;if(S.getAppByType(e))if("new"===i){var a=n.history.location.search||"";if("video"===e&&a&&(!s.hasFeature("npw-visual-browse-video-arc")||!s.hasFeature("npw-visual-browse-video-arc-with-title"))){var l=[],c=a.substring(1).split("&");t.each(c,function(e){var t=e.split("=");"storyarc"==t[0]?s.hasFeature("npw-visual-browse-video-arc")&&l.push(e):"title"==t[0]?s.hasFeature("npw-visual-browse-video-arc-with-title")&&l.push(e):l.push(e)}),l.length!==c.length&&(a="?"+l.join("&"))}window.marvel.navigate("/design/"+e+"/new"+a,{trigger:!0,replace:!0}),o=!0}else if("post"===e)this.handleRemix(e,i),o=!0;else if("page"===e&&s.hasFeature("npw-visual-browse-page-tmpls")){var d=0;s.hasFeature("npw-visual-browse-page-tmpls-image-size-clamp")&&(d=2560),this._handleTmpl({assetType:e,assetId:i,maxImageSize:d}),o=!0}o||this._renderNPW({fromVBRoute:!0})}.bind(this))}.bind(this))},handleCreativeCloud:function(){a.isValid().then(function(){this.navigate("projects",{trigger:!0,replace:!0})}.bind(this),function(e){window.location.replace("/about"+window.location.search)}.bind(this))},handleCreativeHigh:function(){this.renderView(P)},handleSettings:function(){a.requiresAuth().then(function(){this.showSettings=!0,this.navigate("projects",{replace:!0,trigger:!0})}.bind(this))},_renderSettingsView:function(){this.showSettings=!1,b.emailListSettingsLoaded().then(function(){this.globalNav.getUserMenu().editUserSettings()}.bind(this),function(e){marvel.logger.error("email list settings failed to load",e)}.bind(this)).done()},handleSettingsEntitlement:function(){a.requiresAuth().then(function(){if(a.isReAuthTokenValid())return r.all([a.asyncGetProfileFromIMS(),a.getAccessToken()]);a.reAuthenticate()}).spread(function(t,i){var n={clientProfile:a.getProfile(),userData:s.userData,userFeatures:s.features,sessionAttributes:s.getAuthenticatedUserAttributes(),serverProfile:t,clientAccessToken:i,cookieAccessToken:a.getTokenFromCookie()},r=new Blob([JSON.stringify(n,null,2)],{type:"application/octet-stream"}),o=window.URL.createObjectURL(r);if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,"spark-entitlements.txt");else{var l=e("<a>");l.css("display","none"),l.attr("href",o),l.attr("download","spark-entitlements.txt"),e("body").append(l),l[0].click(),l.remove(),window.URL.revokeObjectURL(o)}F.showConfirm("Did the download complete?","Look in your downloads folder for a file named spark-entitlements.txt. Please send the spark-entitlements.txt file to Adobe support.",{okText:"Ok!",cancelText:"Try again.",ignoreBackgroundClick:!0}).then(function(e){if(!e)return this.handleSettingsEntitlement();marvel.navigate("/",{trigger:!0})}.bind(this))}.bind(this)).done()},handleTemplates:function(){return this.handleProjects()},_saveVisitedSeoPages:function(){this.browserStorage.hasSetValue("spark-last-seo-page-visited")||(this.browserStorage.processValue("spark-last-seo-page-visited"),window.marvel.events.trigger("lastLandingPageVisitedSet"))},_getUnprocessedSeoPage:function(){var e,t=this.browserStorage.get("spark-last-seo-page-visited");if(t&&-1===t.indexOf("_processed")){e=0===t.indexOf("landing:make:")?t.substring("landing:make:".length):t}if(!e){var i=E.parse(n.history.fragment.toLowerCase(),!0);if(i.query.landing){var r="landing:";0===i.query.landing.indexOf("make-")?(e=i.query.landing.split("make-")[1],r+="make:"):e=i.query.landing,r+=e,this.browserStorage.set("spark-last-seo-page-visited",r)}}return e},_internalHandleFolders:function(e){a.requiresAuth().then(function(){this.globalNav&&this.globalNav.setCurrentPage("projects"),s.allFeaturesLoaded().then(function(){if(_.triggerCCPaidConfirmationTag(),!s.hasFeature("enable-odb")&&!s.hasFeature("enable-spark-storage-server")||s.hasFeature("odb-has-too-many-projects")||U.load(),window.marvel.events.trigger("set-sync-mode",{mode:"sync-group",doc:null}),window.marvel.events.trigger("hide-interstitial"),window.marvel._siteSection="organizer:projects",this._saveVisitedSeoPages(),s.hasFeature("test-takeover-view")){var i=new n.model({image:"/images/test-takeover.png",title:"Takeover title",subtitle:"Upgrade to Spark Premium to customize themes with your brand's logo, colors, fonts and imagery.",primaryButtonTitle:"Upgrade",secondaryButtonTitle:"Maybe Later",closeBtnIsHidden:!1,action:function(e){"primary"===e?console.log("primary callback called"):console.log("secondary callback called")}}),r=new D({model:i});t.delay(r.render,2e3)}s.hasFeature("created-first-project")?this._handleProjectsRenderHelper({folderId:e}):c.getAllMyProjects().then(function(t){t.length>0?(s.setUserFlag("created-first-project",!0),this._handleProjectsRenderHelper({folderId:e})):this.navigate("onboarding",{trigger:!0,replace:!0})}.bind(this)).done()}.bind(this)).done()}.bind(this)).done()},handleFolders:function(e){return e=e||null,this._internalHandleFolders(e)},handleProjects:function(){return this._internalHandleFolders(null)},_getTemplatesController:function(){return this._getTemplatesControllerDefer||(this._getTemplatesControllerDefer=r.defer(),Promise.resolve().then(function(e){var t=i(504);this._templatesController=t,this._getTemplatesControllerDefer.resolve(t)}.bind(this).bind(null,i)).catch(i.oe)),this._getTemplatesControllerDefer.promise},_organizeControllerRefreshCheck:function(e,t){return(t=t||{}).ignoreFilterCheck=!0,e.areFiltersAlreadyReady()?!!e.doProjectsNeedRefreshBeforeOrganizerLoad(this.currentView)&&(e.refreshProjectsForFiltering().then(function(){this._handleProjectsRenderHelper(t)}.bind(this)).done(),!0):(e.whenFiltersReady().then(function(){this._handleProjectsRenderHelper(t)}.bind(this)),!0)},_renderNPWOverlay:function(t,i,n){this._npwViews=this._npwViews||{},this._getNPWClass(i).then(function(t){var r=i||"npw",o=this._npwViews[r];if(!o){var a=e("body"),s=this.pageBody$.find(".first-use-overlay");s.length||(a.append('<div class="first-use-overlay hide" data-auto="first-use-overlay"></div>'),s=a.find(".first-use-overlay")),o=new t({isOverlay:!0,isFirstUse:!1,el:s,app:i}),this._npwViews[r]=o}var l={render:!0,redrawData:n};i&&(l.app=i,l.hideBackButton=!0),o.showOverlay(l)}.bind(this))},_handleProjectsRenderHelper:function(o){if(!s.hasFeature("remove-branding-enabled")||s.hasFeature("is-paid-user")||s.hasFeature("remove-branding-seen-premium-onboarding")||this.navigate("/branding/",{trigger:!0}),!(o=o||{}).ignoreFilterCheck)if(s.hasFeature("enable-spark-templates")){var l=!1;if(-1!=n.history.fragment.toLowerCase().split("/").indexOf("templates")&&(l=!0),l){if(!this._templatesController)return void this._getTemplatesController().then(function(e){this._handleProjectsRenderHelper()}.bind(this));if(this._organizeControllerRefreshCheck(this._templatesController))return}else if(this._organizeControllerRefreshCheck(c,o))return}else if(this._organizeControllerRefreshCheck(c,o))return;var d=new n.Model({startWithFolderId:o.folderId||null}),u=r.defer();s.hasFeature("react-organizer-view")?Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("react")]).then(function(r){var a=i(443).default,l=i(964).default;if(this.wrappedReactOrganizerModel=this.wrappedReactOrganizerModel||new n.Model,this.wrappedReactOrganizerModel.set({folderId:o.folderId||null,showFolders:s.hasFeature("enable-odb")}),!this.wrappedReactOrganizerCls){var c=a.wrapComponentSpectrum(l,this.wrappedReactOrganizerModel),d=this;this.wrappedReactOrganizerCls=c.extend({cachename:"reactorganizer",showNPW:function(e,t,i){return d._renderNPWOverlay(e,t,i)},remove:function(){t.each(d._npwViews,function(e,t){"npw"==t&&e.getRedrawDataForOrganizer&&(d._npwRedrawData=e.getRedrawDataForOrganizer()),e.remove(),e.$el.remove()}.bind(this)),d._npwViews={},c.prototype.remove.call(this)}})}this.wrappedReactOrganizer||(this.renderView(this.wrappedReactOrganizerCls),this.wrappedReactOrganizer=this.currentView),e(".site-nav-link").removeClass("selected"),e(".site-nav-projects").addClass("selected"),u.resolve()}.bind(this).bind(null,i)).catch(i.oe):!s.hasFeature("enable-odb")&&!s.hasFeature("enable-spark-storage-server")||s.hasFeature("odb-has-too-many-projects")?(this.renderView(g,d),u.resolve()):U.load().then(function(e){d=new e.SparkFolderDiscoverySpec({folderId:o.folderId||null}),this.renderView(g,d),u.resolve()}.bind(this)),s.hasFeature("show-optin")&&!a.isAutomatedTestUser()&&b.shouldSeeNewsletterPitch().then(function(e){if(1===e){var t=new n.Model({showGlobalMarketingChoice:a.isSocialSignIn()&&!a.getMarketingChoiceForUser(),mode:"new-user-flow"});this._renderMarketingPrefs(t).then(function(){window.marvel.navigate("/projects",{trigger:!0})}.bind(this)).done()}}.bind(this)),u.promise.then(function(){if(this._npwRedrawData&&this._npwRedrawData.redrawOnReturnToOrganizer&&this.currentView.showNPW){var e=this._npwRedrawData;this._npwRedrawData=null,this.currentView.showNPW(null,null,e)}else this.showNPW&&this.currentView.showNPW?(this.currentView.showNPW(null,this.showNPW.app),this.showNPW=null):this.showSettings&&this._renderSettingsView()}.bind(this)).done()},handleResetODB:function(){F.showConfirm(o.getString("reset-folders-title"),o.getString("reset-folders-description"),{okText:o.getString("reset-folders-action-ok"),cancelText:o.getString("reset-folders-action-cancel"),ignoreBackgroundClick:!0}).then(function(e){e?U.load().then(function(e){return e.ACPSparkController._resetODB()}.bind(this)).done():marvel.navigate("/",{trigger:!0})}.bind(this))},handleAcceptInvite:function(e){l.isAcceptingInvites(),a.requiresAuth().then(function(){return F.showWaitView(o.getString("collab-accept-invite-accepting-text"),"#sparkinspiration",{}),x.trackEvent("collab:inviteViewed",{contextualData1:"email",contextualData12:"project"},"collaboration"),s.allFeaturesLoaded().then(function(){var i="/";s.hasFeature("enable-spark-templates")||s.hasFeature("enable-collaboration")?l.inviteeResolveInviteURN(e).then(function(e){return l.inviteeAcceptInvite(e).then(function(e){x.trackEvent("collab:inviteAccepted",{contextualData1:"email",contextualData12:"project"},"collaboration"),F.hide(),e&&e.type&&e.type.toLowerCase().indexOf("template")>0?(F.showWaitView(o.getString("collab-accept-invite-acceptance-title"),o.getString("collab-accept-invite-acceptance-template-text"),{hideSpinner:!0}),i="/templates"):F.showWaitView(o.getString("collab-accept-invite-acceptance-title"),o.getString("collab-accept-invite-acceptance-project-text"),{hideSpinner:!0}),t.delay(function(){F.hide(),window.marvel.events.trigger("storage-sync-now")},2e3),window.marvel.navigate(i,{trigger:!0,replace:!0}),l.doneAcceptingInvites()}.bind(this)).catch(function(e){if(e&&"brand-not-found-invite-not-found"==e.code)return marvel.logger.warn("[Collab] Error finding the brand or brand invite during project invite-accept. Removing the shared composite for the project and notifying the user that the invite has to be sent again."),l.inviteeRemoveSharedComposite(e.doc).then(function(){throw e});throw e}.bind(this))}.bind(this)).catch(function(e){F.hide(),"brand-not-found-invite-not-found"==e.code?F.showWaitView(o.getString("collab-accept-invite-brand-failure-title"),o.getString("collab-accept-invite-brand-failure-text"),{hideSpinner:!0}):F.showWaitView(o.getString("collab-accept-invite-acceptance-failure-title"),o.getString("collab-accept-invite-acceptance-failure-text"),{hideSpinner:!0}),t.delay(function(){F.hide(),l.doneAcceptingInvites(),window.marvel.navigate(i,{trigger:!0,replace:!0})},7e3)}.bind(this)).done():this.showCollabBetaOptInDialog()}.bind(this))}.bind(this)).done()},handleBrandKitImport:function(){if(window.sessionStorage)try{window.sessionStorage.setItem("bk-import",!0)}catch(e){window.bkImport=!0}this.handleProjects()},handleWorkflow:function(i){a.requiresAuth().then(function(){s.allFeaturesLoaded().then(function(){if(this.workflows[i]){var r=this.workflows[i];r.analytics&&x.trackEvent(r.analytics.shown,{},"workflow:select");var o=s.hasFeature(r.featureFlag);if(r.featureFlag&&!o)x.resetWorkflow(i),this.navigate("projects",{trigger:!0});else if(x.setWorkflow(i),r.navigate)this.navigate(r.navigate,{trigger:!0});else{var a=new n.Model(t.find(r.flows,{flow:"selectRemixFlow"}));this.renderView(M,a,null,e(".lg-dialog-overlay")[0])}}else this.navigate("projects",{trigger:!0})}.bind(this)).done()}.bind(this)).done()},handleMustReload:function(e){var i=e.msg||"Unknown error, must refresh";e.goto;"USER_CANCELED"!==e.code&&alert(i),window.marvel.navigate("/projects"),t.defer(function(){window.location.reload()})},handleTmpl:function(e,t){a.requiresAuth().then(function(){s.allFeaturesLoaded().then(function(){s.hasFeature("enable-tmpl-route")?this._handleTmpl({assetType:e,assetId:t,fromRoute:!0}):this.navigate("projects",{trigger:!0})}.bind(this))}.bind(this))},_handleTmpl:function(e){C.getUtils().then(function(t){t.createDuplicateFromCp(e).then(function(){x.trackEvent("newFromTmplRoute",{exampleId:e.assetId,format:e.assetType,contextData:["projectId"]},"tmpl")},function(e){this.navigate("projects",{trigger:!0})})}.bind(this))},handleDesign:function(e,t,i){var n={assetType:e,assetId:t,subPage:i,operation:"edit"};t?0===t.indexOf("new")&&(n.assetId=null,n.operation="new"):n.operation="new",this.invokeEditor(n)},handleDesignRemix:function(e,t,i,n){n=n||"cc-api-cp.adobe.io";var r=S.getAppByType(e),o={cpAssetId:t,contextString:"remix"};"post"===e&&x.setProductName("theo"),x.addContextData(o),x.trackEvent(i||"remixStart",{type:r.getAppTypeID(),contextData:["cpAssetId","contextString"]},"remix"),this.invokeEditor({assetType:e,cpAssetId:t,operation:"remix",cpServiceDomain:n})},handleDesignNewFromTheme:function(e,t,i){this.invokeEditor({assetType:e,contextId:t,themeId:i,operation:"new-from-theme"})},handleDesignEditTemplate:function(e,t,i){this.invokeEditor({assetType:e,contextId:t,templateId:i,operation:"edit-template"})},handleDesignNewFromTemplate:function(e,t,i){this.invokeEditor({assetType:e,contextId:t,templateId:i,operation:"new-from-template"})},handleDesignDownload:function(e,t){if(window.sessionStorage)try{window.sessionStorage.setItem("publishOnLoadDesignView","download")}catch(i){marvel.logger.warn("Session storage failed for design download "+i,{assetType:e,assetId:t})}window.marvel._publishOnLoadDesignView="download",window.marvel.navigate("design/"+e+"/"+t,{trigger:!0,replace:!0})},showCollabBetaOptInDialog:function(){var e,t=o.getString("collab-beta-optin-dialog-title"),i=o.getString("collab-beta-optin-dialog-bodytext"),n=o.getString("collab-beta-optin-dialog-yes-button"),r=o.getString("collab-beta-optin-dialog-no-button");e=function(){window.open("https://airtable.com/shr3gRNTKhrBwP86C","_blank")},F.showConfirm(t,i,{okText:n,cancelText:r,okHandler:e}).then(function(e){window.marvel.navigate("/",{trigger:!0,replace:!0}),x.trackEvent("collab:viewedBetaMessage",{},"collaboration")}.bind(this))},invokeEditor:function(e){window.marvel._siteSection;window.marvel._siteSection="editor:"+e.assetType,a.requiresAuth().then(function(){return s.allFeaturesLoaded().then(function(){var i,o;if(this._continuingAfterIntercept)this._continuingAfterIntercept=!1;else if(o=this._getUnprocessedSeoPage()){var a=t.reduce(o.split("-"),function(e,t){return e+t[0].toUpperCase()+t.substring(1)},"");i=R.run("npwSeo"+a+"*")}return i||(i=r()),i.then(function(i){var r=n.history.getFragment(),a=null,l=/workflow\=([^\&]+)/.exec(r),c=S.getAppByType(e.assetType);if(!c)return marvel.logger.error("Route to DesignView failed to find an app for "+e.assetType,{assetId:e.assetId,subPage:e.subPage}),void this.navigate("/",{trigger:!0});if(_.triggerCCPaidConfirmationTag(),j.showAppBumper(c))return this.renderAppBumper(c);if(s.hasFeature("npw-seo")&&i&&0===i.getExperimentName().indexOf("npwSeo")){var d=(i.getMetadata()||{}).pageIds||[];if("string"==typeof d)try{d=JSON.parse(d)}catch(e){d=[]}if(-1!==d.indexOf(o)){this._saveVisitedSeoPages();var u={experimentContext:i,seoPageId:o,invokeEditorParams:e,isFirstUse:s.hasFeature("created-first-project"),continueAfterIntercept:function(){this._continuingAfterIntercept=!0,this.invokeEditor(e)}.bind(this)};return"video-maker"===u.seoPageId&&(u.seoName="onlineVideoMaker"),void window.marvel.events.trigger("seo-intercept","tbd:whatmerchstring",u)}}else if(s.hasFeature("npw-visual-browse-seo")&&"new"===e.operation&&o){this._saveVisitedSeoPages();var h=!s.hasFeature("created-first-project");return void this._renderNPW({isFirstUse:h,fromSeoPageId:o})}window.marvel.events.areaAndSectionChange("editor",e.assetType),l&&l.length>1&&(a=l[1]),a&&x.addContextData({workflow:a}),this._saveVisitedSeoPages(),R.removeAuthenticatedUserAttributes("editor-"+e.assetType+"-"+e.operation);var p=this._getProjectContextFromSession(),f=t.extend({app:c,routeFragment:r,projectContext:p},e);if(a&&this.workflows[a]&&this.workflows[a].editorConfig){var g=this.workflows[a];f=t.extend(f,g.editorConfig)}this.renderView(y,null,c.getAppTypeID(),null,f)}.bind(this))}.bind(this))}.bind(this)).catch(function(e){window.marvel.logger.warn("DesignViewRoute exception: ",e),window.marvel.navigate("/",{trigger:!0})}).done()},handleRemix:function(e,t){this.handleDesignRemix(e,t,"remixStart",T.cps)},handleRemixGallery:function(e,t,i){this.handleDesignRemix(e,t,"remixGalleryStart",T.galleryCPService)},_getProjectContextFromSession:function(){var e;try{if(!window.sessionStorage)return null;var t=sessionStorage.getItem("project_ctx")||void 0;sessionStorage.removeItem("project_ctx"),t&&(e=JSON.parse(t))}catch(e){}return e},remix:function(e,i,n,r,o){window.marvel.appIsReady.then(t.bind(function(){var t=S.getAppByType(e);t?a.requiresAuth().then(function(){_.triggerCCPaidConfirmationTag(),window.marvel.events.trigger("show-interstitial",{typeName:e});var a={remixableAssetId:i,contextString:"remix"};"post"===e&&x.setProductName("theo"),this._saveVisitedSeoPages(),x.addContextData(a),x.trackEvent(n,{type:t.getAppTypeID(),contextData:["remixableAssetId","contextString"]},"remix"),C.getUtils().then(function(n){n.remixDoc(e,i,r).then(function(e){t.getStorageImpl().setSaveThumbOnLoad(),marvel.events.trigger("email-check");var n="?contextString=remix&remixableAssetId="+i;o&&(n+="&workflow="+o),marvel.navigate("design/"+t.typeName+"/"+e.get("id")+n,{trigger:!0}),e.triggerProjectCreatedAnalytics({contextData:{workflow:"remix",remixableAssetId:i}})}.bind(this)).catch(function(e){new O({popupName:"unremixableTemplate",primaryTxt:"Template missing",secondaryTxt:"Sorry, it looks like this template has gone rogue. We'll take you back.",primaryBtnTitle:"OK",primaryClickHandler:function(){marvel.navigate("projects",{trigger:!0}),this.hide()}}).show(),console.error("handleRemix error:",e)})}.bind(this))}.bind(this)).done():console.error("remix route error app is not defined "+e)},this)).done()},interceptDefaultRoute:function(){return window.marvel._firstLaunchSession?s.hasFeature("user-profile-onboarding")?window.marvel._hasAttemptedToShowOnboardSettings?void 0:(window.marvel._hasAttemptedToShowOnboardSettings=!0,d.onboardSettings({ignoreIfExisting:!0}).then(function(){return!1}).catch(function(e){return console.error("Failed to onboard settings!",e),!1})):s.hasFeature("first-launch-create-new")?(this.navigate("design/page/new",{trigger:!0}),r.resolve(!0)):s.hasFeature("first-launch-create-from-template")?(this.navigate("tmpl/page/wShgU",{trigger:!0}),r.resolve(!0)):r.resolve(!1):!s.hasFeature("enable-odb")&&!s.hasFeature("enable-spark-storage-server")||s.hasFeature("odb-has-too-many-projects")?r.resolve(!1):U.load().then(function(e){var t=e.ACPSparkController.getCurrentFolder();return t&&"root"!==t.id?(this.navigate("folders/"+t.id,{replace:!0,trigger:!0}),r.resolve(!0)):r.resolve(!1)}.bind(this))},defaultRoute:function(){a.loadIMS().then(function(){a.isValid().then(function(){s.allFeaturesLoaded().then(function(){this._saveVisitedSeoPages(),R.handleExperimentRedirect().finally(function(){this.interceptDefaultRoute().then(function(e){e||this.handleProjects()}.bind(this)).done()}.bind(this)).done()}.bind(this)).done()}.bind(this),function(e){a.requiresAuth()}.bind(this)).done()}.bind(this),function(e){console.log("))))))))))))) duplicate loadIMS request rejected")}).done()},clean:function(){this.currentView&&(this.currentView.remove&&this.currentView.remove(),this.currentView.hide&&this.currentView.hide(),this.currentView=null,this.wrappedReactOrganizer=null),this.globalNav&&this.globalNav.isOpen()&&this.globalNav.hideMenu(),e(window).scrollTop(0)},execute:function(e,t,i){(this.currentView&&this.currentView.beforeUnload?this.currentView.beforeUnload():r.resolve()).then(function(i){if(i)return this.navigate(i,{trigger:!1});e&&e.apply(this,t)}.bind(this)).done()},renderSiteBumper:function(){if(j.shouldRefreshSite())window.location.reload(!0);else{var t=new n.Model({site:!0,dataPromise:j.getCurrentSettingsForSite()});this.renderView(z,t,null,e(".bumper-wrapper")),j.showingSiteBumper()}},renderAppBumper:function(i){var r=t.isObject(i)?i:S.getAppByName(i);if(!r)return window.marvel.logger.warn("unknown app in renderAppBumper:"+i),void window.marvel.navigate("/",{trigger:!0});if(j.shouldRefreshApp(r))window.location.reload(!0);else{j.showingAppBumper(r);var o=new n.Model({dataPromise:j.getCurrentSettingsForApp(r,r.getDisplayName())});this.renderView(z,o,null,e(".bumper-wrapper"))}},handleBumperOn:function(e,t,i){j.showSiteBumper()?this.renderSiteBumper():this.currentView&&this.currentView.$el.hasClass("bumper-wrapper")?this.renderAppBumper(t.location):this.currentView&&this.currentView.app&&j.showAppBumper(this.currentView.app)&&this.renderAppBumper(this.currentView.app)},handleBumperLocationSettingsUpdated:function(e,t,i){this.handleBumperOn(e,t,i)},handleBumperOff:function(e,t,i){this.currentView instanceof z&&window.location.reload(!0)},_handleNewsFeedInit:function(){R.run("NewsFeedExperiment*",{"enable-newsfeed":function(e){},control:function(e){}}).finally(function(){s.hasFeature("appboy-news-feed-enable")&&L.setup()}.bind(this)).done()},renderView:function(t,i,o,a,s){var l,c=!1,d=!0;if(o=o||"projectm",j.showSiteBumper()&&t!==z)return this.renderSiteBumper();try{x.setProductName(o),t.prototype.cachename?this.currentView&&this.currentView===this.viewCache[t.prototype.cachename]&&this.currentView.renderUpdate?(i&&(this.currentView.model=i),this.currentView.renderUpdate(n.history.fragment),d=!1):this.viewCache[t.prototype.cachename]?(l=this.viewCache[t.prototype.cachename])!==this.currentView&&(this.clean(),this.currentView=l):c=!0:c=!0,c&&(this.clean(),(l=Object.create(t.prototype)).el=a||this.container$[0],t.apply(l,Array.prototype.slice.call(arguments,1)),t.prototype.cachename&&(this.viewCache[t.prototype.cachename]=l),this.currentView=l),i&&d&&(l.model=i),s&&(l.app=s.app),d&&l.render(n.history.fragment,s),this._fouc||(this._fouc=!0,e(".fouc").removeClass("fouc"))}catch(e){window.marvel.logger.warn("render exception ["+e+"], View = "+t.prototype.cachename,e)}return r.resolve()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(56),i(2),i(1),i(3),i(8),i(13),i(4),i(24),i(5),i(7),i(237),i(16),i(408),i(409),i(845),i(442),i(846),i(366),i(848),i(850),i(851),i(855),i(858),i(12),i(62),i(410),i(861),i(503),i(863),i(214)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S,T,M,I,D,P,E,A){"use strict";var F=[a.getString("organizer-fun-folder-names-big-ideas"),a.getString("organizer-fun-folder-names-greatest-work"),a.getString("organizer-fun-folder-names-a-projects"),a.getString("organizer-fun-folder-names-testing-123"),a.getString("organizer-fun-folder-names-work-of-genius"),a.getString("organizer-fun-folder-names-inspirational-quotes"),a.getString("organizer-fun-folder-names-stunning-graphics"),a.getString("organizer-fun-folder-names-inspiring-stories"),a.getString("organizer-fun-folder-names-top-secret"),a.getString("organizer-fun-folder-names-version-999"),a.getString("organizer-fun-folder-names-finally")];return r.View.extend({events:{"click .mrvl-organizer-circle":"showNPW","click .mrvl-organizer-projects-reload":"handleProjectsReload","click .organizer-content-tab-projects":"handleProjectsTabClick","click .organizer-content-tab-templates":"handleTemplatesTabClick","click .one-project-filter-div":"handleProjectFilterClick","click .mrvl-organizer-export-link":"handleExport","click .mrvl-organizer-folder-action-create":"showCreateFolderActionDialog","click .mrvl-organizer-odb-reset":"resetODB","click .mrvl-organizer-folder-item":"handleFolderClick","click .mrvl-organizer-breadcrumbs-link":"handleCrumbClick","click .mrvl-organizer-breadcrumbs-abbr":"handleCrumbExpandClick"},isExporting:!1,cachename:"OrganizerView",myCollection:null,currentRoute:"",tagName:"section",npwViews:{},initialize:function(){n.bindAll(this,n.functionsIn(this)),this._currentFolder=null,marvel.events.on("organizer-share-workflow",this.handleItemShare),marvel.events.on("organizer-working",this.handleWorking),marvel.events.on("service-error-retrying",this.handleErrorRetry),marvel.events.on("service-borked",this.handleErrorBorked),marvel.events.on("accepted-new-invites",this.handleNewCollab),marvel.events.on("organizer-refresh",this.handleOrganizerRefresh),marvel.events.on("odb-folders-changed",this._refreshFolders),marvel.events.on("odb-indexing-needed",this.handleOdbIndexingDialog),marvel.events.on("odb-indexing-background",this.handleOdbIndexingBackground),u.featuresLoaded().then(function(){if((u.hasFeature("enable-odb")||u.hasFeature("enable-spark-storage-server"))&&!u.hasFeature("odb-has-too-many-projects")){var e=n.assign(this.events,{'dragstart .mrvl-organizer-doc-item[draggable="true"]':"handleDragStart",'dragstart .mrvl-organizer-folder-item[draggable="true"]':"handleDragStart",'dragend .mrvl-organizer-doc-item[draggable="true"]':"handleDragEnd",'dragend .mrvl-organizer-folder-item[draggable="true"]':"handleDragEnd","drop .mrvl-item-folder:not(.drop-disabled)":"handleDrop","dragover .mrvl-item-folder:not(.drop-disabled)":"handleDragEnter","dragenter .mrvl-item-folder:not(.drop-disabled)":"handleDragEnter","dragleave .mrvl-item-folder":"handleDragLeave",'drag .mrvl-organizer-doc-item[draggable="true"]':"handleDrag",'drag .mrvl-organizer-folder-item[draggable="true"]':"handleDrag"});this.delegateEvents(e)}}.bind(this))},handleErrorRetry:function(e){this.$el.find(".mrvl-organizer-projects-loading").addClass("failing"),this.$el.find(".mrvl-organizer-projects-loading h3").text(a.getString("organizer-error-loading-projects-retry"))},handleProjectsReload:function(e){window.location.reload()},handleErrorBorked:function(e){u.hasFeature("enable-odb")||u.hasFeature("enable-spark-storage-server")?(this._folderView&&this._folderView.$el.addClass("hide"),this._workspaceView.$el.addClass("hide"),this.$el.find(".cta-reload-browser").on("click",function(){window.location.reload()}),this.$el.find(".mrvl-organizer-service-borked").removeClass("hide")):(this.$el.find(".mrvl-organizer-projects-loading").removeClass("failing"),this.$el.find(".mrvl-organizer-projects-loading").addClass("borked"),this.$el.find(".mrvl-organizer-projects-loading h3").text(a.getString("organizer-error-reload")))},handleNewCollab:function(e){s.syncNow()},handleOrganizerRefresh:function(e,t){var i=this._workspaceView;if(t&&t.templates&&(i=this._templatesView),i){var n=i.getController().projectFilters;n.reapplyFilters().then(function(){this._projectsRefreshed(n)}.bind(this))}},handleOdbIndexingBackground:function(e){this._showingIndexProgressDialog||this._organizerIndexBackgroundWorking||(this._organizerIndexBackgroundWorking=!0,window.marvel.logger.info("[Core:Folders] handleOdbIndexingBackground has been triggered"),E.load().then(function(t){var i;e.moreIndexingRequired?i="pageIndex":e.rebuildIndexRequired&&(i="rebuildIndex"),i?t.ACPSparkController.organizerIndexNext(i).then(function(e){this._organizerIndexBackgroundWorking=!1,window.marvel.logger.info("[Core:Folders] handleOdbIndexingBackground request ended. Cached processed "+e.indexProcessedCount+" projects."),e.indexCompletion<1&&e.indexProcessedCount>0&&this.handleOdbIndexingBackground(e)}.bind(this)).catch(function(){this._organizerIndexBackgroundWorking=!1,window.marvel.logger.error("[Core:Folders] handleOdbIndexingBackground failed.")}.bind(this)):window.marvel.logger.warn("[Core:Folders] handleOdbIndexingBackground requested with invalid indexMode")}.bind(this)).done())},handleOdbIndexingDialog:function(e){this._organizerIndexProgressView||(this._organizerIndexProgressView=new P),this._showingIndexProgressDialog||(this._showingIndexProgressDialog=!0,this._organizerIndexProgressView.show(this.showCreateFolderActionDialog),!e.rebuildIndexRequired&&e.indexCompletion>0&&n.delay(function(){marvel.events.trigger("organizerIndexProgressPctChanged",e.indexCompletion)},250),this.handleOdbIndexingRequest(!e.rebuildIndexRequired,e.rebuildIndexRequired))},handleOdbIndexingRequest:function(e,t,i){var r,o=0;e?r="pageIndex":t&&(r="rebuildIndex"),E.load().then(function(e){e.ACPSparkController.organizerIndexNext(r).then(function(e){this._showingIndexProgressDialog&&(marvel.events.trigger("organizerIndexProgressPctChanged",e.indexCompletion),e.indexCompletion<1||e.rebuildIndexRequired?this.handleOdbIndexingRequest(!e.rebuildIndexRequired,e.rebuildIndexRequired):1===e.indexCompletion&&(this._showingIndexProgressDialog=!1))}.bind(this)).catch(function(){window.marvel.logger.info("[Core:Folders] handleOdbIndexingRequest failed. retrying..."),r&&o<1&&(o++,n.delay(function(){this.handleOdbIndexingRequest()}.bind(this),250))}.bind(this))}.bind(this)).done()},handleProjectsTabClick:function(t){return this.$el.find(".organizer-content-tab").removeClass("selected"),e(t.currentTarget).addClass("selected"),window.marvel.navigate("/projects",{trigger:!0}),!1},handleTemplatesTabClick:function(t){return this.$el.find(".organizer-content-tab").removeClass("selected"),e(t.currentTarget).addClass("selected"),window.marvel.navigate("/templates",{trigger:!0}),!1},_lazyRender:function(){if(!marvel._dialogShowing&&h.organizerWantsToRerender(this))if(this._postMidCommitTimer&&(window.clearTimeout(this._postMidCommitTimer),this._postMidCommitTimer=null),u.hasFeature("enable-spark-templates"))if(s.setSyncMode(s.MODE_SYNC_GROUP),this.organizerTitleBox$.addClass("hide"),this.$el.find(".mrvl-organizer-content-tabs").removeClass("hide"),this.projects$.addClass("mrvl-organizer-projects-with-templates"),"templates"===this.currentRoute){this.templates$=this.$el.find(".mrvl-organizer-templates"),this._templatesView||(this._templatesView=new C),this._templatesView.setElement(this.templates$[0]),this._templatesView.bindOrganizer(this.$el.find(".organizer-more-templates-toggle"),null,this.$el,this);var e=this.$el.find(".mrvl-organizer-empty-templates");this._templatesView._gridSpecificEmptyProjectsElem(e),u.hasFeature("enable-spark-templates-empty-display")&&e.removeClass("always-hide"),this.setProjectFiltersUiType("template"),this._templatesView.render(),this.$el.find(".mrvl-organizer-templates-wrap").removeClass("hide"),this.projects$.addClass("hide"),this.$el.find(".organizer-content-tab").removeClass("selected"),this.$el.find(".organizer-content-tab-templates").addClass("selected")}else this._workspaceView&&(this.setProjectFiltersUiType("project"),this._workspaceView.render()),this.$el.find(".mrvl-organizer-templates-wrap").addClass("hide"),this.projects$.removeClass("hide");else this._workspaceView?!u.hasFeature("enable-odb")&&!u.hasFeature("enable-spark-storage-server")||u.hasFeature("odb-has-too-many-projects")?(s.setSyncMode(s.MODE_SYNC_GROUP),this.setProjectFiltersUiType("project"),this._workspaceView.render()):E.load().then(function(){window.marvel.events.trigger("set-sync-mode",{mode:"sync-group",folderSpec:this.model}),this.setProjectFiltersUiType("project"),this._folderView&&this._folderView.render(),this.updateBreadcrumbsView(),this.renderProjects()}.bind(this)).done():s.setSyncMode(s.MODE_SYNC_GROUP)},renderProjects:function(){this.getCurrentFolder().then(function(e){u.hasFeature("enable-odb")&&e.getDiscoveryContext().totalFolders>0||e.getDiscoveryContext().totalProjects>0?this.organizerTitleBox$.removeClass("hide"):this.organizerTitleBox$.addClass("hide"),this._workspaceView.render()}.bind(this))},_rerender:function(){return this._lazyRender()},renderUpdate:function(e){return e&&(this.currentRoute=e),this._rerender(),this},render:function(t){var n=e(window);if(this.currentRoute=t,this.$el[0]||this.setElement(".mrvl-main-page"),this.$el.empty(),this.$el.html(a.mustacheRender(m)),e(".site-nav-link").removeClass("selected"),e(".site-nav-projects").addClass("selected"),this.pageBody$=null,this.siteFooter$=null,this.projects$=this.$el.find(".mrvl-organizer-projects"),this.projectsTitle$=this.$el.find(".mrvl-organizer-title-npw"),this.moreProjects$=this.$el.find(".organizer-more-projects-toggle"),this.loading$=this.$el.find(".mrvl-organizer-projects-loading"),this.carousel$=this.$el.find(".mrvl-organizer-carousel"),this.projectGrid$=this.$el.find(".mrvl-organizer-project-grid"),this.projectFilters$=this.$el.find(".project-filters-divs-no-templates .project-filters-div-group"),this.organizerTitleBox$=this.$el.find(".mrvl-organizer-title-box"),this._removeFiltersUi(),i(36).run("folders*").catch(function(e){window.marvel.logger.error("Error loading Folders Experiment: ",e)}),u.featuresLoaded().then(function(){u.hasFeature("export-projects")&&(this.exportLink$=this.$el.find(".mrvl-organizer-export-link"),this.exportLink$.removeClass("hide")),window.marvel.events.areaAndSectionChange("organizer"),!u.hasFeature("enable-odb")&&!u.hasFeature("enable-spark-storage-server")||u.hasFeature("odb-has-too-many-projects")?(this._workspaceView=new k,this._workspaceView.setElement(this.projectGrid$[0]),this._workspaceView.bindOrganizer(this.moreProjects$,this.projectsTitle$,this.$el,this),this._workspaceView.setOrganizerElements(this.projects$,this.loading$,this.carousel$),this._workspaceView.render(),"templates"!==this.currentRoute&&this.setProjectFiltersUiType("project")):(u.hasFeature("enable-odb-reset")&&this.$el.find(".mrvl-organizer-odb-reset").removeClass("hide"),this.folders$=this.$el.find(".mrvl-organizer-folders"),this.folderGrid$=this.$el.find(".mrvl-organizer-folders-grid"),this.foldersToolbar$=this.$el.find(".mrvl-organizer-folders-toolbar"),this.breadcrumbsAbbr$=this.$el.find(".mrvl-organizer-breadcrumbs-abbr"),this.breadcrumbsExt$=this.$el.find(".mrvl-organizer-breadcrumbs-extended"),this.pageBody$=e("body"),this.header$=this.pageBody$.find(".mrvl-header"),u.hasFeature("enable-odb")&&(this.foldersToolbar$.removeClass("hide"),this.pageBody$.addClass("mrvl-folders"),this._folderView=new x({ele:this.folderGrid$[0],container$:this.folders$,organizerView:this}),this._folderView.render()),this.emptyFolderView$=this.$el.find(".mrvl-organizer-empty-folder"),this._workspaceView=new _({ele:this.projectGrid$[0],moreProjects$:this.moreProjects$,projectsTitle$:this.projectsTitle$,organizer$:this.$el,organizerView:this,projects$:this.projects$,emptyFolderView$:this.emptyFolderView$,loading$:this.loading$,carousel$:this.carousel$}),this._workspaceView.render(),this.updateBreadcrumbsView(),E.load().then(function(){window.marvel.events.trigger("set-sync-mode",{mode:"sync-group",folderSpec:this.model})}.bind(this)),"templates"!==this.currentRoute&&(!u.hasFeature("enable-odb")&&!u.hasFeature("enable-spark-storage-server")||u.hasFeature("odb-has-too-many-projects")||this.setProjectFiltersUiType("project"),this.foldersToolbar$&&n.scroll(function(){var e=this.carousel$.offset().top+this.carousel$.height()-this.header$.height();n.scrollTop()>e?this.foldersToolbar$.addClass("sticky"):this.foldersToolbar$.removeClass("sticky")}.bind(this)))),this.carouselView=f.getMessagingStripView(),this.carousel$.append(this.carouselView.$el),this.carouselView.render(),this._simpleFooterView=new w,this._simpleFooterView.render(),this.pageBody$=e("body"),this.pageBody$.addClass("mrvl-organizer-tile-bg"),this.pageBody$.removeClass("light"),this.loading$.addClass("mrvl-organizer-projects-loading-npw");var t=e(".mrvl-organizer-circle");n.scroll(function(){var i=t.offset().top,r=t.height();n.scrollTop()>i+r-50?(e(".mrvl-mrkt-nav-logged-out-cta").addClass("hide"),e(".nav-cta-actions").removeClass("hide"),e(".mrvl-mrkt-nav-create").removeClass("hide").on("click",this.showNPW.bind(this))):(e(".mrvl-mrkt-nav-logged-out-cta").removeClass("hide"),e(".mrvl-mrkt-nav-create").addClass("hide"),e(".nav-cta-actions").addClass("hide"))}.bind(this)),u.hasFeature("enable-odb")&&!u.hasFeature("dismissed-featurehighlighter-createFolder")&&this._showCreateFolderHighlighterView(!0)}.bind(this)),this.$shareOverlay=this.$el.find(".mrvl-organizer-share-overlay"),this._npwRedrawData&&this._npwRedrawData.redrawOnReturnToOrganizer){var r=this._npwRedrawData;this._npwRedrawData=null,this.reshowNpwOnReturn(r)}return this.renderUpdate(t)},_createFeatureHighlighterView:function(e){return this._getFeatureHighlighterDefer||(this._getFeatureHighlighterDefer=o.defer(),i.e("feature-highlighter-view").then(function(t){var n=i(961);this.featureHighlighterView=new n(e),this._getFeatureHighlighterDefer.resolve(this.featureHighlighterView)}.bind(this).bind(null,i)).catch(i.oe)),this._getFeatureHighlighterDefer.promise},_showFeatureHighlighterView:function(e,t){this._createFeatureHighlighterView().then(function(i){i.show(e,t)}.bind(this))},_showCreateFolderHighlighterView:function(e){this.getCurrentFolder().then(function(t){t.getDiscoveryContext().totalProjects;if(t.getDiscoveryContext().totalProjects>=8){this.createFolderBtn$=this.$el.find("a.mrvl-organizer-folder-action-create");var i=function(){var e={target:this.createFolderBtn$,name:"feature-highlighter-createFolder",primaryTxt:a.getString("organizer-feature-highlighter-get-organized"),secondaryTxt:a.getString("organizer-feature-highlighter-get-organized-message"),isBeta:!0,highlight:!0,direction:"left",primaryCTAAnalytic:"feature-highlighter-createFolder-dismissed"};this._showFeatureHighlighterView(e,"left"),u.setUserFlag("dismissed-featurehighlighter-createFolder",!0)}.bind(this);e?i():this.$el.one("mousemove.showFeatureHighlighter","article.mrvl-organizer-doc-item",n.debounce(i,150))}}.bind(this))},_loadExportDialogView:function(){return this._enableExportDialogDefer||(this._enableExportDialogDefer=o.defer(),i.e("ov-export-dialog").then(function(e){var t=i(971);this._enableExportDialogDefer.resolve(new t)}.bind(this).bind(null,i)).catch(i.oe)),this._enableExportDialogDefer.promise},handleExport:function(e){this.isExporting||(this.isExporting=!0,marvel.events.trigger("organizer-working",{working:!0}),e.preventDefault(),this._loadExportDialogView().then(function(e){h.exportProjects().then(function(t){e.renderBeforeShow(JSON.stringify(t)),marvel.events.trigger("organizer-working",{working:!1}),e.showOverlay(),this.isExporting=!1}.bind(this))}.bind(this)))},_getNPWClass:function(e){return u.featuresLoaded().then(function(){return y.getNpwClass({app:e,firstUse:!1,FeatureController:u}).then(function(e){return e}.bind(this))}.bind(this))},reshowNpwOnReturn:function(e){this.showNPW(null,null,e)},showNPW:function(t,i,n){t&&t.preventDefault(),this._getNPWClass(i).then(function(t){var r=i||"npw",o=this.npwViews[r];if(!o){this.pageBody$=this.pageBody$||e("body");var a=this.pageBody$.find(".first-use-overlay");a.length||(this.pageBody$.append('<div class="first-use-overlay hide" data-auto="first-use-overlay"></div>'),a=this.pageBody$.find(".first-use-overlay")),o=new t({isOverlay:!0,isFirstUse:!1,el:a,app:i}),this.npwViews[r]=o}var s={render:!0,redrawData:n};i&&(s.app=i,s.hideBackButton=!0),o.showOverlay(s)}.bind(this))},_loadShareView:function(){return this._shareViewLoader||(this._shareViewLoader=new v),this._shareViewLoader.getShareView()},handleItemShare:function(e,t){var i=e.getMyApp(),n=e.get("id");i.load().then(function(){this._loadShareView().then(function(r){l.setCurrentProjectId(n),l.addContextData({invokedShareFrom:"organizer-share"}),l.trackEvent("organizer:launchedShareDialog",{type:i.getAppTypeID(),contextData:["projectId"],mode:t||"none"},"organizer:projects");i.getStorageImpl(),i.getPublishImpl();if(r.setModel(e),r.setElement(this.$shareOverlay),r.setShareTarget("link"),i.isDocPublished(e)&&!t)r.showShareOverlay({useCurrentData:!0});else{if(t=t||"share",window.sessionStorage)try{window.sessionStorage.setItem("publishOnLoadDesignView",t)}catch(e){}marvel._publishOnLoadDesignView=t,marvel.navigate("design/"+i.typeName+"/"+n,{trigger:!0})}}.bind(this))}.bind(this)).done()},handleWorking:function(e){e.working?S.showWaitView(null,e.msg||"",{progressBar:e.progressBar}):S.hide()},remove:function(){return this.$el.empty(),this.pageBody$&&this.pageBody$.hasClass("mrvl-organizer-tile-bg")&&(this.pageBody$.removeClass("mrvl-organizer-tile-bg"),this.pageBody$.addClass("light")),e(window).unbind("scroll"),e(".mrvl-mrkt-nav-logged-out-cta").removeClass("hide"),e(".mrvl-mrkt-nav-create").addClass("hide").unbind("click"),e(".nav-cta-actions").addClass("hide"),this.siteFooter$&&this.siteFooter$.removeClass("hide"),this.myCollection&&(this.myCollection.off("reset",this._rerender),this.myCollectionListening=!1),n.each(this.npwViews,function(e,t){"npw"==t&&e.getRedrawDataForOrganizer&&(this._npwRedrawData=e.getRedrawDataForOrganizer()),e.remove(),e.$el.remove()}.bind(this)),this.npwViews={},this.carouselView&&(this.carouselView.remove(),this.carouselView=null),this._templatesView&&(this._templatesView.remove(),this._templatesView=null),this._workspaceView&&(this._workspaceView.remove(),this._workspaceView=null),this._simpleFooterView&&(this._simpleFooterView.remove(),this._simpleFooterView=null),this._removeFiltersUi(),this.featureHighlighterView&&(this.featureHighlighterView.remove(),this.featureHighlighterView=null),this},isFolderActionAllowed:function(t){var i=e(t);return!(i.hasClass("processing")||i.find(".mrvl-item-folder").hasClass("mrvl-drop-processing"))},handleFolderClick:function(t){this.isFolderActionAllowed(t.currentTarget)&&this.navigateToFolder(e(t.currentTarget).data("id"))},handleCrumbClick:function(t){this.navigateToFolder(e(t.currentTarget).data("id"))},handleCrumbExpandClick:function(t){e(t.currentTarget).addClass("hide"),e(t.currentTarget.nextElementSibling).removeClass("collapsed"),this._breadcrumbsExpanded=!0},navigateToFolder:function(e){var t="/projects";e&&(t="folders/"+e),this.getCurrentFolder().then(function(i){("root"===i.id?0:i.id)!==e&&(this._workspaceView.resetViewForNewFolder(!0),window.marvel.navigate(t,{trigger:!0}))}.bind(this))},showBreadcrumbsAbbr:function(){this.breadcrumbsAbbr$.removeClass("hide")},hideBreadcrumbsAbbr:function(){this.breadcrumbsAbbr$.addClass("hide")},resetBreadcrumbs:function(){this._breadcrumbsExpanded=!1,this.breadcrumbsExt$.addClass("collapsed")},getCurrentFolder:function(){this.updateModelFilterAndSort();var e=this.model.getKey();return E.load().then(function(t){return t.ACPSparkController.discoverFolder(this.model).then(function(t){return this.model.getKey()!==e?o.reject("spec-changed"):t}.bind(this)).catch(function(e){return this.showAlert("Invalid Folder",'Oops, we couldn\'t find that folder. Taking you back you to "My Stuff"'),n.delay(function(){marvel.navigate("/projects",!0)}.bind(this),2e3),o.reject("invalid-folder")}.bind(this))}.bind(this))},resetODB:function(){return E.load().then(function(e){return e.ACPSparkController._resetODB()}.bind(this)).done(),!1},_createFolder:function(e){return E.load().then(function(t){return this.getCurrentFolder().then(function(i){return t.ACPSparkController.createFolder(e,i)}.bind(this))}.bind(this))},showCreateFolderActionDialog:function(t,i,r){return this._organizerIndexProgressView&&(e(document.body).find(".confirm-overlay").empty(),this._organizerIndexProgressView=null),l.trackEvent("createFolder:clicked",{createdFrom:"organizer"},"organizer:projects"),S.showPrompt(a.getString("organizer-new-folder-title"),a.getString("organizer-new-folder-beta-msg"),{okText:a.getString("organizer-verb-create"),cancelText:a.getString("organizer-verb-cancel"),placeholderText:a.getString("organizer-new-folder-placeholder"),isBeta:!0,defaultText:i||this.getNewFolderName(),additionalUI$:r}).then(function(e){if(e)return S.showWaitView(a.formatMessage("organizer-new-folder-status-message-creating",{folderName:e}),"",{duration:5e3}),this._createFolder(e).then(function(t){S.hide(),l.trackEvent("createFolder:success",{folderName:e,createdFrom:"organizer"},"organizer:projects"),S.showWaitSuccessView(a.formatMessage("organizer-new-folder-status-message-success",{folderName:e})),this._workspaceView.resetViewForNewFolder(!1)}.bind(this),function(t){S.hide(),D.handleCreateFolderError(t,n.escape(e),"organizer",function(t){this.$el.find("a.mrvl-organizer-folder-action-create").trigger("click",[e,t])}.bind(this))}.bind(this))}.bind(this)).done(),!1},showAlert:function(e,t){return D.showAlert(e,t,"organizer")},getNewFolderName:function(){var e=n.random(F.length-1),t=F[e],i=a.getString("organizer-new-folder-default-name");return this.lastFunNameIdx&&(e=this.lastFunNameIdx!==e?e:e+1),e>F.length-1&&(e=0),this.lastFunNameIdx=e,t||i},updateBreadcrumbsView:function(){this._breadcrumbsView&&e.contains(document,this._breadcrumbsView.$el[0])||(this.breadcrumbs$=this.$el.find(".mrvl-organizer-breadcrumbs-extended"),this._breadcrumbsView=new I,this._breadcrumbsView.setElement(this.breadcrumbs$),this._breadcrumbsView.bindOrganizerView(this)),this._breadcrumbsView.render()},handleDragStart:function(t){var i,n=e(t.currentTarget),r=n.find(".mrvl-item-folder"),o=this.$el.find(".mrvl-drag-image").first(),a=n.find(".mrvl-item-title").text(),s=n.find(".mrvl-item-name").val(),l=t.originalEvent.dataTransfer;this.isFolderActionAllowed(t.currentTarget)?(this.selectedItemForMove=[],o.text(a||s),i=o[0].cloneNode(!0),document.body.appendChild(i),l.setData("text/plain",a),l.setDragImage(i,10,10),n&&(n.addClass("mrvl-move-selected"),r.addClass("drop-disabled"),this.selectedItemForMove=[t.currentTarget])):t.preventDefault()},handleDragEnd:function(t){this.selectedItemForMove=[],e(t.currentTarget).removeClass("mrvl-move-selected"),e(t.currentTarget).find(".mrvl-item-folder").removeClass("drop-disabled")},handleDrop:function(t){var i,r=e(t.currentTarget),o=r.data("id"),s=[],l=this.selectedItemForMove?[].concat(this.selectedItemForMove):[];t.preventDefault(),t.stopPropagation(),r.hasClass("mrvl-drop-processing")||l.length&&E.load().then(function(c){if(i=c.ACPSparkController.getLocalFolderById(o),n.each(l,function(t){var i,n=e(t),r=n.data("id"),a=n.hasClass("mrvl-organizer-folder-item");a&&o==r||((i=a?c.ACPSparkController.getLocalFolderById(r):c.ACPSparkController.getLocalProjectById(r))?(n.addClass("processing"),s.push(i)):console.warn("drop handler unable to resolve model for "+r+" with "+a))}.bind(this)),i){var d,h=i.name||a.getString("organizer-move-destination-name-root");1===s.length&&(d=s[0].name),r.addClass("mrvl-drop-processing"),r.removeClass("mrvl-drop-success"),c.ACPSparkController.move(s,i).then(function(){u.hasFeature("enable-odb-immediate")?(r.removeClass("mrvl-drop-processing"),r.addClass("mrvl-drop-success"),n.delay(function(){r.removeClass("mrvl-drop-success")}.bind(this),1500)):(n.each(s,function(e){this._folderView.derezFolder(e.id),this._workspaceView.derezProject(e.id)}.bind(this)),r.removeClass("mrvl-drop-processing"),r.addClass("mrvl-drop-success"),n.delay(function(){r.removeClass("mrvl-drop-success")}.bind(this),2e3),this.showPopupMessage(a.formatMessage("organizer-moved-confirmation",{itemCount:s.length,itemName:d,destinationName:h})))}.bind(this),function(t){n.each(l,function(t){e(t).removeClass("processing")}),r.removeClass("mrvl-drop-processing"),this.showPopupMessage('Move "'+d+'" to "'+h+'" failed.')}.bind(this)),u.hasFeature("enable-odb-immediate")&&(n.each(s,function(e){this._folderView.derezFolder(e.id),this._workspaceView.derezProject(e.id)}.bind(this)),this.showPopupMessage('Moving "'+d+'" to "'+h+'".'))}else console.warn("drop handler unable to resolve destination model",r);e(t.currentTarget).removeClass("mrvl-drop-active")}.bind(this))},handleDragEnter:function(t){var i=t.originalEvent.dataTransfer;t.preventDefault(),i.dropEffect="move",this.selectedItemForMove&&this.selectedItemForMove.length&&e(t.currentTarget).addClass("mrvl-drop-active")},handleDragLeave:function(t){t.preventDefault(),t.currentTarget===t.target&&e(t.currentTarget).removeClass("mrvl-drop-active")},handleDrag:function(e){var t=1;e.originalEvent.clientY<150?(t=150/e.originalEvent.clientY*1.2,window.scrollTo({top:window.scrollY-3*t})):e.originalEvent.clientY>window.innerHeight-150&&(t=150/(window.innerHeight-e.originalEvent.clientY)*1.2,window.scrollTo({top:window.scrollY+3*t}))},showPopupMessage:function(t){var i=new r.Model({themeClassName:"bubble-message",title:t,height:"auto",width:"392px",autoDecay:!0}),n=new M({model:i,showMulti:!1,positionBottom:!0});n.setElement(e(".popup-message-wrapper")),n.render()},_projectsRefreshed:function(e){"template"===e.projectFilterId?this._templatesView&&(this._templatesView.remove(),this._templatesView=null):this._workspaceView&&(this._workspaceView.remove(),this._workspaceView=null),this.render(this.currentRoute)},_projectsRefreshedForView:function(e){e&&(e===this._templatesView?(this._templatesView.remove(),this._templatesView=null):e===this._workspaceView&&(this._workspaceView.remove(),this._workspaceView=null)),this.render(this.currentRoute)},_getFiltersControllerForFilterDiv:function(e){var t;if(t=e.closest(".project-filters-divs-templates").length?this._templatesView:this._workspaceView)return t.getController().projectFilters},handleProjectFilterClick:function(t){var i=e(t.currentTarget),n=i.data("filter"),r=this._getFiltersControllerForFilterDiv(i);r.toggleSort(n).then(function(){this._trackSortFilterClick(n,r),this._projectsRefreshed(r)}.bind(this))},_trackSortFilterClick:function(e,t){var i=t.isSortTypeAscending(e)?"ascending":"descending";l.trackEvent("sortOrderClicked",{context:i,filter:e},"organizer:projects")},appFilterDropdownChange:function(e,t){if(!u.hasFeature("enable-odb")&&!u.hasFeature("enable-spark-storage-server")||u.hasFeature("odb-has-too-many-projects")){var i=this._getFiltersControllerForFilterDiv(e.$el);i.applyAppFilter(t).then(function(){this._projectsRefreshed(i)}.bind(this))}else this._workspaceView.reset(),this._folderView&&this._folderView.reset(),this.getCurrentFolder().then(function(i){this._getFiltersControllerForFilterDiv(e.$el).applyAppFilter(t).then(function(){i.getDiscoveryContext().reset(),E.load().then(function(e){e.ACPSparkController.reset(),this.updateModelFilterAndSort(),this.getCurrentFolder().then(function(e){this._folderView&&this._folderView.render(),this._workspaceView.render(),this.updateBreadcrumbsView()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},sortingDropdownChange:function(e,t){if(!u.hasFeature("enable-odb")&&!u.hasFeature("enable-spark-storage-server")||u.hasFeature("odb-has-too-many-projects")){var i=this._getFiltersControllerForFilterDiv(e.$el);i.applySortFromMenuItemValue(t).then(function(){this._projectsRefreshed(i)}.bind(this))}else this._workspaceView.reset(),this._folderView&&this._folderView.reset(),this.getCurrentFolder().then(function(i){this._getFiltersControllerForFilterDiv(e.$el).applySortFromMenuItemValue(t).then(function(){i.getDiscoveryContext().reset(),E.load().then(function(e){e.ACPSparkController.reset(),this.updateModelFilterAndSort(),this.getCurrentFolder().then(function(e){this._folderView&&this._folderView.render(),this._workspaceView.render(),this.updateBreadcrumbsView()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},_removeOneFiltersUiSet:function(e){e.projectsSortingDropdown&&(e.projectsSortingDropdown.remove(),e.projectsSortingDropdown=null),e.projectsAppFilterDropdown&&(e.projectsAppFilterDropdown.remove(),e.projectsAppFilterDropdown=null)},_removeFiltersUi:function(){this.filtersUi&&(this.filtersUi.template&&this._removeOneFiltersUiSet(this.filtersUi.template),this.filtersUi.project&&this._removeOneFiltersUiSet(this.filtersUi.project),this.filtersUi=null)},updateModelFilterAndSort:function(){if((u.hasFeature("enable-odb")||u.hasFeature("enable-spark-storage-server"))&&!u.hasFeature("odb-has-too-many-projects")){var e=this.filtersUi&&this.filtersUi.project;if(e&&e.projectsSortingDropdown){var t=e.controller.projectFilters.getSortingMenuItemIdForCurrentType();"modifiedDate:ascending"===t?(this.model.setSort("modified"),this.model.setSortDirection("asc")):"modifiedDate:descending"===t?(this.model.setSort("modified"),this.model.setSortDirection("desc")):"projectName:ascending"===t?(this.model.setSort("name"),this.model.setSortDirection("asc")):"projectName:descending"===t&&(this.model.setSort("name"),this.model.setSortDirection("desc"))}if(e&&e.projectsAppFilterDropdown){var i,n=e.controller.projectFilters.getAppTypesToShow();if(u.hasFeature("organizer-project-filters-app-multiple"))n.length||(n=["all"]),this.model.setFilter(n);else i=1===n.length?n[0]:"all",this.model.setFilter(i)}}},setProjectFiltersUiType:function(e){var t,i=this.filtersUi&&this.filtersUi[e];i?this._redrawFiltersUi(i):(this._setupProjectFiltersUi(e),i=this.filtersUi[e]),t="template"===e?this.filtersUi.project:this.filtersUi.template,this.filtersUi.currentType=e,i.projectFiltersDiv$.removeClass("hide"),t&&t.projectFiltersDiv$.addClass("hide")},_redrawFiltersUi:function(e){if(e.projectsSortingDropdown){var t=e.controller.projectFilters.getSortingMenuItemIdForCurrentType();e.projectsSortingDropdown.setValue(t)}if(e.projectsAppFilterDropdown){var i,n=e.controller.projectFilters.getAppTypesToShow();if(u.hasFeature("organizer-project-filters-app-multiple"))n.length||(n=["all"]),e.projectsAppFilterDropdown.setValues(n);else i=1===n.length?n[0]:"all",e.projectsAppFilterDropdown.setValue(i)}},_setupProjectFiltersUi:function(e){var t="template"===e?this._templatesView.getController():h;if(t.projectFilters){this.filtersUi||(this.filtersUi={}),this.filtersUi[e]||(this.filtersUi[e]={});var i,r,o=this.filtersUi[e],s=t.projectFilters.getAppsItemsDataForDropdown(),l=t.projectFilters.getSingleTypeSorting();if(o.controller=t,u.hasFeature("enable-spark-templates"))this.$el.addClass("project-filters"),i=this.$el.find(".project-filters-block").find(".project-filters-divs-"+e+"s");else this.$el.addClass("project-filters-no-templates"),i=this.$el.find(".project-filters-divs-no-templates");if(o.projectFiltersDiv$=i,r=i.find(".project-filters-div-apps"),l){var c=i.find(".one-project-filter-div-sorting");t.projectFilters.isSortTypeAscending(l.id)?(c.addClass("ascending"),c.removeClass("descending")):(c.removeClass("ascending"),c.addClass("descending")),c.find(".sort-direction-span.descending").text(l.descendingString),c.find(".sort-direction-span.ascending").text(l.ascendingString),c.data("filter",l.id),i.removeClass("multi-sort")}else{var d=i.find(".project-filters-sorting-dropdown");i.addClass("multi-sort");var p={items:t.projectFilters.getAppsItemsDataForSortDropdown(),onchangeCallback:this.sortingDropdownChange.bind(this),checkmarkStyle:"use-checkmark-spectrum",widthSetByStyle:!0,buttonDisplayControlledByCaller:!1,buttonHasBackgroundItem:!0,defaultValue:t.projectFilters.getSortingMenuItemIdForCurrentType(),analytics:{dropdownName:"OrganizerSortFilter",pageName:"organizer:projects"},buttonLabel:a.getString("organizer-project-sortlabel")+" "};o.projectsSortingDropdown=new T(d,p,this),o.projectsSortingDropdown.render(),o.projectsSortingDropdown.selectedItem&&o.projectsSortingDropdown.setButtonDisplay(o.projectsSortingDropdown.selectedItem.name)}if(s.length>1){var f=t.projectFilters.getAppTypesToShow(),g=u.hasFeature("organizer-project-filters-app-multiple"),m=r.find(".project-filters-apps-dropdown"),v={items:s,onchangeCallback:this.appFilterDropdownChange.bind(this),checkmarkStyle:"use-checkmark-spectrum",widthSetByStyle:!0,buttonHasBackgroundItem:!0,analytics:{dropdownName:"OrganizerAppFilter",pageName:"organizer:projects"},buttonLabel:a.getString("organizer-project-filter-label")+" "};g?(v.multiple=!0,n.each(s,function(e){e.isSelected=-1!==f.indexOf(e.id)}.bind(this))):1===f.length?v.defaultValue=f[0]:v.defaultValue="all",r.removeClass("hide"),o.projectsAppFilterDropdown=new T(m,v,this),o.projectsAppFilterDropdown.render(),!l&&o.projectsAppFilterDropdown.selectedItem&&o.projectsAppFilterDropdown.setButtonDisplay(o.projectsAppFilterDropdown.selectedItem.name)}else r.addClass("hide");e!==this.filtersUi.currentType&&o.projectFiltersDiv$.addClass("hide")}}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(339),i(821),i(822)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return i.View.extend({className:"messaging-strip",_index:0,_position:0,isRendered:!1,initialize:function(){this.model||(this.model=new i.Model),t.isArray(this.model.get("views"))||this.model.set("views",[])},render:function(){var t=this.model.get("views");this.isRendered=!0,this.$el.empty(),this.$el.html(n.to_html(o,{})),this.$contentBlockContainer=this.$el.find(".messaging-strip-content-block-container"),this.$contentBlockContainer.append(this.model.get("views").map(function(e){return e.$el})),r.stripHeight=this.$el.height(),this.model.get("views").forEach(function(e){e.render()});var i=this.$el.find(".messaging-strip-scroll-left"),a=this.$el.find(".messaging-strip-scroll-right");i.addClass("hide"),a.addClass("hide"),i.on("click",function(){a.removeClass("scroll-left-fix"),0!==this._index?(i.removeClass("scroll-left-fix"),a.removeClass("scroll-left-fix"),this._index--,0===this._index&&i.addClass("scroll-left-fix"),this._position+=t[this._index].width+3,this.$contentBlockContainer.css("transform","translateX("+this._position+"px)")):i.addClass("scroll-left-fix")}.bind(this)),a.on("click",function(){i.removeClass("scroll-left-fix");for(var n=0,r=this.model.get("views").length,o=this._index+1;o<r;o++)n+=t[o].width;if(n<e(window).width()){var s=this._position-t[this._index].width+(e(window).width()-n);return this.$contentBlockContainer.css("transform","translateX("+s+"px)"),void a.addClass("scroll-left-fix")}this._index!==r-1&&(this._position-=t[this._index].width+3,this.$contentBlockContainer.css("transform","translateX("+this._position+"px)"),this._index++)}.bind(this)),this.model.get("takeoverView")&&(this.model.get("takeoverView").$el=this.$el.find(".messaging-strip-takeover"),this.model.get("takeoverView").render())},remove:function(){return this.$el.empty(),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<ol class="messaging-strip-content-block-container"></ol>\n<button class="messaging-strip-scroll messaging-strip-scroll-left scroll-left-fix"></button>\n<button class="messaging-strip-scroll messaging-strip-scroll-right"></button>\n<div class="messaging-strip-takeover"></div>'},function(e,t,i){var n=i(823);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(51);(e.exports=i(26)(!1)).push([e.i,"@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.messaging-strip-takeover{display:-webkit-flex;display:flex;position:absolute;left:0;bottom:100%;width:100%;height:100%;box-shadow:0 0 3px 2px rgba(0,0,0,.1);transition:-webkit-transform 1s;transition:transform 1s;transition:transform 1s,-webkit-transform 1s}.messaging-strip-takeover .messaging-strip-generic-image{-webkit-flex:1 1 auto;flex:1 1 auto;height:100%;width:50%;background-color:#35657c}.messaging-strip-takeover .messaging-strip-header-text{margin:38px 0 0 63px;color:#fff;font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:22px;font-weight:700}.messaging-strip-takeover .messaging-strip-sub-text{margin:20px 0 0 63px;line-height:20px;color:#fff;font-family:adobe-clean,sans-serif;font-size:14px;font-weight:400}.messaging-strip-takeover .messaging-strip-text-container{-webkit-flex:1 1 auto;flex:1 1 auto;height:100%;width:50%;background-color:#35414c}.messaging-strip-takeover .messaging-strip-close-x{position:absolute;width:25px;height:25px;right:28px;top:17px;background-image:url("+n(i(824))+");background-size:12px 12px;background-repeat:no-repeat;background-position:50% 50%;background-color:transparent}.messaging-strip-takeover .messaging-strip-close-x:hover{border-radius:3em;background-color:#35414c;background-image:url("+n(i(825))+')}.messaging-strip-takeover .messaging-strip-takeover-cta{color:#fff;background-color:transparent;border:1px solid #fff;padding:10px;font-size:1em;height:30px;margin:20px 250px;cursor:pointer}.messaging-strip-takeover-show{-webkit-transform:translateY(100%);transform:translateY(100%)}.messaging-strip-merch-block-content{height:100%;background:linear-gradient(to top right,#35414c,#242c33);margin:0 auto;text-align:center;cursor:pointer;position:relative}.messaging-strip-merch-block-content .messaging-strip-merch-block-new-badge{display:none;position:absolute;top:52px;left:0;white-space:pre-wrap;background-image:url(/images/onboarding/newbadge_fonts.png);background-size:contain;background-position:50%;width:102px;height:30px}.messaging-strip-merch-block-content.new .messaging-strip-merch-block-new-badge{display:block}.messaging-strip-merch-block-content .messaging-strip-merch-block-header{padding:15px 0 0;color:#fff;font-family:adobe-clean,sans-serif;font-size:12px;font-weight:700;text-transform:uppercase}.messaging-strip-merch-block-content .messaging-strip-merch-block-title{color:#fff;font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:28px;font-weight:700;padding:4.5% 3% 0}.messaging-strip-merch-block-content .messaging-strip-merch-block-subtitle{padding:10px 60px 0;font-family:adobe-clean,sans-serif;font-size:16px;font-weight:400;color:#fff;line-height:22px}.messaging-strip-merch-block-content .messaging-strip-merch-block-cta-text{background-color:transparent;padding-top:15px;color:#ffda00;font-family:adobe-clean,sans-serif;font-size:16px;font-weight:700}.messaging-strip-merch-block-content:hover{background:#284660}@media (-webkit-min-device-pixel-ratio:1.25),(min-resolution:120dpi){.messaging-strip-merch-block-content .messaging-strip-merch-block-new-badge{background-image:url(/images/onboarding/newbadge_fonts@2x.png)}}.messaging-strip-example{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;transition:all 1s}.messaging-strip-example .messaging-strip-example-container{position:relative;top:0;width:100%;height:100%}.messaging-strip-example h1{color:#fff;font-family:adobe-clean,sans-serif;font-size:2em}.messaging-strip-example .messaging-strip-example-overlay{position:absolute;top:0;width:100%;height:100%;margin:0 auto;background:linear-gradient(rgba(0,0,0,.3),transparent);text-align:center;opacity:1;cursor:pointer}.messaging-strip-example .messaging-strip-example-image{position:relative;width:100%;height:100%;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;background-position:50%;background-size:cover;background-repeat:no-repeat;transition:.9s ease}.messaging-strip-example .messaging-strip-example-type{position:absolute;top:15px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-weight:700;font-family:adobe-clean,sans-serif;font-size:12px;color:#fff;text-transform:uppercase;cursor:pointer}.messaging-strip-example:hover .messaging-strip-example-image{-webkit-transform:scale(1.1);transform:scale(1.1)}.messaging-strip-example-theo{background-color:#10c459}.messaging-strip-example-voice{position:relative;background-color:#ff4931}.messaging-strip-example-voice:after{content:"";position:absolute;bottom:6px;left:6px;width:32px;height:32px;background-position:50%;background-repeat:no-repeat;background-size:cover;background-image:url('+n(i(826))+');z-index:5}.messaging-strip-example-slate{background-color:#00b1ef}.messaging-strip-blog-container{height:100%;position:relative;background:linear-gradient(to top right,#284660,#242c33)}.messaging-strip-blog-container .messaging-strip-link{text-decoration:none}.messaging-strip-blog-container .messaging-strip-blog-overlay{position:relative;width:100%;height:100%;background:linear-gradient(rgba(0,0,0,.3),transparent);margin:0 auto;text-align:center;opacity:1;cursor:pointer}.messaging-strip-blog-container .messaging-strip-blog-header{position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding-top:15px;font-weight:700;font-family:adobe-clean,sans-serif;font-size:12px;color:#fff;text-transform:uppercase}.messaging-strip-blog-container .messaging-strip-blog-title{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:28px;font-family:brandon-grotesque,adobe-clean,sans-serif;font-weight:700;color:#fff;text-shadow:2px 2px rgba(0,0,0,.2);width:450px;line-height:36px;text-align:center;padding-top:3%}.messaging-strip-blog-container .messaging-strip-blog-thumbnail{position:absolute;background-size:cover;width:100%;height:100%;transition:.9s ease}.messaging-strip-blog-container:hover .messaging-strip-blog-thumbnail{-webkit-transform:scale(1.1);transform:scale(1.1)}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes slide-up{0%{background-position:700px 0}25%{background-position:700px -120px}30%{background-position:700px -120px}55%{background-position:700px -355px}60%{background-position:700px -355px}85%{background-position:700px -557px}90%{background-position:700px -557px}to{background-position:700px -557px}}@keyframes slide-up{0%{background-position:700px 0}25%{background-position:700px -120px}30%{background-position:700px -120px}55%{background-position:700px -355px}60%{background-position:700px -355px}85%{background-position:700px -557px}90%{background-position:700px -557px}to{background-position:700px -557px}}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content{height:240px;background:linear-gradient(90deg,#5256d0,#459acd);margin:0 auto}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content{width:1290px;height:240px!important;margin:0 auto;padding:30px 20px 20px;text-align:left}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content strong{font-weight:700}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content:before{width:1290px;height:270%;background-image:url(/images/messaging-strip/banner.png);background-repeat:no-repeat;content:"";position:absolute;background-position:700px -557px;top:-18px;z-index:0;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform:rotate(-30deg);transform:rotate(-30deg);-webkit-animation:slide-up ease 12s;animation:slide-up ease 12s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-direction:normal;animation-direction:normal}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-header{display:none}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-title{background:url(/images/messaging-strip/new.svg) 0 0 no-repeat;color:#fff;font-family:adobe-clean,sans-serif;font-size:28px;width:500px;font-weight:900;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:32px;padding:0 0 8px 58px}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-title i{font-weight:900;font-style:italic}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-subtitle{font-family:adobe-clean,sans-serif;padding:0 0 0 58px;font-size:16px;line-height:20px;width:500px;font-weight:400;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;margin-bottom:13px}.messaging-strip-merch-block-free-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-cta-text{background-color:transparent;padding:12px;border-radius:50px;color:#fff;width:138px;font-family:adobe-clean,sans-serif;font-size:16px;text-align:center;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid #fff;margin-left:58px}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content{height:240px;background:#fff;margin:0 auto}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content{width:1290px;height:240px!important;margin:0 auto;padding:40px;text-align:left}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content strong{font-weight:700}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-inner-content:before{width:1290px;height:300%;background-image:url(/images/messaging-strip/banner.png);background-repeat:no-repeat;content:"";position:absolute;background-position:700px -557px;top:-18px;z-index:0;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform:rotate(-30deg);transform:rotate(-30deg);-webkit-animation:slide-up ease 12s;animation:slide-up ease 12s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-direction:normal;animation-direction:normal}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-header{display:none}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-title{font-family:adobe-clean,sans-serif;font-size:28px;width:500px;font-weight:900;margin:0;color:#284660;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:35px;padding:0 0 15px}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-title i{font-weight:900;font-style:italic}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-subtitle{font-family:adobe-clean,sans-serif;padding:0;margin:0 0 27px;font-size:16px;line-height:20px;width:500px;font-weight:400;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#284660}.messaging-strip-merch-block-paid-user-feature-full-width .messaging-strip-merch-block-content .messaging-strip-merch-block-cta-text{background-color:#1473e6;padding:12px;border-radius:50px;color:#fff;width:138px;font-family:adobe-clean,sans-serif;font-size:16px;text-align:center;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0;border:2px solid #1473e6}.messaging-strip{display:block;position:relative;overflow:hidden;background-color:#fff}.messaging-strip-scroll{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:40%;right:0;width:36px;height:36px;border-radius:30px;margin:0 10px;cursor:pointer;box-shadow:0 2px 5px 3px rgba(0,0,0,.2);outline:none;background-color:hsla(0,0%,100%,.7)}.messaging-strip-scroll:after{display:block;font-size:2em;font-weight:700;padding-bottom:3px}.messaging-strip-scroll:hover{opacity:1;background-color:#fff}.messaging-strip-scroll-left{left:0;background-image:url(/images/left_chevron.png);background-repeat:no-repeat;background-size:10px 15px;background-position:50% 50%}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.messaging-strip-scroll-left{background-image:url(/images/left_chevron@2x.png)}}.messaging-strip-scroll-right{right:0;background-image:url(/images/right_chevron.png);background-repeat:no-repeat;background-size:10px 15px;background-position:50% 50%;z-index:3}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.messaging-strip-scroll-right{background-image:url(/images/right_chevron@2x.png)}}.messaging-strip-content-block-container{display:-webkit-flex;display:flex;height:100%;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.messaging-strip-content-block{height:100%;-webkit-flex:0 0 auto;flex:0 0 auto;margin:0 1.5px;overflow:hidden}.messaging-strip-content-block:first-child{margin-left:0}.messaging-strip-content-block.full-width{width:100%}.scroll-left-fix.scroll-left-fix,.scroll-left-fix.scroll-left-fix:hover{opacity:0}',""])},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiPjxzdHlsZT4uc3Qwe2ZpbGw6IzgyOTE5YX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNy43IDBMMCAxNy43bDkgOSAyMi40IDIyLjdMOSA3MS45bC05IDguNyAxNy43IDE4LjEgOS05TDQ5LjQgNjdsMjIuNCAyMi43IDguNyA5IDE4LjEtMTguMS05LTguNy0yMi43LTIyLjQgMjIuNy0yMi43IDktOUw4MC42IDBsLTguNyA5LTIyLjQgMjIuNEwyNi44IDlsLTkuMS05eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiPjxzdHlsZT4uc3Qwe2ZpbGw6I2ZmZn08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNy43IDBMMCAxNy43bDkgOSAyMi40IDIyLjdMOSA3MS45bC05IDguNyAxNy43IDE4LjEgOS05TDQ5LjQgNjdsMjIuNCAyMi43IDguNyA5IDE4LjEtMTguMS05LTguNy0yMi43LTIyLjQgMjIuNy0yMi43IDktOUw4MC42IDBsLTguNyA5LTIyLjQgMjIuNEwyNi44IDlsLTkuMS05eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIxMTk2LjQ0NCAxOTUuNDQ0IDM1LjExMSAzNS4xMTEiIHdpZHRoPSIzNS4xMTEiIGhlaWdodD0iMzUuMTExIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBvcGFjaXR5OiAwLjc7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogcmdiYSgyNTUsMTksMjIwLDApOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICNmZmY7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsdGVyOiB1cmwoI1BhdGhfMzEwOCk7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgICA8ZmlsdGVyIGlkPSJQYXRoXzMxMDgiIHg9IjExOTYuNDQ0IiB5PSIxOTUuNDQ0IiB3aWR0aD0iMzUuMTExIiBoZWlnaHQ9IjM1LjExMSIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPGZlT2Zmc2V0IGlucHV0PSJTb3VyY2VBbHBoYSIvPgogICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz4KICAgICAgPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMC4xNjEiLz4KICAgICAgPGZlQ29tcG9zaXRlIG9wZXJhdG9yPSJpbiIgaW4yPSJibHVyIi8+CiAgICAgIDxmZUNvbXBvc2l0ZSBpbj0iU291cmNlR3JhcGhpYyIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGlkPSJHcm91cF8xMzc5IiBkYXRhLW5hbWU9Ikdyb3VwIDEzNzkiIGNsYXNzPSJjbHMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwMSAyMDApIj4KICAgIDxyZWN0IGlkPSJDYW52YXMiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjI2IiBoZWlnaHQ9IjI2Ii8+CiAgICA8ZyBjbGFzcz0iY2xzLTQiIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIC0xMjAxLCAtMjAwKSI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzMxMDgtMiIgZGF0YS1uYW1lPSJQYXRoIDMxMDgiIGNsYXNzPSJjbHMtMyIgZD0iTTEyLjU1NiwxQTExLjU1NiwxMS41NTYsMCwxLDAsMjQuMTExLDEyLjU1NiwxMS41NTYsMTEuNTU2LDAsMCwwLDEyLjU1NiwxWm02LjE2NiwxMi4xNzctOC42ODYsNS4wNTZhLjcyMi43MjIsMCwwLDEtLjM2OC4xSDguOTQ0YS43MjIuNzIyLDAsMCwxLS43MjItLjcyMlY3LjVhLjcyMi43MjIsMCwwLDEsLjcyMi0uNzIyaC43MjJhLjcyMi43MjIsMCwwLDEsLjM2OC4xbDguNjg2LDUuMDU2YS43MjIuNzIyLDAsMCwxLDAsMS4yNDJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAxLjQ0IDIwMC40NCkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports='<div class="messaging-strip-merch-block-content{{# isNew }} new{{/ isNew }}">\n    <div class="messaging-strip-merch-block-inner-content">\n        <div class="messaging-strip-merch-block-new-badge"></div>\n        <div class="messaging-strip-merch-block-header">{{header}}</div>\n        <div class="messaging-strip-merch-block-title">{{{title}}}</div>\n        <div class="messaging-strip-merch-block-subtitle">{{{subtitle}}}</div>\n        {{#buttonTitle}}<div class="messaging-strip-merch-block-cta-text">{{buttonTitle}}</div>{{/buttonTitle}}\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(6),i(109),i(339),i(4),i(829)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";var c={slate:"Page",theo:"Post",voice:"Video"},d={slate:"Press Kit",theo:"Quote",voice:"Presentation"};return a.extend({events:{"click .messaging-strip-example-container":"handleExampleStripClick"},initialize:function(e){this.bodyClassName="messaging-strip-example messaging-strip-example-"+this.model.get("type"),this.aspectRatio=this.model.get("aspectRatio")},_renderBlock:function(){var e={documentType:c[this.model.get("type")],templateType:d[this.model.get("type")],label:this.model.get("label")};this.$el.html(n.render(l,e)),this.$el.find(".messaging-strip-example-image").css("background-image","url("+this.model.get("thumbURI")+")"),this.delegateEvents()},handleExampleStripClick:function(){this.previewOverlay?(this.previewOverlay.hideOverlay(),this.previewOverlay.model=this.model,this.previewOverlay.showFullScreen=!0,this.previewOverlay.parentObj=this):this.previewOverlay=new o({model:this.model,el:"#preview-overlay-fs",parentObj:this,fullScreen:!0}),s.trackEvent("viewedExample",{context:"organizer",formatType:this.model.get("type"),hash_id:this.model.get("alias"),exampleUrl:this.model.get("uri"),useCase:this.model.get("useCase")},"organizer:examples"),this.previewOverlay.showOverlay()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="messaging-strip-example-container">\n<div class="messaging-strip-example-image"></div>\n <div class="messaging-strip-example-overlay"></div>\n    <div class="messaging-strip-example-type">{{label}}</div>\n</div>'},function(e,t,i){var n,r;n=[i(0),i(3),i(2),i(1),i(17),i(339),i(11),i(831),i(4)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return o.extend({bodyClassName:"messaging-strip-blog",initialize:function(e){e=e||{},this.aspectRatio=this.model.get("aspectRatio")||545/182,this.title=this.model.get("title"),this.uri=this.model.get("uri"),this.id=this.model.id,this.thumbURI=this.model.get("thumbURI"),o.prototype.initialize.call(this,e)},_renderBlock:function(){this.$el.html(r.render(s,{}));var t={};t.title=this.title,t.link="https://spark.adobe.com"+this.uri,t.thumbnail=this.thumbMedURI||this.thumbURI,this.$el.html(r.render(s,t)),e("a[href$='"+t.link+"']").on("click",function(e){e.preventDefault(),l.trackEvent("messagingStripBlogItem:Clicked",{context:t.link},"organizer:messaging-strip"),window.open(t.link,"_blank")}.bind(this))}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="messaging-strip-blog-container">\n    <a href="{{link}}" class="messaging-strip-link" target="_blank">\n        <div class="messaging-strip-blog-thumbnail" style="background-image: url({{thumbnail}})"></div>\n        <div class="messaging-strip-blog-overlay"></div>\n    \t<div class="messaging-strip-blog-header">inspiration & learning</div>\n        <div class="messaging-strip-blog-title">{{title}}</div>\n    </a>\n</div>'},function(e,t){e.exports='<div class="messaging-strip-text-container">\n    <h4 class="messaging-strip-header-text">{{title}}</h4>\n    <p class="messaging-strip-sub-text">{{subtitle}}</p>\n    {{#buttonTitle}}<button class="messaging-strip-takeover-cta mrvl-button">{{buttonTitle}}</button>{{/buttonTitle}}\n</div>\n<div class="messaging-strip-generic-image"></div>\n<button class="messaging-strip-close-x"></button>'},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3)],void 0===(r=function(e,t,n,r){"use strict";return n.Model.extend({getAsyncPublishController:function(e){return this._getAsyncPublishControllerDefer||(this._getAsyncPublishControllerDefer=r.defer(),i.e("async-publish-controller").then(function(t){var n=i(973);this._getAsyncPublishControllerDefer.resolve(new n(e))}.bind(this).bind(null,i)).catch(i.oe)),this._getAsyncPublishControllerDefer.promise}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="item-preview-overlay-bg mrvl-overlay-bg">\n</div>\n<div class="item-preview-overlay-shell">\n    <div class="mrvl-overlay-close-header">\n        <button class="item-preview-close-btn"></button>\n        <a href="#" target="_blank" class="item-preview-download-link">{{organizer-verb-download}}</a>\n    </div>\n    <div class="marvel-overlay-shell-content">\n        <div class="preview-div"></div>\n    </div>\n</div>\n'},function(e,t){e.exports='<a class="mrvl-item-thumb">\n    <div class="mrvl-item-thumb-img"></div>\n\n    <div class="mrvl-item-thumb-mini-img"></div>\n\n    <div class="mrvl-item-shared-as-template-icon"></div>\n    <div class="mrvl-item-shared-with-others-icon"></div>\n\n    <div class="mrvl-item-action-overlay">\n        <div class="mrvl-item-action-btns">\n            <div class="mrvl-item-open-btn">{{organizer-item-verb-open}}</div>\n        </div>\n\n        <div class="mrvl-item-action-tray hide">\n            <div class="mrvl-item-collaborate-btn hide"><span>{{organizer-item-verb-collaborate}}</span><span class="mrvl-new-feature-tag">{{spark-new-feature-tag-text}}</span></div>\n            <div class="mrvl-item-rename-btn">{{organizer-item-verb-rename}}</div>\n            <div class="mrvl-item-duplicate-btn">{{organizer-item-verb-duplicate}}</div>\n            <div class="mrvl-item-save-as-template-btn hide">{{organizer-item-verb-create-template}}</div>\n            <div class="mrvl-item-download-btn">{{organizer-item-verb-download}}</div>\n            <div class="mrvl-item-unpublish-btn">{{organizer-item-verb-unpublish}}</div>\n            <div class="mrvl-item-trash-btn">{{organizer-item-verb-delete}}</div>\n            <div class="mrvl-item-leave-collab-btn hide">{{organizer-item-verb-leave}}</div>\n            <div class="mrvl-item-download-composite-btn hide">{{organizer-item-verb-debug}}</div>\n            <div class="mrvl-item-render-btn">{{organizer-item-verb-render}}</div>\n        </div>\n\n        <div class="mrvl-item-hide-tray-button hide"></div>\n    </div>\n    <div class="mrvl-item-more-button"></div>\n</a>\n<div class="mrvl-item-footer">\n    <div class="mrvl-item-title-wrapper">\n        <h4 class="mrvl-item-title"></h4>\n        <input class="mrvl-item-title-edit" />\n    </div>\n    <div class="mrvl-item-type hide"></div>\n\n    <div class="mrvl-item-status-line hide">\n        <div class="mrvl-item-appreciates">0</div>\n        <div class="mrvl-item-views">0</div>\n    </div>\n    <div class="mrvl-item-loading">{{organizer-item-verb-loading}}</div>\n\n    <a class="mrvl-item-publish-status hide" href="#"></a>\n</div>\n'},function(e,t,i){var n=i(840);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".collab-mgmt-list{background-color:#efefef;border-bottom-left-radius:5px;border-bottom-right-radius:5px;margin-top:20px;padding:0;width:445px}.collab-mgmt-list .collab-mgmt-list-footer{cursor:pointer;background-image:url(/images/arrow-down-on.svg);background-repeat:no-repeat;background-position:120px 50%;background-size:10px auto;padding:10px;margin-bottom:10px;color:#35414c;font-weight:700}.collab-mgmt-list .collab-mgmt-collaborators{padding-bottom:30px;margin-left:5px}.collab-mgmt-list .collab-mgmt-collaborator{padding:10px}.collab-mgmt-list .collab-mgmt-collaborator .collab-mgmt-clb-avatar{cursor:arrow;width:25px;height:25px;outline:1px solid #000;color:#fff;background-position:50%;background-size:contain;background-repeat:no-repeat;display:inline-block;margin-right:20px;margin-top:-10px;visibility:hidden}.collab-mgmt-list .collab-mgmt-collaborator .no-avatar{margin-left:45px}.collab-mgmt-list .collab-mgmt-collaborator .collab-mgmt-clb-name{cursor:default;display:inline-block;width:210px;border-bottom:1px solid #dce0e3;font-size:12px;font-weight:700;color:#82919b;padding-bottom:10px}.collab-mgmt-list .collab-mgmt-collaborator .collab-mgmt-clb-status{cursor:default;display:inline-block;width:60px;border-bottom:1px solid #dce0e3;font-size:12px;font-weight:700;color:#82919b;padding-bottom:10px}.collab-mgmt-list .collab-mgmt-collaborator .collab-mgmt-clb-actions{cursor:pointer;font-weight:700;font-size:12px;color:#1473e6;display:inline-block;width:90px;border-bottom:1px solid #dce0e3;padding-bottom:10px}",""])},function(e,t,i){var n,r;n=[i(0),i(2),i(23),i(842),i(53),i(12),i(843)],void 0===(r=function(e,t,n,r,o,a,s){"use strict";return new(n.extend({el:".lg-dialog-overlay",events:{"click .render-view-bg":"handleCloseBtn","click .render-view-copy-btn":"handleCopyText","click .render-view-close-btn":"handleCloseBtn","click .render-view-upload-btn":"handleUploadBtn"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){this.$el.length||(this.$el=e(document.body).find(".lg-dialog-overlay")),window.marvel.events.trigger("spark-dialog-shown"),this.$el.html(r.toString()),this.$el[0].focus(),this.title$=this.$el.find(".render-view-dialog-title"),this.title$.text("Rendering "+this.docName),this.uploadbtn$=this.$el.find(".render-view-upload-btn"),this.uploadbtn$.text("Get sharable "+this.model.getMyApp().getAppTypeID()+" link"),this.waiter$=this.$el.find(".wait-spinner"),this.waiter$.addClass("hide"),this.contentUrl.length&&(this.iframe$=this.$el.find(".render-iframe"),this.iframe$.attr("src",this.contentUrl),this.iframe$.attr("height",e(window).height()/2),this.iframe$.attr("width",.75*e(window).width())),this.$el.removeClass("hide")},handleUploadBtn:function(t){this.waiter$.removeClass("hide"),o.checkAppBrowserSupport(this.model.getMyApp()).then(function(t){t&&this.model.getMyApp().load().then(function(){this.model.getMyApp().getDocumentComponents?Promise.resolve().then(function(t){this.model.getMyApp().getDocumentComponents(this.model).then(function(t){var i=this.docName.replace(/\s/g,"-").concat(this.projectId),n=this.iframe$.contents().find(".doc-contents");0!==n.length?n.each(function(n){var r=e(this).find(".doc-name").text(),o=e(this).find(".doc-manifest").text(),s=new Blob([o],{type:"text/plain"}),l=new FormData;l.append("manifest",s,"manifest");for(var c=0;c<t.images.length;c++)l.append("image[]",t.images[c].blob,t.images[c].name);e.ajax({type:"POST",url:"https://postcontentuploads-Dev1-us-east-1.stage.cloud.adobe.io/upload-files/"+i+"%2F"+r,data:l,contentType:!1,processData:!1}).done(function(t){var i=t.split("/"),r=i.slice(0,i.length-2).join("/")+"/";i[i.length-2]&&r?0===n&&(e(".render-view-link-text").val(r),e(".render-view-close-btn").text("Close"),e(".render-view-copy-btn").removeClass("hide"),e(".wait-spinner").addClass("hide")):(e(".wait-spinner").addClass("hide"),a.showAlert("Error generating links","Something went wrong trying to upload the manifest files.").done())}).fail(function(e){a.showAlert("Error uploading","Something went wrong trying to upload the files to a sharable location.").done(),window.marvel.logger.error("Error uploading to the S3 bucket.",e)})}):(e(".wait-spinner").addClass("hide"),a.showAlert("No files to upload","Please wait for the images to render before asking for a sharable link.").done())}.bind(this)).done()}.bind(this).bind(null,i)).catch(i.oe):(a.showAlert("Error getting files","Unable to grab files for "+this.docName).done(),marvel.logger("Unable to grab files for "+this.docName+" - getDocumentComponents is not implemented."))}.bind(this)).done()}.bind(this)).done()},handleCloseBtn:function(e){window.marvel.events.trigger("spark-dialog-closed"),this.$el.addClass("hide")},handleCopyText:function(t){e(".render-view-link-text").focus(),e(".render-view-link-text").select(),document.execCommand("copy"),e(".render-view-tooltip").text("Copied "+e(".render-view-link-text").val()+" to clipboard"),e(".render-view-tooltip").removeClass("hide")},showRenderDialog:function(e){this.model=e,this.projectId=this.model.get("id"),this.contentUrl="/post-render-doc/cc/"+this.projectId+"#resize",this.docName=this.model.getProjectName("card").trim(),this.render()}}))}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="render-view-bg mrvl-overlay-overlay-bg">\n</div>\n<div class="render-view-shell mrvl-overlay-shell">\n    <h2 class="render-view-dialog-title dialog-title">Renders</h2>\n    <div class="mrvl-overlay-content-shell">\n        <div class="mrvl-overlay-content">\n            <div class="wait-spinner"></div>\n                <div class="render-view-copy-btn render-view-btn sp-cta-button-primary hide">\n                    <span class="render-view-tooltip hide"></span>\n                    Copy root link\n                </div>\n            <input type="text" value="" class="render-view-link-text" readonly>\n\n            <iframe class="render-iframe"></iframe>\n        </div>\n        <div class="mrvl-dlg-btn-acts">\n            <span class="render-view-upload-btn render-view-btn sp-cta-button-secondary">Get sharable post link</span>\n            <span class="render-view-close-btn render-view-btn sp-cta-button-primary">Looks good</span>\n        </div>\n    </div>\n    <button class="render-view-close-btn x-close-btn">X</button>\n</div>'},function(e,t,i){var n=i(844);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,'.render-view-shell{width:inherit;height:auto;background-color:#efefef}.render-view-shell input[type=text]{opacity:0}.render-view-shell .render-view-btn{position:relative;display:inline-block}.render-view-shell .render-view-copy-btn{margin:-20px -3px 8px}.render-view-shell .render-view-copy-btn .render-view-tooltip{visibility:hidden;color:#000;width:1000px;text-align:left;position:absolute;z-index:1;bottom:150%;left:50%;margin-left:-61px;margin-bottom:-10px;opacity:0;transition:opacity .3s;line-height:1;font-size:12px}.render-view-shell .render-view-copy-btn .render-view-tooltip:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px}.render-view-shell .render-view-copy-btn:hover .render-view-tooltip{visibility:visible;opacity:1}.render-view-shell .render-link-list-name{font-weight:700}.render-view-shell .render-link-list-item{line-height:1.5}',""])},function(e,t){e.exports='<div class="mrvl-organizer-carousel sp-carousel"></div>\n\n<div class="mrvl-organizer-folders-toolbar hide">\n    <div class="mrvl-organizer-folders-block">\n        <div class="mrvl-organizer-breadcrumbs">\n            <span class="mrvl-organizer-breadcrumbs-base mrvl-organizer-breadcrumbs-link" data-id="0"><a>{{organizer-breadcrumb-mystuff}}</a></span>\n            <span class="mrvl-organizer-breadcrumbs-abbr hide"><a title="{{organizer-breadcrumb-back-link-title}}">&hellip;</a></span>\n            <span class="mrvl-organizer-breadcrumbs-extended collapsed"></span>\n        </div>\n        <div class="mrvl-organizer-folder-actions">\n            <a class="mrvl-organizer-folder-action-btn mrvl-organizer-odb-reset hide" href="" title="{{organizer-verb-reset-odb}}"></a>\n            <a class="mrvl-organizer-folder-action-btn mrvl-organizer-folder-action-create" href="" title="{{organizer-title-new-folder}}">{{organizer-verb-new-folder}}</a>\n        </div>\n    </div>\n    <div class="mrvl-drag-image"><span>&nbsp;</span></div>\n</div>\n\n<div class="mrvl-organizer-title-box">\n    <div class = "mrvl-maintainer">\n        <div class="mrvl-organizer-title-npw hide">{{organizer-title-my-projects}}</div>\n        <div class="mrvl-organizer-circle" data-auto="mrvl-organizer-circle"></div>\n        <div class="project-filters-divs project-filters-divs-no-templates project-filters-divs-projects hide">\n            <div class="project-filters-div-group">\n                <div class="project-filters-div project-filters-div-apps">\n                    <div class="project-filters-apps-dropdown"></div>\n                </div>\n                <div class="project-filters-div project-filters-div-etc">\n                    <div class="one-project-filter-div one-project-filter-div-sorting"><span class="sort-direction-span descending"></span><span class="sort-direction-span ascending"></span></div>\n                    <div class="project-filters-sorting-dropdown"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="inapp-merch-brandswitcher-popup"></div>\n\n<div class="mrvl-organizer-content-tabs hide">\n    <div class="organizer-maintainer">\n        <a href="/{{localizedPathPrefix}}sp/projects" class="organizer-content-tab organizer-content-tab-projects selected">{{organizer-title-projects}}</a>\n        <a href="/{{localizedPathPrefix}}sp/templates" class="organizer-content-tab organizer-content-tab-templates">{{organizer-title-templates}}</a>\n        <div class="project-filters-block">\n            <div class="project-filters-divs project-filters-divs-projects hide">\n                <div class="project-filters-div project-filters-div-apps">\n                    <div class="project-filters-apps-dropdown"></div>\n                </div>\n                <div class="project-filters-div project-filters-div-etc">\n                    <div class="one-project-filter-div one-project-filter-div-sorting"><span class="sort-direction-span descending"></span><span class="sort-direction-span ascending"></span></div>\n                    <div class="project-filters-sorting-dropdown"></div>\n                </div>\n            </div>\n            <div class="project-filters-divs project-filters-divs-templates hide">\n                <div class="project-filters-div project-filters-div-apps">\n                    <div class="project-filters-apps-dropdown"></div>\n                </div>\n                <div class="project-filters-div project-filters-div-etc">\n                    <div class="one-project-filter-div one-project-filter-div-sorting"><span class="sort-direction-span descending"></span><span class="sort-direction-span ascending"></span></div>\n                    <div class="project-filters-sorting-dropdown"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="mrvl-organizer-templates-wrap loading hide">\n    <div class="mrvl-organizer-templates-inner organizer-maintainer">\n        <div class="mrvl-organizer-templates"></div>\n        <div class="organizer-more-templates-toggle hide">{{organizer-verb-load-more-templates}}</div>\n        <div class="mrvl-organizer-empty-templates mrvl-organizer-empty always-hide">\n            <div class="empty-projects">\n                <div class="empty-projects-multi-format">\n                    <h3>{{organizer-empty-templates-title}}</h3>\n                    <p>{{organizer-empty-templates-description}}</p>\n                </div>\n                <div class="empty-projects-single-format">\n                    <h3>{{{organizer-empty-templates-single-format-title}}}</h3>\n                    <p>{{{organizer-empty-templates-single-format-description}}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="mrvl-organizer-folders mrvl-organizer-folders-npw loading hide" data-auto="mrvl-organizer-folders">\n    <div class="mrvl-organizer-results organizer-maintainer" data-auto="mrvl-organizer-folder-results">\n        <h2 class="mrvl-organizer-subhead mrvl-organizer-folders-subhead">{{organizer-title-folders}}</h2>\n        <div class="mrvl-organizer-folders-grid hide"></div>\n    </div>\n</div>\n\n<div class="mrvl-organizer-projects mrvl-organizer-projects-npw loading" data-auto="mrvl-organizer-projects">\n    <div class="mrvl-organizer-results organizer-maintainer" data-auto="mrvl-organizer-results">\n        <a class="mrvl-organizer-export-link hide" href="#">{{organizer-verb-export}}</a>\n\n        <h2 class="mrvl-organizer-subhead mrvl-organizer-projects-subhead">{{organizer-title-projects}}</h2>\n        <div class="mrvl-organizer-projects-loading" data-auto="mrvl-organizer-projects-loading">\n            <div class="spinner"></div>\n            <h3></h3>\n            <a href="#" class="mrvl-organizer-projects-reload">{{organizer-verb-reload}}</a>\n        </div>\n        <div class="mrvl-organizer-project-grid"></div>\n\n        <div class="mrvl-organizer-empty">\n            <div class="empty-projects">\n                <div class="empty-projects-multi-format">\n                    <h3>{{{organizer-empty-projects-title}}}</h3>\n                    <p>{{{organizer-empty-projects-description}}}</p>\n                </div>\n                <div class="empty-projects-single-format">\n                    <h3>{{{organizer-empty-projects-single-format-title}}}</h3>\n                    <p>{{{organizer-empty-projects-single-format-description}}}</p>\n                </div>\n            </div>\n        </div>\n        <div class="organizer-more-projects-toggle hide" data-auto="organizer-more-projects-toggle">{{organizer-verb-load-more-projects}}</div>\n    </div>\n    <div class="mrvl-organizer-empty-folder hide" data-auto="mrvl-organizer-empty-folder">\n        <div class="mrvl-folderface-div">\n            <div class="mrvl-empty-folder-icon"/>\n            <object id="emptyfolder-face" class="mrvl-empty-folder-face" data="/images/folder-unhappy-face.svg" type="image/svg+xml"/>\n        </div>\n        <span class="mrvl-empty-folder-text">{{organizer-empty-folder-title}}</span>\n        <button class="cta-empty-folder-add-proj">{{organizer-verb-create-project}}</button>\n    </div>\n</div>\n\n<div class="mrvl-organizer-service-borked hide" data-auto="mrvl-organizer-service-borked">\n    <div class="mrvl-overlay-overlay-bg"></div>\n    <div class="mrvl-overlay-shell">\n        <div class="mrvl-overlay-content">\n            <h2>Houston, we have a problem.</h2>\n            <p>Please reload your browser window to continue.</p>\n        </div>\n        <div class="mrvl-dlg-btn-acts">\n            <button class="sp-cta-button-primary cta-reload-browser">Reload</button>\n        </div>\n    </div>\n</div>\n<div class="custom-workspace-guide-me hide"></div>\n<div class="custom-workspace-unentitled-overlay hide"></div>\n<div class="delete-confirm-overlay hide"></div>\n<div class="unpublish-confirm-overlay hide"></div>\n<div class="mrvl-organizer-share-overlay hide"></div>\n<div class="move-to-overlay hide"></div>\n<div class="export-dialog-overlay hide"></div>\n<div class="spark-has-mobile-apps"></div>\n<div class="inapp-merch-teaser-container hide"></div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(847)],void 0===(r=function(e,t,i,n){"use strict";return i.View.extend({CAROUSEL_TRANSITION_TIME:1e4,events:{"click .sp-carousel-indicators li":"move"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.carouselItems=[],this.currentSlideIndex=0,this.config=e&&t.clone(e)||{}},_getRandomSlideIndex:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},addView:function(e){this.carouselItems.push(e)},render:function(){this.$el.html(n.toString()),this.config.randomize&&(this.currentSlideIndex=this._getRandomSlideIndex(0,this.carouselItems.length-1));var i=this.carouselItems.length>1&&this.$el.find(".sp-carousel-indicators");return t.each(this.carouselItems,function(t,n){var r=e('<div class="sp-carousel-item"></div>');if(this.$el.append(r),i){var o="";o=n===this.currentSlideIndex?" active":"",i.append('<li class="slide'+n+o+'" data-slide-index="'+n+'"></li>')}t.setElement(r),t.render(),n==this.currentSlideIndex&&r.show()}.bind(this)),i&&(this._startSlideTransition(),this.config.hideIndicators&&i.addClass("hide")),this},_goToSlide:function(e){var t=this.$el.find(".slide"+e);this.carouselItems[this.currentSlideIndex].$el.fadeOut(function(){this.currentSlideIndex=e,this.$el.find("li").removeClass("active"),t.addClass("active"),this.carouselItems[this.currentSlideIndex].$el.fadeIn(),this.currentlyMoving=!1}.bind(this))},move:function(t){if(this.currentlyMoving)return!1;this.currentlyMoving=!0,this.carouselTransitionInterval&&clearInterval(this.carouselTransitionInterval);var i=e(t.currentTarget).data("slide-index");this._goToSlide(i)},_startSlideTransition:function(){this.carouselTransitionInterval&&clearInterval(this.carouselTransitionInterval),this.carouselTransitionInterval=setInterval(function(){var e=this.currentSlideIndex+1;e>=this.carouselItems.length&&(e=0),this._goToSlide(e)}.bind(this),this.CAROUSEL_TRANSITION_TIME)},remove:function(){this.carouselTransitionInterval&&clearInterval(this.carouselTransitionInterval)}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<ol class="sp-carousel-indicators">\n</ol>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(7),i(253),i(8),i(849),i(259)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return n.View.extend({el:".simple-footer",cacheName:"GlobalFooterView",events:{"click .footer-submenu":"handlePrivacyButtonClick","click .ad-choices":"handleAdChoicesClick"},initialize:function(){},render:function(){this.$el.html(a.mustacheRender(s)),this.privacysubmenu$=this.$el.find(".footer-submenu"),o.instrumentAppFooter()},remove:function(){this.$el.empty()},handleAdChoicesClick:function(e){window.adobePrivacy&&window.adobePrivacy.showConsentPopup()},handlePrivacyButtonClick:function(i){this.isShowing()?this.hidePrivacyMenu():t.delay(function(){this.privacysubmenu$.addClass("submenu-opened"),e(".um-overlay").addClass("submenu-popup-opened"),this.$el.find(".simple-footer-wrapper").css("z-index",201),e(".um-overlay").on("click",function(){this.hidePrivacyMenu()}.bind(this))}.bind(this),0)},hidePrivacyMenu:function(){this.privacysubmenu$.removeClass("submenu-opened"),e(".um-overlay").removeClass("submenu-popup-opened"),this.$el.find(".simple-footer-wrapper").css("z-index","")},isShowing:function(){return this.privacysubmenu$.hasClass("submenu-opened")}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="simple-footer-wrapper">\n    <div class="left-block">\n        <div class="footer-spark-logo">{{simple-footer-spark-name}}</div>\n\n        <a href="/{{localePathPrefix}}features" class="footer-spark-features-lnk footer-passthru-link" data-aa-name="footer-features">{{simple-footer-features}}</a>\n        <a href="/{{localePathPrefix}}about#landing-mobile-apps" class="footer-mobile-apps-lnk footer-passthru-link" data-aa-name="footer-mobile-apps">{{simple-footer-mobile-apps}}</a>\n        <a href="https://adobespark.uservoice.com" class="footer-suggest-feature-lnk footer-passthru-link" data-aa-name="footer-link-user-voice">{{simple-footer-suggest-a-feature}}</a>\n        <div class="footer-submenu">\n            <a href="#" class="footer-privacy-label">{{simple-footer-privacy-menu}}</a>\n            <div class="footer-menu-popup">\n                <a href="http://www.adobe.com/go/privacy" target="_blank" class="footer-privacy-lnk">{{simple-footer-privacy-policy}}</a>\n                <a href="http://www.adobe.com/legal/terms.html" target="_blank" class="footer-tos-lnk">{{simple-footer-terms-of-use}}</a>\n                <a href="http://www.adobe.com/privacy/cookies.html" target="_blank" class="footer-cookies-lnk">{{simple-footer-cookies}}</a>\n            </div>\n        </div>\n        <span class="ad-choices">\n            <img src="https://c.evidon.com/pub/icong1.png"/><span>{{simple-footer-adchoices}}</span>\n        </span>\n    </div>\n\n    <div class="right-block">\n        <a href="/{{localePathPrefix}}gallery/" class="footer-inspiration-lnk footer-passthru-link" data-aa-name="footer-inspiration">{{simple-footer-inspiration}}</a>\n        <a href="/blog" class="footer-blog-lnk footer-passthru-link" data-aa-name="footer-blog">{{simple-footer-blog}}</a>\n        <a href="https://www.facebook.com/adobespark" target="_blank" class="footer-facebook-lnk social-tile facebook footer-passthru-link" data-aa-name="footer-facebook" title="{{simple-footer-facebook}}">&nbsp;</a>\n        <a href="https://twitter.com/AdobeSpark" target="_blank" class="footer-twitter-lnk social-tile twitter footer-passthru-link" data-aa-name="footer-twitter" title="{{simple-footer-twitter}}">&nbsp;</a>\n        <a href="https://www.instagram.com/AdobeSpark" target="_blank" class="footer-instagram-lnk social-tile instagram footer-passthru-link" data-aa-name="footer-instagram" title="{{simple-footer-instagram}}">&nbsp;</a>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(4),i(501)],void 0===(r=function(e,t,i,n,r){"use strict";return r.extend({_trackView:function(){n.trackEvent("organizer:viewedProjects",{projectCount:this._refs.length},"organizer:projects")}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(852)],void 0===(r=function(e,t,i,n,r,o){"use strict";return i.View.extend({initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._itemViewLookup={},this._setOptions(e),window.marvel.events.on("odb-folders-changed",this._handleFoldersChanged)},_setOptions:function(e){this.setElement(e.ele),this._container$=e.container$,this._organizerView=e.organizerView},reset:function(){this.$el.empty(),this._container$.addClass("hide"),this._container$.addClass("loading")},_handleFoldersChanged:function(e){this.render()},render:function(){this.reset(),this._organizerView.getCurrentFolder().then(function(e){var i=e.getDiscoveryContext();if(i.folders.length){t.each(i.folders,function(e){this._renderFolder(e)}.bind(this)),this._container$&&(this._container$.removeClass("hide"),this._container$.removeClass("empty"));var n=this.$el.find(".born");n.removeClass("hide"),t.delay(function(){n.removeClass("born"),this.$el.removeClass("hide")}.bind(this),10)}else this._container$.addClass("empty");this._container$.removeClass("loading"),this._trackView(e)}.bind(this),function(e){"spec-changed"!==e&&console.warn("OrganizerFoldersView to fetch folders with",e)}).done()},_organizerItemFactory:function(e){return new o(e)},_renderFolder:function(e){var t=this._organizerItemFactory({model:e});this._itemViewLookup[e.id]=t,t.$el.attr("data-id",e.id),t.viewCounter=this.$el.children().length,t.$el.addClass("hide"),this.$el.append(t.$el),t.mainView=this,t.$el.attr("data-idx",e._idx)},derezFolder:function(e){var t;e in this._itemViewLookup&&(t=this._itemViewLookup[e],this.$el.find(t.$el).remove(),delete this._itemViewLookup[e])},_trackView:function(e){var t=e.parentFolder?e.parentFolder.id:null;r.trackEvent("organizer:viewedFolders",{id:e.id,name:e.name,parentId:t},"organizer:projects")},refreshView:function(){this.$el.empty(),this.render()}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(7),i(4),i(237),i(12),i(24),i(853),i(502)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u){"use strict";return n.View.extend({tagName:"article",className:"mrvl-organizer-folder-item",events:{"click .mrvl-item-tray-button":"handleOpenTray","click .mrvl-item-action-tray":"handleDismissTray","mouseleave .mrvl-item-action-tray":"handleDismissTray","click .mrvl-item-move-btn":"handleMoveToClick","click .mrvl-item-trash-btn":"showDeleteFolderActionDialog","click .mrvl-item-rename-btn":"triggerInlineRenameFolderAction","click .mrvl-item-name":"handleNameClick","blur .mrvl-item-name":"handleInlineRenameFolderAction","keyup .mrvl-item-name":"handleInlineRenameFolderFocus"},initialize:function(e){this.listenTo(this.model,"destroy",this.remove),this.$el.addClass("born"),this.render(e.renderCallback)},render:function(){return o.featuresLoaded().then(function(){var e=this._getItemProps();this.$el.html(r.mustacheRender(d)),this.nameEl$=this.$el.find(".mrvl-item-name"),this.folderEl$=this.$el.find(".mrvl-item-folder"),this.nameEl$.val(e.folderName),this.nameEl$.data("old-value",e.folderName),this.folderEl$.data("id",e.folderId),e.itemCount>0&&(this.$el.find(".mrvl-item-folder-icon").addClass("mrvl-item-folder-empty"),this.$el.find(".mrvl-item-trash-btn").addClass("disabled")),this.$tray=this.$el.find(".mrvl-item-action-tray"),this.$trayButton=this.$el.find(".mrvl-item-tray-button"),this.$deleteButton=this.$el.find(".mrvl-item-trash-btn"),this.$el.attr("draggable",!0)}.bind(this)).done(),this},_getItemProps:function(){var e={type:"folder",folderId:this.model.id,folderName:this.model.name};return e.itemCount=this.model.getDiscoveryContext().totalFolders+this.model.getDiscoveryContext().totalProjects,e},_hideTray:function(){this.$tray.addClass("hide")},userCheckingReady:function(e){return!0},handleMoveToClick:function(e){e.stopPropagation(),this.$el.addClass("mrvl-move-selected"),u.show([this.model]).then(function(e){if(e&&e.isFolder){var t=e.name||r.getString("organizer-move-destination-name-root");this.$el.addClass("processing"),this.model.move(e).then(function(){a.trackEvent("folderMovedTo:success",{FolderMovement:"picker"},"organizer:projects"),this.mainView._organizerView.showPopupMessage(r.formatMessage("organizer-move-popup-message",{projectName:this.model.name,destinationName:t})),this.mainView._organizerView.renderUpdate()}.bind(this))}else this.$el.removeClass("mrvl-move-selected")}.bind(this)),a.trackEvent("folderMoveTo:clicked",{},"organizer:projects")},handleOpenTray:function(e){return this.userCheckingReady(e)&&(this._getItemProps().itemCount>0&&this.$el.find(".mrvl-item-trash-btn").addClass("disabled"),a.trackEvent("organizer:clickedItemContextualMenu",this._getItemProps(),"organizer:projects"),this.$el.removeClass("open-by-default"),this.$tray.removeClass("hide")),!1},handleDismissTray:function(){return this._hideTray(),s.organizerOverlayFocus(this,!1,!1),!1},handleNameClick:function(e){e.stopPropagation()},showDeleteFolderActionDialog:function(){var i,n=this._getItemProps();a.trackEvent("folderDelete:clicked",{folderName:n.folderName,itemCount:n.itemCount},"organizer:projects"),n.itemCount<=0?(i=e("<span>"+r.formatMessage("organizer-folders-delete-folder-prompt",{folderName:n.folderName})+"</span>"),l.showConfirm(r.getString("organizer-folders-delete-folder-title"),i,{okText:r.getString("organizer-verb-delete"),cancelText:r.getString("organizer-verb-cancel")}).then(function(e){e&&(this.$el.addClass("melting"),t.delay(function(){this.mainView.derezFolder(this.model.id),this.model.delete()}.bind(this),350),a.trackEvent("folderDelete:success",{folderName:n.folderName,itemCount:n.itemCount},"organizer:projects"))}.bind(this))):(i=e("<span>"+r.getString("organizer-folders-delete-contains-projects-message")+"</span>"),l.showAlert(r.getString("organizer-folders-delete-contains-projects-title"),i,{okText:r.getString("organizer-verb-ok")}),a.trackEvent("folderDelete:error",{folderName:n.folderName,itemCount:n.itemCount},"organizer:projects"))},showRenameFolderActionInline:function(e){var t=e.currentTarget;e.stopPropagation(),t.setSelectionRange(0,t.value.length),a.trackEvent("folderRename:clicked",{folderName:t.value},"organizer:projects")},handleInlineRenameFolderAction:function(){var e=this.nameEl$.val(),t=this.nameEl$.data("old-value");""!==e&&e!==t?(this.folderEl$.addClass("mrvl-drop-processing"),this.model.rename(e).then(function(){a.trackEvent("folderRename:success",{folderName:e,oldName:t},"organizer:projects"),this.mainView._organizerView.showPopupMessage(r.formatMessage("organizer-rename-confirm-popup",{folderName:t,newName:e})),this.folderEl$.removeClass("mrvl-drop-processing")}.bind(this),function(){this.render()}.bind(this))):this.nameEl$.val(t),this.nameEl$.prop("disabled",!0)},handleInlineRenameFolderFocus:function(t){13===t.which?(t.preventDefault(),t.currentTarget.blur()):27===t.which&&(t.currentTarget.value=e(t.currentTarget).data("old-value"),t.currentTarget.blur(),this.nameEl$.prop("disabled",!0))},triggerInlineRenameFolderAction:function(){var e=this.nameEl$.val();this.nameEl$.prop("disabled",!1),this.nameEl$.focus(),this.nameEl$.get(0).setSelectionRange(0,e.length),a.trackEvent("folderRename:clicked",{folderName:e},"organizer:projects")}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<a class="mrvl-item-folder">\n    <div class="mrvl-item-folder-icon"></div>\n\n    <div class="mrvl-item-folder-info">\n        <input type="text" class="mrvl-item-name" disabled />\n    </div>\n\n    <div class="mrvl-item-tray-button">\n        <div class="mrvl-item-action-tray hide">\n            <div class="mrvl-item-rename-btn">{{organizer-item-verb-rename}}</div>\n            <div class="mrvl-item-move-btn">{{organizer-item-verb-move}}</div>\n            <div class="mrvl-item-trash-btn">{{organizer-item-verb-delete}}</div>\n        </div>\n    </div>\n</a>\n'},function(e,t){e.exports='<div class="move-view-bg mrvl-overlay-overlay-bg">\n</div>\n<div class="move-view-shell mrvl-overlay-shell" data-auto="confirm-view-shell">\n    <div class="move-view-current-location">\n        <h2 class="confirm-view-dialog-title dialog-title" data-auto="confirm-view-title">{{organizer-move-to-title}}&hellip;</h2>\n        <span class="move-view-drillup"></span>\n        <span class="move-view-current-name">{{organizer-move-to-current-location}}</span>\n    </div>\n    <div class="move-view-create-folder hide">\n        <h2 class="confirm-view-dialog-title dialog-title" data-auto="confirm-view-title">{{organizer-move-to-new-folder-title}}</h2>\n        <input type="text" name="move-view-folder-input" id="move-view-folder-input" value="{{organizer-create-folder-default-name}}" />\n        <h4 class="confirm-view-error-message" data-auto="confirm-view-error-msg"></h4>\n    </div>\n    <div class="confirm-view-content-shell mrvl-overlay-content-shell">\n        <div class="confirm-main-content">\n            <div class="move-view-content mrvl-overlay-content">\n                <div class="confirm-view-prompt-field-area"></div>\n            </div>\n\n            <div class="mrvl-dlg-btn-acts">\n                <div class="sp-cta-button-leftside">\n                    <a class="mrvl-dlg-folder-create" href="" title="{{organizer-move-to-new-folder-tooltip}}"></a>\n                </div>\n                <div class="sp-cta-button-secondary" data-auto="cancel-btn">{{organizer-verb-cancel}}</div>\n                <div class="sp-cta-button-primary confirm-btn-0 disabled" data-auto="move-btn">{{organizer-move-to-move-here}}</div>\n                <div class="sp-cta-button-primary confirm-btn-1 hide disabled" data-auto="create-btn">{{organizer-verb-create}}</div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(6),i(7),i(8),i(237),i(856)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";var d,u=o.odbItemsPerPage;return i.View.extend({initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.resetViewForNewFolder(!0),this._setOptions(e),this._currentPage=1,this._expectedPageMax=1},_setOptions:function(e){this.setElement(e.ele),this._moreBtn$=e.moreProjects$,this._moreBtn$&&this._moreBtn$.on("click",this.handleMoreProjects),this._projectsTitle$=e.projectsTitle$,this._organizer$=e.organizer$,this._organizerView=e.organizerView,this._projects$=e.projects$,this._loading$=e.loading$,this._gallery$=e.carousel$,this._emptyFolderView$=e.emptyFolderView$,this._emptyFolderCtaBtn$=this._emptyFolderView$.find(".cta-empty-folder-add-proj"),this._emptyFolderCtaBtn$.on("mouseenter",{showSmile:!0},this._flipLips),this._emptyFolderCtaBtn$.on("mouseleave",{showSmile:!1},this._flipLips),this._emptyFolderCtaBtn$.on("click",this._handleCreateProjectClick),window.marvel.events.on("odb-projects-changed",this._handleProjectsChanged)},_handleProjectAdded:function(e){this._renderProject(e),this._projectsRendered++},_handleProjectUpdated:function(e){this.refreshProject(e.id)},_handleProjectRemoved:function(e){this.derezProject(e.id)},_handleProjectsChanged:function(i){l.organizerWantsToRerender(this)?this._organizerView.getCurrentFolder().then(function(n){i.removed&&i.removed.length>0&&i.removed.forEach(this._handleProjectRemoved.bind(this));var r=n.getDiscoveryContext(),o=this._projects$.find(".mrvl-organizer-doc-item"),a=0,s={};t.each(i.added,function(e){s[e.id]=e}),t.each(r.projects,function(t){var i;if(o.length>a&&(i=e(o[a++])),i&&t.id===i.attr("data-id"))this._itemViewLookup[t.id]&&this._itemViewLookup[t.id].renderRefresh();else if(s[t.id])this._renderProject(t,i),o=this._projects$.find(".mrvl-organizer-doc-item");else if(i){var n=this._projects$.find('[data-id="'+t.id+'"]');n?(n.remove(),n.insertBefore(i),this._itemViewLookup[t.id].renderRefresh(),o=this._projects$.find(".mrvl-organizer-doc-item")):console.warn("[Core:Folders] unexpected - project not found in the UI")}}.bind(this)),this._revealProjects()}.bind(this)).done():l.afterPendingInteractions().then(function(){this._handleProjectsChanged(i)}.bind(this)).done()},resetViewForNewFolder:function(e){this._projectsDesired=u,this._currentPage=1,this._expectedPageMax=1,this._itemViewLookup={},this._projects$&&(this._emptyFolderView$.addClass("hide"),this._emptyFolderView$.removeClass("grow"),this._emptyFolderView$.children().removeClass("pop-in"),e&&(this._projects$.addClass("loading"),this._loading$.removeClass("hide"),this._projects$.addClass("empty"),this.$el.empty()),this._hideMoreButton())},reset:function(){this.$el.empty(),this._itemViewLookup={},this._moreBtn$.addClass("spinner spinner-loading disabled"),this._moreBtn$.removeClass("hide"),this._projects$.addClass("loading"),this._loading$.removeClass("hide"),this._projectsRendered=0,this._currentPage=1},_revealProjects:function(e,i){var n=this.$el.find(".born");n.removeClass("hide"),t.delay(function(){n.removeClass("born"),this.$el.removeClass("hide"),this._moreBtn$.removeClass("disbaled")}.bind(this),10),this._projects$.removeClass("loading"),this._loading$.addClass("hide"),this._emptyFolderView$.addClass("hide"),this._projects$.find(".mrvl-organizer-doc-item").length?this._projects$.removeClass("empty"):(this._projects$.addClass("empty"),e&&!e.length&&(this._emptyFolderView$.removeClass("hide"),window.setTimeout(function(){this._emptyFolderView$.addClass("grow"),this._emptyFolderView$.children().addClass("pop-in"),t.defer(this._trackView.bind(this))}.bind(this),50)))},getController:function(){return l},handleMoreProjects:function(){this._moreBtn$.hasClass("spinner-loading")||(this._projectsDesired+=u,this._moreBtn$.addClass("spinner spinner-loading"),this._renderProjects()),!this._fnListeningForScroll&&this._projectsDesired>u&&(this._fnListeningForScroll=t.debounce(this._handleAutoLoadMore,50),e(window).on("scroll",this._fnListeningForScroll))},_renderProjects:function(){e(window);this._projectsRenderedThisBatch=0,this._projectsRendered>=this._projectsDesired&&this._hideMoreButton(),this._organizerView.getCurrentFolder().then(function(e){var i=e.getDiscoveryContext(),n=0;i.projectsDesired=this._projectsDesired,this._expectedPageMax=i.localProjects.total?Math.ceil(i.localProjects.total/u):1,t.each(i.projects,function(e){++n>this._projectsRendered&&this._projectsRendered<this._projectsDesired&&(this._projectsRendered++,this._projectsRenderedThisBatch++,this._renderProject(e))}.bind(this)),this._currentPage<this._expectedPageMax&&this._projectsRenderedThisBatch>0&&u-this._projectsRenderedThisBatch>0&&(this._projectsDesired=this._projectsDesired-(u-this._projectsRenderedThisBatch),i.projectsDesired=this._projectsDesired),this._currentPage>=this._expectedPageMax?this._hideMoreButton():this._projectsRendered<this._projectsDesired?i.totalProjects>this._projectsRendered&&i.loadMore().then(function(){this._currentPage++,this._renderProjects()}.bind(this)).catch(function(){window.marvel.logger.error("[Core:Folders] failed to load more projects."),this._showMoreButton()}.bind(this)):i.totalProjects>this._projectsRendered?this._showMoreButton():this._projectsRendered===i.totalProjects?this._hideMoreButton():this._showMoreButton(),this._revealProjects(i.folders,i.projects)}.bind(this))},render:function(){this.reset(),this._renderProjects()},_flipLips:function(e){if(null!=d&&(clearInterval(d),d=null),!this._svgTag){this._svgTag=document.getElementById("emptyfolder-face");var t=null;try{t=this._svgTag.getSVGDocument()}catch(e){}this._svgLips=t.getElementById("Grp_lips")}var i,n;this._svgLips&&(e.data.showSmile?(i=0,n=10):(i=180,n=-10),d=setInterval(function(){i+=n,this._svgLips.setAttribute("transform","rotate("+i+" 10 13)"),(i<=0||i>=180)&&(clearInterval(d),d=null,this._svgTag=null)}.bind(this),10))},_handleCreateProjectClick:function(){r.trackEvent("clickedAppNav:fabNPWDirect",{},"emptyFolderView"),window.marvel._isInApp?window.marvel.navigate("/npw",{trigger:!0}):window.location.href=s.getLocalizedSparkPath("/sp/npw")},_handleAutoLoadMore:function(){var t=e(window),i=this._moreBtn$.offset().top;!this._moreBtn$.hasClass("spinner")&&t.scrollTop()+t.height()>i&&this._moreBtn$.trigger("click")},_trackView:function(){r.trackEvent("organizer:viewedEmptyFolder",{},"organizer:projects")},_filterDoc:function(e,t){return!0},_organizerItemFactory:function(e){return new c(e)},_renderProject:function(e,t){if(e.id in this._itemViewLookup)return this._itemViewLookup[e.id];var i=this._organizerItemFactory({model:e});return this._itemViewLookup[e.id]=i,i.$el.attr("data-id",e.id),i.viewCounter=this.$el.children().length,i.$el.addClass("hide"),t?i.$el.insertBefore(t):this.$el.append(i.$el),i.mainView=this,i.$el.attr("data-idx",e._idx),i._lastRenderedEtag=i.model.eTag,i.$el},_showMoreButton:function(){this._moreBtn$&&this._moreBtn$.removeClass("hide spinner spinner-loading")},_hideMoreButton:function(){this._moreBtn$&&this._moreBtn$.addClass("hide")},refreshView:function(){this.$el.empty(),this.render()},refreshProject:function(e){var t=this._itemViewLookup[e];t&&t.renderRefresh()},derezProject:function(e){var t;e in this._itemViewLookup&&(t=this._itemViewLookup[e],this.$el.find(t.$el).remove(),delete this._itemViewLookup[e],this._projectsRendered--)},getProjectItemView:function(e){return this._itemViewLookup&&this._itemViewLookup[e]},remove:function(){this._fnListeningForScroll&&(e(window).off("scroll",this._fnListeningForScroll),this._fnListeningForScroll=null)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(8),i(7),i(70),i(96),i(374),i(4),i(13),i(237),i(99),i(15),i(12),i(500),i(24),i(16),i(34),i(53),i(857),i(100),i(502),i(214),i(5)],void 0===(r=function(e,t,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b,y,w,k,x,_,C,S){"use strict";var T={slate:"My Page",theo:"My Post",voice:"My Video",pmref:"My Thang"};return r.View.extend({tagName:"article",className:"mrvl-organizer-doc-item",events:{"click .mrvl-item-more-button":"handleOpenTray","click .mrvl-item-action-overlay":"handleActionOverlayClick","click .mrvl-item-hide-tray-button":"handleDismissTray","click .mrvl-item-rename-btn":"handleRenameClick","click .mrvl-item-duplicate-btn":"handleDuplicateClick","click .mrvl-item-save-as-template-btn":"handleSaveAsTemplateClick","click .mrvl-item-collaborate-btn":"handleCollaborateClick","click .mrvl-item-download-btn":"handleDownloadClick","click .mrvl-item-unpublish-btn":"handleUnpublishClick","click .mrvl-item-move-folder-btn":"handleMoveToFolderClick","click .mrvl-item-trash-btn":"handleDeleteClick","click .mrvl-item-leave-collab-btn":"handleDeleteClick","click .mrvl-item-cancel":"handleDeleteCancel","click .mrvl-item-open-btn":"handleOpenClick","mouseenter .mrvl-item-title":"handleEnterTitle","mouseleave .mrvl-item-title":"handleLeaveTitle","click .mrvl-item-title":"handleShowTitleEdit","click .mrvl-item-title-edit":"handleTitleEditClick","focus .mrvl-item-title-edit":"handleTitleEditFocus","change mrvl-item-title-edit":"handleTitleEditChange","blur .mrvl-item-title-edit":"handleTitleEditBlur","keyup .mrvl-item-title-edit":"handleTitleEditKeypress","mouseleave .mrvl-item-action-overlay":"handleDismissTray","mouseenter .mrvl-item-thumb":"handleOverlayShown","click .download-composite":"downloadComposite","keydown .mrvl-item-thumb":"handleItemKeyDown"},initialize:function(e){this._gotoUpgrade=this._gotoUpgrade.bind(this),this.listenTo(this.model,"destroy",this.remove),this.$el.addClass("born"),this.render(e.renderCallback),this.app=this.model.getMyPrimaryApp(),this.disabledForPrototype=!0},handleDismissTray:function(){return this.model.isPublished||this.$el.addClass("open-by-default"),this.hideTray(),h.organizerItemFocusOut(this),!1},isReadyForInteraction:function(){return!this.$el.hasClass("loading")},userCheckingReady:function(e){return!!this.isReadyForInteraction()||(e.preventDefault(),e.stopPropagation(),a.hasFeature("organizer-card-warn")&&(this._cardWarningStartTime=new Date,g.showCancelableWaitView("Loading info","We're still loading your project details. This message will automatically close when ready.").then(function(){delete this._cardWarningStartTime}.bind(this))),!1)},_getItemProps:function(){return{type:this.model.getMyApp().getAppTypeID(),projectId:this.model.id}},handleOpenTray:function(e){return this.userCheckingReady(e)&&(this.isCollaboration?(this.$deleteBtn.addClass("hide"),this.$leaveCollabBtn.removeClass("hide")):(this.$deleteBtn.removeClass("hide"),this.$leaveCollabBtn.addClass("hide")),d.trackEvent("organizer:clickedItemContextualMenu",this._getItemProps(),"organizer:projects"),this.$el.removeClass("open-by-default"),this.$tray.removeClass("hide"),this.$trayDismiss.removeClass("hide"),this.$actionButtons.addClass("hide")),!1},handleOpenTabClick:function(){return window.open(o.getLocalizedSparkPath("/sp/design/"+this.model.getMyApp().typeName+"/"+this.model.get("id"),this.model.get("id"))),!1},handleOverlayShown:function(){return this.isReadyForInteraction()&&h.organizerItemFocusIn(this),!1},handleActionOverlayClick:function(){if(this.$tray.hasClass("hide")){if(this.$el.hasClass("open-by-default"))return this.handleOpenClick()}else this.handleDismissTray();return!1},_doOpenDoc:function(e){var t=e.getMyApp();w.checkAppBrowserSupport(t).then(function(i){if(i)return t.checkDocCompatibility(e,"opening").then(function(){return d.setCurrentProjectId(e.id),d.trackEvent("organizer:openedProject",{type:t.getAppTypeID(),contextData:["projectId"]},"organizer:projects"),l.getDocEditingSession(e).entitlementPromise.then(function(i){return i?(marvel.navigate("design/"+t.typeName+"/"+e.id,{trigger:!0}),marvel.events.trigger("verify-email")):window.marvel.events.trigger("branded-project-open-attempted",{doc:e}),i}.bind(this),function(e){throw window.marvel.logger.error("Failed to check entitlement, notifying user",e),window.marvel.events.trigger("service-borked"),e})}.bind(this),function(e){if("USER_CANCELED"!==e.code)throw g.showAlert(o.getString("organizer-error-failed-opening-title"),e.usermsg||o.getString("organizer-error-failed-opening-message")).done(),e});window.marvel.logger.warn("[ProjectOpen]: failed to open project because browser not supported")}.bind(this)).catch(function(e){window.marvel.logger.error("[ProjectOpen]: caught open exception",{err:e,ctx:"OrganizerProjectItemView._doOpenDoc"})}.bind(this)).done()},handleOpenClick:function(e){return this._handleOpenClick(e)},_handleOpenClick:function(e){if(!this.$el.hasClass("unopenable"))return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)?document.location.href="https://itunes.apple.com/us/app/adobe-slate-make-your-words/id968433730?mt=8&uo=6&at=&ct=":this.userCheckingReady(e)&&(h.organizerNavigating(this),this.model.getCompositeDoc().then(function(e){this._doOpenDoc(e)}.bind(this)).catch(function(e){window.marvel.logger.error("[ProjectOpen]: caught resolve exception",{err:e,ctx:"OrganizerProjectItemView_.handleOpenClick"})}).done()),!1;this.model.belongsToUser()?this.model.getMyApp().supportsDirectDownload()?g.showConfirm(o.getString("organizer-item-prompt-make-unbranded-copy"),o.getString("organizer-item-message-make-unbranded-copy"),{okText:o.getString("organizer-item-verb-continue")}).then(function(e){if(e){g.showWaitView(o.getString("organizer-title-creating-unbranded-copy"),o.getString("organizer-message-open-shortly"));var t=n.resolve(this.model);this.model.getCompositeDoc&&(t=this.model.getCompositeDoc()),t.then(function(e){return h.duplicateComposite(e).then(function(e){return e.getMyApp().stripBranding(e).then(function(){g.hide(),this._doOpenDoc(e)}.bind(this))}.bind(this))}.bind(this)).catch(function(e){window.marvel.logger.error("[OrganizerProjectItemView] caught error while unbranding",e)}).done()}}.bind(this)):g.showConfirm(o.getString("organizer-unbranded-remove-branding-title"),o.getString("organizer-unbranded-remove-branding-message"),{okText:o.getString("organizer-item-verb-continue")}).then(function(e){if(e){var t=this.model.getMyApp(),i=n.resolve(this.model);this.model.getCompositeDoc&&(i=this.model.getCompositeDoc()),g.showWaitView(o.getString("organizer-unbranded-remove-branding-status-title"),o.getString("organizer-unbranded-remove-branding-status")),i.then(function(e){return t.stripBranding(e).then(function(){g.hide(),this._doOpenDoc(e)}.bind(this))}.bind(this)).done()}}.bind(this)):window.marvel.events.trigger("branded-project-open-attempted",{doc:this.model,captive:!0})},handleShareClick:function(e){var t=this.model.getMyApp();if(t)return this.isCollaboration&&!this.model.isPublished?(g.showAlert(o.getString("collab-owner-only-publish-dialog-title"),o.getString("collab-owner-only-publish-dialog-text")).done(),d.trackEvent("coediting:publishBlockedViewed",{},"organizer:projects")):w.checkAppBrowserSupport(t).then(function(e){var t;e&&(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)?document.location.href="https://itunes.apple.com/us/app/adobe-slate-make-your-words/id968433730?mt=8&uo=6&at=&ct=":("notdirty"===this._lastCalculatedPubState||this.isCollaboration||(t="share"),this.model.getCompositeDoc().then(function(e){marvel.events.trigger("organizer-share-workflow",e,t)}.bind(this))))}.bind(this)),!1;"#"===this.$publishStatus.attr("href")&&e.preventDefault()},handleEnterTitle:function(e){this.titleHoverDelayId&&(window.clearTimeout(this.titleHoverDelayId),this.titleHoverDelayId=null),window.setTimeout(function(){this.$title.addClass("mrvl-item-title-ready-to-edit")}.bind(this),125)},handleLeaveTitle:function(e){this.titleHoverDelayId&&(window.clearTimeout(this.titleHoverDelayId),this.titleHoverDelayId=null),this.$title.removeClass("mrvl-item-title-ready-to-edit")},handleShowTitleEdit:function(e){var t=this.model,i=t.getMyApp().getAppTypeID(),n=t.id;d.trackEvent("organizer:renameClicked",{type:i,projectId:n},"organizer:projects"),h.organizerItemFocusIn(this),this.$titleInput.addClass("mrvl-item-title-edit-active"),this.$titleInput.focus()},handleTitleEditFocus:function(e){this.$titleInput.select()},handleTitleEditChange:function(e){var t=this.$titleInput.val()||"";this.$title.text(t),this.$titleInput.width(this.$title.width())},handleTitleEditBlur:function(e){h.organizerItemFocusOut(this),this.$titleInput.removeClass("mrvl-item-title-edit-active"),this._titleEditRename()},handleTitleEditKeypress:function(e){e.keyCode===f.DOM_VK_ENTER||e.keyCode===f.DOM_VK_RETURN?this.$titleInput.blur():e.keyCode===f.DOM_VK_ESCAPE&&(this._resetTitleInput(),this.$titleInput.blur())},_titleEditRename:function(){var e=this.model,t=this.app.getAppTypeID(),i=e.id,n=this.$titleInput.val();this._rename(n)?d.trackEvent("projectRenamed",{type:t,projectId:i},"organizer:projects"):this._resetTitleInput()},_resetTitleInput:function(){var e=this.$title.text();this.$titleInput.val(e)},setTitleDisplay:function(e,t){this.$title.text(e),this.$titleInput.val(e)},_setThumbnailStyles:function(e,t,i,n,r){var o=this.$el.find(".mrvl-item-thumb"),a=this.$el.find(".mrvl-item-thumb-img"),s=this.$el.find(".mrvl-item-thumb-mini-img"),l=!1,c="theo"===n||"theo-template"===n||"voice"===n;/Trident/.test(navigator.userAgent)&&(l=!0),o.addClass("thumb"),a.removeClass("no-thumb"),l&&c||a.css("background-image","url("+e+")"),c?(o.addClass("mini-me"),s.css("background-image","url("+e+")"),l?a.removeClass("blurry"):a.addClass("blurry")):(o.removeClass("mini-me"),i?l||(a.css("filter",i),a.css("-webkit-filter",i)):l||(a.css("filter",""),a.css("-webkit-filter",""))),a.addClass(n),t&&a.css("background-position",t)},_loadThumbnail:function(e){e.thumbnail?this._setThumbnailStyles(e.thumbnail,"center center","",this.app.getAppTypeID()):this.$el.find(".mrvl-item-thumb-img").addClass("no-thumb")},_updateBadRefPubInfo:function(e){var t=e.cachedPubInfo;t.pubModel&&(this.$publishStatus.attr("href",t.url),this.$publishStatus.attr("target","_blank"),this.$publishStatus.text(t.pubModel.alias)),this.$el.removeClass("loading")},renderRefresh:function(){if(this._rendered){var e=this.model,i=e.getMyApp().getAppTypeID(),r=T[i];this._loadThumbnail(e),this.$el.removeClass("loading");var o=n.defer();this.refreshPubInfo(o).then(function(){if(this._cardWarningStartTime){var e=2e3-((new Date).getTime()-this._cardWarningStartTime);e<=0?(delete this._cardWarningStartTime,g.hide()):t.delay(function(){this._cardWarningStartTime&&(g.hide(),delete this._cardWarningStartTime)}.bind(this),e)}}.bind(this)).done(),this.setTitleDisplay(e.name||r)}},_gotoUpgrade:function(){y.handleShowUpgrade("organizer-unentitled-item")},render:function(t){return a.featuresLoaded().then(function(){var i=this.model,n=i.getMyPrimaryApp(),r=i.getMyApp(),s=i.id,l=new Date(i.contentModified);this.$el.html(o.mustacheRender(k)),this.$el.addClass("loading"),this.$title=this.$el.find(".mrvl-item-title"),this.$titleInput=this.$el.find(".mrvl-item-title-edit"),this.$anchorLink=this.$el.find(".mrvl-item-thumb"),this.$mod=this.$el.find(".mrvl-item-modified"),this.$type=this.$el.find(".mrvl-item-type"),this.$publishStatus=this.$el.find(".mrvl-item-publish-status"),this.$actionButtons=this.$el.find(".mrvl-item-action-btns"),this.views$=this.$el.find(".mrvl-item-views"),this.$statusLine=this.$el.find(".mrvl-item-status-line"),this.appreciates$=this.$el.find(".mrvl-item-appreciates"),this.$tray=this.$el.find(".mrvl-item-action-tray"),this.$trayButton=this.$el.find(".mrvl-item-more-button"),this.$trayDismiss=this.$el.find(".mrvl-item-hide-tray-button"),this.$unpublishBtn=this.$el.find(".mrvl-item-unpublish-btn"),this.$collaborateBtn=this.$el.find(".mrvl-item-collaborate-btn"),this.$deleteBtn=this.$el.find(".mrvl-item-trash-btn"),this.$leaveCollabBtn=this.$el.find(".mrvl-item-leave-collab-btn"),this.$supportBtn=this.$el.find(".download-composite"),this.isCollaboration="INCOMING"===this.model.getCollaboration(),this.$el.attr("draggable",!0),b.getController().then(function(e){return this.model.isBranded()}.bind(this)).then(function(t){t&&this.$el.addClass("org-item-is-branded"),a.hasFeature("entitle-brand-kit")||t&&(this.$el.addClass("unopenable"),this.$el.find(".mrvl-item-thumb-img").css("filter",""),this.model.belongsToUser()?this.$el.find(".mrvl-item-duplicate-btn").addClass("hide"):this.$el.find(".mrvl-item-duplicate-btn").addClass("disabled"),this.$el.find(".mrvl-item-rename-btn").addClass("hide"),this.app.supportsDirectDownload()||this.$el.find(".mrvl-item-download-btn").addClass("hide"),this._upgradeBtn$=e('<div class="mrvl-item-unentitled-header">'+o.getString("organizer-item-verb-upgrade")+"</div>"),this._upgradeBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._upgradeBtn$),!r.supportsDirectDownload()&&r.supportsDownload()&&(this._downloadDisabledBtn$=e('<div class="mrvl-item-download-disabled-btn">'+o.getString("organizer-item-verb-download")+"</div>"),this._downloadDisabledBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._downloadDisabledBtn$)),this._shareDisabledBtn$=e('<div class="mrvl-item-share-disabled-btn">'+o.getString("organizer-item-verb-share")+"</div>"),this._shareDisabledBtn$.on("click",this._gotoUpgrade),this.$tray.append(this._shareDisabledBtn$),this.$publishStatus.addClass("hide"),this.$anchorLink.attr("href","#")),a.hasFeature("enable-download-composite")&&this.model.getMyApp().supportsDownloadComposite&&this.$el.find(".download-composite").removeClass("hide"),this._afterRender(t)}.bind(this)).done(),this.$el.attr("data-auto","mrvl-organizer-doc-item-"+s),this.$el.attr("data-modified",l.getTime()),this.$trayButton.attr("data-auto","mrvl-item-more-button-"+s),this.$el.find(".mrvl-item-duplicate-btn").attr("data-auto","mrvl-item-duplicate-btn-"+s),this.$el.find(".mrvl-item-download-btn").attr("data-auto","mrvl-item-download-btn-"+s),this.$el.find(".mrvl-item-rename-btn").attr("data-auto","mrvl-item-rename-btn-"+s),this.$collaborateBtn.attr("data-auto","mrvl-item-collaborate-btn-"+s),this.$deleteBtn.attr("data-auto","mrvl-item-trash-btn-"+s),this.$leaveCollabBtn.attr("data-auto","mrvl-item-leave-collab-btn-"+s),this.$el.find(".mrvl-item-action-overlay").attr("data-auto","mrvl-item-action-overlay-"+s),this.$el.find(".mrvl-item-open-btn").attr("data-auto","mrvl-item-open-btn-"+s),this.$type.attr("data-auto","mrvl-item-type-"+s),this.$title.attr("data-auto","mrvl-item-title-"+s),this.$titleInput.attr("data-auto","mrvl-item-title-edit-"+s),this.$publishStatus.attr("data-auto","mrvl-item-publish-status-"+s),this.views$.attr("data-auto","mrvl-item-views-"+s),this.appreciates$.attr("data-auto","mrvl-item-appreciates-"+s),this.$el.find(".mrvl-item-footer").attr("data-auto","mrvl-item-footer-"+s),this.$unpublishBtn.attr("data-auto","mrvl-item-unpublish-btn-"+s),a.hasFeature("enable-project-renaming")||this.$el.find(".mrvl-item-rename-btn").addClass("hide"),r.supportsDownload()||this.$el.find(".mrvl-item-download-btn").addClass("hide"),this.$el.addClass("open-by-default"),this.$type.removeClass("hide"),n&&(this.$type.text(n.getDisplayName()),this.$type.addClass(n.getAppTypeID()),this.$type.removeClass("hide")),this.$publishStatus.on("click",this.handleShareClick.bind(this)),this.isCollaboration&&(this.$unpublishBtn.addClass("hide"),this.model.isPublished||this.$publishStatus.addClass("dimmed")),this.$publishStatus.addClass("hide"),r.supportsCollaboration()&&this.$collaborateBtn.removeClass("hide"),this.$el.find(".mrvl-item-action-overlay").addClass(r.getAppTypeID()),this.$anchorLink.attr("href",o.getLocalizedSparkPath("/sp/design/"+r.typeName+"/"+s)),this.$anchorLink.on("click",this.handleThumbClick.bind(this)),this._rendered=!0,this.renderRefresh(),"function"==typeof t&&t()}.bind(this)).done(),this},_afterRender:function(e){a.hasFeature("enable-spark-templates")&&this.model.getMyApp().getConfig().templateSyncGroup&&this.$tray.find(".mrvl-item-save-as-template-btn").removeClass("hide")},handleItemKeyDown:function(e){(marvel._dialogShowing||g.isShowing())&&e.preventDefault()},handleThumbClick:function(e){this.userCheckingReady(e)},_formatViewLike:function(e){var t=+(e||0);return t<1e3?""+t:t<1e4?(t/1e3).toFixed(1)+"k":t<1e6?Math.round(t/1e3)+"k":(t/1e6).toFixed(1)+"mm"},refreshPubInfo:function(e){var t=this.model;return t.getCompositeDoc().then(function(i){i.isPublished()?(t.isPublished=!0,u.syncMode===u.MODE_DISABLED?this._timer=window.setTimeout(function(){this.refreshPubInfo(e)}.bind(this),6e5):h.afterPendingInteractions(this).then(function(){p.getPubController().then(function(n){n.getAndCorrectPubModel(i).then(function(n){if(n){var r=this._formatViewLike(n.get("views")),o=this._formatViewLike(n.get("likes")),a=n.get("updated"),s=t.getMyApp();this.views$.addClass(s.getAppTypeID()),this.views$.text(r),this.appreciates$.text(o),this.updatePublishedState(!0,a,s.hasContentBeenUpdatedSincePublish(i,a)),this._timer=window.setTimeout(function(){this.refreshPubInfo(e)}.bind(this),6e5)}else this.updatePublishedState(!1);e&&e.resolve(n)}.bind(this),function(t){marvel.logger.warn("[Core:Folders] Failed to refresh publish info",t),this.updatePublishedState(!1),e&&e.resolve()}.bind(this)).done()}.bind(this))}.bind(this))):(this.updatePublishedState(!1),e&&e.resolve())}.bind(this)),e?e.promise:null},hideTray:function(){this.$tray.addClass("hide"),this.$trayDismiss.addClass("hide"),this.$actionButtons.removeClass("hide")},_triggerDeleteAnalytics:function(){d.setCurrentProjectId(this.model.id),this.isCollaboration?d.trackEvent("organizer:deletedShare",this._getItemProps(),"organizer:projects"):this.model.getCompositeDoc().then(function(e){d.trackEvent("organizer:deletedProject",{alsoUnpublished:e.isPublished(),contextData:["projectId"]},"organizer:projects")})},handleDeleteConfirm:function(i){this._triggerDeleteAnalytics();var r=n.defer();return this.$el.addClass("melting"),t.delay(function(){var t;if(this.isCollaboration)t=s.inviteeRemoveSharedComposite(this.model).then(function(){C.load().then(function(t){t.ACPSparkController.removeProjectFromParentFolder(this.model),this.mainView.derezProject(this.model.id),e(window).trigger("scroll.organizerautoload")}.bind(this))}.bind(this));else{var i=n.defer();t=i.promise,this.model.getCompositeDoc().then(function(t){h.deleteComposite(t),C.load().then(function(t){t.ACPSparkController.removeProjectFromParentFolder(this.model),this.mainView.derezProject(this.model.id),e(window).trigger("scroll.organizerautoload"),i.resolve()}.bind(this))}.bind(this)).done()}t.then(function(){h.organizerItemFocusOut(this),r.resolve()}.bind(this)).done()}.bind(this),350),r.promise},handleRenameClick:function(e){var t=this.model,i=this.app.getAppTypeID(),n=t.id;d.trackEvent("projectCardRename:Clicked",{type:i,projectId:n},"organizer:projects"),this.$titleInput.addClass("mrvl-item-title-edit-active"),this.$titleInput.focus()},_showRename:function(e){e=e||{};var i=this.model,r=e.defaultName||i.getProjectName("rename"),a=i.getMyApp().getAppTypeID(),s=T[a],l=(n.defer(),{defaultText:r,placeholderText:s,maxLen:256,select:!0});return t.assign(l,e.promptOptions||{}),g.showPrompt(l.title||o.getString("organizer-item-title-rename-project"),l.text||o.getString("organizer-item-prompt-rename-project"),l).then(function(t){return e.doNotApplyName?t:this._rename(t)}.bind(this))},_rename:function(e){return"string"==typeof(e="object"==typeof e?e.text:e)&&e!==this.model.name?(this.applyProjectName(e),e):null},applyProjectName:function(e){var t=this.model;if(0===e.length){var i=t.getMyApp().getAppTypeID();e=T[i]}t.rename(e),this.setTitleDisplay(e)},handleCollaborateClick:function(e){return this._handleCollaborateClick(e)},_handleCollaborateClick:function(e){d.trackEvent("collab:invitePressed",{contextualData12:"inviteType:project"},"organizer:projects");var t=this.model,i=n.resolve(t);return t.getCompositeDoc&&(i=t.getCompositeDoc()),n.all([S.getAccessToken(),i]).spread(function(e,i){var n=new c.default,r=o.getString("organizer-collaboration-invite-collaborators");return n.handleCollabUI(r,t,e).then(function(e){return marvel.logger.traceflow("collaboration:invitations","_handleCollaborateClick sent invitations:",JSON.stringify(e)),t.getMyPrimaryApp().beforeCollaboration(i).then(function(){return s.silentlyInviteCollaboratorsToBrand(t,e)})})}).catch(function(e){marvel.logger.warn("[Collab] Error attempting to invite collaborators",e),g.showAlert(o.getString("organizer-collaboration-error-title"),o.getString("organizer-collaboration-error-description"),{confirmText:o.getString("organizer-collaboration-error-confirm-text")})})},downloadComposite:function(e){w.checkAppBrowserSupport(this.model.getMyApp()).then(function(e){e&&this.model.getMyApp().load().then(function(){this.model.getMyApp().getDocumentComponents?i.e(8).then(function(e){var t=i(402),n=i(607);this.model.getMyApp().getDocumentComponents(this.model).then(function(e){var i=new t;i.file("manifest",e.manifest);for(var r=i.folder("components"),o=0;o<e.images.length;o++)r.file(e.images[o].name,e.images[o].blob);i.generateAsync({type:"blob"}).then(function(e){n.saveAs(e,this.model.getProjectName("card").trim())}.bind(this))}.bind(this)).done()}.bind(this).bind(null,i)).catch(i.oe):this.handleDownloadClick()}.bind(this)).done()}.bind(this)).done()},handleDeleteClick:function(i){var r,a,s=n.defer(),l=this.model.getProjectName("card").trim();return this.model.getCompositeDoc().then(function(i){r=l?!this.isCollaboration&&this.model.isPublished?o.formatMessage("organizer-delete-published-project",{projectName:t.escape(l)}):this.isCollaboration?o.formatMessage("organizer-leave-project",{projectName:t.escape(l)}):o.formatMessage("organizer-delete-project",{projectName:t.escape(l)}):!this.isCollaboration&&this.model.isPublished?o.formatMessage("organizer-delete-unnamed-published-project",{formatName:this.model.getMyApp().getDisplayName()}):this.isCollaboration?o.formatMessage("organizer-leave-unnamed-project",{formatName:this.model.getMyApp().getDisplayName()}):o.formatMessage("organizer-delete-unnamed-project",{formatName:this.model.getMyApp().getDisplayName()}),a=e("<span>"+r+"</span>");var n=o.getString("organizer-title-delete-project"),c=o.getString("organizer-verb-delete");this.isCollaboration&&(n=o.getString("organizer-title-leave-shared-project"),c=o.getString("organizer-verb-leave")),g.showConfirm(n,a,{closeDefer:s,okText:c}).then(function(e){e?(this.isCollaboration&&d.trackEvent("collab:leavePressed",{contextualData12:"inviteType:project"},"organizer:projects"),this.handleDeleteConfirm().then(function(){s.resolve()}.bind(this))):s.resolve()}.bind(this))}.bind(this)),this.hideTray(),!1},updatePublishedState:function(e,t,i){e?(this.$publishStatus.removeClass("hide").addClass("share-published").text(o.getString("organizer-verb-share")),i?(this.$publishStatus.text(o.getString("organizer-verb-share-changes")),this.$publishStatus.attr("title",o.getString("organizer-prompt-share-changes"))):this.$publishStatus.attr("title",o.getString("organizer-prompt-share-again")),this.isCollaboration||this.$unpublishBtn.removeClass("hide"),this.$statusLine.removeClass("hide"),this.$el.removeClass("unpublished"),this._lastCalculatedPubState=i?"dirty":"notdirty"):(this.$publishStatus.removeClass("hide"),this.$publishStatus.text(o.getString("organizer-verb-share")),this.$publishStatus.attr("title",o.getString("organizer-item-share-status-tooltip")),this.$unpublishBtn.addClass("hide"),this.$el.addClass("unpublished"),this.$statusLine.addClass("hide"),this._lastCalculatedPubState="unpublished")},handleDownloadClick:function(){var i=this.app;w.checkAppBrowserSupport(i).then(function(n){n&&i.load().then(function(){var n=i.getPublishImpl();n.getDownloadUrl?(this.downloadLink$||(this.downloadLink$=this.$el.find(".shf-download-link"),this.downloadLink$.length||(this.downloadLink$=e('<a class="shf-download-link">'),this.$el.append(this.downloadLink$))),this.model.getCompositeDoc().then(function(e){var r=n.getDownloadFileName(e);g.showWaitView(o.getString("organizer-item-generating-download")),n.getDownloadUrl(e).then(function(e){e?(t.isFunction(e)?(this.downloadLink$.removeAttr("href"),this.downloadLink$.removeAttr("download"),e()):(this.downloadLink$.attr("href",e),this.downloadLink$.attr("download",r)),this._sendExportAnalytic("download"),d.trackEvent("Sharing Action",{type:i.getAppTypeID(),eventAction:"Downloaded",projectId:this.model.id},"organizer:projects"),g.hide(),this.downloadLink$[0].click()):marvel.logger.warn("[Core:Folders] couldn't download url",this.model)}.bind(this))}.bind(this))):n.downloadFile&&window.marvel.navigate("/design-download/"+i.typeName+"/"+this.model.id,{trigger:!0})}.bind(this))}.bind(this)).done()},_sendExportAnalytic:function(e){var t=!1;this.model.getDataFromRoot&&this.model.setAndSaveDataToRoot&&((t=this.model.getDataFromRoot("cp#isExported"))||this.model.setAndSaveDataToRoot("cp#isExported",!0)),b.getExportAnalytics(this.model,this.workflow,e).then(function(e){e.isReExport=t?"true":"false",e.exportedWithBranding&&d.trackEvent("exportedBrandedProject",e,this._shareEnvokeType),d.trackEvent("project:exportCompleted",e,this._shareEnvokeType)}.bind(this)).done()},handleUnpublishClick:function(i){var r,a,s=n.defer(),l=this.model.getProjectName("card").trim();this.model.getCompositeDoc().then(function(i){r=i.isPublished()?l?o.formatMessage("organizer-prompt-unpublish",{projectName:l}):o.formatMessage("organizer-prompt-unpublish-unnamed",{formatName:this.model.getMyApp().getDisplayName()}):l?o.formatMessage("organizer-prompt-unpublish-simple",{projectName:l}):o.formatMessage("organizer-prompt-unpublish-simple-unnamed",{formatName:this.model.getMyApp().getDisplayName()}),a=e("<span>"+r+"</span>"),g.showConfirm(o.getString("organizer-unpublish-confirm-title"),a,{closeDefer:s,okText:o.getString("organizer-verb-unpublish")}).then(function(e){e?(d.setCurrentProjectId(this.model.id),d.trackEvent("organizer:unpublishedProject",{contextData:["projectId"]},"organizer:projects"),this.model.getCompositeDoc().then(function(e){p.getUtils().then(function(i){i.unpublishCompositeDoc({mrvlDoc:e}).then(function(){this.updatePublishedState(!1),s.resolve()}.bind(this),function(e){s.resolve(),marvel.logger.error("[Core:Folders] error trying to unpublish project:"+this.model.id,e),t.defer(function(){g.showAlert(o.getString("organizer-unpublish-error-title"),o.getString("organizer-unpublish-error-message")).done()})})}.bind(this))}.bind(this))):s.resolve()}.bind(this))}.bind(this)),this.hideTray()},handleMoveToFolderClick:function(e){e.stopPropagation(),e.preventDefault(),_.show([this.model]).then(function(e){if(e&&e.isFolder){var t=e.name||"My Stuff";this.$el.addClass("processing"),this.model.move(e).then(function(){d.trackEvent("projectMovedTo:success",{FolderMovement:"picker"},"organizer:projects"),this.mainView._organizerView.showPopupMessage(o.formatMessage("organizer-move-popup-message",{projectName:this.model.name,destinationName:t})),this.mainView._organizerView.renderUpdate()}.bind(this))}}.bind(this)),d.trackEvent("projectMoveTo:clicked",{},"organizer:projects")},_getNameForCopy:function(){var e=this.model.getProjectName("rename").trim();if(""===e){var i=this.model.getMyApp().getAppTypeID();e=T[i]}var n=e.toLowerCase();if(t.endsWith(n,"copy"))return e+" 2";if(/.*copy([ ]?)([0-9]+)$/.test(n)){var r=n.lastIndexOf("copy")+4,o=e.substring(0,r),a=e.substring(r),s=a.lastIndexOf(" ");return s>-1&&(o+=a.substring(0,s+1)),o+(1*a+1)}return e+" Copy"},_preflightDuplicateBranding:function(){return this.model.belongsToUser()?n.resolve(!0):this.model.getCompositeDoc().then(function(e){return this.model.getMyPrimaryApp().isBranded(e)}.bind(this)).then(function(e){return!e})},_handleBrandingBlockedDuplication:function(){return n.all([b.getController(),this.model.getCompositeDoc()]).then(function(e){var t=e[0],i=e[1];return t.getActiveContext(i)}.bind(this)).then(function(e){return g.isShowing()&&g.hide(),d.trackEvent("collab:brandDuplicateBlocked",{},"organizer:projects"),g.showAlert(o.getString("organizer-item-cannot-duplicate-sbp-title"),o.formatMessage("organizer-item-cannot-duplicate-sbp-description",{brandName:e.getName()}),{okText:o.getString("organizer-item-cannot-duplicate-sbp-confirm-btn-label")})}.bind(this))},_preflightDuplicateStockImages:function(){return this.model.getCompositeDoc().then(function(e){return this.model.getMyPrimaryApp().batchCheckLicenses(e)}.bind(this))},_handleStockBlockedDuplication:function(){return d.trackEvent("collab:stockDuplicateBlocked",{},"organizer:projects"),g.isShowing()&&g.hide(),g.showAlert(o.getString("organizer-item-cannot-duplicate-stock-title"),o.getString("organizer-item-cannot-duplicate-stock-message"),{okText:o.getString("organizer-verb-ok")})},_preflightDuplicate:function(){return g.showWaitView(),n.all([this._preflightDuplicateBranding(),this._preflightDuplicateStockImages()]).then(function(e){return e[0]?e[1]?n.resolve(!0):this._handleStockBlockedDuplication().then(function(){return!1}):this._handleBrandingBlockedDuplication().then(function(){return!1})}.bind(this)).finally(function(){g.isShowing()&&g.hide()})},handleDuplicateClick:function(e){return this._preflightDuplicate().then(function(e){if(e){d.setCurrentProjectId(this.model.id),d.trackEvent("organizer:duplicatedProject",{contextData:["projectId"]},"organizer:projects"),this.hideTray();var t={doNotApplyName:!0,defaultName:this._getNameForCopy(),promptOptions:{title:o.getString("organizer-duplicate-name-project-title"),text:o.getString("organizer-duplicate-name-project-prompt")}};this._showRename(t).then(function(e){if(null!==e)return marvel.events.trigger("organizer-working",{working:!0}),this.model.duplicate(e,this.model.parentFolder).then(function(e){marvel.events.trigger("odb-projects-changed",{added:[e]}),h.organizerItemFocusOut(this),marvel.events.trigger("organizer-working",{})}.bind(this),function(e){h.organizerItemFocusOut(this),marvel.events.trigger("organizer-working",{}),marvel.logger.error("[Core:Folders] error duplicating composite",{err:e,mrvlDoc:this.model})}.bind(this));h.organizerItemFocusOut(this)}.bind(this)).done()}return!1}.bind(this)).catch(function(e){marvel.logger.error("error duplicating composite",{err:e,mrvlDoc:this.model})}.bind(this))},handleSaveAsTemplateClick:function(e){return d.setCurrentProjectId(this.model.id||this.model.get("id")),d.trackEvent("organizer:savedAsTemplate",{contextData:["projectId"]},"organizer:projects"),this.hideTray(),h.organizerNavigating(this),h.saveAsTemplate(this.model).then(function(){window.marvel.navigate("/templates",{trigger:!0})}.bind(this)),!1},_stopListening:function(){this._timer&&(window.clearTimeout(this._timer),this._timer=null)},remove:function(){this._stopListening(),r.View.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<a class="mrvl-item-thumb">\n    <div class="mrvl-item-thumb-img"></div>\n\n    <div class="mrvl-item-thumb-mini-img"></div>\n\n    <div class="mrvl-item-shared-as-template-icon"></div>\n    <div class="mrvl-item-shared-with-others-icon"></div>\n\n    <div class="mrvl-item-action-overlay">\n        <div class="mrvl-item-action-btns">\n            <div class="mrvl-item-open-btn">{{organizer-item-verb-open}}</div>\n        </div>\n\n        <div class="mrvl-item-action-tray hide">\n            <div class="mrvl-item-collaborate-btn hide"><span>{{organizer-item-verb-collaborate}}</span><span class="mrvl-new-feature-tag">{{spark-new-feature-tag-text}}</span></div>\n            <div class="mrvl-item-rename-btn">{{organizer-item-verb-rename}}</div>\n            <div class="mrvl-item-move-folder-btn">{{organizer-item-verb-move}}</div>\n            <div class="mrvl-item-duplicate-btn">{{organizer-item-verb-duplicate}}</div>\n            <div class="mrvl-item-save-as-template-btn hide">{{organizer-item-verb-create-template}}</div>\n            <div class="mrvl-item-download-btn">{{organizer-item-verb-download}}</div>\n            <div class="mrvl-item-unpublish-btn">{{organizer-item-verb-unpublish}}</div>\n            <div class="mrvl-item-trash-btn">{{organizer-item-verb-delete}}</div>\n            <div class="mrvl-item-leave-collab-btn hide">{{organizer-item-verb-leave}}</div>\n            <div class="download-composite hide">{{organizer-item-verb-debug}}</div>\n        </div>\n\n        <div class="mrvl-item-hide-tray-button hide"></div>\n    </div>\n    <div class="mrvl-item-more-button"></div>\n</a>\n<div class="mrvl-item-footer">\n    <div class="mrvl-item-title-wrapper">\n        <h4 class="mrvl-item-title"></h4>\n        <input class="mrvl-item-title-edit" />\n    </div>\n    <div class="mrvl-item-type hide"></div>\n\n    <div class="mrvl-item-status-line hide">\n        <div class="mrvl-item-appreciates">0</div>\n        <div class="mrvl-item-views">0</div>\n    </div>\n    <div class="mrvl-item-loading">{{organizer-item-verb-loading}}</div>\n\n    <a class="mrvl-item-publish-status hide" href="#"></a>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(501),i(504),i(859)],void 0===(r=function(e,t,i,n,r,o){"use strict";return n.extend({_getDocRefs:function(){return r.getDocRefs()},_organizerItemFactory:function(e){return new o(e)},getController:function(){return r}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(409),i(12),i(237),i(4),i(70),i(7),i(5),i(374),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u){"use strict";return n.extend({refreshPubInfo:function(){return i.resolve()},_afterRender:function(){this.$el.addClass("template"),this.$el.find(".mrvl-item-open-btn").text("Create from"),this.$tray.find(".mrvl-item-collaborate-btn").text("Share..."),this.$tray.find(".mrvl-item-rename-btn").remove(),this.$tray.find(".mrvl-item-render-btn").remove(),this.$tray.find(".mrvl-item-duplicate-btn").remove(),this.$tray.find(".mrvl-item-save-as-template-btn").remove(),this.$tray.find(".mrvl-item-download-btn").remove(),this.$tray.find(".mrvl-item-unpublish-btn").remove(),"INCOMING"===this.model.getCollaboration()?(this.$el.addClass("shared-as-template"),this.$el.find(".mrvl-item-open-btn").text("Create from"),this.$tray.find(".mrvl-item-collaborate-btn").remove()):l.hasFeature("enable-spark-templates")&&("OUTGOING"===this.model.getCollaboration()?this.$el.addClass("shared-with-others"):s.getCollaboration(this.model).then(function(e){e&&e.collaborators&&e.collaborators.length&&this.$el.addClass("shared-with-others")}.bind(this)).done())},_handleOpenClick:function(e){return this.$el.hasClass("shared-as-template")?a.trackEvent("organizer:clickedCreateFromSharedTemplate",this._getItemProps(),"organizer:templates"):a.trackEvent("organizer:clickedCreateFromTemplate",this._getItemProps(),"organizer:templates"),o.saveAsTemplate(this.model).then(function(e){this.$el.hasClass("shared-as-template")?a.addContextData({contextString:"shared-template",createdFromId:this.model.get("id")}):a.addContextData({contextString:"spark-template",createdFromId:this.model.get("id")}),e.triggerProjectCreatedAnalytics(),o.organizerOverlayFocus(this,!1,!0),this._doOpenDoc(e)}.bind(this)).done(),!1},_handleCollaborateClick:function(t){var i=this._getItemProps();if(a.trackEvent("organizer:clickedCollaborate",i,"organizer:templates"),l.hasFeature("enable-branded-share")||!this.$el.hasClass("org-item-is-branded")){var n=this.model;n.getMyPrimaryApp().hasLicensedResources(n).then(function(e){if(e){a.trackEvent("collaboration:attemptedLicensedShared",i,"organizer:templates");var t=u.getString("organizer-item-cannot-share-stock-template-message"),o=u.getString("organizer-collaboration-error-confirm-text"),l=u.getString("organizer-item-cannot-share-stock-template-title");return r.showAlert(l,t,{okText:o}),!1}return c.getAccessToken().then(function(e){var t=new d.default,i=u.getString("organizer-collaboration-invite-template-collaborators");return t.handleCollabUI(i,n,e)}).then(function(e){return marvel.logger.traceflow("collaboration:invitations","_handleCollaborateClick sent invitations:",JSON.stringify(e)),s.silentlyInviteCollaboratorsToBrand(n,e)}).catch(function(e){marvel.logger.warn("[Collab] Error attempting to invite template collaborators",e),r.showAlert(u.getString("organizer-collaboration-error-title"),u.getString("organizer-collaboration-error-description"),{confirmText:u.getString("organizer-collaboration-error-confirm-text")})})})}else{a.trackEvent("collaboration:attemptedBrandedShare",i,"organizer:templates");var o=e("<p>Oops! You currently can't share branded projects. We are working on this feature! In the meantime, please remove branding to share as a template.</p>");r.showConfirm("Coming soon - Branded Sharing",o,{okText:"No problem",cancelText:"Need this ASAP"}).then(function(e){e?(i.rating=1,a.trackEvent("collaboration:ratedNeedForBrandedSharing",i,"organizer:templates")):(i.rating=5,a.trackEvent("collaboration:ratedNeedForBrandedSharing",i,"organizer:templates"))}.bind(this)).done()}},_triggerDeleteAnalytics:function(){a.setCurrentProjectId(this.model.get("id")),"INCOMING"===this.collaboration?a.trackEvent("organizer:deletedShare",this._getItemProps(),"organizer:templates"):a.trackEvent("organizer:deletedTemplate",{contextData:["projectId"]},"organizer:templates")}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="popup-message-dialog{{#themeClassName}} {{themeClassName}}{{/themeClassName}}" style="{{#width}}width: {{width}};{{/width}}{{#height}}height: {{height}};{{/height}}">\n    <div class="popup-message-section">\n        {{#image}}\n            <div class="popup-message-image-container" >\n                <img class="popup-message-image" src="{{image}}" />\n            </div>\n        {{/image}}\n        {{#title}}<h4 class="popup-message-header-text">{{title}}</h4>{{/title}}\n        {{#subtitle}}<p class="popup-message-sub-text">{{subtitle}}</p>{{/subtitle}}\n        <div class="popup-message-button-container">\n            {{#secondaryButtonTitle}}<button class="popup-message-secondary-button popup-message-close">{{secondaryButtonTitle}}</button>{{/secondaryButtonTitle}}\n            {{#primaryButtonTitle}}<button class="popup-message-primary-button">{{primaryButtonTitle}}</button>{{/primaryButtonTitle}}\n        </div>\n        <div class="popup-message-close-x popup-message-close"></div>\n    </div>\n</div>'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(862)],void 0===(r=function(e,t,i,n,r){"use strict";return i.View.extend({initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){this._getCurrentFolder().then(function(e){var t=e.getDiscoveryContext().breadCrumbs;this.$el.html(n.to_html(r,{crumbs:t})),t.length>=3&&!this._organizerView._breadcrumbsExpanded&&this._organizerView.showBreadcrumbsAbbr(),t.length<1&&this._organizerView.resetBreadcrumbs(),t.length<3&&this._organizerView.hideBreadcrumbsAbbr()}.bind(this)).done()},bindOrganizerView:function(e){this._organizerView=e},refreshView:function(){this.$el.empty(),this.render()},_getCurrentFolder:function(){return this._organizerView.getCurrentFolder()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='{{#crumbs}}\n<span class="mrvl-organizer-breadcrumbs-link" data-id="{{id}}">\n    <a title="{{name}}">{{name}}</a>\n</span>\n{{/crumbs}}'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(4),i(15),i(23),i(112),i(864)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return a.extend({el:".confirm-overlay",events:{"click .index-progress-view-bg":"_handleBackgroundClick","click .index-progress-view-create-folder-button":"_handleCreateFolderBtnClick"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){this.$el.length||(this.$el=e(document.body).find(".confirm-overlay")),this.$el.html(l.toString()),this.$el[0].focus(),this.body$=e("body"),this.progressPctLabel$=this.$el.find(".index-progress-view-label.pct-label"),this.createFolderBtn$=this.$el.find(".index-progress-view-create-folder-button"),this.createFolderBtn$.addClass("disabled"),this._progressBarView||(this._progressBarView=new s);var t={el$:this.$el.find(".index-progress-view-progress-bar"),itemsAdded:0,itemsResolved:0,pct:0,eventNames:{setPct:"organizerIndexProgressPctChanged"}};this._progressBarView.setupProgress(t),this._progressBarView.render(),marvel.events.on("organizerIndexProgressPctChanged",this._handlePercentProgressChanged),this._handlePercentProgressChanged(0),this.$el.removeClass("hide"),this.body$.addClass("mrvl-organizer-lock-scroll")},_handleBackgroundClick:function(e){this._handleUserCloseAction(e)},_handleKeyup:function(e){e.keyCode===o.DOM_VK_ESCAPE&&this._handleUserCloseAction(e)},_handleUserCloseAction:function(e){e.stopPropagation(),this._currentPercent>=1&&this.hide()},_handlePercentProgressChanged:function(e){if(e){this._currentPercent=Math.min(e,1);var t=Math.round(100*this._currentPercent)+"%";this.progressPctLabel$.text(t),this._currentPercent>=1&&this._handleProgressComplete()}},_handleProgressComplete:function(){this.createFolderBtn$.removeClass("disabled"),this.$el.find(".index-complete-view-label").removeClass("hide"),this.$el.find(".index-progress-view-label").addClass("hide"),clearInterval(this._showProgressTimer),this.body$.removeClass("mrvl-organizer-lock-scroll")},_handleCreateFolderBtnClick:function(e){this._currentPercent>=1&&(this._handleUserCloseAction(e),this._createFolderHandler&&this._createFolderHandler())},show:function(t){this._createFolderHandler=t,this.render(),e(document).on("keyup.dialog",this._handleKeyup)},hide:function(){this.$el.addClass("hide"),e(document).off("keyup.dialog",this._handleKeyup)}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="index-progress-view-bg mrvl-overlay-overlay-bg">\n</div>\n<div class="index-progress-view-shell mrvl-overlay-shell">\n    <div class="index-progress-view-graphic-div">\n        <img class="index-progress-view-graphic" src="/images/index-progress-illustration.svg"/>\n        <div class="index-progress-view-curve"/>\n    </div>\n    <div class="index-progress-view-description">\n        <h2 class="dialog-title index-progress-view-title">Introducing Folders</h2>\n        <p>It\'s time to get your workspace organized with folders.</p>\n        <p>This update will take a few minutes to complete.</p>\n        <p class="index-progress-view-warning">Please don\'t refresh this page.</p>\n    </div>\n    <div class="index-progress-view-results">\n        <div class="index-progress-view-results-left">\n            <div class="index-progress-view-progress">\n                <div class="index-progress-view-progress-labels">\n                    <p class="index-progress-view-label text-label">\n                        Indexing data<span class="loadinging-dots"><span>.</span><span>.</span><span>.</span></span>\n                    </p>\n                    <p class="index-complete-view-label text-label hide">\n                        Completed!\n                    </p>\n                    <p class="index-progress-view-label pct-label">0%</p>\n                </div>\n                <div class="index-progress-view-progress-bar"/>\n            </div>\n        </div>\n        <div class="index-progress-view-results-right">\n            <button class="index-progress-view-create-folder-button">Create a Folder</button>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(8),i(5),i(23),i(7),i(36),i(106),i(4),i(866),i(41)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h){"use strict";return a.extend({events:{"click .done-optin":"handleOptinDoneBtn"},cachename:"marketingoptin",render:function(){if(!marvel._dialogShowing)return this.showOverlay();this.$el.html(r.mustacheRender(u)),d.trackEvent("shownNewsletterOptIn",{},this.model.get("mode")),o.isValid().then(function(){var e=o.getUserCountry();"US"===e&&(this.$el.find(".optin-checkbox").prop("checked",!0),this.$el.find(".newsletter-optin-checkbox").prop("checked",!0)),"DE"!==e&&"KR"!==e&&this.$el.find(".spark-newsletter-section").removeClass("hide")}.bind(this)),this.model.get("showGlobalMarketingChoice")&&this.$el.find(".global-marketing-section").removeClass("hide"),"new-user-flow"===this.model.get("mode")&&c.showedNewsletterPitch()},_handleNewsletterHoldoutExperiment:function(e){var t=n.defer();return e?l.run("newsletterHoldoutExperiment").then(function(e){if(e){e.getExperimentName();var i="newsletterHoldoutVariant"===e.getVariantName();t.resolve(i)}else t.resolve(null)}.bind(this)).catch(function(e){window.marvel.logger.error("Error loading experiment: ",e),t.resolve(null)}).done():t.resolve(!1),t.promise},handleOptinDoneBtn:function(){var e=this.$el.find(".optin-checkbox").is(":checked"),i=this.$el.find(".newsletter-optin-checkbox").is(":checked"),r={"tips-and-tricks":!0},a=n.defer(),l=n.defer(),u=(new Date).getTime(),h=c.getEmailListForReferCode();h&&(r[h]=!0),this._handleNewsletterHoldoutExperiment(i).then(function(h){i?(t.delay(function(){this.$el.find(".mrkt-opt-in-confirm").addClass("show")}.bind(this),500),d.trackEvent("newsletterOptIn",{},this.model.get("mode")),c.setNewsletterOptedIn(),r[h?"spark-newsletter-holdout":"spark-newsletter"]=i):(d.trackEvent("newsletterOptOut",{},this.model.get("mode")),c.newsletterOptedOut());this.model.get("showGlobalMarketingChoice")?o.updateMarketingChoiceForUser(e).then(function(){a.resolve()}.bind(this),function(e){marvel.logger.error("Failed to save marketing preference",e),a.resolve()}.bind(this)).done():a.resolve(),c.saveAndUpdateSettings(r).then(function(){l.resolve()}.bind(this),function(e){marvel.logger.error("Failed to save newsletter preference",e),l.reject()}.bind(this)).done(),n.allSettled([a.promise,l.promise]).spread(function(e,n){"fulfilled"===n.state?s.setUserFlag("show-optin",!1):c.resetNewsletterOptOut(),i?t.delay(function(){this.hideOverlay(),this.model.get("doneDefer")&&this.model.get("doneDefer").resolve()}.bind(this),Math.max(0,1500-((new Date).getTime()-u))):(this.hideOverlay(),this.model.get("doneDefer")&&this.model.get("doneDefer").resolve())}.bind(this))}.bind(this))},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="login-bg mrkt-splash-bg"></div>\n<div class="mrkt-container center-panel" data-auto="mrkt-container">\n    <div class="mrkt-dialog">\n        <div class="mrkt-dialog-image"></div>\n        <div class="mrkt-dialog-inner">\n            <h1 class="optin-title">{{marketingoptin-dialog-title}}</h1>\n            <h2 class="optin-subtitle">{{marketingoptin-dialog-subtitle}}</h2>\n\n            <div class="spark-newsletter-section hide">\n                <div class="optin-section">\n                    <label><input type="checkbox" class="newsletter-optin-checkbox" name="newsletterOptinCheckbox">\n                    <span class="optin-label">{{marketingoptin-dialog-checkbox-label}}</span></label>\n                </div>\n            </div>\n            <div class="global-marketing-section hide">\n                <div class="optin-section">\n                    <label><input type="checkbox" class="optin-checkbox" name="optinCheckbox">\n                        <span class="optin-label">{{{marketingoptin-dialog-globalmkt-label}}}</span>\n                    </label>\n                </div>\n            </div>\n            <div class="optin-info">{{{marketingoptin-dialog-info-label}}}</div>\n            <button class="mrvl-btn done-optin" data-auto="splash-opt-in-btn">{{marketingoptin-dialog-continue-btn}}</button>\n\n            <div class="mrkt-opt-in-confirm">\n                <div class="optin-success-icon"></div>\n                <h1 class="optin-title">{{marketingoptin-dialog-success-title}}</h1>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(3),i(0),i(2),i(1),i(8),i(5),i(7),i(254),i(24),i(4),i(868),i(442),i(869),i(871),i(12),i(11),i(16),i(96),i(873)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h,p,f,g,m,v,b){"use strict";var y=["facebook","twitter","email","link","download"],w=new g({color:"darkgoldenrod",name:"DesignView"});return n.View.extend({events:{"click .share-link":"handleShareTargetLink"},initialize:function(){this._isBound||(this._isBound=!0,this.handleCurrentDoc=this.handleCurrentDoc.bind(this),this.handleCurrentDocLoaded=this.handleCurrentDocLoaded.bind(this),this.handleShareBtn=this.handleShareBtn.bind(this),this.handleHideInterstitial=this.handleHideInterstitial.bind(this),this.uploadFacebook=this.uploadFacebook.bind(this),this.downloadProject=this.downloadProject.bind(this),this.sendTheoEditorDownloadButtonExportAnalytics=this.sendTheoEditorDownloadButtonExportAnalytics.bind(this)),marvel.events.on("loaded-composite-doc",this.handleCurrentDocLoaded),marvel.events.on("saved-composite-doc",this.handleCurrentDoc),marvel.events.on("share-workflow-current-doc",this.handleShareBtn),marvel.events.on("share-workflow-current-doc-closed",this.handleShareClosed),marvel.events.on("editor-showing-interstitial-hidden",this.handleHideInterstitial),marvel.events.on("upload-to-facebook-current-doc",this.uploadFacebook),marvel.events.on("download-current-doc",this.downloadProject),marvel.events.on("send-theo-editor-download-button-export-analytics",this.sendTheoEditorDownloadButtonExportAnalytics),this.npsSurveyView=new b;try{if(window.sessionStorage){var e=window.sessionStorage.getItem("publishOnLoadDesignView")||"";"share"===e||"download"===e||0===e.indexOf("edit")||"republish"===e?marvel._publishOnLoadDesignView=e:marvel._publishOnLoadDesignView=!1;var t=window.sessionStorage.getItem("workflowOnLoadDesignView");["facebook-holiday-ad-design","facebook-cover-image-design"].indexOf(t)>=0?marvel._workflowOnLoadDesignView=t:marvel._workflowOnLoadDesignView=!1}}catch(e){}},beforeUnload:function(){if(c.removeContextData(["workflow"]),c.resetWorkflow(),this._shareOverlayViewShowing){var t=this.shareOverlayView.beforeUnload();if(t)return t}return this.currentSubView&&this.currentSubView.beforeUnload?(this.currentSubView.beforeUnload()||e.resolve()).then(function(e){return e||this.app.storageImpl.releaseBatonLock()}.bind(this)):e.resolve()},_getUrlFragmentQueryParams:function(){var e=n.history.getFragment().split("?")[1],t={};if(e)for(var i=e.split("&"),r=0;r<i.length;r++){var o=i[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},getWorkflow:function(){return this._getUrlFragmentQueryParams().workflow||null},_updateRouteAfterFirstSave:function(){var e=n.history.fragment,t=e.split("/");if(-1!==t.indexOf("design")){var i=e.split("?"),r="";i.length>1&&(r="?"+i[1]);var o=t[1],a=this.currentDoc.get("id"),s="design/"+o+"/";window.marvel.navigate(s+a+r,{trigger:!1,replace:!0})}},_handleFirstProjectSave:function(){this.isNewDocument&&(a.hasFeature("created-first-project")||a.setUserFlag("created-first-project",!0),this._updateRouteAfterFirstSave(),this.isNewDocument=!1)},_interstitialError:function(e,i,n,r,o,a){var s=t("<div><h3>"+e+"</h3><p>"+i+"</p></br></div>"),l=t('<button class="sp-cta-button-primary">'+n+"</button>"),c=t('<button class="sp-cta-button-secondary">'+o+"</button>");o&&(c.on("click",a),s.append(c)),n&&(l.on("click",r),s.append(l)),window.marvel.events.trigger("interstitial-error",{addClass:"error-state",addElement$:s})},handleCurrentDocLoaded:function(e){this.isNewDocument||this.handleCurrentDoc(e)},handleCurrentDoc:function(t){t.getMyApp().getAppTypeID()===this.app.getAppTypeID()?(t&&t._linkedSparkAsset&&t._linkedSparkAsset.updateFromLinkedDoc(t),this.currentDoc?this.currentDoc!==t&&w.warn("received a save composite event for a doc that is not current"):(this.currentDoc=t,this._handleFirstProjectSave(),v.setUXHandler(t,{editing:function(e){v.beginSession(t,e)}.bind(this),cleanup:function(e){v.endSession(t,e)}.bind(this),inactiveTimeout:function(e){c.trackEvent("coediting:stillWorkingDialogViewed",{sparkFormat:t.getMyApp().typeName},"coediting"),f.showConfirm(r.getString("user-inactive-title"),r.getString("user-inactive-message"),{cancelText:r.getString("user-inactive-cancel-text"),okText:r.getString("user-inactive-ok-text")}).then(function(i){if(!i)return v.reviveSession(t,e).then(function(e){e||window.location.reload()});c.trackEvent("coediting:imDonePressed",{sparkFormat:t.getMyApp().typeName},"coediting"),window.marvel.navigate("/",{trigger:!0})}).done()}.bind(this),serviceBorked:function(e){w.warn("DesignView surfacing error borked UX:",e),this._interstitialError(r.getString("interstitial-error-generic-title"),r.getString("interstitial-error-generic-message"),r.getString("interstitial-error-generic-cta"),function(){window.location.reload()})}.bind(this),unentitled:function(){window.marvel.events.trigger("branded-project-open-attempted",{doc:t,captive:!0})}.bind(this),batonNotAcquired:function(n){var o=t.getMyApp().cancelEditingSession(t),a=e.defer();return c.trackEvent("coediting:lockDialogViewed",{sparkFormat:t.getMyApp().typeName},"coediting"),this._interstitialError(r.formatMessage("interstitial-error-baton-title",{userName:i.escape(n),projectName:i.escape(t.getProjectName())}),r.formatMessage("interstitial-error-baton-message",{userName:i.escape(n),projectName:i.escape(t.getProjectName())}),r.getString("interstitial-error-baton-cta"),function(){o.then(function(){a.resolve()})}),a.promise}.bind(this),batonServiceFailed:function(n){var o=e.defer();return this._interstitialError(r.getString("interstitial-error-baton-service-title"),r.formatMessage("interstitial-error-baton-service-message",{projectName:i.escape(t.getProjectName())}),r.getString("interstitial-error-baton-service-cta"),function(){o.resolve(!0)},r.getString("interstitial-error-baton-service-cancel"),function(){t.getMyApp().cancelEditingSession(t).then(function(){o.resolve(!1)}.bind(this))}),o.promise}.bind(this),missingBrand:function(){var i=t.getMyApp().cancelEditingSession(t),n=e.defer();return this._interstitialError(r.getString("interstitial-error-missing-brand-title"),r.getString("interstitial-error-missing-brand-message"),r.getString("interstitial-error-missing-brand-cta"),function(){i.then(function(){n.resolve()})}),n.promise}.bind(this),missingFonts:function(i){var n=e.defer();return window.marvel.events.trigger("missing-brand-fonts-ux",{doc:t,missingFonts:i,defer:n}),n.promise}.bind(this)})),window.marvel.events.trigger("folder-document-updated",t)):"authoring-context"!==t.getMyApp().getAppTypeID()&&w.warn("unexpected handleCurrentDoc for other app type "+t.getMyApp().getAppTypeID()+" <> "+this.app.getAppTypeID())},errorState:function(){this.$el.find(".mrvl-dv-error-display").removeClass("hide")},renderSubView:function(e,t,i){this.$el.find(".mrvl-dv-error-display").addClass("hide"),e.appConfig=i,e.setElement(this.$designView[0]),e.render(),this.currentSubView=e,this.$el.find(".mrvl-hamburger-menu").removeClass("hide"),t&&t.loadDocument().then(function(e){this.isNewDocument||this.handleCurrentDoc(e),marvel.events.trigger("designview-rendersubview-doc-loaded",e),this.npsSurveyView.showNPSQuestion(this.app)}.bind(this))},render:function(e,i){var n,r="";return t("body").addClass("design-view"),e&&(n=e.indexOf("/")+1)>=0&&(r=e.substring(n,e.indexOf("/",n+1))),this.workflow=this.getWorkflow(),window.marvel.events.trigger("show-interstitial",{typeName:r,fnBeforeHiding:this._beforeHidingInterstitial.bind(this)}),this.$el.html(d),this.$designView=this.$el.find(".mrvl-dv-wrapper"),this.$shareOverlay=this.$el.find(".mrvl-dv-share-overlay"),i&&(this.isNewDocument=!i.assetId&&"edit-template"!=i.operation,m.augmentAppConfig(i).then(function(){s.attachApp(this,l,i)}.bind(this)).done()),this},handleShareClosed:function(){this._shareOverlayViewShowing=!1},_beforeHidingInterstitial:function(){return v.interstitialReadyToHide(this.currentDoc)},handleHideInterstitial:function(){if(marvel.events.off("editor-showing-interstitial-hidden",this.handleHideInterstitial),marvel._publishOnLoadDesignView){var e=marvel._publishOnLoadDesignView;marvel._publishOnLoadDesignView=!1;try{window.sessionStorage.removeItem("publishOnLoadDesignView")}catch(e){}this.handleShareBtn(e,"organizer")}if(marvel._workflowOnLoadDesignView){c.getWorkflow()||c.setWorkflow(marvel._workflowOnLoadDesignView),marvel._workflowOnLoadDesignView=!1;try{window.sessionStorage.removeItem("workflowOnLoadDesignView")}catch(e){}this.uploadFacebook()}},handleShareBtn:function(e,i){return a.featuresLoaded().then(function(){a.hasFeature("share-targets-enabled")&&!e?o.requiresAuth().then(function(){if(this.currentDoc){var e=t(".shareMenu"),i=t(".uploadButton");i.length&&(e.hasClass("hide")?(e.css({top:i.offset().top+i.height()+"px",left:i.offset().left+"px"}),this.openedShareMenu||(this.openedShareMenu=!0,t(window).resize(function(){e.hasClass("hide")||e.addClass("hide")}),t(document).click(function(i){var n=i.target;0!==e.has(i.target).length||t(n).hasClass("uploadButton")||e.addClass("hide")})),this.app.supportsDownload()||this.$el.find(".download-share-link-item").remove(),e.removeClass("hide")):e.addClass("hide"))}else w.debug("empty doc, can't share")}.bind(this)):this.handleShareDialog(e,"link",i)}.bind(this)).done(),!1},_loadShareView:function(){return this._shareViewLoader||(this._shareViewLoader=new u),this._shareViewLoader.getShareView()},handleShareDialog:function(e,i,n){i&&-1!==y.indexOf(i)||(i="link");var r=this.app.getAppTypeID();return n=n||"editor:"+r,marvel.features.featuresLoaded().then(function(){o.requiresAuth().then(function(){if(this.currentDoc)try{t(".shareMenu").addClass("hide"),this._loadShareView().then(function(t){this.shareOverlayView=t,this.shareOverlayView.setShareTarget(i),this.shareOverlayView.setModel(this.currentDoc),this.shareOverlayView.setElement(this.$shareOverlay),this.shareOverlayView.setWorkflow(this.workflow),c.setCurrentProjectId(this.currentDoc.get("id")),c.trackEvent("publishBegin",{contextData:["projectId"],workflow:this.workflow,contextString:n,shareTarget:i},"publish:publish"),this.shareOverlayView.showShareOverlay({allowRepublish:!0,forceShareViewMode:e||null}),this._shareOverlayViewShowing=!0}.bind(this))}catch(e){throw w.error("handleShareDialog error",e),e}else w.debug("empty doc, can't share")}.bind(this))}.bind(this)),!1},uploadFacebook:function(){if(!this.app.supportsDownload())return!1;a.featuresLoaded().then(function(){if(this.currentDoc){var e=this.app,t=e.getAppTypeID(),i=e.getPublishImpl();i.getDownloadUrl&&i.getDownloadUrl(this.currentDoc).then(function(i){i&&(this.workflow||(this.workflow=this.getWorkflow()),"facebook-cover-image-design"==this.workflow?(c.trackEvent("clickedUploadCoverToFacebook",{app:t,projectId:this.currentDoc.get("id")},t+":editor"),this.facebookCoverUploadView||(this.facebookCoverUploadView=new h({imageUrl:i,projectId:this.currentDoc.get("id"),app:t,workflow:this.workflow})),this.facebookCoverUploadView.setImageUrl(i),this.facebookCoverUploadView.setProjectId(this.currentDoc.get("id")),this.facebookCoverUploadView.setApp(e),this.facebookCoverUploadView.setElement(this.$el.find(".facebook-upload")),c.setCurrentProjectId(this.currentDoc.get("id")),c.trackEvent("publishBegin",{contextData:["projectId"],contextString:"editor:"+t},"publish:publish"),this.facebookCoverUploadView.showOverlay()):"facebook-holiday-ad-design"==this.workflow?(c.trackEvent("clickedUploadToFacebookPage",{app:t,projectId:this.currentDoc.get("id"),workflow:this.workflow},t+":editor"),this.facebookUploadDesignPageView||(this.facebookUploadDesignPageView=new p({imageUrl:i,projectId:this.currentDoc.get("id"),app:t,workflow:this.workflow})),this.facebookUploadDesignPageView.setImageUrl(i),this.facebookUploadDesignPageView.setProjectId(this.currentDoc.get("id")),this.facebookUploadDesignPageView.setApp(e),this.facebookUploadDesignPageView.setElement(this.$el.find(".facebook-upload")),c.setCurrentProjectId(this.currentDoc.get("id")),c.trackEvent("publishBegin",{contextData:["projectId"],contextString:"editor:"+t},"publish:publish"),this.facebookUploadDesignPageView.showOverlay()):w.debug("no workflow specified when trying to upload to facebook"))}.bind(this),function(e){marvel.logger.error("could not show upload to facebook flow.",e)}).done()}else w.debug("empty doc, can't upload to facebook")}.bind(this)).done()},downloadProject:function(){marvel.features.featuresLoaded().then(function(){o.requiresAuth().then(function(){if(this.currentDoc){if(!this.app.supportsDownload())return!1;var e=this.app,n=e.getPublishImpl();if(n.getDownloadUrl){this.downloadLink$||(this.downloadLink$=this.$el.find(".shf-download-link"),this.downloadLink$.length||(this.downloadLink$=t('<a class="shf-download-link">'),this.$el.append(this.downloadLink$)));var r=n.getDownloadFileName(this.currentDoc);f.showWaitView("Generating download file"),n.getDownloadUrl(this.currentDoc).then(function(t){if(t){var n=e.getAppTypeID();i.isFunction(t)?(this.downloadLink$.removeAttr("href"),this.downloadLink$.removeAttr("download"),t()):(this.downloadLink$.attr("href",t),this.downloadLink$.attr("download",r),this.downloadLink$[0].click()),f.hide(),c.trackEvent("Sharing Action",{type:n,eventAction:"Downloaded",projectId:this.currentDoc.get("id"),workflow:this.workflow},"editor:"+n)}else marvel.logger.warn("couldn't download url",this.currentDoc)}.bind(this))}else n.downloadFile&&this.handleShareDialog("download","download")}else w.debug("current doc not loaded for download")}.bind(this))}.bind(this))},sendTheoEditorDownloadButtonExportAnalytics:function(t){var n=!1;this.currentDoc&&this.currentDoc.getDataFromRoot&&this.currentDoc.setAndSaveDataToRoot&&((n=this.currentDoc.getDataFromRoot("cp#isExported"))||this.currentDoc.setAndSaveDataToRoot("cp#isExported",!0));var r=this.getWorkflow(),o=this.currentDoc.getMyApp();e.all([this.app.hasUploadedFonts(this.currentDoc),m.getExportAnalytics(this.currentDoc,r,"download"),o.getImageMetadataForAnalytics(this.currentDoc)]).spread(function(e,r,o){i.extend(r,o),r.isReExport=n?"true":"false",r.includesUploadedFonts=e,r.exportedWithBranding&&c.trackEvent("exportedBrandedProject",r,"editor:theo"),t&&(r.contextualData1="designIngredientId:"+(t.designIngredientId||"none"),r.contextualData2="designIngredientType:"+(t.designIngredientType||"none"),r.contextualData5="tagNames:"+t.tagNames,r.contextualData6="templateType:"+t.templateType,r.templateId=t.templateId||"none",r.contextualData10="includesPaidAdobeFonts:"+t.includesPaidAdobeFonts),c.trackEvent("project:exportCompleted",r,"editor:theo")}.bind(this)).done()},handleShareTargetLink:function(e){return o.requiresAuth().then(function(){if(this.currentDoc)try{var i=t(e.target).data("sharetarget");"download"==i?this.downloadProject():this.handleShareDialog(null,i)}catch(e){throw w.error("handleShareTargetLink error",e),e}}.bind(this)),!1},remove:function(){return t("body").removeClass("design-view"),this.shareOverlayView&&(this.shareOverlayView.remove(),this.shareOverlayView=null),this.currentSubView&&this.currentSubView.remove(),this.currentSubView=null,this.currentDoc=null,this.facebookCoverUploadView=null,this.facebookUploadDesignPageView=null,this.facebookUploadProfile=null,this.disableCreateMoreDesignsPrompt=!1,marvel.events.off("loaded-composite-doc",this.handleCurrentDocLoaded),marvel.events.off("saved-composite-doc",this.handleCurrentDoc),marvel.events.off("share-workflow-current-doc",this.handleShareBtn),marvel.events.off("share-workflow-current-doc-closed",this.handleShareClosed),marvel.events.off("editor-showing-interstitial-hidden",this.handleHideInterstitial),marvel.events.off("upload-to-facebook-current-doc",this.uploadFacebook),marvel.events.off("download-current-doc",this.downloadProject),marvel.events.off("send-theo-editor-download-button-export-analytics",this.sendTheoEditorDownloadButtonExportAnalytics),this.undelegateEvents(),this.$el.empty(),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="mrvl-dv-wrapper" data-auto="mrvl-dv-wrapper">\n</div>\n<div class="mrvl-dv-error-display hide">\n    <h3>Error loading project, retrying...</h3>\n</div>\n<div class="mrvl-dv-share-overlay hide"></div>\n<ul class="shareMenu hide" data-auto="share-menu">\n    <li class="facebook-share-link-item"><a href = "#" data-sharetarget="facebook" class="share-link facebook-share-link" data-auto="facebook-share-target">Facebook</a></li>\n    <li class="twitter-share-link-item"><a href = "#" data-sharetarget="twitter" class="share-link twitter-share-link" data-auto="twitter-share-target">Twitter</a></li>\n    <li class="email-share-link-item"><a href = "#" data-sharetarget="email" class="share-link email-share-link" data-auto="email-share-target">Email</a></li>\n    <li class="link-share-link-item"><a href = "#" data-sharetarget="link" class="share-link link-share-link" data-auto="link-share-target">Link</a></li>\n    <li class="download-share-link-item"><a href = "#" data-sharetarget="download" class="share-link download-share-link" data-auto="download-share-target">Download</a></li>\n</ul>\n<div class="facebook-upload"></div>\n'},function(e,t,i){var n,r;n=[i(0),i(1),i(4),i(870),i(232),i(505),i(23)],void 0===(r=function(e,t,i,n,r,o){"use strict";return o.extend({cachename:"facebookUploadCoverImage",feature_flag:"show-facebook-onboarding-design-cover-image",workflow:"facebook-cover-image-design",analyticsEvents:{dismissWorkflow:"dismissFacebookCoverDesignUpload",clickedUpdateCoverPhoto:"clickedUploadCoverToFacebook",uploadedDesign:"uploadedCoverToFacebook",shownWorkflow:"shownFacebookUploadCoverFlow"},handlePostTo:function(t){var n=e(t.currentTarget),o=this.app.getAppTypeID();if(this.isPosting)return t.preventDefault(),t.stopImmediatePropagation(),!1;if(this.canViewPost)return i.trackLink(this.analyticsEvents.clickedUpdateCoverPhoto,{app:o,facebookPostId:this.postId,projectId:this.projectId,workflow:this.workflow},"editor:post"),setTimeout(function(){this.canViewPost=!1,n.removeClass("update-cover-image"),n.text("Post to my profile")}.bind(this),500),!0;t.preventDefault(),t.stopImmediatePropagation(),this.isPosting=!0;r.init(),n.text("Preparing to Publish ... Please wait"),r.uploadPhoto({scopes:"user_photos,publish_actions"},this.imageUrl).then(function(e){var t="http://www.facebook.com/profile.php?preview_cover="+e;n.attr("href",t),n.data("photo",e),this.isPosting=!1,this.canViewPost=!0,this.postId=e,n.text("Click to Update Cover Image"),n.addClass("update-cover-image"),i.trackEvent(this.analyticsEvents.uploadedDesign,{app:o,facebookPostId:this.postId,workflow:this.workflow,projectId:this.projectId},"editor:post"),i.setCurrentProjectId(this.projectId),i.trackEvent("Sharing Action",{contextData:["projectId"],eventAction:"Social Shares",type:"Facebook"},"publish:share")}.bind(this),function(e){this.isPosting=!1,this.canViewPost=!1,window.marvel.logger.error("could not upload file "+this.imageUrl+" to Facebook",e),alert("We could not upload the photo to your Facebook page. Make sure you authorize the app."),setTimeout(function(){n.text("Post to my profile")}.bind(this),1e3)}.bind(this)).done()},render:function(){var e=this.app.getAppTypeID();this.$el.html(n.toString()),r.setAnalyticsInfo({analyticsPageName:"editor:"+e,analyticsContext:"facebookCoverImageDesign",analyticsProjectId:this.projectId});try{window.sessionStorage&&window.sessionStorage.setItem("workflowOnLoadDesignView",this.workflow)}catch(e){}i.trackEvent(this.analyticsEvents.shownWorkflow,{app:e,projectId:this.projectId,workflow:this.workflow},"editor:"+e),this.$el.find(".fb-cover-img").css({"background-image":"url("+this.imageUrl+")"});r.getProfileImage({scopes:"public_profile",doLogin:!1}).then(function(e){this.$el.find(".fb-profile-img").append('<img src = "'+e+'" class = "facebook-profile-image" />')}.bind(this)).done()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="confirm-overlay">\n    <div class="confirm-view-bg mrvl-overlay-overlay-bg"></div>\n    <div class="confirm-view-shell mrvl-overlay-shell wk-overlay-shell fb-upload-cover-design-shell" data-auto="fbo-upload-design">\n        <h2 class="dialog-title" data-auto="fb-upload-cover-design-dialog-title">Your cover photo looks great!</h2>\n        <div class="confirm-view-content-shell mrvl-overlay-content-shell">\n            <div class="confirm-main-content">\n                <div class="confirm-view-content mrvl-overlay-content dialog-subtitle">\n                    <p>We will need permission to post to your Facebook page.</p>\n                </div>\n\n                <div class="fb-cover-img"><div class="fb-profile-img"></div></div>\n\n                <div class="mrvl-dlg-btn-acts">\n                    <a href = "#" class="wk-post-to fb-post-to-profile confirm-btn" data-auto="fb-post-to-profile" target = "_blank">Post to my profile</a>\n                </div>\n            </div>\n        </div>\n        <button class="confirm-view-close-btn x-close-btn">X</button>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(4),i(872),i(232),i(505)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return a.extend({cachename:"facebookUploadDesigntoPage",analyticsEvents:{dismissWorkflow:"dismissFacebookPageUpload",shownWorkflow:"shownFacebookPageUpload",uploadedDesign:"uploadedDesignToFacebookPage",uploadedDesignProfile:"uploadedDesignToFacebookProfile",clickedPostProfile:"clickedViewDesignOnFacebookProfile",clickedViewPostPage:"clickedViewDesignOnFacebookPage",clickedHowToBoostPost:"clickedHowToBoostFacebookPostLink",downloadedDesign:"downloadedDesignFacebookPageUpload"},facebookAccounts:[],handlePostProfile:function(t){var i=e(t.currentTarget),r=this.app.getAppTypeID();if(this.isPosting)return t.preventDefault(),t.stopImmediatePropagation(),!1;if(this.canViewPost)return n.trackLink(this.analyticsEvents.clickedPostProfile,{app:r,facebookPostId:this.postId,projectId:this.projectId,workflow:this.workflow},r+":editor"),setTimeout(function(){this.canViewPost=!1,i.text("Post to Facebook"),i.attr("data-auto","fb-post-to")}.bind(this),500),!0;t.preventDefault(),t.stopImmediatePropagation(),this.isPosting=!0;o.init(),i.text("Preparing to Publish ... Please wait"),o.uploadPhoto({scopes:"publish_actions",doLogin:!0},this.imageUrl).then(function(e){this.isPosting=!1,this.canViewPost=!0,this.postId=e,n.trackEvent(this.analyticsEvents.uploadedDesignProfile,{app:r,facebookPostId:e,workflow:this.workflow,projectId:this.projectId},r+":editor"),i.attr("href","https://facebook.com/"+e),i.text("Posted! Click to view post on Facebook"),i.attr("data-auto","fb-view-profile")}.bind(this),function(e){this.isPosting=!1,marvel.logger.error("could not upload file "+this.imageUrl+" to Facebook",e),alert("We could not upload the photo to your Facebook profile. Make sure you authorize the app."),setTimeout(function(){i.text("Post to my profile")}.bind(this),1e3)}.bind(this)).done()},handlePostTo:function(t){var i=e(t.currentTarget),r=this.app.getAppTypeID();if(this.postToProfile)return this.handlePostProfile(t);var a=e(".facebook-accounts-dd-list").val();if(!a||a.length<1)return alert("Please select a Page from the drop down menu."),!1;if(this.isPosting)return t.preventDefault(),t.stopImmediatePropagation(),!1;if(this.canViewPost)return n.trackLink(this.analyticsEvents.clickedViewPostPage,{app:r,facebookPostId:this.postId,facebookPageId:a,projectId:this.projectId,workflow:this.workflow},r+":editor"),n.setCurrentProjectId(this.projectId),n.trackEvent("Sharing Action",{contextData:["projectId"],eventAction:"Social Shares",type:"Facebook"},"publish:share"),setTimeout(function(){this.canViewPost=!1,i.text("Post to Facebook Page"),i.attr("data-auto","fb-post-to")}.bind(this),500),!0;if(t.preventDefault(),t.stopImmediatePropagation(),!this.imageUrl)return alert("No image to upload."),!1;this.isPosting=!0;o.init(),i.text("Preparing to Publish ... Please wait");var s=this.$el.find(".fb-ad-caption").val();o.uploadPhotoPage({scopes:"manage_pages,publish_pages",doLogin:!0},this.imageUrl,s,a).then(function(e){i.attr("href","https://facebook.com/"+a),i.text("Posted! Click to view post"),i.attr("data-auto","fb-view-page"),n.trackEvent(this.analyticsEvents.uploadedDesign,{app:r,facebookPostId:e,facebookPageId:a,projectId:this.projectId},r+":editor"),n.setCurrentProjectId(this.projectId),n.trackEvent("Sharing Action",{contextData:["projectId"],eventAction:"Social Shares",type:"Facebook"},"publish:share"),this.postId=e,this.isPosting=!1,this.canViewPost=!0}.bind(this),function(e){this.isPosting=!1,this.canViewPost=!1,marvel.logger.error("could not upload file "+this.imageUrl+" to Facebook",e),alert("We were not able to post your design to Facebook. Please make sure you have permission to the Page to do so"),setTimeout(function(){i.text("Post to Facebook Page")}.bind(this),500)}.bind(this)).done()},handleAuthenticate:function(e){e.preventDefault(),this.showAccountsList(!0)},showAccountsList:function(e){var t=this.app.getAppTypeID(),i={scopes:"manage_pages,publish_pages,publish_actions,public_profile",doLogin:e=e||!1};o.getAccounts(i).then(function(e){this.shell$.removeClass("showing-waiter");var r=!1;e.forEach(function(e){e.can_post&&(this.facebookAccounts.push({id:e.id,name:e.name,picture:e.picture&&e.picture.data&&e.picture.data.url?e.picture.data.url:null}),r=!0,this.$el.find(".facebook-accounts-dd-list").append('<option value = "'+e.id+'">'+e.name+"</option>"))}.bind(this)),r?(e[0].picture&&e[0].picture.data&&e[0].picture.data.url&&this.profileImg$.css({"background-image":"url("+e[0].picture.data.url+")"}),this.postToProfile=!1,this.hasAccounts$.removeClass("hide"),this.noAccounts$.addClass("hide"),this.businessName$.text(e[0].name),this.notAuthenticatedBox$.addClass("hide"),this.authenticatedBox$.removeClass("hide"),this.shell$.addClass("authenticated")):(this.postToProfile=!0,o.getMe(i).then(function(e){this.businessName$.text(e.first_name)}.bind(this)).done(),o.getProfileImage(i).then(function(e){this.profileImg$.css({"background-image":"url("+e+")"})}.bind(this)).done(),this.hasAccounts$.addClass("hide"),this.noAccounts$.removeClass("hide"),this.notAuthenticatedBox$.addClass("hide"),this.authenticatedBox$.removeClass("hide"),this.shell$.addClass("authenticated")),n.trackEvent(this.analyticsEvents.shownWorkflow,{app:t,projectId:this.projectId,numAccounts:e.length,workflow:this.workflow},t+":editor")}.bind(this),function(e){this.shell$.removeClass("showing-waiter"),this.shell$.addClass("unauthenticated"),this.notAuthenticatedBox$.removeClass("hide"),this.authenticatedBox$.addClass("hide")}.bind(this))},render:function(){var t=this.app.getAppTypeID();this.$el.empty(),this.$el.html(r.toString());try{window.sessionStorage&&window.sessionStorage.setItem("workflowOnLoadDesignView",this.workflow)}catch(e){}this.notAuthenticatedBox$=this.$el.find(".not-authenticated-option"),this.authenticatedBox$=this.$el.find(".authenticated-option"),this.shell$=this.$el.find(".wk-overlay-shell"),this.businessName$=this.$el.find(".fb-page-business-name-text"),this.profileImg$=this.$el.find(".fb-ad-profile-img"),this.shell$.addClass("showing-waiter"),this.hasAccounts$=this.$el.find(".has-accounts-option"),this.noAccounts$=this.$el.find(".no-accounts-option"),this.$el.find(".wk-download-link").attr("href",this.imageUrl),this.$el.find(".wk-download-link").removeClass("hide"),this.$el.find(".upload-wk-img").css({"background-image":"url("+this.imageUrl+")"}),this.showAccountsList(),e(".facebook-accounts-dd-list").on("change",function(t){var i=e(".facebook-accounts-dd-list :selected"),n=i.val();this.businessName$.text(i.text()),this.facebookAccounts.forEach(function(e){e.id==n&&e.picture&&e.picture.length&&this.profileImg$.css({"background-image":"url("+e.picture+")"})}.bind(this)),this.postToProfile?setTimeout(function(){this.canViewPost=!1,this.isPosting=!1,this.$el.find(".fb-post-to").text("Post to Facebook"),this.$el.find(".fb-post-to").attr("data-auto","fb-post-to")}.bind(this),500):setTimeout(function(){this.canViewPost=!1,this.isPosting=!1,this.$el.find(".fb-post-to").text("Post to Facebook Page"),this.$el.find(".fb-post-to").attr("data-auto","fb-post-to")}.bind(this),500)}.bind(this)),this.$el.find(".learn-how-to-boost-post-link").on("click",function(e){n.trackLink(this.analyticsEvents.clickedHowToBoostPost,{workflow:this.workflow},t+":editor")}.bind(this))},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="confirm-overlay fb-ad-upload-overlay">\n    <div class="confirm-view-bg mrvl-overlay-overlay-bg"></div>\n    <div class="confirm-view-shell mrvl-overlay-shell wk-overlay-shell fb-ad-upload-overlay-shell" data-auto="fb-ad-upload-overlay-shell">\n        <h4 class="dialog-title fb-ad-title authenticated-option hide">Your holiday design looks great! Let\'s post it to Facebook</h4>\n        <div class="confirm-view-content-shell mrvl-overlay-content-shell fb-ad-upload-overlay-content-shell">\n            <div class="confirm-main-content fb-upload-ad-main-content">\n                <div class="confirm-view-content mrvl-overlay-content fb-ad-upload-overlay-content">\n                    <div class="wait-spinner" data-auto="wait-spinner"></div>\n                    <div class="not-authenticated-option hide">\n                        <h2 class="dialog-title fb-ad-unauthenticated">To make your Facebook Page shine,<br />we need your consent to post to your Facebook page.</h2>\n\n                        <div class="upload-fb-img-box unauthenticated">\n                            <div class="upload-wk-img upload-fb-ad-img unauthenticated"></div>\n                        </div>\n\n                        <p class="fb-authenticate-text ad-flow">We\'ll never post anything without confirming with you first.</p>\n\n                        <div class="mrvl-dlg-btn-acts">\n                            <a href = "#" target="_blank" class="wk-authenticate confirm-btn facebook not-authenticated-option" data-auto="fb-authenticate">Connect with Facebook</a>\n                        </div>\n                    </div>\n\n                    <div class="authenticated-option hide">\n                        <div class="left">\n                            <div class="fb-accounts-list-box has-accounts-option">\n                                <p class="dialog-subtitle fb-select-account-text">Select a Facebook Page you want to post to:</p>\n                                <div class="select-style">\n                                    <select class="facebook-accounts-dd-list"></select>\n                                </div>\n\n                                <textarea name="caption" class="fb-ad-caption" placeholder="Write a message to go with your post."></textarea>\n                            </div>\n\n                            <p class="no-accounts-box hide no-accounts-option">You have no Facebook Pages. The design you created will be posted to your Facebook profile when you click on the link below. We will first need permission to post to your Facebook page.</p>\n\n                            <div class="mrvl-dlg-btn-acts fb-ad-upload">\n                                <a href = "#" target="_blank" class="fb-ad-upload-post-to wk-post-to confirm-btn facebook authenticated-option fb-post-to hide" data-auto="fb-post-to">Post to Facebook</a>\n                                <a href = "#" class="fb-ad-download-link wk-download-link hide has-accounts-option" data-auto="fb-download"><img src="/images/download_with_bar.svg" /></a>\n                            </div>\n                        </div>\n\n                        <div class="right">\n                            <div class="fb-ad-profile-info">\n                                <div class="fb-ad-profile-img"></div>\n                                <div class="fb-page-business-name-text" data-auto="fb-page-business-name-text"></div>\n                            </div>\n\n                            <div class="fb-ad-with-image">\n                                <div class="upload-wk-img upload-fb-ad-img" data-auto="fb-ad-img-to-upload"></div>\n                                <div class="fb-ad-footer">\n                                    <div class="fb-ad-reach-text">106 people reacted</div>\n                                    <button class="fb-ad-boost-btn">Boost Post</button>\n                                </div>\n                            </div>\n                            <a href="https://www.facebook.com/business/help/547448218658012" target="_blank" class="wk-link with-caret has-accounts-option learn-how-to-boost-post-link">Learn how to boost your posts</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button class="confirm-view-close-btn x-close-btn">X</button>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(4),i(5),i(874),i(6),i(11),i(56),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u){"use strict";var h=new c({color:"blue",name:"NPSSurveyView"});return i.View.extend({el:".nps-footer-wrapper",WAIT_BEFORE_TRIGGER:{default:12e4,debug:2e4},WAIT_BEFORE_ENABLE:{default:6048e5,debug:6e4},WAIT_BEFORE_ASK_AGAIN:{default:7776e6,debug:3e5},npsFlag:"nps-sign-up",npsDebugFlag:"nps-debug",npsSubmitted:"nps-submit",npsSessionDismissed:"nps-session-dismissed",dismissCutoff:1,softLaunchPercentage:10,events:{"click .nps-score-btn":"handleScoreClick","click .nps-close-btn":"dismissNPSQuestion","click .nps-submit":"submitNPS"},initialize:function(){this.$el.html(u.mustacheRender(s)),this.$questionPanel=this.$el.find(".nps-question-panel"),this.$commentPanel=this.$el.find(".nps-comment-panel"),this.$npsComment=this.$commentPanel.find(".nps-score")},dismissNPSQuestion:function(){o.trackEvent("NPSQuestionDismiss",{contextString:this.app.registeredName},"nps:survey"),this.interval&&clearTimeout(this.interval),this._setDismissedFlag()<=this.dismissCutoff&&r.setUserFlag(this.npsFlag,Date.now()+this._getNPSAttibute(this.WAIT_BEFORE_ASK_AGAIN)).then(function(){this._resetDismissedFlag()}.bind(this)),this.hide()},_resetDismissedFlag:function(){try{if(!window.sessionStorage)return null;sessionStorage.setItem(this.npsSessionDismissed,0),r.setUserFlag(this.npsSessionDismissed,0)}catch(e){h.error("Error:NPS - Errored while resetting dismiss flag: ",e)}},_setDismissedFlag:function(){try{if(!window.sessionStorage)return null;var e=this._getDismissedFlag();return e++,sessionStorage.setItem(this.npsSessionDismissed,e),r.setUserFlag(this.npsSessionDismissed,e),e}catch(e){h.error("Error:NPS - Errored while setting dismiss flag: ",e)}},_getDismissedFlag:function(){return sessionStorage.getItem(this.npsSessionDismissed)||r.getFeature(this.npsSessionDismissed)||0},showNPSQuestion:function(e){var t=r.getFeature("nps-soft-launch"),i=r.getFeature(this.npsDebugFlag);t&&r.featuresLoaded().then(function(){var t=a.getProfile()||void 0;this.app=e,t&&t.userId&&(!a.isAutomatedTestUser()||i)&&this.checkNPSCriteria()}.bind(this))},checkNPSCriteria:function(){var e=r.getFeature(this.npsSubmitted);if(!e){var i=r.getFeature(this.npsFlag);Date.now()-i>this._getNPSAttibute(this.WAIT_BEFORE_ENABLE)&&!this.interval&&this._getDismissedFlag()<=this.dismissCutoff&&(this.interval=t.delay(this.show.bind(this),this._getNPSAttibute(this.WAIT_BEFORE_TRIGGER)))}e&&(Date.now()-e>this._getNPSAttibute(this.WAIT_BEFORE_ASK_AGAIN)&&r.setUserFlag(this.npsSubmitted,!1).then(function(){this.interval||(this.interval=t.delay(this.show.bind(this),this._getNPSAttibute(this.WAIT_BEFORE_TRIGGER)))}.bind(this)))},handleScoreClick:function(t){this.$scoreClicked&&this.$scoreClicked.removeClass("selected"),this.$scoreClicked=e(t.target),this.$scoreClicked.addClass("selected");var i=u.getString("nps-placeholder-label");this.$npsComment.attr("placeholder",i+this.$scoreClicked.text()),this.togglePanel()},togglePanel:function(){e(this.$commentPanel).removeClass("hide")},submitNPS:function(){this.hide();var e=n.defer(),t=this.$npsComment.val()||"",i=this.$scoreClicked.text();return a.isValid().then(function(){a.ajax({type:"POST",url:"/submitNPS",data:{score:i,comment:t.trim(),context:this.context},success:function(n,a,s){this._imsprofile=n,o.trackEvent("npsScoreSubmitted",{npsScore:i,npsComment:t.trim(),contextString:this.app.registeredName},"nps:survey"),r.setUserFlag(this.npsSubmitted,Date.now()).then(function(){e.resolve(n)}.bind(this))}.bind(this),error:function(t,i,n){e.reject({returnVal:t.responseText,status:i,httpStatus:t.status})}})}.bind(this),function(t){e.reject(t)}.bind(this)).done(),e.promise},_isInEditor:function(){return window.marvel._siteSection&&0===window.marvel._siteSection.indexOf("editor:")},show:function(){this._isInEditor()&&this._getDismissedFlag()<=this.dismissCutoff&&(this.context=window.marvel._siteSection,this.showing=!0,this.$el.removeClass("hide"),o.trackEvent("ShowNPSQuestion",{contextString:this.app.registeredName},"nps:survey"))},hide:function(){this.showing=!1,this.$el.addClass("hide"),this.$commentPanel.removeClass("hide"),this.$scoreClicked&&this.$scoreClicked.removeClass("selected"),this.interval=""},_getNPSAttibute:function(e){return r.getFeature(this.npsDebugFlag)?e.debug:e.default}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="nps-banner">\n    <button class="nps-close-btn"></button>\n    <div class="nps-header"><p class="mrvl-logo-nps" data-auto="brand-logo"></p></div>\n    <div class="nps-content">\n        <div class="nps-question-panel">\n            <div class="nps-question">\n            <h3>{{nps-question}}</h3>\n            </div>\n            <div class="nps-options">\n                <span class="left-label">{{nps-label-left}}</span>\n                <ul>\n                    <li><button class="nps-score-btn">0</button></li>\n                    <li><button class="nps-score-btn">1</button></li>\n                    <li><button class="nps-score-btn">2</button></li>\n                    <li><button class="nps-score-btn">3</button></li>\n                    <li><button class="nps-score-btn">4</button></li>\n                    <li><button class="nps-score-btn">5</button></li>\n                    <li><button class="nps-score-btn">6</button></li>\n                    <li><button class="nps-score-btn">7</button></li>\n                    <li><button class="nps-score-btn">8</button></li>\n                    <li><button class="nps-score-btn">9</button></li>\n                    <li><button class="nps-score-btn">10</button></li>\n                </ul>\n                <span class="right-label">{{nps-label-right}}</span>\n            </div>\n        </div>\n        <div class="nps-comment-panel hide">\n            <textarea class="nps-score"></textarea>\n            <button class="nps-submit">{{nps-submit-label}}</button>\n        </div>\n    <div class="nps-footer">\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(5),i(4),i(8),i(6),i(7),i(506),i(876)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";var d={body:{add:["pre-auth-no-header","cc-signin-view"],remove:["pre-auth-full-header"]},".mrvl-main-page":{add:["center-panel"]}};return i.View.extend({el:".cc-signin-overlay",ANALYTICS_CONTEXT:"loginPage",ANALYTICS_SIGNUP_CONTEXT:null,events:{"click .signUpWithAdobe":"handleAdobeSignUpClick","click .signInWithAdobeBtn":"handleAdobeSignInClick","click .signInWithFacebookBtn":"handleFBSignInClick","click .signInWithGoogleBtn":"handleGoogleSignInClick","click .signInWithEduBtn":"handleEduSignInClick"},handleAdobeSignUpClick:function(){return r.trackLink("clickedAdobeIDSignup",{context:this.ANALYTICS_SIGNUP_CONTEXT||this.ANALYTICS_CONTEXT},"auth:landing",function(){n.setLoginMethod("directEmail"),n.signUpWithAdobeId()}.bind(this)),!1},handleAdobeSignInClick:function(){return r.trackLink("clickedAdobeIDSignIn",{context:this.ANALYTICS_CONTEXT},"auth:landing",function(){n.setLoginMethod("adobeID"),n.forceSignIn("AdobeID,"+a.imsCommonScope)}.bind(this)),!1},handleFBSignInClick:function(){return r.trackLink("clickedFBSignIn",{context:this.ANALYTICS_CONTEXT},"auth:landing",function(){n.setLoginMethod("facebookID"),n.forceSignIn("facebook,update_profile.mrktPerm,"+a.imsCommonScope)}.bind(this)),!1},handleGoogleSignInClick:function(){return r.trackLink("clickedGoogleSignIn",{context:this.ANALYTICS_CONTEXT},"auth:landing",function(){n.setLoginMethod("googleID"),n.forceSignIn("Google,update_profile.mrktPerm,"+a.imsCommonScope)}.bind(this)),!1},handleEduSignInClick:function(){return r.trackLink("ClickedEDUSignin",{context:this.ANALYTICS_CONTEXT},"auth:landing",function(){n.setLoginMethod("adobeID:edu"),n.signInWithEduPage()}.bind(this)),!1},render:function(){this.pageBody$=e("body"),this.cssCache=l.setupAndCacheCss(d);var i=this.bgImage||new Image;i.src="/images/login-bg.jpg",i.onload=function(){var e="linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.2)),url("+i.src+")";t.delay(function(){this.$el.find(".cc-signin-bg-enhanced").css("background-image",e).addClass("show")}.bind(this),0)}.bind(this),this.bgImage=i;var n={};return s.hasUnauthenticatedFeature("allow-cta-preview-on-login-page")&&this._addLoginCtaPreview(n),this.$el.html(o.mustacheRender(c,n)),t.delay(function(){window._loginWithErrorMessage&&(this.$el.find(".cc-signin-error-message").html('There is a problem with your account, please <a href="https://adobespark.zendesk.com/hc/en-us/categories/202688167-Adobe-Spark" target="_new">contact support</a>.<br>'+window._loginWithErrorMessage).removeClass("hide"),window._loginWithErrorMessage=null),this.$el.find(".cc-signin-dialog").addClass("show")}.bind(this),0),this},_addLoginCtaPreview:function(e){var t=n.getRedirectURI(),i=t.indexOf("/sp/");if(-1!=i){var r,o,a,s,l=t.substring(i+"/sp/".length),c=l.split("/"),d=l.toLowerCase().split("/");switch(d[0]){case"visualbrowse":case"npw":case"design-remix":case"remix":case"remix-gallery":case"design":r=d[1],o=c[2],a="design"==d[0]}if(r&&o){if(-1===["page","post","video","refapp"].indexOf(r)){if("promo"!==r)return;if(s=c[2]||"other",-1===["favoriting","other"].indexOf(s))return}var u={assetType:r,isEdit:!1};s||(a?"new"!==o.toLowerCase()&&(u.isEdit=!0):("new"!==o.toLowerCase()&&("page"===r?u.assetThumbUrl="https://spark.adobe.com/page/"+o+"/embed.jpg":"post"===r&&(u.assetThumbUrl="https://spark.adobe.com/assets/"+o+"/cover?size=400")),u.assetThumbUrl&&("page"===r&&(u.showThumbFooter=!0),u.hasImage=!0))),s?(u.isPromo=!0,e.ctaPreview=u,e.promoType=s):(u.isEdit||(u.isCreate=!0),e.ctaPreview=u,e.ctaAssetType=u.assetType)}}},remove:function(){return l.restoreCss(this.cssCache),this.cssCache=null,this.$el.empty(),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="cc-signin-bg-container">\n    <div class="cc-signin-bg mrvl-splash-bg"></div>\n    <img src="/images/login-bg-thumb.jpg"></img>\n    <div class="cc-signin-bg-enhanced mrvl-splash-bg"></div>\n</div>\n<div class="cc-signin-container" data-auto="login-container">\n    <div class="cc-signin-dialog {{#ctaPreview}}{{#hasImage}} has-cta-preview-image{{/hasImage}}{{^hasImage}}has-cta-preview-no-image{{/hasImage}}{{/ctaPreview}}">\n        <div class="cc-signin-dialog-container">\n\n            <a href="/about"><img class="cc-signin-site-logo" src="/images/SP_color@2x.svg"></a>\n            <h1 class="cc-signin-title">{{signin-dialog-welcome}}</h1>\n            {{#ctaPreview}}\n            <div class="cc-signin-dialog-cta-preview cc-signin-dialog-content-type-{{assetType}}{{#showThumbFooter}} show-thumb-footer{{/showThumbFooter}}">\n                {{#isCreate}}\n                <h2 class="cc-signin-dialog-cta-preview-h2">{{#fm}}signin-dialog-get-ready-to-create{{/fm}}</h2>\n                {{/isCreate}}\n                {{#isEdit}}\n                <h2 class="cc-signin-dialog-cta-preview-h2">{{#fm}}signin-dialog-get-ready-to-edit{{/fm}}</h2>\n                {{/isEdit}}\n                {{#isPromo}}\n                <h2 class="cc-signin-dialog-cta-preview-h2">{{#fm}}signin-dialog-get-ready-to-promo{{/fm}}</h2>\n                {{/isPromo}}\n                {{#hasImage}}\n                <div class="cc-signin-dialog-cta-preview-image" style="background-image:url(\'{{assetThumbUrl}}\')">\n                    <div class="cc-signin-dialog-cta-preview-image-icon"></div>\n                </div>\n                {{/hasImage}}\n            </div>\n            {{/ctaPreview}}\n            <div class="cc-signin-error-message hide"></div>\n\n            <div class="cc-signin-buttons">\n                <div class="cc-signin-dialog-col">\n                    <p><button type="button" class="signInWithGoogleBtn" data-auto="signInWithGoogleBtn">{{signin-dialog-google-button}}</button></p>\n                    <p><button type="button" class="signInWithFacebookBtn" data-auto="signInWithFacebookBtn">{{signin-dialog-facebook-button}}</button></p>\n                    <p><button type="button" class="signUpWithAdobe signUpWithAdobeBtn" data-auto="signUpWithAdobeBtn">{{signin-dialog-email-button}}</button></p>\n                    <p><button type="button" class="ctaSignInSignUpLink signInWithAdobeBtn" data-auto="signInWithAdobeBtn">{{signin-dialog-adobeid-button}}</button></p>\n                </div>\n                <div class="cc-signin-dialog-col"></div>\n                <div class="cc-signin-dialog-col">\n                    <h4>{{signin-dialog-edu-title}}</h4>\n                    <p><button type="button" class="signInWithEdu signInWithEduBtn" data-auto="signInWithEduBtn">{{signin-dialog-edu-button}}</button></p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <p><a href = "/about" class="cc-signin-about-link">{{signin-dialog-what-is-spark}}</a></p>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(7),i(47)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(i.Model.extend({initialize:function(){this.deferredTrigger=n.defer(),o.isLoadedAndConsented().then(function(){this.onPrivacyConsentAccepted()}.bind(this)).done()},triggerCCPaidConfirmationTag:function(){r.featuresLoaded().then(function(){if(r.hasFeature("is-paid-user")&&!r.hasFeature("cc-paid-confirmation-tag-triggered"))return r.setUserFlag("cc-paid-confirmation-tag-triggered",!0).then(function(){this.deferredTrigger.promise.then(function(){var t=1e13*(Math.random()+"");e("body").append('<iframe src="https://1295336.fls.doubleclick.net/activityi;src=1295336;type=adobe000;cat=cc_pa00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord='+t+'?" width="1" height="1" frameborder="0" style="display:none"></iframe>')}).done()}.bind(this))}.bind(this)).done()},triggerCCPaidLandingPageTag:function(){this._ccPaidLandingPageTagTriggered||(this._ccPaidLandingPageTagTriggered=!0,this.deferredTrigger.promise.then(function(){var t=1e13*(Math.random()+"");e("body").append('<iframe src="https://1295336.fls.doubleclick.net/activityi;src=1295336;type=adobe000;cat=cc_pa0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord='+t+'?" width="1" height="1" frameborder="0" style="display:none"></iframe>')}).done())},onPrivacyConsentAccepted:function(){this.deferredTrigger.resolve()}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(7),i(5),i(4),i(879),i(883),i(15),i(17)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return i.View.extend({workflow:"facebook-holiday-ad-design",defaultAnalytics:{shownSelectRemixFlow:"shownSelectRemixWorkflow"},events:{"click .x-close-btn":"handleCancel"},initialize:function(){marvel.events.on("selected-remix-design",this.hidePage.bind(this))},handleKeyup:function(e){e.keyCode===l.DOM_VK_ESCAPE&&this.hidePage()},hidePage:function(t){this.$el.addClass("hide"),e("body").removeClass("white-bg"),e(".mrvl-main-page").removeClass("hide"),o.removeContextData("workflow"),o.resetWorkflow(),marvel.events.off("selected-remix-design",this.hidePage.bind(this))},handleCancel:function(e){e.preventDefault(),this.hidePage(),window.marvel.navigate("projects",{trigger:!0})},render:function(){var t=this.model.get("analytics"),i=this.defaultAnalytics.shownSelectRemixFlow;return t&&t.shownSelectRemixFlow&&(i=t.shownSelectRemixFlow),this.$el.empty(),e(".mrvl-main-page").addClass("hide"),this.$el.removeClass("hide"),e("body").addClass("white-bg"),r.isValid().then(function(){n.featuresLoaded().then(function(){this.$el.html(c.render(s,{title:this.model.get("title"),subtitle:this.model.get("subtitle")})),o.addContextData({workflow:this.model.get("workflow")}),o.trackEvent(i,{workflow:this.model.get("workflow")},"onboarding:"+this.model.get("workflow")),this.remixView||(this.remixView=new a({category:this.model.get("category"),workflow:this.model.get("workflow"),layout:this.model.get("layout"),analytics:this.model.get("analytics")})),this.remixView.setElement(".remix-shell"),this.remixView.render()}.bind(this)).done()}.bind(this)).done(),this},remove:function(){marvel.events.off("selected-remix-design",this.hidePage.bind(this)),this.$el.addClass("hide"),e("body").removeClass("white-bg"),e(".mrvl-main-page").removeClass("hide")}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(7),i(4),i(880),i(882),i(103)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return i.View.extend({initialize:function(e){e&&e.app&&(this.app=e.app),e&&e.category&&(this.category=e.category),e&&e.workflow&&(this.workflow=e.workflow),e&&e.layout&&(this.layout=e.layout),e&&e.analytics&&(this.analytics=e.analytics)},createOption:function(e){var t=new i.Model(e);return e.viewObj=new o({model:t,workflow:this.workflow,analytics:this.analytics}),e.viewObj.$el},render:function(){return n.featuresLoaded().then(function(){this.$el.html(a.toString()),s.getCategoryFavorites(this.category).then(function(e){this.list$=this.$el.find(".remix-list"),this.list$.addClass("layout-3-up"),"featured_3up"!=this.layout&&this.$el.find(".featured-remix-list").addClass("hide"),t.each(e,function(e,t){e.image=e.thumbMedURI,"featured_3up"==this.layout?0===t?(e.image=e.imageURI,this.$el.find(".remix-1").append(this.createOption(e)),this.$el.find(".remix-1").addClass("p_65")):t<3?(this.$el.find(".remix-"+(t+1)).append(this.createOption(e)),this.$el.find(".remix-2-3").addClass("p_35")):this.list$.append(this.createOption(e)):(this.layout,this.list$.append(this.createOption(e)))}.bind(this))}.bind(this))}.bind(this)),this}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(5),i(7),i(4),i(881)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return i.View.extend({tagName:"article",className:"remix-option",events:{"click .remix-thumb":"handleRemix"},initialize:function(e){this.workflow=null,e&&e.workflow&&(this.workflow=e.workflow),e&&e.analytics&&(this.analytics=e.analytics),this.render()},handleRemix:function(e){e.preventDefault(),r.featuresLoaded().then(function(){window.marvel.events.trigger("selected-remix-design");var e=this.analytics&&this.analytics.selectedRemixDesign||"selectedRemixDesign";if("theo"==this.model.get("type")){var t=this.workflow?"/"+this.workflow:"";marvel.navigate("#remix-gallery/post/"+this.model.get("alias")+t,{trigger:!0})}o.addContextData({workflow:this.workflow}),o.trackEvent(e,{workflow:this.workflow,alias:this.model.get("alias"),app:this.model.get("type"),context:"share"},"onboarding:"+this.workflow)}.bind(this)).done()},render:function(){return this.$el.html(a.toString()),this.$el.addClass("thumb"),this.thumb$=this.$el.find(".remix-thumb-img"),this.label$=this.$el.find(".remix-label"),this.thumb$.html('<img src = "'+this.model.get("image")+'" class="remix-img" />'),this.label$.text(this.model.get("title")),this}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports="<div class='remix-thumb'>\n    <div class='remix-thumb-img'></div>\n    <div class='remix-thumb-hover-menu'>\n        <button class=\"sprk-btn confirm-btn\">Remix the design</button>\n    </div>\n</div>\n"},function(e,t){e.exports='<div class="remix-grid">\n    <div class="featured-remix-list">\n        <div class="box remix-1"></div>\n        <div class="box remix-2-3">\n            <div class="box remix-2"></div>\n            <div class="box remix-3"></div>\n        </div>\n    </div>\n    <div class="remix-list"></div>\n</div>\n\n'},function(e,t){e.exports='<div class="lg-dialog-container" data-auto="mrkt-container">\n    <div class="lg-dialog">\n        <div class=lg-dialog-inner">\n            <div class ="dialog-header">\n                <h1 class="dialog-title">{{title}}</h1>\n                <h2 class="dialog-subtitle">{{subtitle}}</h2>\n            </div>\n\n            <div id="remix-shell" class="remix-shell"></div>\n        </div>\n    </div>\n    <button class="lg-dialog-close-btn x-close-btn">X</button>\n</div>\n'},function(e,t){e.exports='<div class="takeover-banner">\n    {{^closeBtnIsHidden}}\n        <button class="takeover-dismiss-btn"></button>\n    {{/closeBtnIsHidden}}\n    <div class="takeover-section">\n        {{#image}}<div class="takeover-logo" style="background-image: url(\'{{image}}\')"></div>{{/image}}\n        <div class="takeover-content" style="text-align:{{#image}}left{{/image}}{{^image}}center{{/image}};{{^image}}width: 500px;{{/image}};">\n            {{#title}}<div class="takeover-primary-text" style="text-align:{{#image}}left{{/image}}{{^image}}center{{/image}};">{{title}}</div>{{/title}}\n            {{#subtitle}}<div class="takeover-secondary-text" style="text-align:{{#image}}left{{/image}}{{^image}}center{{/image}};">{{subtitle}}</div>{{/subtitle}}\n            <div class="takeover-btns" style="{{^image}}margin: 20px auto; text-align: center;{{/image}};">\n                {{#primaryButtonTitle}}<button class="takeover-primary-btn">{{primaryButtonTitle}}</button>{{/primaryButtonTitle}}\n                {{#secondaryButtonTitle}}<button class="takeover-secondary-btn">{{secondaryButtonTitle}}</button> {{/secondaryButtonTitle}}\n            </div>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="takeover-banner takeover-banner-multi-col">\n    {{^closeBtnIsHidden}}\n    <button class="takeover-dismiss-btn"></button>\n    {{/closeBtnIsHidden}}\n    <div class="takeover-section">\n        <div class="takeover-content">\n            <a href="{{link_1}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_1}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_1}}" target="_blank">{{title_1}}</a></p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_2}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_2}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_2}}" target="_blank">{{title_2}}</a></p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_3}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_3}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_3}}" target="_blank">{{title_3}}</a></p>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="takeover-banner takeover-banner-multi-col-with-cta">\n    {{^closeBtnIsHidden}}\n        <button class="takeover-dismiss-btn"></button>\n    {{/closeBtnIsHidden}}\n    <div class="takeover-section">\n        <div class="takeover-content">\n            <a href="{{link_1}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_1}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_1}}" target="_blank">{{title_1}}</a></p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_2}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_2}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_2}}" target="_blank">{{title_2}}</a></p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_3}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_3}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_3}}" target="_blank">{{title_3}}</a></p>\n        </div>\n\n        <div class="takeover-content takeover-cta-content">\n            {{#title}}<div class="takeover-primary-text">{{title}}</div>{{/title}}\n            {{#subtitle}}<div class="takeover-secondary-text">{{subtitle}}</div>{{/subtitle}}\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="takeover-banner takeover-banner-multi-col takeover-banner-multi-col-with-explainer">\n    {{^closeBtnIsHidden}}\n        <button class="takeover-dismiss-btn"></button>\n    {{/closeBtnIsHidden}}\n    <div class="takeover-section">\n        <div class="takeover-content">\n            <p class="takeover-explainer-text">{{explainer}}</p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_1}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_1}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_1}}" target="_blank">{{title_1}}</a></p>\n        </div>\n        <div class="takeover-content">\n            <a href="{{link_2}}" target="_blank">\n                <div class="takeover-col-image" style="background-image: url(\'{{image_2}}\');"></div>\n            </a>\n            <p class="takeover-subtext"><a href="{{link_2}}" target="_blank">{{title_2}}</a></p>\n        </div>\n    </div>\n</div>\n\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(506),i(53),i(889),i(893),i(508)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";var d={body:{add:["creative-high"]}};return i.View.extend({events:{"click .max-yearbook-day-dropdown-btn":"_handleDayDropdownBtn","click .max-yearbook-day-dropdown-option":"_handleDayDropdownOption"},initialize:function(){t.bindAll(this,t.functionsIn(this)),this.model||(this.model=new i.Model),this.selectedDate=s.maxDates[0],this.model.set("dayDropdownData",s.getDropdownData())},render:function(){return this._setUpPlatform(),this.$el.html(r.to_html(l,this.model.toJSON())),this.cssCache=o.setupAndCacheCss(d),this.dayDropdownBtn$=this.$el.find(".max-yearbook-day-dropdown-btn"),this.dayDropdownContent$=this.$el.find(".max-yearbook-day-dropdown-content"),this.dayDropdownOptions$=this.$el.find(".max-yearbook-day-dropdown-option"),this.loading$=this.$el.find(".loading-section"),this.templatesView$=this.$el.find(".templates-section"),this._templatesView=s.getTemplatesView(this.templatesView$),this._renderTemplatesView(),this},remove:function(){o.restoreCss(this.cssCache),this.cssCache=null,this._templatesView.remove(),this.$el.empty()},_renderTemplatesView:function(){s.getTemplatesForDate(this.selectedDate).then(function(e){this._templatesView.model.set("assets",e),this._templatesView.render(),this.loading$.hide(),this.templatesView$.show()}.bind(this),function(e){marvel.logger.error("no assets for date"+this.selectedDate,e),this._templatesView.model.set("assets",null),this._templatesView.render(),this.loading$.hide(),this.templatesView$.show()}.bind(this))},_handleDayDropdownBtn:function(){this.dayDropdownContent$.slideToggle(200),this.dayDropdownBtn$.toggleClass("active")},_handleDayDropdownOption:function(i){var n=e(i.target),r=n.data("day"),o=n.data("date");t.delay(function(){this.dayDropdownBtn$.text("Day "+r),this.dayDropdownContent$.slideToggle(200),this.dayDropdownBtn$.toggleClass("active")}.bind(this),100),o!=this.selectedDate&&(this.selectedDate=o,this._renderTemplatesView())},_setUpPlatform:function(){var e=a.getPlatformInfo();this.model.set("platformInfo",e)}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(6),i(597),i(890)],void 0===(r=function(e,t,i,n,r,o){"use strict";return new(t.Model.extend({_templatesByDate:{},_dayDropdownData:[],initialize:function(){this.maxDates=["2018-10-15","2018-10-16","2018-10-17"],this.cpTag="actmax",this.cpSort="date_desc",e.each(this.maxDates,function(t){this._templatesByDate[t]={date:this._getDateObject(t),assets:[]};var i=e.indexOf(this.maxDates,t)+1;this._dayDropdownData.push({date:t,day:i})}.bind(this))},getDropdownData:function(){return this._dayDropdownData},getTemplatesForDate:function(t){var n=i.defer();return this._allTemplatesLoaded().then(function(){var i=this._templatesByDate[t];e.isEmpty(i.assets)?n.reject(new Error("no templates available for date "+t)):n.resolve(i.assets)}.bind(this),function(e){n.reject(e)}.bind(this)).done(),n.promise},getTemplatesView:function(e){return this._templatesView||(this._templatesView=new o({el:e}),this._fetchTemplatesByTag({tag:this.cpTag,sort:this.cpSort})),this._templatesView},_allTemplatesLoaded:function(){return this._allTemplatesLoadedDefer||(this._allTemplatesLoadedDefer=i.defer()),this._allTemplatesLoadedDefer.promise},_fetchTemplatesByTag:function(t){this._allTemplatesLoadedDefer=this._allTemplatesLoadedDefer||i.defer(),r.fetchByTag(t).then(function(i){var n,r=i.assets,o=i._links.next?i._links.next.href:null;if(!e.isEmpty(r)&&(this._saveCpAssets(r),n=e.last(r),this._shouldGetMoreTemplates(n.published)&&o))return t.next=o,void this._fetchTemplatesByTag(t);this._allTemplatesLoadedDefer.resolve()}.bind(this),function(e){this._allTemplatesLoadedDefer.reject(new Error("no template assets for CP options "+JSON.stringify(t)))}.bind(this))},_saveCpAssets:function(t){e.each(t,function(t){if(t.published=this._getPDTDateString(t.published),e.indexOf(this.maxDates,t.published)>=0){var i=this._templatesByDate[t.published];this._templatesView.prepareAssetForGrid(t),i.assets.push(t)}}.bind(this))},_getDateObject:function(e){var t=e.split("-");return 3!==t.length?null:new Date(Date.UTC(t[0],t[1]-1,t[2]))},_getPDTDateString:function(e){var t=new Date(e),i=t.getUTCHours();return t.setUTCHours(i-7),t.toJSON().split("T")[0]},_shouldGetMoreTemplates:function(t){var i=e.head(this.maxDates),n=e.last(this.maxDates),r=this._templatesByDate[i].date,o=this._templatesByDate[n].date,a=this._getDateObject(t);return a-o>0||a-r>=0}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(53),i(891),i(508)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";return i.View.extend({events:{"click .template-image-overlay-edit-template":"_handleEditTemplate","click .template-image-overlay-download":"_handleDownloadTemplate"},gridItemSize:294,initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model||(this.model=new i.Model),t.isArray(this.model.get("assets"))||this.model.set("assets",[]),this._platformInfo=o.getPlatformInfo()},render:function(){this.$el.html(r.to_html(a,this.model.toJSON()))},prepareAssetForGrid:function(e){var t=e.templatedImgHref;t&&(t=(t=t.replace("{format}","jpg")).replace("{dimension}","width"),e.downloadLink=t.replace("{size}",e.width),e.backgroundImage=t.replace("{size}",this.gridItemSize))},remove:function(){this.$el.empty()},_handleEditTemplate:function(t){var i,n=e(t.target).data("id");i=this._platformInfo.desktop?"https://spark.adobe.com/sp/remix/post/"+n:"https://spark.adobe.com/post/"+n,window.open(i,"_blank")},_handleDownloadTemplate:function(t){!function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){var e=(window.URL||window.webkitURL).createObjectURL(this.response),i=document.createElement("a");i.href=e,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)},i.send()}(e(t.target).data("link"),"CreativeHighYearbookPhoto")}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='{{^assets}}\n    <div class="error animateOpacity">No templates at this time. Try again later!</div>\n{{/assets}}\n{{#assets}}\n    {{#id}}\n        <div class="template-item animateOpacity">\n            <div class="template-image" style="background-image:url({{backgroundImage}})">\n                <div class="template-image-overlay">\n                    <div class="template-image-overlay-circle">\n                        <div class="template-image-overlay-download" data-link={{downloadLink}}></div>\n                    </div>\n                    <div class="template-image-overlay-edit-template" data-id={{id}}>Edit this template</div>\n                </div>\n            </div>\n        </div>\n    {{/id}}\n{{/assets}}\n'},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,'body.creative-high{min-width:auto}.max-yearbook-page{background-color:#fff;background-image:url(/images/max-yearbook/background_stars@2x.png);background-size:100% auto;position:absolute;min-height:100%;width:100%}@media (max-width:1023px){.max-yearbook-page{background-size:auto}}.max-yearbook-page .max-yearbook-hero-holder{width:100%;position:relative}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-sp-image{margin:0 auto 38px;display:block;max-width:80px;padding-top:80px}@media (max-width:767px){.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-sp-image{margin-bottom:20px}}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-creative-image{width:582px;margin:0 auto;display:block;height:279.54px}@media (max-width:767px){.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-creative-image{width:90%;height:200px}}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-giveaway-description{color:#fff;font-family:adobe-clean,sans-serif;font-size:24px;line-height:32px;text-align:center;font-weight:400;margin:58px auto;padding:0 9%}@media (max-width:767px){.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-giveaway-description{font-size:20px;margin:30px auto}}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-giveaway-description .max-yearbook-giveaway-text{font-weight:inherit}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-giveaway-description .social-tag{color:#ffda00;font-weight:400}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-giveaway-description .rules-link{color:#42b9eb;font-weight:inherit;text-decoration:none}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-dropdown{position:relative;text-align:center;z-index:103;margin-top:30px}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-title{font-family:adobe-clean,sans-serif;cursor:pointer;display:inline-block;background-image:url(/images/btn_down.png);background-position:calc(100% - 20px) calc(50% + 2px);background-size:10px 6px;background-repeat:no-repeat;min-width:90px;height:44px;word-wrap:normal;padding-right:50px;margin:0;color:#fff;font-size:18px;font-weight:700;text-align:left;text-indent:20px;outline:none;border:2px solid #fff;border-radius:40px;line-height:40px;text-decoration:none;transition:background-color .5s}.max-yearbook-page .max-yearbook-hero-holder .active{background-color:#fff;color:#35414c}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-dropdown-content{position:absolute;z-index:400;left:50%;top:100%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:103;background-color:#fff;border-radius:5px;padding:5px 0;width:110px;display:block;text-align:left;margin-top:3px;display:none}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-dropdown-content .max-yearbook-day-dropdown-option{padding:0;cursor:pointer;width:100%;display:block;line-height:33px;background-size:20px 20px;background-position:10px;background-repeat:no-repeat;padding-left:16px;height:33px;font-size:1.15em;color:#35414c;font-weight:700;text-decoration:none}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-dropdown-content .max-yearbook-day-dropdown-option:hover{background-color:#f2f4f5}.max-yearbook-page .max-yearbook-hero-holder .max-yearbook-day-dropdown-content .max-yearbook-day-dropdown-option.selected{background-color:#fff;border-radius:3px;color:#35414c}.max-yearbook-page .loading-section{height:100%;margin:0 7%;max-width:1610px;-webkit-flex-wrap:wrap;flex-wrap:wrap}@media (max-width:767px){.max-yearbook-page .loading-section{margin-top:10px}}@-webkit-keyframes waveAnimate{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes waveAnimate{0%{background-position:-468px 0}to{background-position:468px 0}}.max-yearbook-page .loading-section .loading-item{display:-webkit-flex;display:flex;min-width:260px;max-width:294px;width:19%;min-height:260px;max-height:294px;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;align-items:center;margin:40px 14px;font-size:15px;text-align:center;font-weight:400;border-radius:4px;background:hsla(0,0%,100%,.25)}@media (max-width:767px){.max-yearbook-page .loading-section .loading-item{min-width:170px;min-height:170px;max-height:170px;margin:5px;margin-top:10px}}.max-yearbook-page .loading-section .loading-item.animated-background{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:waveAnimate;animation-name:waveAnimate;-webkit-animation-timing-function:cubic-bezier(.39,.575,.565,1);animation-timing-function:cubic-bezier(.39,.575,.565,1);background:linear-gradient(90deg,hsla(0,0%,100%,.1) 10%,transparent 18%,hsla(0,0%,100%,.1) 33%);background-size:800px 104px;height:100px;position:relative}.max-yearbook-page .templates-section{height:100%;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin:0 7%;max-width:1610px}@media (max-width:767px){.max-yearbook-page .templates-section{margin-top:10px}}.max-yearbook-page .templates-section .error{color:#fff;margin:7%;font-size:33px;font-weight:700}.max-yearbook-page .templates-section .template-item{display:-webkit-flex;display:flex;min-width:260px;max-width:294px;width:19%;min-height:260px;max-height:294px;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;align-items:center;margin:40px 14px;font-size:15px;text-align:center;font-weight:400;border-radius:4px}@media (max-width:767px){.max-yearbook-page .templates-section .template-item{min-width:170px;min-height:170px;max-height:170px;margin:5px;margin-top:10px}}.max-yearbook-page .templates-section .template-item:before{content:"";float:left;padding-top:100%}.max-yearbook-page .templates-section .template-item .template-image{display:inline-block;width:100%;height:100%;background-repeat:no-repeat;background-size:cover}.max-yearbook-page .templates-section .template-item .template-image:before{content:"";float:left;padding-top:100%}.max-yearbook-page .templates-section .template-item .template-image-overlay{display:inline-block;margin-top:0;content:"\\A";position:relative;width:100%;height:100%;background:rgba(0,0,0,.6);opacity:0;transition:all .4s}.max-yearbook-page .templates-section .template-item .template-image-overlay:before{content:"";float:left;padding-top:100%}.max-yearbook-page .templates-section .template-item .template-image-overlay:hover{opacity:1}.max-yearbook-page .templates-section .template-item .template-image-overlay .template-image-overlay-circle{margin:28% auto 18px;cursor:pointer;border-radius:50%;background:#fff;width:57px;height:57px}@media (max-width:767px){.max-yearbook-page .templates-section .template-item .template-image-overlay .template-image-overlay-circle{margin-top:20%}}.max-yearbook-page .templates-section .template-item .template-image-overlay .template-image-overlay-download{background-image:url(/images/max-yearbook/Download_32@1x.svg);background-size:24px 24px;background-repeat:no-repeat;background-position:50%;height:100%;width:100%}.max-yearbook-page .templates-section .template-item .template-image-overlay .template-image-overlay-edit-template{font-family:adobe-clean,sans-serif;background-color:#fff;cursor:pointer;display:inline-block;min-width:150px;height:39px;word-wrap:normal;margin:0;color:#35414c;font-size:15px;font-weight:700;text-align:center;border-radius:40px;line-height:39px;text-decoration:none}.max-yearbook-page .templates-section .animateOpacity{position:relative;-webkit-animation-name:animateOpacity;animation-name:animateOpacity;-webkit-animation-duration:1s;animation-duration:1s}@-webkit-keyframes animateOpacity{0%{opacity:0}to{opacity:1}}@keyframes animateOpacity{0%{opacity:0}to{opacity:1}}@media screen and (max-width:1339px){.max-yearbook-page div.loading-item:nth-last-child(-n+2){opacity:0}}@media screen and (max-width:1872px){.max-yearbook-page div.loading-item:nth-last-child(-n+1){opacity:0}}@media screen and (min-width:1920px){.max-yearbook-page .loading-section,.max-yearbook-page .templates-section{margin:0 auto}}',""])},function(e,t){e.exports='<div class="max-yearbook-page {{platformInfo.cssString}}">\n    <div class="max-yearbook-hero-holder">\n        <img class ="max-yearbook-sp-image" src=\'/images/max-yearbook/MAX_Sp@2x.png\'/>\n        <img class="max-yearbook-creative-image" src="/images/max-yearbook/CreativeHigh.png"/>\n        <div class="max-yearbook-giveaway-description">\n            <div class="max-yearbook-giveaway-text">Share your yearbook photo on the social network of your choice for a chance to win an all-access Masterclass Pass and a Creative Cloud subscription.</div>\n            <div class="max-yearbook-giveaway-text">Tag <span class="social-tag">@adobespark</span> and include <span class="social-tag">#creativehigh #adobemaxcontest</span> in your caption to be entered to win.</div>\n            <a class="rules-link" href="/pdfs/CREATIVEHIGHSWEEPSTAKES.pdf" target="_blank">Giveaway rules</a>\n        </div>\n        <div class="max-yearbook-day-dropdown max-yearbook-day-index-dropdown">\n            <div class="max-yearbook-day-title max-yearbook-day-dropdown-btn" data-auto="max-yearbook-day-title">Day 1</div>\n            <div class="max-yearbook-day-dropdown-content">\n                {{#dayDropdownData}}\n                    <div class="max-yearbook-day-dropdown-option" data-day={{day}} data-date={{date}}>Day {{day}}</div>\n                {{/dayDropdownData}}\n            </div>\n        </div>\n    </div>\n\n    <div class="loading-section flex-horizontal">\n        <div class="loading-item animated-background"></div>\n        <div class="loading-item animated-background"></div>\n        <div class="loading-item animated-background"></div>\n        <div class="loading-item animated-background"></div>\n        <div class="loading-item animated-background"></div>\n    </div>\n    <div class="templates-section flex-horizontal"></div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(3),i(1),i(7),i(4),i(262),i(11)],void 0===(r=function(e,t,i,n,r,o,a,s){"use strict";var l=new s({color:"red",name:"newsFeedController"});return new(n.View.extend({el:".appboy-news-feed",refreshReadyDefer:i.defer(),REFRESH_CARD_FREQUENCY:{debug:"3000",default:"60000"},newsFeedDebugFlag:"appboy-news-feed-debug",events:{"click .appboy-news-feed-icon":"_handleNFIconClick","click .appboy-news-feed-overlay":"_handleOverlayClick"},setup:function(){a.isReady().then(function(i){if(i){this._$header=e("body").find(".mrvl-header"),this._$newsFeedView=this.$el.find(".appboy-news-feed-view"),this._$newsFeedIcon=this.$el.find(".appboy-news-feed-icon"),this._$newsFeedOverlay=this.$el.find(".appboy-news-feed-overlay"),this._$header.addClass("newsfeed-enabled"),a.subscribeToNewsFeedUpdates(this._handleCardClick.bind(this));var n={defer:this.refreshReadyDefer,delayCheck:2e3};a.requestFeedRefresh(n),this.refresh=t.throttle(this._refreshCards.bind(this),this._getAttr(this.REFRESH_CARD_FREQUENCY)),this._interval||(this._interval=window.setInterval(this.refresh.bind(this),this._getAttr(this.REFRESH_CARD_FREQUENCY))),this._refreshCards(),t.defer(function(){this._$newsFeedIcon.removeClass("hide")}.bind(this))}else l.warn("[news-feed-view] appboy failed to initialize")}.bind(this),function(e){l.warn("[news-feed-view] appboy loading failed : "+e)}).done()},_getAttr:function(e){return e?!!r.getFeature(this.newsFeedDebugFlag)?e.debug:e.default:void l.warn("[news-feed-view] attribute object is empty, pass in a valid attribute to fetch")},_handleNFIconClick:function(e){"showing"===this._state?(this._state="hidden",this.$el.removeClass("newsfeed-showing").addClass("newsfeed-hidden"),this._$newsFeedOverlay.addClass("hide"),o.trackEvent("newsfeed:feedClosed",{},"organizer:newsfeed"),this._hideNewsFeed()):(this._state="showing",this.$el.removeClass("newsfeed-hidden").addClass("newsfeed-showing"),this._$newsFeedOverlay.removeClass("hide"),o.trackEvent("newsfeed:feedOpened",{},"organizer:newsfeed"),this._showNewsFeed(this._$newsFeedView))},_showNewsFeed:function(e){a.showNewsFeed(e)},_hideNewsFeed:function(){a.hideNewsFeed(),this.refresh()},_handleOverlayClick:function(e){this._handleNFIconClick(e)},_handleCardClick:function(e){var t={contextualData1:"card-id:"+(e&&e.id||"none"),contextualData2:"card-title:"+(e&&e.title||"none"),contextualData3:"card-url:"+(e&&e.url||"none")};return o.trackEvent("newsfeed:cardSelected",t,"organizer:newsfeed"),!1},_refreshCards:function(){this.refreshReadyDefer.promise.then(function(){a.getAsyncUnreadCardCount().then(function(e){e&&e>0?this._$newsFeedIcon.addClass("unread").removeClass("read"):("showing"!=this._state&&a.requestFeedRefresh(),this._$newsFeedIcon.addClass("read").removeClass("unread"))}.bind(this)).catch(function(e){l.error("[news-feed-view] Errored out while attempting to get unread card count -"+e)}).done()}.bind(this)).catch(function(e){l.error("[news-feed-view] Errored out while waiting on newsfeed refresh - "+e)}).done()}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(8),i(3),i(64),i(7)],void 0===(r=function(e,t,i,n,r,o,a){"use strict";return new(i.Model.extend({UPDATE_FREQUENCY:6e4,DISPLAY_SETTINGS_UPDATE_FREQUENCY:6e5,SITE_BUMPER_STRING:"__SITE__",DEFAULT_PREFIX:"bumper-default",initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._clearSettings()},enable:function(){this._updateLocationsFromServer(),this._intervalID=window.setInterval(this._updateLocationsFromServer,this.UPDATE_FREQUENCY)},disable:function(){this._clearSettings(),this._intervalID&&window.clearInterval(this._intervalID)},showAppBumper:function(e){var i=t.isObject(e)?e.registeredName:e;return a.hasFeature("test-app-bumper-"+i)||this._bumperedThisSession[i]},shouldRefreshApp:function(e){var i=t.isObject(e)?e.registeredName:e;return!a.hasFeature("test-app-bumper-"+i)&&this._bumperedThisSession[i]&&-1===this._settings.locations.indexOf(i)},getCurrentSettingsForApp:function(e,i){var n=t.isObject(e)?e.registeredName:e;return this._getCurrentSettingsForLocation(n,i)},getCurrentSettingsForSite:function(){return this._getCurrentSettingsForLocation(this.SITE_BUMPER_STRING,"Adobe Spark")},_getCurrentSettingsForLocation:function(e,t){var i=this._settings.displaySettings[e],n=!0;if(i)if(i.nextDisplay)n=Date.now()>=i.nextDisplay.loadTime;else if(i.updateDefer)return i.updateDefer;return n?this._updateSettingsForLocation(e,t):r(i)},showSiteBumper:function(){return this._bumperedThisSession[this.SITE_BUMPER_STRING]},shouldRefreshSite:function(){return this._bumperedThisSession[this.SITE_BUMPER_STRING]&&-1===this._settings.locations.indexOf(this.SITE_BUMPER_STRING)},_clearSettings:function(){this._settings={locations:[],displaySettings:{}},this._bumperedThisSession={}},_locationIsSite:function(e){return e===this.SITE_BUMPER_STRING},_makeStringKeysForLocationWithPrefix:function(e,t){var i=this._locationIsSite(e)?"-site":"-editor";return{title:(t=t||this.DEFAULT_PREFIX)+i+"-title",body:t+i+"-body"}},_updateSettingsDisplayNameAndLocalize:function(e,i){t.each(e,function(t,r){e[r]=n.formatMessage(t,{name:i})})},_doRefreshCheck:function(){if(this._showingBumperForLocation){var e=this._settings.displaySettings[this._showingBumperForLocation];e&&e.nextDisplay&&Date.now()>=e.nextDisplay.loadTime&&this._updateSettingsForLocation(this._showingBumperForLocation,e.nextDisplay.displayName).then(function(e){marvel.events.trigger("spark-bumper-location-settings-updated",{location:this._showingBumperForLocation})}.bind(this))}},_updateSettingsForLocation:function(t,i){var n,o=this._settings.displaySettings[t];if(o){if(o.updateDefer)return o.updateDefer}else o={},this._settings.displaySettings[t]=o;return o.updateDefer=r.defer(),e.ajax({url:"/ipa/bumper-settings",data:{location:t},success:function(e,i,r){var o=e&&e.settings&&e.settings.bumperTypePrefix||this.DEFAULT_PREFIX;n=this._makeStringKeysForLocationWithPrefix(t,o)}.bind(this),error:function(e,i,r){this._handleRefreshFailure(r,"settings:"+t),n=this._makeStringKeysForLocationWithPrefix(t)}.bind(this),complete:function(e,r){this._updateSettingsDisplayNameAndLocalize(n,i),n.title&&n.body||(marvel.logger.warn("Could not parse bumper settings from db, settings object: "+JSON.stringify(n)),n=this._makeStringKeysForLocationWithPrefix(t),this._updateSettingsDisplayNameAndLocalize(n,i)),this._settings.displaySettings[t]=n,n.nextDisplay={loadTime:Date.now()+this.DISPLAY_SETTINGS_UPDATE_FREQUENCY,displayName:i},o.updateDefer.resolve(n)}.bind(this)}),o.updateDefer.promise},_updateLocationsFromServer:function(){this._updatingLocationsFromServer||(this._updatingLocationsFromServer=!0,e.ajax({url:"/ipa/bumper-locations",success:function(e,i,n){t.isArray(e.locations)&&this._updateLocations(e.locations)}.bind(this),error:function(e,t,i){this._handleRefreshFailure(i,"locations")}.bind(this),complete:function(e,t){this._updatingLocationsFromServer=!1}.bind(this)}))},showingSiteBumper:function(){this._showingBumperForLocation=this.SITE_BUMPER_STRING},showingAppBumper:function(e){var i=t.isObject(e)?e.registeredName:e;this._showingBumperForLocation=i},_updateLocations:function(e){var i=t.difference(e,this._settings.locations),n=t.difference(this._settings.locations,e);this._settings.locations=e,e.forEach(function(e){this._bumperedThisSession[e]=!0}.bind(this)),i.length||n.length?(i.length&&marvel.events.trigger("spark-bumper-on",{locations:i,location:this._showingBumperForLocation}),n.length&&marvel.events.trigger("spark-bumper-off",{locations:n})):this._doRefreshCheck()},_handleRefreshFailure:function(e,t){marvel.logger.warn("Failed to refresh bumper settings:"+t,e)}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(897),i(898)],void 0===(r=function(e,t,i,n,r,o,a){return i.View.extend({cachename:"bumperview",events:{"click .bumper-return":"handleReturnClick"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){var e=this.model.toJSON();this.model.get("dataPromise").then(function(t){e.loading=!1,e.bumperData=t,this.$el.html(r.render(o,e)),this.$bumper=this.$el.find(".bumper"),this.$bumper.addClass("bumper-showing"),this.delegateEvents()}.bind(this)),e.loading=!0,this.$el.html(r.render(o,e)),this.$bumper=this.$el.find(".bumper"),setTimeout(function(){this.$bumper.addClass("bumper-showing")}.bind(this),0)},handleReturnClick:function(e){e.preventDefault(),window.history.length>1?window.history.back():window.marvel.navigate("/projects",{trigger:!0})},remove:function(){this.undelegateEvents(),this.$el.empty()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="bumper">\n    <div class="bumper-content">\n    {{^loading}}\n        {{#bumperData}}\n        <h1>{{title}}</h1>\n        <p>{{body}}</p>\n        {{/bumperData}}\n        {{#editor}}\n            <a class="bumper-return" href="/{{localizedPathPrefix}}sp/">Go back</a>\n        {{/editor}}\n    {{/loading}}\n    {{#loading}}\n    <div class="bumper-loading-spinner">Loading...</div>\n    {{/loading}}\n    </div>\n</div>\n'},function(e,t,i){var n=i(899);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(27)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(26)(!1)).push([e.i,".bumper{position:fixed;top:0;left:0;bottom:0;right:0;background-color:#35414c;color:#ffdb2a;z-index:999999;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s;-webkit-transform:translateY(100%);transform:translateY(100%);text-align:center}.bumper .bumper-content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bumper .bumper-content h1{font-size:50px;font-weight:700;font-family:brandon-grotesque,adobe-clean,sans-serif;line-height:1.5}.bumper .bumper-content p{font-size:20px;font-family:adobe-clean,sans-serif;line-height:1.5}.bumper .bumper-content a{display:inline-block;color:#1473e6;background-color:#ffdb2a;font-size:20px;line-height:1.5;text-decoration:none;padding:.2em .7em;border-radius:1em;margin:1em}.bumper .bumper-content a:active{color:#1056a7}.bumper .bumper-content a:hover{color:#1269d0}.bumper .bumper-content .bumper-loading-spinner{display:block}.bumper-showing{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(4),i(901),i(11),i(17),i(64)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";new a({color:"blue",name:"AppboypopupView"});return i.View.extend({el:".popup-wrapper",events:{"click .popup-primary-btn":"handlePrimaryClick","click .popup-secondary-btn":"handleSecondaryClick","click .popup-dismiss-btn":"handleDismissClick"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),e&&(this.width=e.width||365,this.height=e.height||200,this.popupName=e.name||"unnamed-popup",this.primaryTxt=e.primaryTxt||"",this.secondaryTxt=e.secondaryTxt||"",this.closeBtnIsPresent=e.closeBtnIsPresent||void 0,this.closeClickHandler=e.closeClickHandler||void 0,this.dialogClass=e.dialogClass||void 0,this.primaryBtnTitle=e.primaryBtnTitle||"",this.secondaryBtnTitle=e.secondaryBtnTitle||"",this.primaryClickHandler=e.primaryClickHandler||void 0,this.secondaryClickHandler=e.secondaryClickHandler||void 0,this.wrapperClass=e.wrapperClass||void 0),this.$el.addClass(this.wrapperClass),this.primaryBtnTitle.length&&!this.secondaryBtnTitle.length&&(this.primaryBtnClass="yellow"),this.$el.html(s.render(o,{width:this.width,height:this.height,primaryText:this.primaryTxt,secondaryText:this.secondaryTxt,closeBtnIsPresent:this.closeBtnIsPresent,primaryBtnTitle:this.primaryBtnTitle,primaryBtnClass:this.primaryBtnClass,secondaryBtnTitle:this.secondaryBtnTitle,wrapperClass:this.wrapperClass}))},handleOptionsChange:function(e){this.$el.html(s.render(o,{width:e.width||this.width,height:e.height||this.height,primaryText:e.primaryTxt||this.primaryTxt,secondaryText:e.secondaryTxt||this.secondaryTxt,closeBtnIsPresent:e.closeBtnIsPresent||this.closeBtnIsPresent,primaryBtnTitle:e.primaryBtnTitle||this.primaryBtnTitle,primaryBtnClass:e.primaryBtnClass||this.primaryBtnClass,secondaryBtnTitle:e.secondaryBtnTitle||this.secondaryBtnTitle,wrapperClass:e.wrapperClass||this.wrapperClass}))},handlePrimaryClick:function(){r.trackEvent("popupPrimaryClicked",{contextString:""},"popup:"+this.popupName),t.isFunction(this.primaryClickHandler)&&this.primaryClickHandler()},handleSecondaryClick:function(){r.trackEvent("popupSecondaryClicked",{contextString:""},"popup:"+this.popupName),t.isFunction(this.primaryClickHandler)&&this.secondaryClickHandler()},handleDismissClick:function(){r.trackEvent("popupPrimaryClicked",{contextString:""},"popup:"+this.popupName),t.isFunction(this.closeClickHandler)&&this.closeClickHandler(),this.hide()},success:function(){this.$el.find(".popup-wrapper").addClass("success")},show:function(){l.dialogShown(this.popupName),this.showing=!0,this.$el.removeClass("hide"),r.trackEvent("showPopup",{contextString:""},"popup:"+this.popupName)},hide:function(){l.dialogClosed(this.popupName),this.showing=!1,this.$el.addClass("hide")}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='{{#width}}<div class="popup-dialog {{#wrapperClass}}{{wrapperClass}}{{/wrapperClass}}" style="width:{{width}}px;">{{/width}}\n{{^width}}<div class="popup-dialog {{#wrapperClass}}{{wrapperClass}}{{/wrapperClass}}">{{/width}}\n    {{#closeBtnIsPresent}}\n        <button class="popup-dismiss-btn"></button>\n    {{/closeBtnIsPresent}}\n    <div class="popup-section">\n        {{#logoURL}}\n            <div class="popup-logo"><img src="{{logoURL}}"/></div>{{/logoURL}}\n        <div class="popup-content">\n            {{#primaryText}}\n                <div class="popup-primary-text">{{primaryText}}</div>\n            {{/primaryText}}\n\n            {{#secondaryText}}\n                <div class="popup-secondary-text">{{secondaryText}}</div>\n            {{/secondaryText}}\n            <div class="popup-btns">\n                {{#primaryBtnTitle}}\n                    <button class="popup-primary-btn {{#primaryBtnClass}}{{primaryBtnClass}}{{/primaryBtnClass}}">{{primaryBtnTitle}}</button>\n                {{/primaryBtnTitle}}\n                {{#secondaryBtnTitle}}\n                    <button class="popup-secondary-btn">{{secondaryBtnTitle}}</button>\n                {{/secondaryBtnTitle}}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(23),i(5),i(7),i(4),i(15),i(903),i(237)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";var u={web:"slate",graphic:"theo",video:"voice",refgraphic:"ref"};return r.extend({el:"#preview-overlay",events:{"click .preview-close-btn":"handlePreviewCloseBtn","click .done-btn":"handlePreviewCloseBtn","click .preview-overlay-bg":"handlePreviewCloseBtn","click .preview-make-one-btn":"handleMakeOneClick","click .preview-blank-one-btn":"handleBlankOneClick"},initialize:function(){t.bindAll(this,t.functionsIn(this))},render:function(){this.$el.html(c.toString()),this.iframe$=this.$el.find(".preview-iframe"),this.div$=this.$el.find(".preview-div"),a.hasFeature("create-from-enabled")&&this.$el.find(".preview-make-one-btn").removeClass("hide");var e=this.model.get("format");if("graphic"===e||"refgraphic"===e){var t=this.model.get("thumbURI");if(!t&&this.model.getImageRendition){var i=this.model.getImageRendition(1200);i&&(t=i.url,i.position&&this.div$.css("background-position",i.position))}this.div$.css("background-image","url("+t+")"),this.div$.removeClass("hide"),this.iframe$.addClass("hide")}else"video"===e?this.iframe$.attr("src","https://cc-api-cp.adobe.io/api/v2/voice/assets/"+this.model.get("alias")+"/video/embed?api_key=LucaApp1"):this.iframe$.attr("src",this.model.get("shareURL")),this.div$.addClass("hide"),this.iframe$.removeClass("hide");return this._workflowId&&this._workflowId.indexOf("editor")>-1?(this._inEditor=!0,this.$el.find(".preview-blank-one-btn").addClass("hide"),this.$el.find(".preview-make-one-btn").addClass("hide")):this._inEditor=!1,this},_openEditor:function(){var e=this.model.get("format");"video"===e?marvel.navigate("design/video/new",{trigger:!0}):"graphic"===e?marvel.navigate("design/post/new",{trigger:!0}):marvel.navigate("design/page/new",{trigger:!0})},handleMakeOneClick:function(e){var t={projectType:u[this.model.get("format")],exampleId:this.model.get("id"),contextString:"npw-example"};s.addContextData(t),s.trackEvent("projectCreationBegin",{},"organizer:projects"),this.hideOverlay(),d.createDuplicateFromCpModel(this.model)},handleBlankOneClick:function(e){var t={projectType:u[this.model.get("format")],exampleId:this.model.get("id"),contextString:"npw-example-blank"};s.addContextData(t),s.trackEvent("projectCreationBegin",{},"organizer:projects"),this.hideOverlay(),this._openEditor()},handlePreviewCloseBtn:function(e){s.trackEvent("exampleViewerClickedCloseBtn",{},"organizer:example-viewer"),this.handleCloseBtn()},onHide:function(){e("body").removeClass("no-scroll"),this.iframe$&&this.iframe$.remove()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="preview-overlay-bg mrvl-overlay-bg">\n</div>\n<div class="preview-overlay-shell">\n    <div class="mrvl-overlay-close-header">\n        <button class="preview-close-btn outer-close-btn">Close</button>\n    </div>\n    <div class="marvel-overlay-shell-content">\n        <div class="preview-iframe-wrap">\n            <iframe class="preview-iframe" onmousewheel=""></iframe>\n        </div>\n        <div class="preview-div hide"></div>\n\n        <div class="preview-make-btns">\n            <div class="preview-blank-one-btn mrvl-btn">Create a story</div>\n            <div class="preview-make-one-btn mrvl-btn hide">Create a story like this</div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(2),i(1),i(509)],void 0===(r=function(e,t,n){"use strict";var r=[i(905).default,i(906),i(907).default,i(908),i(909),i(910),i(911)];return new(t.Model.extend({initialize:function(){e.bindAll(this,["registerProvider"])},registerProviders:function(){r.forEach(function(e){var t=Object.create(e.prototype);e.call(t),this.registerProvider(t)}.bind(this))},registerProvider:function(e){return n.registerProvider(e)}}))}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";i.r(t);var n=i(1),r=i(3),o=n.Model.extend({interestedEvents:["spark-feature-loading-failed"],handleEvent:function(e,t,i){return i&&i.authenticated?r({viewCachename:"messagingModal",model:new n.Model({name:"feature-loading-error",cssClassName:"error-message-modal",partials:{contents:"errorMessage"},errorMessage:"authenticated flag loading failed"})}):r()}});t.default=o},function(e,t,i){var n,r;n=[i(2),i(1),i(0),i(3),i(5),i(7),i(70),i(13),i(4),i(17),i(411)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d){"use strict";return t.Model.extend({interestedEvents:["spark-area-change","spark-collab-invites-recieved","spark-collab-accepting-invite","spark-collab-rejecting-invite"],_showInvitesModal:function(i){var n={"application/vnd.adobe.authoringcontext.document+dcx":{collabType:"BRAND",collabFormat:"Brand",headerSingle:"{{senderName}} shared their brand with you.",bodySingle:"Click accept to add ’{{resourceName}}’ to your account, and start creating branded content."},"application/vnd.adobe.theo.sptemplate+dcx":{collabType:"TEMPLATE",collabFormat:"Post"},"application/vnd.adobe.ginger.sptemplate+dcx":{collabType:"TEMPLATE",collabFormat:"Video"},"application/vnd.adobe.luca.sptemplate+dcx":{collabType:"TEMPLATE",collabFormat:"Page"},"application/vnd.adobe.luca.document+dcx":{headerSingle:"{{senderName}} invited you to collaborate on a Spark Page",bodySingle:"Click Accept to add ’{{resourceName}}’ to your account, and start collaborating on the Page. Please note: only the owner of the Page is allowed to publish.",waitingSingle:"Receiving project...",waitingMultiple:"Receiving projects...",rejectingSingle:"Rejecting invitation...",rejectingMultiple:"Rejecting invitations...",summaryAcceptSingle:"Project received!",summaryAcceptMultiple:"Projects received!",summaryRejectSingle:"Invitation rejected.",summaryRejectMultiple:"Invitations rejected.",collabType:"PROJECT",collabFormat:"Page"},"application/vnd.adobe.theo.document+dcx":{headerSingle:"{{senderName}} invited you to collaborate on a Spark Post",bodySingle:"Click Accept to add ’{{resourceName}}’ to your account, and start collaborating on the Post. Please note: only the owner of the Post is allowed to publish.",waitingSingle:"Receiving project...",waitingMultiple:"Receiving projects...",rejectingSingle:"Rejecting invitation...",rejectingMultiple:"Rejecting invitations...",summaryAcceptSingle:"Project received!",summaryAcceptMultiple:"Projects received!",summaryRejectSingle:"Invitation rejected.",summaryRejectMultiple:"Invitations rejected.",collabType:"PROJECT",collabFormat:"Post"},"application/vnd.adobe.ginger.project+dcx":{headerSingle:"{{senderName}} invited you to collaborate on a Spark Video",bodySingle:"Click Accept to add ’{{resourceName}}’ to your account, and start collaborating on the Video. Please note: only the owner of the Video is allowed to publish.",waitingSingle:"Receiving project...",waitingMultiple:"Receiving projects...",rejectingSingle:"Rejecting invitation...",rejectingMultiple:"Rejecting invitations...",summaryAcceptSingle:"Project received!",summaryAcceptMultiple:"Projects received!",summaryRejectSingle:"Invitation rejected.",summaryRejectMultiple:"Invitations rejected.",collabType:"PROJECT",collabFormat:"Video"},default:{headerSingle:"{{senderName}} shared their project with you.",bodySingle:"Click accept to add ’{{resourceName}}’ to your account, and start working together.",waitingSingle:"Receiving template...",waitingMultiple:"Receiving templates...",rejectingSingle:"Rejecting invitation...",rejectingMultiple:"Rejecting invitations...",summaryAcceptSingle:"Template received!",summaryAcceptMultiple:"Templates received!",summaryRejectSingle:"Invitation rejected.",summaryRejectMultiple:"Invitations rejected.",collabType:"PROJECT",collabFormat:"unknown"}};this._invitesShown=this._invitesShown||{};var r=[];if(e.each(i,function(e){if(!this._invitesShown[e.invitationId]){var t=n[e.resourceType]||n.default;this._invitesShown[e.invitationId]=e,r.push(Object.assign({collabType:t.collabType||n.default.collabType,collabFormat:t.collabFormat||n.default.collabFormat},e))}}.bind(this)),r.length){l.trackEvent("collab:inviteViewed",{contextualData1:"inappMessage",contextualData12:"project"},"collaboration");var o=Object.assign({},n.default,n[r[0].resourceType]),a=c.render(d,{perFormatStrings:o});return{viewCachename:"collaborationAcceptModal",model:new t.Model({cssClassName:"collab-invites-recieved-modal-wrapper",hideOnButtonClick:!0,closeBtnIsPresent:!1,multipleInvites:r.length>1,invites:r,inviteCount:r.length,perFormatStrings:o,partials:{contents:a}})}}return null},handleEvent:function(e,t,i){return r.isValid().then(function(){return o.featuresLoaded().then(function(){if("spark-collab-invites-recieved"===e){if("editor"!==t.area)return this._showInvitesModal(i);this._newInvites?this._newInvites=this._newInvites.concat(i):this._newInvites=i}else if("spark-collab-accepting-invite"===e||"spark-collab-rejecting-invite"===e)this._invitesShown=this._invitesShown||{},this._invitesShown[i]=!0;else if("spark-area-change"===e&&"organizer"===t.area&&this._newInvites)return i=this._newInvites,this._newInvites=null,this._showInvitesModal(i);return null}.bind(this))}.bind(this),function(){return null}.bind(this))}})}.apply(t,n))||(e.exports=r)},function(e,t,i){"use strict";i.r(t);var n=i(1),r=(i(3),i(4)),o=n.Model.extend({interestedEvents:["missing-brand-fonts-ux"],handleEvent:function(e,t,n){return Promise.all([Promise.all([i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("missingfontsmodal")]).then(i.bind(null,976)),Promise.all([i.e("m-react-spectrum"),i.e("vendors~ccx-share-sheet~missingfontsmodal~react"),i.e("vendors~ccx-share-sheet~react~spark-core-wraper"),i.e("vendors~ccx-share-sheet~react"),i.e("react")]).then(i.bind(null,443))]).then(function(e){var i=e[0],n=e[1].default,o=document.getElementsByClassName("missing-fonts-overlay")[0];o||((o=document.createElement("div")).classList.add("missing-fonts-overlay"),document.body.appendChild(o));var a=i.default,s=new(n.wrapComponent(a))({modelJSON:{missingFonts:t.missingFonts,onComplete:function(e){e&&r.trackEvent("coediting:fontUploadSucceeded",{}),t.defer.resolve(e),s.remove()}},el:o});s.render(),r.trackEvent("coediting:fontDialogueViewed",{})})}});t.default=o},function(e,t,i){var n,r;n=[i(2),i(1),i(8),i(0),i(3),i(5),i(7),i(16),i(34),i(4)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return t.Model.extend({interestedEvents:["spark-area-change","spark-post-show-brandify-onboarding","spark-show-onboarding-dialog","spark-brand-kit-setup-complete"],handleEvent:function(r,d,u){return o.isValid().then(function(){return a.featuresLoaded().then(function(){if(a.hasFeature("entitle-brand-kit"))return s.acquireDefaultBrand().then(function(o){return o.getSetupPercentDone().then(function(s){if("spark-area-change"===r&&l.isConfettiArmed()){if(l.disarmConfetti(),"editor"===d.area&&"post"===d.section)return"premiumTemplate"===window.marvel._onboarding_premium?(window.marvel._onboarding_premium=null,{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-editor-premium-template-purchase-title"),subtitle:"",message:i.getString("messaging-onboarding-editor-premium-template-purchase-message"),buttonText:i.getString("messaging-onboarding-editor-premium-template-purchase-buttonText"),dialogClass:"premium-template-purchase-congrats",analyticsConversionEvent:"paidWelcomeViewed",analyticsTrigger:"premiumTemplate",hideNotifyHandler:function(){window.marvel.events.trigger("onboarding-premium-template-remove")}})}):o.activated()?{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-editor-congrats-title"),subtitle:i.getString("messaging-onboarding-editor-congrats-subtitle"),message:"",buttonText:i.getString("messaging-onboarding-editor-congrats-buttonText"),dialogClass:"short-form",analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsEditorActivatedBrand",analyticsConversionEvent:"clickedOnboardingCTA",analyticsCancelEvent:"clickedOnboardingMaybeLater"})}:{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-editor-congrats-title"),subtitle:i.getString("messaging-onboarding-editor-congrats-subtitle"),message:"",buttonText:i.getString("messaging-onboarding-editor-congrats-buttonText"),dialogClass:"add-brand-msg",analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsEditorUnactivatedBrand",analyticsConversionEvent:"clickedOnboardingCTA",analyticsCancelEvent:"clickedOnboardingMaybeLater"})};if("brandkit"===d.area)return o.activated()?{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-brandkit-congrats-title"),subtitle:i.getString("messaging-onboarding-brandkit-congrats-subtitle"),message:"",buttonText:i.getString("messaging-onboarding-editor-congrats-buttonText"),dialogClass:"short-form",analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsActivatedBrand",analyticsConversionEvent:"clickedOnboardingCTA"})}:1===s?{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-brandkit-congrats-title"),subtitle:i.getString("messaging-onboarding-editor-congrats-subtitle"),message:"",brandName:o.getName()||"",buttonText:i.getString("messaging-onboarding-brandsetup-congrats-buttonTextComplete"),dialogClass:"just-add-brand-name",commitHandler:function(e,t){var i=t.$el.find(".upgrade-congrats-brand-name-input"),n=i.val();n?o.setName(n).then(function(){window.marvel.events.trigger("spark-activate-brand"),t.hideOverlay()}).done():i.addClass("error").focus()},analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsBrandReadyBrand",analyticsConversionEvent:"clickedOnboardingCTA"})}:s>0?{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-brandkit-congrats-title"),subtitle:i.getString("messaging-onboarding-editor-congrats-subtitle"),message:i.getString("messaging-onboarding-brandsetup-congrats-message"),buttonText:i.getString("messaging-onboarding-brandsetup-congrats-buttonText"),dialogClass:"",analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsPartialBrand",analyticsConversionEvent:"clickedOnboardingCTA"})}:{viewCachename:"upgradecongrats",model:new t.Model({noViewJustClass:"confetti",analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsWelcomeBrand"})}}if("spark-brand-kit-setup-complete"===r)return o.getFormatThemes("post").then(function(i){var r,a=0;return e.each(i,function(e){a<1&&(r=o.getThemeThumbnailHref(e,500)),a++}.bind(this)),{viewCachename:"messagingModal",model:new t.Model({cssClassName:"onboarding-brand-setup-complete-modal-wrapper",hideOnButtonClick:!0,closeBtnIsPresent:!0,templateCoverHref:r,partials:{contents:"onboardingBrandSetupComplete"},clickHandler:function(e){n(e).hasClass("lets-go")&&c.trackEvent("clickedMsgModal:setupCompleteConfirm",{},"branding")}})}}.bind(this));if("spark-area-change"===r&&"organizer"===d.area)return{viewCachename:"messagingStripMerchBlock",model:new t.Model({isFullWidth:!0,bodyClassName:"messaging-strip-merch-block-paid-user-feature-full-width",header:"",title:i.getString("messaging-onboarding-brandcontext-premium-template-title"),subtitle:i.getString("messaging-onboarding-brandcontext-premium-template-subtitle"),buttonTitle:i.getString("messaging-onboarding-brandcontext-premium-template-buttonTitle"),buttonAction:function(){c.trackEvent("messagingStripCTAPressed",{contextualData1:"msgType:premiumTemplate"},"organizer",function(){window.marvel.navigate("/npw/search?keys=premium&trigger=messagingStrip&backType=organizer",{trigger:!0})})},analyticsEvent:"viewedOnboarding",analyticsTrigger:"messagingStripOnboardingPremiumTemplate",analyticsConversionEvent:"clickedOnboardingCTA"})};if(("spark-show-onboarding-dialog"===r||"spark-post-show-brandify-onboarding"===r)&&"editor"===d.area){if("page"===d.section&&"page:settings:headerfooter"===u.touchpointName)return this.showOnboardingModal({title:i.getString("messaging-onboarding-brandcontext-editor-title"),subtitle:i.getString("messaging-onboarding-brandcontext-editor-subtitle"),analyticsTrigger:"messagingModalHeaderFooter",cssClass:"onboarding-header-footer-modal"});if("post"===d.section)return this.showOnboardingModal({title:i.getString("messaging-onboarding-brandcontext-post-title"),subtitle:i.getString("messaging-onboarding-brandcontext-post-subtitle"),analyticsTrigger:"messagingModalBrandify",cssClass:"onboarding-post-brandify-modal"})}return"spark-area-change"!==r||"brandkit"!==d.area||!a.hasFeature("remove-branding-enabled")||a.hasFeature("is-paid-user")||a.hasFeature("remove-branding-seen-premium-onboarding")?null:{viewCachename:"upgradecongrats",model:new t.Model({title:i.getString("messaging-onboarding-brandcontext-premium-title"),subtitle:" ",message:i.getString("messaging-onboarding-brandcontext-premium-message"),buttonText:i.getString("messaging-onboarding-brandcontext-premium-buttonText"),analyticsEvent:"viewedOnboarding",analyticsTrigger:"upgradeCongratsRemoveBrandingFreeMonth",analyticsConversionEvent:"clickedOnboardingCTA",hideNotifyHandler:function(e,t){a.setUserFlag("remove-branding-seen-premium-onboarding",!0)}})}}.bind(this))}.bind(this))}.bind(this))}.bind(this),function(){return null}.bind(this))},showOnboardingModal:function(e){return{viewCachename:"messagingModal",model:new t.Model({cssClassName:"onboarding-modal-wrapper",hideOnButtonClick:!0,closeBtnIsPresent:!0,partials:{contents:"onboardingBrandify"},title:e.title,subtitle:e.subtitle,cssClass:e.cssClass,clickHandler:function(t){n(t).hasClass("get-started")?(c.trackEvent("clickedOnboardingCTA",{trigger:e.analyticsTrigger}),window.marvel.navigate("/branding/",{trigger:!0})):c.trackEvent("clickedOnboardingMaybeLater",{trigger:"page:settings:headerfooter"})},analyticsEvent:"viewedOnboarding",analyticsTrigger:e.analyticsTrigger})}}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(1),i(8),i(3),i(5),i(7),i(34),i(4),i(16),i(36)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return t.Model.extend({interestedEvents:["spark-area-change","brand-activation-attempted","add-custom-fonts-attempted","create-from-premium-template-attempted","remix-from-premium-template-attempted","branded-project-open-attempted"],handleEvent:function(n,l,c){return r.isValid().then(function(){return o.featuresLoaded().then(function(){if(!o.hasFeature("entitle-brand-kit")){if("create-from-premium-template-attempted"===n){var r={name:"merch-upgrade-modal",cssClassName:"merch-upgrade-modal",cssSubclassName:"merch-premium-template-upgrade",autoShowDelay:0,closeBtnIsPresent:!0,hideOnButtonClick:!0,hideOnClickOutside:!0,eventData:c,partials:{contents:"premiumTemplateUpgrade","plan-price-display":c.partials&&c.partials["plan-price-display"]},clickHandler:function(e,t){var i=t.model.get("eventData");e.hasClass("upgrade-now")&&(s.trackEvent("template:upgradePressed",{contextualData5:"tagNames:"+i.analyticsFullTagNames,contextualData6:"templateType:paid",templateId:i.asset&&i.asset.id||"none"},i.analyticsPage),a.handleShowUpgrade({workflow:i.workflow,destinationUrl:i.destinationUrl,marketingTouchpointCTA:"upgrade"}))}.bind(this),analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingModalPremiumTemplateUpgrade"};return c.additionalFieldsForModel&&e.assign(r,c.additionalFieldsForModel),c.partials&&e.assign(r.partials,c.partials),{viewCachename:"messagingModal",model:new t.Model(r)}}if("remix-from-premium-template-attempted"===n)return{viewCachename:"messagingModal",model:new t.Model({name:"merch-upgrade-modal",cssClassName:"merch-upgrade-modal",cssSubclassName:"merch-premium-template-upgrade",autoShowDelay:0,closeBtnIsPresent:!0,hideOnButtonClick:!0,hideOnClickOutside:!1,eventData:c,partials:{contents:"premiumTemplateRemixUpgrade","plan-price-display":c.partials&&c.partials["plan-price-display"]},closeBtnCallback:function(){u||window.marvel.navigate("/",{trigger:!0})},clickHandler:function(e,t){var i=t.model.get("eventData");e.hasClass("upgrade-now")&&(s.trackEvent("template:upgradePressed",{contextualData5:"tagNames:"+i.analyticsFullTagNames,contextualData6:"templateType:paid",templateId:i.asset&&i.asset.id||"none"},i.analyticsPage),a.handleShowUpgrade({workflow:"premiumTemplate",destinationUrl:i.destinationUrl,marketingTouchpointCTA:"upgrade"}))}.bind(this),analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingModalPremiumTemplateUpgrade"})};if("add-custom-fonts-attempted"===n)return{viewCachename:"messagingModal",model:new t.Model({name:"custom-font-upgrade-modal",cssClassName:"custom-font-upgrade-modal",cssSubclassName:"custom-font-upgrade",autoShowDelay:0,closeBtnIsPresent:!1,hideOnButtonClick:!0,hideOnClickOutside:!0,partials:{contents:"merchUpgradeCustomFonts"},clickHandler:function(e,t){e.hasClass("merch-return-to-setup-btn")||(e.hasClass("learn-more")?a.handleShowUpgradeLearnMore({workflow:"brand-setup",marketingTouchpointCTA:"learn-more"}):e.hasClass("upgrade-now")&&a.handleShowUpgrade({workflow:"brand-setup",marketingTouchpointCTA:"upgrade"}))}.bind(this),analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingModalMerchBrandActivation"})};if("brand-activation-attempted"===n)return{viewCachename:"messagingModal",model:new t.Model({name:"merch-upgrade-modal",cssClassName:"merch-upgrade-modal",autoShowDelay:0,closeBtnIsPresent:!1,hideOnButtonClick:!0,hideOnClickOutside:!0,partials:{contents:"merchUpgradeModal"},clickHandler:function(e,t){e.hasClass("merch-return-to-setup-btn")||(e.hasClass("learn-more")?a.handleShowUpgradeLearnMore({workflow:"brand-setup",marketingTouchpointCTA:"upgrade"}):e.hasClass("upgrade-now")&&a.handleShowUpgrade({workflow:"brand-setup",marketingTouchpointCTA:"upgrade"}))}.bind(this),analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingModalMerchBrandActivation"})};if("branded-project-open-attempted"===n){var d="unknown";c&&c.doc&&(d=c.doc.getMyApp().typeName),s.trackEvent("coediting:merchandizingViewed",{sparkFormat:d},"coediting");var u=!0;return l.captive&&(u=!1),{viewCachename:"messagingModal",model:new t.Model({name:"merch-upgrade-modal",cssClassName:"merch-upgrade-modal",cssSubclassName:"merch-branded-project-upgrade",autoShowDelay:0,closeBtnIsPresent:!0,hideOnClickOutside:u,partials:{contents:"merchUpgradeBrandedProject"},closeBtnCallback:function(){u||window.marvel.navigate("/",{trigger:!0})},clickHandler:function(e,t){e.hasClass("upgrade-now")&&(s.trackEvent("coediting:merchandizingPressed",{sparkFormat:d},"coediting"),t.hide(),window.marvel.navigate("/",{trigger:!0}),a.handleShowUpgrade({workflow:"project-open",marketingTouchpointCTA:"organizer"}))}.bind(this),analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingModalMerchBrandedProject"})}}return"spark-area-change"===n&&"organizer"===l.area?{viewCachename:"messagingStripMerchBlock",model:new t.Model({isFullWidth:!0,aspectRatio:500/182,header:"",title:i.getString("messaging-merchandising-brandcontext-premium-template-title"),subtitle:i.getString("messaging-merchandising-brandcontext-premium-template-subtitle"),bodyClassName:"messaging-strip-merch-block-free-user-feature-full-width",buttonTitle:i.getString("messaging-merchandising-brandcontext-premium-template-buttonTitle"),buttonAction:function(){s.trackEvent("messagingStripCTAPressed",{contextualData1:"msgType:premiumTemplate"},"organizer",function(){window.marvel.navigate("/npw/search?keys=premium&trigger=messagingStrip&backType=organizer",{trigger:!0})})},analyticsEvent:"viewedMerchandising",analyticsTrigger:"messagingStripMerchPremiumTemplate"})}:void 0}}.bind(this))}.bind(this),function(){return null}.bind(this))}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(2),i(0),i(1),i(3),i(4),i(262)],void 0===(r=function(e,t,i,n,r,o){"use strict";return i.Model.extend({interestedEvents:["spark-appboy-msg-received"],handleEvent:function(n,a,s){return o.init().then(function(){o.log("in appboy messaging provider init: handleEvent"+n);var l=s.iam;if(!l)return null;if(o.shouldShowIamOnPage(l)){var c=l;o.setCanProcessQueue(!1);var d=a.area||"any";"any"!==d&&(d+=a.section?":"+a.section:"");var u=new i.Model({inAppMessage:s.iam,page:d});e.each(c.extras,function(e,t){u.set(t,e)}),c.imageUrl&&c.imageUrl.length&&u.set("image",c.imageUrl),c.header&&c.header.length&&u.set("title",c.header),c.message&&c.message.length&&u.set("subtitle",c.message),c.extras&&c.extras.animation&&u.set("animation",c.extras.animation),c.buttons&&c.buttons.length&&(u.set("primaryButtonTitle",c.buttons[0].text),c.buttons&&c.buttons.length>1&&u.set("secondaryButtonTitle",c.buttons[1].text));var h=function(i,n,a){var s=o.getInappCampaignEventData(n);if(o.logInAppMessageButtonClick(a,n),a.uri&&a.uri.length)if(r.trackEvent(o.eventConfigs.inappMessageClickedCTA,s,i),a.uri.indexOf("https")>=0){var l="BLANK"===n.openTarget?"_blank":"_self";t('<a href="'+a.uri+'" target="'+l+'"></a>')[0].click()}else window.marvel.navigate(a.uri,{trigger:!0});else r.trackEvent(o.eventConfigs.inappMessageDismissed,s,i);e.delay(function(){window.marvel.events.trigger("spark-dialog-closed")},10)};return u.set("action",function(t,i,n){var a=o.getInappCampaignEventData(i);"close"===n?(r.trackEvent(o.eventConfigs.inappMessageDismissed,a,t),e.delay(function(){window.marvel.events.trigger("spark-dialog-closed")},10)):"primary"===n?h(t,i,i.buttons[0]):"secondary"===n&&h(t,i,i.buttons[1])}.bind(null,d,c)),{viewCachename:"appboymsgview",model:u}}o.addToTopOfQueue(l)},function(){return o.setCanProcessQueue(!0),null}.bind(this))}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r,o={"v1-rush":{colHeight:"806px",mainColumns:[{colId:"spark",productIcon:"/images/SP_color@2x.svg",platformAvailability:{availabilityText:"Available on web and iOS"},sections:[{isHero:!0,cta:"Create Now",ctaDestination:"spVideoNPW",title:"Adobe Spark Video",image:"",text:"Easily create videos from photos and video clips; bring your own or choose from a selection of free content. Combine icons, text, along with music to make memorable and engaging content that connects with your friends and followers. Select a theme to change up the font, motion, and color to show off your style.",examples:{numCols:2,createCta:"Create Now",ctaType:"useCaseCreate",app:"video",imagesRoot:"/images/seo/rush/video/",imageFileType:"png",destination:"spVideoNPW",assets:[{label:"Slide Show",thumbPath:"Slideshow",useCaseId:"slideShow"},{label:"Lesson Plan Video",thumbPath:"LessonPlan",useCaseId:"lessonPlanVideo"},{label:"Explainer Video",thumbPath:"ExplainerVideo",useCaseId:"explainerVideo"},{label:"Event Announcement",thumbPath:"EventAnnouncement",useCaseId:"eventAnnouncement"},{label:"Campaign Announcement",thumbPath:"CampaignAnnouncement",useCaseId:"campaignAnnouncement"},{label:"Facebook Ad",thumbPath:"FacebookAd",useCaseId:"facebookAd"}]}}]},{colId:"rush",productIcon:"/images/seo/logo_adobeRu.svg",platformAvailability:{availabilityText:"Available on iOS, Mac, and Windows"},sections:[{isHero:!0,ctaWithLink:{text:"Download",href:"https://creative.adobe.com/products/download/rush?sdid=RYGDN28M&mv=social",target:"_blank",destination:"rushDownloadNetworkInstall"},image:"",title:"Adobe Premiere Rush",text:"Easily create videos using the same power behind your favorite movies and television shows without needing professionals. Express yourself with full control of transitions, professional templates, and multiple sources of audio. Shoot on your mobile phone or bring in footage from your favorite camera, and edit on your iOS device or laptop. Your work is available anywhere you are through the power of Creative Cloud.",examples:{numCols:2,createCta:{ctaWithLink:{text:"Download",href:"https://creative.adobe.com/products/download/rush?sdid=RYGDN28M&mv=social",target:"_blank",destination:"rushDownloadNetworkInstall",ctaType:"useCaseDownload"}},app:"rush",imagesRoot:"/images/seo/rush/rush/",imageFileType:"png",assets:[{label:"YouTube Video",thumbPath:"YoutubeVideo",useCaseId:"youTubeVideo"},{label:"Video Essay",thumbPath:"VideoEssay",useCaseId:"videoEssay"},{label:"Travel Video",thumbPath:"TravelVideo",useCaseId:"travelVideo"},{label:"Event Recap",thumbPath:"EventRecap",useCaseId:"eventRecap"},{label:"Campaign Video",thumbPath:"CampaignVideo",useCaseId:"campaignVideo"},{label:"Instagram Story",thumbPath:"InstagramStory",useCaseId:"instagramStory"}]}}]}]}};n=[i(0),i(2),i(1),i(8),i(3),i(5),i(7),i(34),i(4),i(16),i(36),i(110)],void 0===(r=function(e,t,i,n,r,a,s,l,c,d,u,h){"use strict";return i.Model.extend({interestedEvents:["seo-intercept"],manualShowCallback:function(i){var n=i.$el.find(".seoiv-main-column"),r=[];t.map(n,function(i,n){var o=e(i),a=o.find(".seoiv-hero"),s={col$:o,rows$:o.find(".seoiv-section"),hero$:a.length&&a};return t.each(s.rows$,function(t,i){n||r.push([]),r[i].push(e(t))}),s});i.showAfterManualShowCallback(),t.each(r,function(e){var i=0;t.each(e,function(e){var t=e.find(".seoiv-section-text");i=Math.max(0,t.height())}),i>0&&t.each(e,function(e){e.find(".seoiv-section-text").height(i+"px")})})},_getCreatePathFromAssetDetails:function(e){return"post"===e.app&&e.alias?"/design-remix/post/"+e.alias:"/design/"+e.app+"/new"},_getImageDataForExamples:function(e){return t.map(e.assets,function(t){var i=e.imagesRoot+t.thumbPath;return t.thumbId=i.split("/").join("_"),{id:t.thumbId,url:i,fileType:e.imageFileType}})},handleEvent:function(e,n,r){return a.isValid().then(function(){return s.featuresLoaded().then(function(){if("seo-intercept"===e){var n=o["v1-rush"],a={manualShowCallback:this.manualShowCallback.bind(this),name:"seo-intercept-modal",cssClassName:"seo-intercept-view",cssSubclassName:"seo-intercept-view-shell-holder",autoShowDelay:0,closeBtnIsPresent:!0,hideOnButtonClick:!1,hideOnClickOutside:!1,eventData:r,partials:{contents:"seoInterceptVideoMaker","image-styles":h},closeBtnCallback:function(e){e.handleShellHideTransitionEnd();var t=r.isFirstUse?"onboarding":"projects";c.trackEvent("seoInterceptCTA",{contextualData10:"seoName:"+r.seoName,contextualData11:"ctaDestination:"+t,contextualData12:"ctaType:closeX",contextualData13:"NA"},a.analyticsPageName),window.marvel.navigate("/"+t,{trigger:!0})},linkClickHandler:function(e,t){a.clickHandler(e,t)}.bind(this),clickHandler:function(e,t){var n,o={contextualData10:"seoName:"+r.seoName};e.hasClass("seoiv-example-asset-create")&&(n=(n=e.parents(".seoiv-example-asset")).length&&n);var s=1*(n||e).data("col-index"),l=a.mainColumns[s],d=e.data("destination"),u="NA",h=e.data("cta-type")||"button",p=!0;if(n&&(u=n.data("use-case-id")||u),"spark"===l.colId){if(t.hide(),n){var f=n.data("app"),g=n.data("alias"),m=this._getCreatePathFromAssetDetails({app:f,alias:g}),v="/"+i.history.fragment.split("?")[0];"/"===v[v.length-1]&&(v=v.substring(0,v.length-1)),m!==v&&(window.marvel.navigate(m,{trigger:!0,replace:!0}),p=!1)}p&&a.eventData.continueAfterIntercept()}else"rush"===l.colId&&(h=e.data("cta-type"),t.hide(),window.marvel.navigate("/onboarding/rushdownload",{trigger:!0}));o.contextualData11="ctaDestination:"+d,o.contextualData12="ctaType:"+h,o.contextualData13="useCase:"+u,c.trackEvent("seoInterceptCTA",o,a.analyticsPageName)}.bind(this),analyticsEvent:"seoInterceptDisplayed",analyticsTrigger:"ctaFromSeoPage:"+r.seoPageId,analyticsPageName:"seoIntercept:"+r.seoName,analyticsDataExtend:{contextualData10:"seoName:"+r.seoName}};t.assign(a,n);var s=[];return a.mainColumns?(a.numMainCols=a.mainColumns&&a.mainColumns.length,t.each(a.mainColumns,function(e,i){e.colIndex=i,t.each(e.sections,function(e){e.examples&&(s=s.concat(this._getImageDataForExamples(e.examples)))}.bind(this))}.bind(this))):a.numMainCols=0,s.length&&(a.assets=s),r.additionalFieldsForModel&&t.assign(a,r.additionalFieldsForModel),r.partials&&t.assign(a.partials,r.partials),{viewCachename:"messagingModal",model:new i.Model(a)}}}.bind(this))}.bind(this),function(){return null}.bind(this))}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(17),i(23),i(7),i(4),i(913),i(8)],void 0===(r=function(e,t,i,n,r,o,a,s,l){"use strict";return r.extend({el:".upgrade-congrats-overlay",events:{"click .upgrade-congrats-bg":"handleCloseBtn","click .upgrade-close-btn":"handleCloseBtn","keypress .upgrade-congrats-brand-name-input":"handleBrandName","click .ok-button":"handleOkBtn","click .upgrade-congrats-add-your-brand-link":"handleAddYourBrand","click .upgrade-congrats-return-to-setup-btn":"handleBackToSetup"},cachename:"upgradecongrats",initialize:function(){t.bindAll(this,t.functionsIn(this))},handleCloseBtn:function(){var e=this.model.get("analyticsCancelEvent"),t=this.model.get("analyticsTrigger");e&&a.trackEvent(e,{trigger:t}),r.prototype.handleCloseBtn.call(this)},handleBackToSetup:function(){this.hideOverlay()},handleBrandName:function(e){13===e.keyCode||27===e.keyCode?this.handleOkBtn(e):this.$el.find(".upgrade-congrats-brand-name-input").removeClass("error")},handleBlurBrandName:function(e){this._handleBlurBrandName()},_handleBlurBrandName:function(){var e=this.$el.find(".upgrade-congrats-brand-name-input");return e.val()?(e.removeClass("error"),!0):(e.addClass("error"),!1)},handleOkBtn:function(t){var i=this.model.get("commitHandler");i?i(e(t.currentTarget),this):this.hideOverlay();var n=this.model.get("analyticsConversionEvent"),r=this.model.get("analyticsTrigger");n&&a.trackEvent(n,{trigger:r})},handleAddYourBrand:function(e){e.preventDefault(),a.trackEvent("clickedCongratsViewAddBrandLink",{},"UpgradeCongrats"),this.hideOverlay(),window.marvel.navigate("/branding/",{trigger:!0})},hideOverlay:function(){var e=this.model.get("hideNotifyHandler");e&&e(),r.prototype.hideOverlay.call(this)},render:function(){var t=this.model.get("noViewJustClass"),i=this.model.toJSON(),n=this.model.get("analyticsEvent"),r=this.model.get("analyticsTrigger");if(n&&a.trackEvent(n,{trigger:r}),t)e("body").addClass(t);else{if(this.$el.html(l.mustacheRender(s.toString(),i)),i.brandName)this.$el.find(".upgrade-congrats-brand-name-input").val(i.brandName);window.marvel._dialogShowing||this.showOverlay()}}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="upgrade-congrats-bg mrvl-overlay-bg">\n</div>\n<div class="upgrade-congrats-dialog overlay-dialog {{dialogClass}}">\n    <div class="upgrade-congrats-modal-header">\n        <button class="upgrade-congrats-return-to-setup-btn">Return to setup</button>\n    </div>\n    <div class="upgrade-close-btn"></div>\n    <div class="upgrade-congrats-bg-image"></div>\n    <div class="upgrade-congrats-container">\n        {{#title}}<h2 class="upgrade-congrats-title">{{title}}</h2>{{/title}}\n        {{#subtitle}} <h3 class="upgrade-congrats-subhead">{{subtitle}}</h3>{{/subtitle}}\n        {{#message}}\n            <p class="upgrade-congrats-message">{{{message}}}</p>\n            <p class="upgrade-congrats-add-brand-message">\n                {{upgrade-congrats-add-brand-message}}\n            </p>\n        {{/message}}\n        <div class="upgrade-congrats-brand-name">\n            <input type="text" placeholder="Add your brand name..." value="" class="upgrade-congrats-brand-name-input" maxlength="80">\n        </div>\n        {{#buttonText}}\n        <div class="buttonwrap">\n            <button class="sprk-btn ok-button">{{buttonText}}</button>\n        </div>\n        {{/buttonText}}\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(2),i(0),i(1),i(262),i(4),i(64),i(915),i(410),i(507),i(917)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c){"use strict";return i.View.extend({cachename:"appboymsgview",dialogs:{modal:!0,popup:!0,takeover:!0,takeover_multi_col:!0,takeover_multi_col_with_cta:!0,takeover_multi_col_with_explainer:!0,toast:!0},render:function(){var i;n.setCanProcessQueue(!1);var d=this.model.get("inAppMessage");this.model.get("page");n.log("got message in view");var u=d.id;if(u&&u.length){o.dialogShown("appboy-"+u);var h=n.getInappCampaignEventData(d);if(d&&d.extras&&d.extras.design_type&&d.extras.design_type.length&&this.dialogs.hasOwnProperty(d.extras.design_type)&&this.dialogs[d.extras.design_type]&&e.isUndefined(this.model.get("controlMessage"))){var p,f=d.extras.design_type;"modal"===f?(p=new a({model:this.model})).setElement(t(".spark-dialog-wrapper")):"popup"===f?(p=new s({model:this.model})).setElement(t(".popup-message-wrapper")):f.indexOf("takeover")>=0?(p=new l({model:this.model})).setElement(t(".takeover-wrapper")):"toast"===f&&(p=new c({model:this.model})).setElement(t(".toast-wrapper")),i=o.dialogBeingShown(),o.dialogShowing()&&i.indexOf("appboy")<0?n.addToTopOfQueue(d):e.delay(function(){!o.dialogShowing()||i.indexOf("appboy")>=0?(n.logInAppMessageImpression(d),r.trackEvent(n.eventConfigs.inappMessageShown,h),p.render()):n.addToTopOfQueue(d)},50)}else e.isUndefined(this.model.get("controlMessage"))?n.displayInAppMsg(d):(i=o.dialogBeingShown(),o.dialogShowing()&&i.indexOf("appboy")<0?n.addToTopOfQueue(d):e.delay(function(){!o.dialogShowing()||i.indexOf("appboy")>=0?(n.logInAppMessageImpression(d),n.log("Got a control message. Carrying on"),e.delay(function(){marvel.events.trigger("spark-dialog-closed")},50)):n.addToTopOfQueue(d)},50))}}})}.apply(t,n))||(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(17),i(916)],void 0===(r=function(e,t,i,n,r,o){"use strict";return i.View.extend({el:".spark-modal-dialog",events:{"click .spark-modal-primary-btn":"handlePrimaryButton","click .spark-modal-secondary-btn":"handleSecondaryButton","click .spark-modal-dismiss-btn":"handleCloseButton"},initialize:function(){this.on("close",this.handleCloseButton,this)},handlePrimaryButton:function(e){this.model.get("action")&&this.model.get("action")("primary"),this.remove()},handleCloseButton:function(){this.model.get("action")&&this.model.get("action")("close"),this.remove()},handleSecondaryButton:function(){this.model.get("action")&&this.model.get("action")("secondary"),this.remove()},render:function(){this.$el.html(r.to_html(o.toString(),this.model.toJSON()))},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=r)},function(e,t){e.exports='<div class="spark-modal-wrapper" style="{{#width}}width: {{width}};{{/width}}{{#height}}height: {{height}};{{/height}}">\n    <div class="spark-modal-dialog">\n        <button class="spark-modal-dismiss-btn spark-modal-close"></button>\n        <div class="spark-modal-section">\n            {{#image}}<div class="spark-modal-logo"><img src="{{image}}" /></div>{{/image}}\n            <div class="spark-modal-content">\n                {{#title}}<div class="spark-modal-primary-text">{{title}}</div>{{/title}}\n                {{#subtitle}}<div class="spark-modal-secondary-text">{{subtitle}}</div>{{/subtitle}}\n                <div class="spark-modal-btns">\n                    {{#secondaryButtonTitle}}<button class="spark-modal-secondary-btn spark-modal-close">{{secondaryButtonTitle}}</button>{{/secondaryButtonTitle}}\n                    {{#primaryButtonTitle}}<button class="spark-modal-primary-btn">{{primaryButtonTitle}}</button>{{/primaryButtonTitle}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(918)],void 0===(r=function(e,t,i,n,r){"use strict";return i.View.extend({toasts:{success:"success",error:"success",warning:"success",neutral:"neutral",info:"info"},initialize:function(){t.bindAll(this,t.functionsIn(this)),this.on("close",this.handleCloseButton,this)},handleCloseButton:function(){this.model.get("action")&&this.model.get("action")("close"),this.remove()},handlePrimaryButton:function(){this.model.get("action")&&this.model.get("action")("primary"),this.remove()},handleSecondaryButton:function(){this.model.get("action")&&this.model.get("action")("secondary"),this.remove()},render:function(){var i;this.model.get("primaryButtonTitle")&&(i=this.handlePrimaryButton),this.model.get("secondaryButtonTitle")&&(i=this.handleSecondaryButton);var n;try{(n=JSON.parse(this.model.toJSON()))&&t.isObject(n)||(n={})}catch(e){n={}}var o="toast-"+(n=t.extend({title:"test",toast:"notice",position:"top",direction:"full-width"},n)).position+"-"+n.direction,a={title:"",subtitle:"",closeButton:!0,closeHtml:'<button type="button"></button>',closeMethod:"fadeOut",closeDuration:"0",closeEasing:"swing",positionClass:o,onclick:function(){i()}.bind(this),iconClass:"toast-"+n.toast,progressBar:!1,showDuration:"1000",hideDuration:"1000",timeOut:"0",extendedTimeout:"0",closeClass:"toast-close-button",extendedTimeOut:"0",showEasing:"swing",hideEasing:"linear",showMethod:"slideDown",hideMethod:"fadeOut"};try{n&&t.isObject(n)&&!t.isEmpty(n)&&(a=t.extend(a,n))}catch(e){}a.title="",a.subtitle="Welcome world!",a.onShown=function(){o.indexOf("top-full-width")>=0&&e(".mrvl-header, .mrvl-header-bg, .mrvl-main-page").animate({top:48},200),this.model.get("action")("onshown")&&this.model.get("action")("onshown")}.bind(this),a.onHidden=function(){o.indexOf("top-full-width")>=0&&e(".mrvl-header, .mrvl-header-bg, .mrvl-main-page").animate({top:0},a.closeDuration),this.model.get("action")("onhidden")&&this.model.get("action")("onhidden")}.bind(this),a.onclick=function(){this.model.get("action")("onclick")&&this.model.get("action")("onclick")}.bind(this),a.onCloseClick=function(){this.model.get("action")("onCloseClick")&&this.model.get("action")("onCloseClick")}.bind(this),"success"===this.toasts[n.toast]?r.success(a.subtitle,a.title,a):"error"===this.toasts[n.toast]?r.error(a.subtitle,a.title,a):r.info(a.subtitle,a.title,a)},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=r)},,function(e,t){e.exports='<div class="messaging-modal-shell">\n    {{#closeBtnIsPresent}}\n    <button class="messaging-modal-shell-dismiss-button"></button>\n    {{/closeBtnIsPresent}}\n    <div class="shell-content">\n    {{> contents}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="onboarding-modal onboarding-paid-first-visit-modal">\n    <div class="text-col">\n        <h3>Spark is now customizeable with your own brand</h3>\n        <p>Message copy specific to returning CC users. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed dapibus molestie ex.</p>\n        <ul>\n            <li>Replace the Adobe Spark logo with your own</li>\n            <li>Customize themes and templates with your choice of colors and fonts</li>\n            <li>Maintain visual consistency across all your stories</li>\n            <li>Manage all your branded content in one place</li>\n        </ul>\n        <div class="modal-ctas">\n            <button class="learn-more sp-cta-button-secondary" data-analytics="learn-more">Maybe later</button>\n            <button class="add-your-brand sp-cta-button-primary" data-analytics="add-your-brand">Add your brand</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="merch-upgrade-modal-contents">\n    <div class="merch-upgrade-modal-header">\n        <button class="merch-return-to-setup-btn">{{ messaging-merchandising-brandcontext-almost-back-btn }}</button>\n    </div>\n    <div class="modal-main">\n        <h3>{{ messaging-merchandising-brandcontext-almost-title }}</h3>\n        <p>{{ messaging-merchandising-brandcontext-almost-to-unlock }}</p>\n        <ul>\n            <li>{{ messaging-merchandising-brandcontext-almost-bullet-1 }}</li>\n            <li>{{ messaging-merchandising-brandcontext-almost-bullet-2 }}</li>\n            <li>{{ messaging-merchandising-brandcontext-almost-bullet-3 }}</li>\n        </ul>\n        <div class="modal-ctas">\n            <button class="learn-more sp-cta-button-secondary" data-analytics="learn-more">{{ messaging-merchandising-brandcontext-almost-learn-more-btn }}</button>\n            <button class="upgrade-now sp-cta-button-primary" data-analytics="upgrade-now">{{ messaging-merchandising-brandcontext-almost-upgrade-btn }}</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="merch-upgrade-modal-contents">\n    <div class="modal-hero">\n    \n    </div>\n    <div class="modal-main center">\n        <h3>{{merch-touchpoint-custom-fonts-primary-txt}}</h3>\n        <p>{{merch-touchpoint-custom-fonts-secondary-txt}}</p>\n        <div class="modal-ctas">\n            <button class="learn-more sp-cta-button-secondary" data-analytics="learn-more">{{merch-touchpoint-custom-fonts-secondary-btn-title}}</button>\n            <button class="upgrade-now sp-cta-button-primary" data-analytics="upgrade-now">{{merch-touchpoint-custom-fonts-primary-btn-title}}</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="provide-fonts-modal-contents">\n    <div class="modal-hero">\n    </div>\n    <div class="modal-main center">\n        <h3>Missing Fonts</h3>\n        <p>You\'ve opened a project that uses restricted fonts.  <strong>Please provide your own copy of these fonts.</strong></p>\n        <h4>Name</h4>\n        <div class="missing-fonts-list">\n            <div class="missing-font-item">\n                <div class="missing-font-name">Some font name</div>\n                <button class="missing-font-upload-btn hide">Upload</button>\n            </div>\n        </div>\n        <div class="modal-ctas">\n            <button class="cancel sp-cta-button-secondary">Cancel</button>\n            <button class="upload-font sp-cta-button-primary" data-analytics="fonts-uploaded">Upload Font</button>\n            <button class="continue sp-cta-button-primary hide" data-analytics="fonts-uploaded">Continue</button>\n        </div>\n        \n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="merch-upgrade-modal-contents">\n    <div class="modal-hero">\n    </div>\n    <div class="modal-main center">\n        <h3>{{merch-touchpoint-branded-project-primary-txt}}</h3>\n        <p>{{merch-touchpoint-branded-project-secondary-txt}}</p>\n        <div class="modal-ctas">\n            <button class="upgrade-now sp-cta-button-primary" data-analytics="upgrade-now">{{merch-touchpoint-branded-project-primary-btn-title}}</button>\n        </div>\n        \n        <div class="modal-more">\n            <h4>{{merch-touchpoint-branded-project-more-title}}</h4>\n            <ul>\n                <li>{{merch-touchpoint-branded-project-more-pt1}}</li>\n                <li>{{merch-touchpoint-branded-project-more-pt2}}</li>\n                <li>{{merch-touchpoint-branded-project-more-pt3}}</li>\n            </ul>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="onboarding-modal onboarding-brand-setup-complete-modal" style="background-image: url({{{templateCoverHref}}});">\n    <div class="text-col">\n        <h3>{{brand-setup-success-modal-title}}</h3>\n        <p>{{brand-setup-success-modal-description}}</p>\n        <div class="modal-ctas">\n            <button class="lets-go sp-cta-button-primary" data-analytics="setup-complete-lets-go">{{brand-setup-success-modal-button}}</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="onboarding-modal-common {{cssClass}}">\n    <div class="text-col">\n        <h3>{{title}}</h3>\n        <p>{{subtitle}}</p>\n        <div class="modal-ctas">\n        \t<button class="learn-more sp-cta-button-secondary" data-analytics="learn-more">Maybe later</button>\n            <button class="get-started sp-cta-button-primary" data-analytics="get-started">Get started</button>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="lr-editor-modal">\n    <div class="inner-content">\n        <div class="inner-img">\n            <img src="/images/meta-editor/lr-intro.jpg"/>\n        </div>\n        <div class="inner-text">\n            <p>\n                Adobe Spark Page helps you create a consistent, beautiful, on-brand photo journal. See stunning examples\n                of Pages made by other photographers.\n            </p>\n        </div>\n        <div class="inner-bottom">\n            <div class="modal-ctas">\n                <button class="btn-confirm sp-cta-button-primary dismiss-btn">Get started</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="merch-upgrade-modal-contents">\n    <div class="modal-hero">\n        <div class="modal-hero-contents">\n            <h3>{{#fmr}}merch-touchpoint-premium-template-primary-txt{{/fmr}}</h3>\n        </div>\n    </div>\n    <div class="modal-main left">\n\n        <p>{{merch-touchpoint-premium-template-secondary-txt}}</p>\n        <div class="modal-ctas">\n            {{> plan-price-display}}\n            <button class="upgrade-now sp-cta-button-primary" data-analytics="upgrade-now">{{merch-touchpoint-premium-template-primary-btn-title}}</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="merch-upgrade-modal-contents">\n    <div class="modal-hero">\n        <div class="modal-hero-contents">\n            <h3>{{merch-touchpoint-premium-template-remix-primary-txt}}</h3>\n        </div>\n    </div>\n    <div class="modal-main center">\n\n        <p>{{merch-touchpoint-premium-template-remix-secondary-txt}}</p>\n        <div class="modal-ctas">\n            {{>plan-price-display}}\n            <button class="upgrade-now sp-cta-button-primary" data-analytics="upgrade-now">{{merch-touchpoint-premium-template-remix-primary-btn-title}}</button>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class=\'error-message-modal-container\'>\n    <h1>We\'re sorry, an error has occurred.</h1>\n    <h2>Please try reloading the page.</h2>\n    <h2>If you keep seeing this message,<br />\n        <a href="https://adobespark.zendesk.com/hc/en-us/categories/202688167-Adobe-Spark" target="_new">\n            contact Adobe Spark support\n        </a>.\n    </h2>\n    <p>Detailed cause: {{errorMessage}}</p>\n</div>\n'},function(e,t){e.exports='<div class="seo-intercept-view-shell seoiv-num-cols-{{numMainCols}}">\n{{> image-styles}}\n{{#mainColumns}}\n<div class="seoiv-main-column seoiv-num-cols-{{numMainCols}}" data-col-index="{{colIndex}}" style="{{#colHeight}}height:{{{.}}};{{/colHeight}}">\n<div class="seoiv-main-column-header">\n    <div class="seoiv-main-column-product-icon" style="background-image:url({{{productIcon}}});"></div>\n    <div class="seoiv-main-column-title">{{columnTitle}}</div>\n</div>\n<div class="seoiv-sections">\n{{#sections}}\n<div class="seoiv-section{{#isHero}} seoiv-hero{{/isHero}}">\n    <div class="seoiv-section-image" style="background-image:url({{{image}}});"></div>\n    <div class="seoiv-section-title">{{title}}</div>\n    <div class="seoiv-section-text">{{text}}</div>\n    {{#cta}}<button class="seoiv-cta seoiv-section-cta" data-destination="{{ctaDestination}}" data-col-index="{{colIndex}}">{{.}}</button>{{/cta}}\n    {{#ctaWithLink}}<a class="seoiv-cta seoiv-section-cta" target="{{target}}" href="{{href}}" data-destination="{{destination}}" data-col-index="{{colIndex}}">{{text}}</a>{{/ctaWithLink}}\n    {{#examples}}\n    <ul class="seoiv-section-examples num-cols-{{numCols}}">\n    {{#assets}}\n    <li class="seoiv-example-asset" data-use-case-id="{{useCaseId}}" data-col-index="{{colIndex}}" data-app="{{app}}">\n        <div class="seoiv-example-asset-label">{{label}}</div>\n        <div class="seoiv-example-asset-thumb{{#createCta}} has-create-cta{{/createCta}}" id="{{thumbId}}">\n        {{#createCta}}\n            <div class="seoiv-example-asset-scrim">\n                {{^ctaWithLink}}\n                <button class="seoiv-example-asset-create seoiv-cta" data-cta-type="{{ctaType}}" data-destination="{{destination}}">{{.}}</button>\n                {{/ctaWithLink}}\n                {{#ctaWithLink}}\n                    <a class="seoiv-example-asset-create seoiv-cta" target="{{target}}" href="{{href}}" data-cta-type="{{ctaType}}" data-destination="{{destination}}">{{text}}</a>\n                {{/ctaWithLink}}\n            </div>\n        {{/createCta}}\n    </li>\n    {{/assets}}\n    {{/examples}}\n    </ul>\n</div>\n{{/sections}}\n</div>\n{{#platformAvailability}}\n<div class="seoiv-platform-availability">\n    <div class="seoiv-platform-availability-text">{{availabilityText}}</div>\n    {{#iOS}}\n    <div class="seoiv-ios-app">\n        <a class="link-background download-app-store-button" href="{{{platformUrl}}}" ></a>\n    </div>\n    {{/iOS}}\n</div>\n{{/platformAvailability}}\n</div>\n{{/mainColumns}}\n</div>\n'},function(e,t,i){var n,r;n=[i(0),i(2),i(1),i(3),i(70),i(13),i(4),i(12),i(412),i(11),i(8),i(17),i(411)],void 0===(r=function(e,t,i,n,r,o,a,s,l,c,d,u,h){"use strict";new c({color:"blue",name:"ModalView"});return l.extend({cachename:"collaborationAcceptModal",el:".messaging-modal-wrapper",events:{"change .collab-accept-reject-checkbox":"updateOnCheckboxChange","click #acceptButton":"acceptSelected","click #rejectAll":"rejectAll"},initialize:function(){t.bindAll(this,t.functionsIn(this))},countChecked:function(){var e=this.$("input:checkbox");return{total:e.length,checked:e.filter(":checked").length}},updateButtonText:function(e){var t="Accept";e.total>1&&(0===e.checked?(t="Reject All",this.$("#rejectAll").hide()):e.checked===e.total?t="Accept all":(t="Accept "+e.checked+"/"+e.total,1===e.checked&&this.$("#rejectAll").show())),this.$("#acceptButton").html(t)},updateOnCheckboxChange:function(t){e(t.target).closest("li").find("div").toggleClass("disabled"),this.updateButtonText(this.countChecked())},getId:function(e,t){return t.id},getAcceptRejectLists:function(){var e=this.$("li");return{accepts:e.filter(":has(input:checked)").map(this.getId).get(),rejects:e.filter(":has(input:not(:checked))").map(this.getId).get()}},acceptSelected:function(){var e;1===this.model.get("inviteCount")?e={accepts:[this.model.get("invites")[0].invitationId],rejects:[]}:e=this.getAcceptRejectLists();this.processInvites(e),this.hide()},rejectAll:function(){var e=this.model.get("invites").map(function(e){return e.invitationId});this.processInvites({accepts:[],rejects:e}),this.hide()},processInvites:function(e){var i,l,c=[],u=this.model.get("perFormatStrings"),h=this.model.get("multipleInvites"),p=0!=e.accepts.length;e.rejects.length;t.each(e.accepts,function(e){c.push(r.inviteeAcceptInvite(e)),a.trackEvent("collab:inviteAccepted",{contextualData1:"inappMessage",contextualData12:"project"},"collaboration")}),t.each(e.rejects,function(e){c.push(r.inviteeRejectInvite(e))}),c.length>0&&(h?(i=p?u.waitingMultiple:u.rejectingMultiple,l=p?u.summaryAcceptMultiple:u.summaryRejectMultiple):(i=p?u.waitingSingle:u.rejectingSingle,l=p?u.summaryAcceptSingle:u.summaryRejectSingle),s.showWaitView(" ",i,{}),n.allSettled(c).then(function(e){if(p){var i=t.find(e,function(e){return e.reason}),n=o.nextSync(),a=t.reduce(e,function(e,t){return t.value&&t.value.type&&(t.value.type.indexOf("template")>=0?e.templates++:e.projects++),e},{templates:0,projects:0});if(i){if(i&&i.reason&&"brand-not-found-invite-not-found"==i.reason.code)return marvel.logger.warn("[Collab] Error finding the brand or brand invite during project invite-accept. Removing the shared composite for the project and notifying the user that the invite has to be sent again."),r.inviteeRemoveSharedComposite(i.reason.doc).then(function(){throw i.reason});throw i.reason}return o.syncNow(),n.then(function(){window.marvel.events.trigger("organizer-refresh",{templates:a.templates>0})})}}).then(function(){s.hide(),s.showWaitView(" ",l,{hideSpinner:!0}),t.delay(function(){window.marvel.events.trigger("storage-sync-now"),s.hide()},2e3)}).catch(function(e){marvel.logger.warn("[Collab] Error attempting to accept project invite",e),s.hide(),s.showAlert(d.getString("collab-accept-invite-brand-failure-title"),d.getString("collab-accept-invite-brand-failure-text"),{confirmText:d.getString("collab-accept-invite-brand-failure-confirm-btn")})}).done())}})}.apply(t,n))||(e.exports=r)}]);
//# sourceMappingURL=m-web-5fe7eecb.js.map